"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[49328],{649328:function(h,i,r){r.r(i),r.d(i,{default:function(){return f}});var l=function(){var e=this,a=e._self._c;return a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-form",[a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"\u6570\u636E\u6CBB\u7406\u5730\u5740"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{size:"mini"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.shinegaUrl,callback:function(t){e.$set(e.currentWidget.config,"shinegaUrl",t)},expression:"currentWidget.config.shinegaUrl"}})],1)],1),a("el-collapse-item",{attrs:{name:"layer"}},[a("template",{slot:"title"},[a("div",{staticClass:"my-title"},[e._v("\u56FE\u5C42\u987A\u5E8F")])]),a("el-tree",{ref:"mapIndexTree",staticClass:"mapIndexTree",attrs:{data:e.mapIndexLayer,"node-key":"id",draggable:"","highlight-current":!0,"allow-drop":e.dragHandle},on:{"node-drop":e.drapEnd},scopedSlots:e._u([{key:"default",fn:function({node:t}){return a("span",{staticClass:"custom-tree-node"},[a("i",{staticClass:"bi-iconfont iconfont",style:{color:e.theme.btn_bgc,fontSize:"16px",marginRight:"6px"}},[e._v("\uE721")]),e._v(e._s(t.label)+" ")])}}])})],2)],1)},d=[],o=r(723400),c=r(927966),m={name:"OlBaseMapData",mixins:[o.j],props:["currentWidget"],data(){return{mapIndexLayer:[],activeNames:["layer"]}},watch:{"currentWidget.mapLayer.toc":{handler(){this.setMapIndex()}}},mounted(){this.setMapIndex()},methods:{dragHandle(n,e,a){return a!=="inner"},drapEnd(){let e=this.$refs.mapIndexTree.data,a=e.length;e.forEach((t,s)=>{t.mapIndex=a-s}),c.Z.$emit("gis-map-change-layer-index",e)},setMapIndex(){let n=[];this.currentWidget.mapLayer.toc.forEach(a=>{a.url&&n.push(a)});let e=function(a){return function(t,s){const v=t[a];return s[a]-v}};n.sort(e("mapIndex")),this.mapIndexLayer=n}}},u=m,p=r(768141),g=(0,p.Z)(u,l,d,!1,null,"c7b722ee",null),f=g.exports}}]);
