"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[4806],{56279:function(p,l,n){n.d(l,{P:function(){return r}});var d=n(86892),s=n(49500);const r={mixins:[d.D],created(){},methods:{lifecycleBeforeChartsLoad(a){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&s.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),s.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let c=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[a]);if(c)return c}return a},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&s.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),s.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},44513:function(p,l,n){n.d(l,{Z:function(){return g}});var d=function(){var o=this,f=o._self._c;return o.attr.buttonHide?f("div",{style:{position:"absolute",right:o.attr.buttonHideRight+"px",top:o.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(y){return o.onHide()}}},[o.openTooltip?f("el-tooltip",{attrs:{"open-delay":1e3,content:o.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[f("el-button",{class:o.attr.buttonHideIconClass&&o.attr.buttonHideIconClass!=""?o.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:o.attr.buttonHideColor,fontSize:o.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):f("el-button",{class:o.attr.buttonHideIconClass&&o.attr.buttonHideIconClass!=""?o.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:o.attr.buttonHideColor,fontSize:o.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):o._e()},s=[],r=n(52246),a={props:["attr"],name:"hide-button",data(){return{isPc:r.b}},computed:{openTooltip:function(){let h=!1,o=this.attr.buttonHideTooltipContent;return r.b&&o&&o!=null&&o.trim()!=""&&(h=!0),h}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},m=a,c=n(68141),u=(0,c.Z)(m,d,s,!1,null,"bf399b9a",null),g=u.exports},14806:function(p,l,n){n.r(l),n.d(l,{default:function(){return w}});var d=function(){var t=this,i=t._self._c;return i("div",{ref:"comTime",staticStyle:{overflow:"hidden"}},[i("hide-button",{attrs:{attr:t.widgetInfo.attr}}),i("div",{style:t.style},[t.widgetInfo.config.style.hours.show?i("span",[i("span",[t._v(t._s(t.time.hours))]),i("span",{style:t.formatHoursStyle},[t._v(t._s(t.widgetInfo.config.style.hours.format.text))])]):t._e(),t.widgetInfo.config.style.minute.show?i("span",[i("span",[t._v(t._s(t.time.minute))]),i("span",{style:t.formatMinuteStyle},[t._v(t._s(t.widgetInfo.config.style.minute.format.text))])]):t._e(),t.widgetInfo.config.style.second.show?i("span",[i("span",[t._v(t._s(t.time.second))]),i("span",{style:t.formatSecondStyle},[t._v(t._s(t.widgetInfo.config.style.second.format.text))])]):t._e(),t.widgetInfo.config.style.hours.system===12&&t.widgetInfo.config.style.hours.meridiem.show?i("span",[i("span",[t._v(t._s(t.meridiem))])]):t._e()])],1)},s=[],r=n(44513),a=n(45061),m=n(56279),c=n(88775),u=n(67157);const g={mixins:[u.c],data(){return{config_extend:{},filter_config:{global:{label:{fontFamily:"alibabaPuHuiTiRegular",color:"rgba(48, 49, 51, 1)"}},style:{hours:{format:{color:""}},minute:{format:{color:""}},second:{show:!0,format:{color:""}}}}}},methods:{filterPredefineColoursSchemeConfig(e,t){this.getNewConfigWithArrary(e,t,this.filter_config)}}};var h={props:["widgetInfo"],name:"com-time",components:{HideButton:r.Z},mixins:[c.u,a.u,m.P,g],data(){return{style:{},formatHoursStyle:{},formatMinuteStyle:{},formatSecondStyle:{},time:{hours:"",minute:"",second:""},meridiem:""}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{loadInfo(e){this.timmer(),this.getStyleInfo(e),this.lifecycleAfterLoad()},initAction(e){this.actionReceive(e)},timmer(){let e=new Date;setTimeout(()=>{e=new Date,this.timmer()},1e3);let t=this.widgetInfo.config.style.hours.system==12?this.widgetInfo.config.style.hours.system:0;this.meridiem=e.getHours()>12?"pm":"am";let i=e.getHours()-t;i=i<=0?e.getHours():i,this.time.hours=this.format(i),this.time.minute=this.format(e.getMinutes()),this.time.second=this.format(e.getSeconds())},format(e){let t;return e<10&&e>0?t=`0${e}`:e===0?t=`0${e}`:t=e,t},getStyleInfo(e){let t=e.config.global,i=e.config.style;this.style={width:e.attr.w+"px",height:e.attr.hh+"px",fontSize:this.mUtils.getNewFontSize(t.label.fontSize)+"px",color:t.label.color,fontWeight:t.label.fontWeight,fontFamily:t.label.fontFamily,fontStyle:t.label.fontStyle,textDecoration:t.label.textDecoration,textAlign:t.label.horizontalAlignment,lineHeight:this.mUtils.getNewPxH(t.label.lineHeight)+"px"},this.formatHoursStyle=this.formatStyle(i.hours.format),this.formatMinuteStyle=this.formatStyle(i.minute.format),this.formatSecondStyle=this.formatStyle(i.second.format)},formatStyle(e){return{display:"inline-block",width:this.mUtils.getNewPxW(e.width)+"px",textAlign:e.textAlign,color:e.color}},reLoadInfo(e){this.loadInfo(e)}}},o=h,f=n(68141),y=(0,f.Z)(o,d,s,!1,null,"ea7a79ec",null),w=y.exports}}]);
