"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[51436],{51436:function(v,n,s){s.r(n),s.d(n,{default:function(){return h}});var r=function(){var e=this,t=e._self._c;return t("el-collapse",[t("el-form",[t("el-form-item",{attrs:{label:"\u670D\u52A1\u5730\u5740"}},[t("el-input",{attrs:{size:"small"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.maskConfig.url,callback:function(i){e.$set(e.currentWidget.config.maskConfig,"url",i)},expression:"currentWidget.config.maskConfig.url"}})],1),t("el-form-item",{attrs:{label:"\u670D\u52A1\u7C7B\u578B"}},[t("el-select",{attrs:{size:"small"},on:{change:e.SelectChange},model:{value:e.currentWidget.config.maskConfig.type,callback:function(i){e.$set(e.currentWidget.config.maskConfig,"type",i)},expression:"currentWidget.config.maskConfig.type"}},[t("el-option",{attrs:{value:"wfs",label:"geoserver-wfs\u670D\u52A1"}}),t("el-option",{attrs:{value:"dynamic",label:"arcgis\u77E2\u91CF\u670D\u52A1"}}),t("el-option",{attrs:{value:"private",label:"\u81FB\u5584\u884C\u653F\u533A\u670D\u52A1"}})],1)],1),t("el-form-item",{attrs:{label:"\u56FE\u5C42\u540D\u79F0"}},[t("el-input",{attrs:{size:"small"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.maskConfig.layerName,callback:function(i){e.$set(e.currentWidget.config.maskConfig,"layerName",i)},expression:"currentWidget.config.maskConfig.layerName"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showQueryRule,expression:"showQueryRule"}],attrs:{label:"\u67E5\u8BE2\u6761\u4EF6"}},[t("el-input",{attrs:{size:"small"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.maskConfig.where,callback:function(i){e.$set(e.currentWidget.config.maskConfig,"where",i)},expression:"currentWidget.config.maskConfig.where"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showXzqdm,expression:"showXzqdm"}],attrs:{label:"\u884C\u653F\u533A\u4EE3\u7801"}},[t("el-input",{attrs:{size:"small"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.maskConfig.xzqdm,callback:function(i){e.$set(e.currentWidget.config.maskConfig,"xzqdm",i)},expression:"currentWidget.config.maskConfig.xzqdm"}})],1),t("br"),t("br"),t("el-form-item",{attrs:{label:"\u63A9\u819C\u989C\u8272"}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","vertical-align":"center"},attrs:{"show-alpha":"",predefine:e.$$global_editor.predefineColors},on:{change:function(i){return e.getConfigData()}},model:{value:e.currentWidget.config.maskConfig.color,callback:function(i){e.$set(e.currentWidget.config.maskConfig,"color",i)},expression:"currentWidget.config.maskConfig.color"}})],1)],1)],1)},o=[],l=s(468099),g=s(723400),c=s(148836),u={name:"GisCovermaskData",components:{},mixins:[l.baseConfig,g.j],props:["currentWidget"],data(){return{globalEditor:this.$$global_editor,showQueryRule:!1,showXzqdm:!1,useservice:!1,currentConfig:this.currentWidget.config.maskConfig.type,activeNames:["1"]}},watch:{"currentWidget.config.maskConfig.type":{handler(a){a==="private"?this.showXzqdm=!0:this.showQueryRule=!0},immediate:!0}},created(){},computed:{...(0,c.Se)(["getCanvasSetting"]),globalParamsList:function(){let a=this,e=[];return a.getCanvasSetting&&a.getCanvasSetting.data&&a.getCanvasSetting.data.globalParams&&a.getCanvasSetting.data.globalParams.paramsValue&&a.getCanvasSetting.data.globalParams.paramsValue.length>0&&a.$$lib__.each(a.getCanvasSetting.data.globalParams.paramsValue,t=>{e.push({value:t.paramName,label:t.paramName})}),e}},methods:{changeMaskSourceType(){this.currentWidget.config.masktype=="service"?this.useservice=!0:this.useservice=!1,this.getConfigData()},onLayerChange(a){this.currentWidget.config.maskerlayerId=a.id,this.currentWidget.config.maskerlayer=a,this.getConfigData()},SelectChange(a){a==="private"?(this.showXzqdm=!0,this.showQueryRule=!1):(this.showXzqdm=!1,this.showQueryRule=!0),this.getConfigData()}}},m=u,f=s(768141),d=(0,f.Z)(m,r,o,!1,null,"162f1f0f",null),h=d.exports}}]);
