"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[3739],{503739:function(y,d,l){l.r(d),l.d(d,{default:function(){return W}});var o=function(){var t=this,e=t._self._c;return e("vue-lazy-component",{staticClass:"my-collapse-text"},[e("el-collapse",[e("div",{staticStyle:{"text-align":"right","padding-right":"30px"}},[e("span",{staticStyle:{color:"#fff"}},[e("i",{staticClass:"el-icon-info"}),t._v("\u4FDD\u6301\u663E\u793A\u8FD9\u4E2A\u914D\u7F6E\u9875\u65F6,\u6DFB\u52A0\u7684\u7EC4\u4EF6\u4F1A\u81EA\u52A8\u52A0\u5165\u6B63\u5728\u663E\u793A\u7684\u9875\u7B7E\u4E2D")]),e("span",[e("i",{staticClass:"el-icon-info"}),t._v("{{}}")]),e("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u6807\u7B7E\u9875","open-delay":1e3,effect:"dark",placement:"top"}},[e("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(n){return t.addTabPane()}}})],1)],1),e("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:t.currentWidget}},t._l(t.currentWidget.config.tabPaneAttr,function(n,r){return e("el-collapse-item",{key:r,attrs:{title:n.label.length<10?n.label:n.label.substring(0,10)+"..."}},[e("el-form-item",{attrs:{label:"\u6807\u9898\u6587\u672C"}},[e("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u6807\u9898\u6587\u672C"},model:{value:n.label,callback:function(a){t.$set(n,"label",a)},expression:"tabPane.label"}}),e("el-tooltip",{attrs:{content:"\u79FB\u9664\u6807\u7B7E\u9875","open-delay":1e3,effect:"dark",placement:"top"}},[e("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.deleteTabPane(r)}}})],1)],1),e("el-collapse",[e("el-collapse-item",{attrs:{title:"\u5F53\u524D\u6807\u7B7E\u9875\u7684\u7EC4\u4EF6\u5217\u8868"}},[e("el-form-item",{attrs:{label:"\u53EF\u9009\u7EC4\u4EF6"}},[e("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",clearable:"",placeholder:"\u4ECE\u770B\u677F\u4E2D\u7684\u7EC4\u4EF6\u9009\u62E9"},model:{value:t.selectWidget,callback:function(a){t.selectWidget=a},expression:"selectWidget"}},t._l(t.widgetsList,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),e("el-tooltip",{attrs:{"open-delay":1e3,content:"\u6DFB\u52A0\u7EC4\u4EF6",effect:"dark",placement:"top"}},[e("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(a){return t.addWidgetParent(n.widgets)}}})],1)],1),t._l(n.widgets,function(a,s){return e("el-form-item",{key:s,attrs:{label:"\u7EC4\u4EF6\u540D\u79F0"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"\u7EC4\u4EF6\u540D\u79F0",disabled:!0},model:{value:a.name,callback:function(c){t.$set(a,"name",c)},expression:"item.name"}}),e("el-tooltip",{attrs:{"open-delay":1e3,content:"\u79FB\u9664\u5230\u770B\u677F",effect:"dark",placement:"top"}},[e("el-button",{staticStyle:{color:"#409EFF","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-back"},on:{click:function(c){return t.removeWidgetParent(r,s)}}})],1),e("el-tooltip",{attrs:{"open-delay":1e3,content:"\u5220\u9664\u7EC4\u4EF6",effect:"dark",placement:"top"}},[e("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(c){return t.deleteWidgetParent(r,s)}}})],1)],1)})],2)],1)],1)}),1)],1)],1)},p=[],g=l(846577),u=l(663778),f=l(723400),h={name:"container-tabs-data",props:["currentWidget","widgets"],mixins:[f.j,u.a],data(){return{selectWidget:""}},methods:{addTabPane(){let i=JSON.parse(JSON.stringify(g.Z.media.container.container_tabs.config.tabPaneAttr[0]));i.id=JSON.parse(JSON.stringify(this.uuid())),i.label="New Tab",this.currentWidget.config.tabPaneAttr.push(i),this.getConfigData()},deleteTabPane(i){let t=JSON.parse(JSON.stringify(this.currentWidget.config.tabPaneAttr[i].id));this.currentWidget.config.tabPaneAttr.splice(i,1),this.reSetActive(t),this.getConfigData()},addWidgetParent(i){let t=this.$$lib__.find(this.widgetsList,e=>e.value==this.selectWidget);t&&(i.push({id:t.value,name:t.label}),this.getConfigData(),this.updateWidgetParentId({widgetId:this.selectWidget,parentId:this.currentWidget.id}),this.selectWidget="")},removeWidgetParent(i,t){let e=JSON.parse(JSON.stringify(this.currentWidget.config.tabPaneAttr[i].widgets[t].id));this.currentWidget.config.tabPaneAttr[i].widgets.splice(t,1),this.getConfigData(),this.updateWidgetParentId({widgetId:e,parentId:null})},deleteWidgetParent(i,t){let e=JSON.parse(JSON.stringify(this.currentWidget.config.tabPaneAttr[i].widgets[t].id));this.deleteWidget(e),this.currentWidget.config.tabPaneAttr[i].widgets.splice(t,1),this.getConfigData()},reSetActive(i){i==this.currentWidget.config.tabsAttr.active&&(this.currentWidget.config.tabPaneAttr.length>0?this.currentWidget.config.tabsAttr.active=this.currentWidget.config.tabPaneAttr[0].id:this.currentWidget.config.tabsAttr.active=null)},gisqComponentAddToContainer(i){i.tempConfigNoCurrent=!0,i.parentId=this.currentWidget.id,i.attr.x=0,i.attr.y=0;let t=this.$parent.$parent.$parent.$parent.$parent.$refs.boardArea.$refs[`comp_${this.currentWidget.id}`];t&&t.length>0&&(t=t[0]);let e=this.currentWidget.config.tabPaneAttr.findIndex(n=>n.id==t.$refs[`com_${this.currentWidget.id}`].active);this.currentWidget.config.tabPaneAttr[e].widgets.push({id:i.id,name:i.name}),this.$nextTick(function(){this.getConfigData(),this.updateWidgetParentId({widgetId:i.id,parentId:this.currentWidget.id})})}}},b=h,m=l(768141),v=(0,m.Z)(b,o,p,!1,null,"6251c7c1",null),W=v.exports}}]);
