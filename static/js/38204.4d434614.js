"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[38204],{56279:function(S,m,h){h.d(m,{P:function(){return g}});var p=h(386892),b=h(149500);const g={mixins:[p.D],created(){},methods:{lifecycleBeforeChartsLoad(t){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&b.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),b.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let a=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[t]);if(a)return a}return t},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&b.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),b.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},483577:function(S,m,h){h.d(m,{i:function(){return g}});var p=h(148836),b=h(927966);const g={created(){},computed:{...(0,p.Se)(["getCurrentWidget","getKeydown","getSelectMultiple","getMultipleWidget","getWidgets"])},methods:{...(0,p.nv)(["setCurrentWidget","setCurrentWidgetXYWHR","setActiveScreen","removeMultipleWidget","addMultipleWidget","setSelectMultiple","clearMultipleWidget"]),reLoadInfo(t){this.widgetInfo.id!=t.id&&this.$refs["comp_"+t.id]&&setTimeout(()=>{this.$refs["comp_"+t.id][0].reLoadInfo(t),this.$refs["comp_frame_"+t.id][0].initSvg()},500),this.loadInfo(t)},orgWidget(t,i){let a=[];return this.$$lib__.each(t,r=>{for(let c=0;c<this.widgetArr.length;c++){let f=this.widgetArr[c];f.parentId==this.widgetInfo.id&&f.id==r.id&&(!i||i(f))&&a.push(JSON.parse(JSON.stringify(f)))}}),a},setTitleText(t,i){i?this.$$lib__.each(i,a=>{this.$$lib__.each(this.orgWidget(a.widgets,r=>!r.title.hide&&r.title.text),r=>{r.attr.widgetW||(r.attr.widgetW=r.attr.w),this.$refs["title_"+r.id]&&this.$refs["title_"+r.id][0]&&(this.$refs["title_"+r.id][0].innerHTML=this.initTextPosition(r)),r.title.position||(r.title.position="top")})}):this.$$lib__.each(this.orgWidget(t,a=>!a.title.hide&&a.title.text),a=>{this.$refs["title_"+a.id]&&this.$refs["title_"+a.id][0]&&(this.$refs["title_"+a.id][0].innerHTML=this.initTextPosition(a)),a.title.position||(a.title.position="top")})},initTextPosition(t){return t.title.text===void 0||!t.title.text?"":t.title.text&&(t.title.position==="left"||t.title.position==="right")?t.title.text.split("").join("<br />"):t.title.text},onActive(t){return this.getSelectMultiple?this.getMultipleWidget[t.id]!=null:t.id===this.getCurrentWidget.id},onClicked(t){if(t&&t.currentTarget){let i=t.currentTarget.id;if(i&&i.indexOf(this.prefix.widget)>-1){let a=i.substr(this.prefix.widget.length);if(a!=this.getCurrentWidget.id){this.setActiveScreen(!1),this.setCurrentWidget(a);let r=this.$$lib__.keys(this.getMultipleWidget);this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[a]?this.removeMultipleWidget(a):this.addMultipleWidget(a)):this.getMultipleWidget[a]==null?(this.setSelectMultiple(!1),this.clearMultipleWidget(),this.addMultipleWidget(a)):r&&r.length==1&&(this.setSelectMultiple(!1),this.setCurrentWidget(r[0]),this.clearMultipleWidget(),this.addMultipleWidget(r[0]))}b.Z.$emit("autoScrollIntoViewWidgetTree",a)}}},onMouseEnter(t){this.onWidgetLayerMouseOver("push",t)},onMouseLeave(t){this.onWidgetLayerMouseOver("pop",t)},onWidgetLayerMouseOver(t,i){if(i&&i.currentTarget){let a=i.currentTarget.id;if(a&&a.indexOf(this.prefix.widget)>-1){let r=a.substr(this.prefix.widget.length);r&&r!=this.getCurrentWidget.id&&this.getMultipleWidget[r]==null&&t=="push"&&this.widget_layer_mouse_over.push(r),t=="pop"&&(this.widget_layer_mouse_over=this.$$lib__.without(this.widget_layer_mouse_over,r))}}},onDragstop(t,i){let a=this.getCurrentWidget.attr;a&&(a.x!=t||a.y!=i)&&this.setCurrentWidgetXYWHR({x:t,y:i})},dragging(t,i,a,r){if(this.getSelectMultiple){let c=this.getCurrentWidget.attr;c&&(c.x!=t||c.y!=i)&&this.setCurrentWidgetXYWHR({x:t,y:i})}},onResizstop(t,i,a,r){this.setCurrentWidgetXYWHR({x:t,y:i,w:a,h:r})},onRotatestop(t){this.setCurrentWidgetXYWHR({r:t})},getdraggableHW(t){let i={h:t.attr.h,w:t.attr.w?t.attr.widgetW:t.attr.w};return t.border.hide!=!0&&(t.border.type==!1?(t.border.widthT&&t.border.styleT&&t.border.styleT!=="none"&&(i.h=i.h+t.border.widthT),t.border.widthB&&t.border.styleB&&t.border.styleB!=="none"&&(i.h=i.h+t.border.widthB),t.border.widthR&&t.border.styleR&&t.border.styleR!=="none"&&(i.w=i.w+t.border.widthR),t.border.widthL&&t.border.styleL&&t.border.styleL!=="none"&&(i.w=i.w+t.border.widthL)):t.border.type==!0&&(t.border.breadthT&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.h=i.h+t.border.breadthT),t.border.breadthB&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.h=i.h+t.border.breadthB),t.border.breadthR&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.w=i.w+t.border.breadthR),t.border.breadthL&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.w=i.w+t.border.breadthL))),i},getDraggableStyle(t){let i={};return!t.isContainer&&!t.attr.pointerEvents&&(i.pointerEvents="none",t.id===this.getCurrentWidget.id&&(i.backgroundColor="rgba(236, 240, 241, 1)",i.filter="Alpha(Opacity=50)")),typeof t.attr.opacity=="number"&&(i.opacity=t.attr.opacity),t.attr.backgroundColor&&(i.backgroundColor=t.attr.backgroundColor),t.attr.backgroundImage&&(i.backgroundImage=this.getImageUrl(t.attr.backgroundImage)),t.attr.backgroundSize&&(i.backgroundSize=t.attr.backgroundSize),i.overflow=t.border.overflowShow?"hidden":"visible",t.border.hide!=!0&&((t.border.hShadow||t.border.vShadow)&&(i.boxShadow=(t.border.hShadow||0)+"px "+(t.border.vShadow||0)+"px "+(t.border.blur||0)+"px "+t.border.blurColor||"rgba(0,0,0,0)"),t.border.type==!1?(i.borderTopWidth=t.border.widthT+"px",i.borderRightWidth=t.border.widthR+"px",i.borderBottomWidth=t.border.widthB+"px",i.borderLeftWidth=t.border.widthL+"px",i.borderTopStyle=t.border.styleT,i.borderRightStyle=t.border.styleR,i.borderBottomStyle=t.border.styleB,i.borderLeftStyle=t.border.styleL,i.borderTopColor=t.border.colorT,i.borderRightColor=t.border.colorR,i.borderBottomColor=t.border.colorB,i.borderLeftColor=t.border.colorL,i.borderTopLeftRadius=t.border.radiusTL+"px",i.borderTopRightRadius=t.border.radiusTR+"px",i.borderBottomLeftRadius=t.border.radiusBL+"px",i.borderBottomRightRadius=t.border.radiusBR+"px"):t.border.type==!0&&(i.borderStyle=t.border.borderStyle,i.borderTopWidth=t.border.breadthT+"px",i.borderRightWidth=t.border.breadthR+"px",i.borderBottomWidth=t.border.breadthB+"px",i.borderLeftWidth=t.border.breadthL+"px",i.borderImageSource=this.getImageUrl(t.border.borderImage),i.borderImageSlice=t.border.cutT+" "+t.border.cutR+" "+t.border.cutB+" "+t.border.cutL,i.borderImageRepeat=t.border.repeat)),i.float="left !important",i}}}},752246:function(S,m,h){h.d(m,{X:function(){return p},b:function(){return b}});let p={versions:function(){var g=navigator.userAgent;return{trident:g.indexOf("Trident")>-1,presto:g.indexOf("Presto")>-1,webKit:g.indexOf("AppleWebKit")>-1,gecko:g.indexOf("Gecko")>-1&&g.indexOf("KHTML")==-1,mobile:!!g.match(/AppleWebKit.*Mobile.*/),ios:!!g.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:g.indexOf("Android")>-1,iPhone:g.indexOf("iPhone")>-1,iPad:g.indexOf("iPad")>-1,webApp:g.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},b;p.versions.mobile||p.versions.ios||p.versions.android||p.versions.iPhone||p.versions.iPad?b=!1:b=!0},459738:function(S,m,h){h.d(m,{OW:function(){return b},m3:function(){return a},nm:function(){return g},vP:function(){return t},xC:function(){return i}});var p=h(153258);function b(r,c,f){let n=r;const u=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(v=>(0,p.mf)(n[v]));if(!(0,p.mf)(n[u]))return!1;do{if(n[u](c))return!0;if(n===f)return!1;n=n.parentNode}while(n);return!1}function g(r){const c=window.getComputedStyle(r);return[parseFloat(c.getPropertyValue("width"),10),parseFloat(c.getPropertyValue("height"),10)]}function t(r,c,f){r&&(r.attachEvent?r.attachEvent("on"+c,f):r.addEventListener?r.addEventListener(c,f,!0):r["on"+c]=f)}function i(r,c,f){r&&(r.detachEvent?r.detachEvent("on"+c,f):r.removeEventListener?r.removeEventListener(c,f,!0):r["on"+c]=null)}function a(r,c,f,n){var u=0,v=setInterval(()=>{u<f?(u++,r()):(clearInterval(v),n&&n())},c);return v}},980512:function(S,m,h){h.d(m,{Z:function(){return f}});var p=function(){var u=this,v=u._self._c;return v("div",{class:"container_child_"+u.widgetData.id,attrs:{id:"container_child_"+u.widgetData.id}},[v("keep-alive",[v(u.isView&&u.widgetData.isContainer?u.widgetData.typeName+"-view":u.widgetData.typeName,{ref:"com_"+u.widgetData.id,tag:"component",attrs:{"widget-info":u.widgetData,"widget-arr":u.getWidgetAllArr,"current-widget":u.currentWidget},on:{doGetPreviewData:u.doGetPreviewData,doReSetBoardId:u.doReSetBoardId,attrChange:u.attrChange}})],1)],1)},b=[],g=h(513229),t=h(148836),i={name:"DraggableComponent",extends:g.Z,computed:{...(0,t.Se)(["getWidgetAllArr","isView"])},methods:{reLoadInfo(n){if(n.id){let u=this.$refs["com_"+n.id];u&&u.reLoadInfo(n)}},doReSetBoardId(n){this.$emit("doReSetBoardId",n)},attrChange(n){this.$emit("attrChange",n)}}},a=i,r=h(768141),c=(0,r.Z)(a,p,b,!1,null,"41d16aa2",null),f=c.exports},844513:function(S,m,h){h.d(m,{Z:function(){return c}});var p=function(){var n=this,u=n._self._c;return n.attr.buttonHide?u("div",{style:{position:"absolute",right:n.attr.buttonHideRight+"px",top:n.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(v){return n.onHide()}}},[n.openTooltip?u("el-tooltip",{attrs:{"open-delay":1e3,content:n.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[u("el-button",{class:n.attr.buttonHideIconClass&&n.attr.buttonHideIconClass!=""?n.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:n.attr.buttonHideColor,fontSize:n.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):u("el-button",{class:n.attr.buttonHideIconClass&&n.attr.buttonHideIconClass!=""?n.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:n.attr.buttonHideColor,fontSize:n.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):n._e()},b=[],g=h(752246),t={props:["attr"],name:"hide-button",data(){return{isPc:g.b}},computed:{openTooltip:function(){let f=!1,n=this.attr.buttonHideTooltipContent;return g.b&&n&&n!=null&&n.trim()!=""&&(f=!0),f}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},i=t,a=h(768141),r=(0,a.Z)(i,p,b,!1,null,"bf399b9a",null),c=r.exports},923100:function(S,m,h){h.r(m),h.d(m,{default:function(){return P}});var p=function(){var e=this,s=e._self._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.widgetInfo.attr.hide!=!0,expression:"widgetInfo.attr.hide != true"}],staticClass:"my-div",style:{width:e.widgetInfo.attr.w+"px",height:e.widgetInfo.attr.hh+"px"}},[s("hide-button",{attrs:{attr:e.widgetInfo.attr}}),s("el-tabs",{ref:"myTabs",staticClass:"my-tabs",attrs:{type:e.widgetInfo.config.tabsAttr.type,stretch:e.widgetInfo.config.tabsAttr.stretch,"tab-position":e.widgetInfo.config.tabsAttr.tabPosition},on:{"tab-click":e.handleClick},model:{value:e.active,callback:function(d){e.active=d},expression:"active"}},e._l(e.widgetInfo.config.tabPaneAttr,function(d,y){return s("el-tab-pane",{key:y,attrs:{name:d.id,disabled:d.disabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("div",{staticClass:"item-label",style:e.getTabPaneStyle(d,e.widgetInfo.config.tabsAttr)},[e._v(e._s(d.label&&d.label!=""?d.label:"\xA0\xA0"))])]),s("div",{staticClass:"my-screen",style:{height:(e.widgetInfo.config.tabsAttr.tabPosition=="right"||e.widgetInfo.config.tabsAttr.tabPosition=="left"?e.widgetInfo.attr.hh:e.widgetInfo.attr.hh-40)+"px"},on:{click:e.onClick}},e._l(e.orgWidget(d.widgets),function(o){return s("draggable",{directives:[{name:"show",rawName:"v-show",value:o.attr.hideEditor!==!0,expression:"widget.attr.hideEditor !== true"}],key:e.prefix.widget+o.id,ref:e.prefix.widget+o.id,refInFor:!0,attrs:{rotatable:!0,resizable:!o.attr.locked,draggable:!o.attr.locked,snap:!0,id:e.prefix.widget+o.id,x:o.attr.x,y:o.attr.y,z:e.getZ(o),r:o.attr.deg,h:e.getdraggableHW(o).h,w:e.getdraggableHW(o).w,minw:o.attr.minw,minh:o.attr.minh,deselectCancel:".unboardArea",active:e.onActive(o)},on:{onClicked:e.onClicked,dragstop:e.onDragstop,dragging:e.dragging,resizestop:e.onResizstop,rotatestop:e.onRotatestop,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}},[s("widget-action-icon",{attrs:{widget:o}}),s("div",{style:e.getDraggableMouseOver(o)}),s("div",{directives:[{name:"show",rawName:"v-show",value:o.attr.hide!==!0,expression:"widget.attr.hide !== true"}],staticClass:"my-drag-widget",style:e.getDraggableStyle(o)},[s("external-frame-svg",{ref:"comp_frame_"+o.id,refInFor:!0,attrs:{"widget-info":o}}),o.title.position==="top"||o.title.position==="left"?s("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(I){return e.openLink(o)}}},[s("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[s("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e(),s("draggable-component-container",{ref:"comp_"+o.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:e.getInfoStyle(o),attrs:{widgetData:o,currentWidget:e.getCurrentWidget}}),o.title.position==="bottom"||o.title.position==="right"?s("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(I){return e.openLink(o)}}},[s("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[s("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e()],1)],1)}),1)])}),1)],1)},b=[],g=h(844513),t=h(787479),i=h(980512),a=h(723400),r=h(483577),c=h(15577),f=h(213743),n=h(67157);const u={mixins:[n.c],data(){return{config_extend:{config:{tabsAttr:{isInactivated:{backgroundColor:"rgba(76, 132, 255, 1)"},isActive:{backgroundColor:"#F2F6FC"},content:{backgroundColor:"#F2F6FC"},activeColor:"rgba(76, 132, 255, 1)",initialColor:"#ffffff"}}},filter_config:{tabsAttr:{borderColor:"rgba(219, 223, 230, 0)",isInactivated:{backgroundColor:"rgba(76, 132, 255, 1)"},isActive:{backgroundColor:"#F2F6FC"},content:{backgroundColor:"#F2F6FC"},activeStyle:{fontStyle:{fontFamily:"Microsoft Yahei"}},inactivatedStyle:{fontStyle:{fontFamily:"Microsoft Yahei"}},activeColor:"rgba(76, 132, 255, 1)",initialColor:"#ffffff"}}}},methods:{filterPredefineColoursSchemeConfig(l,e){this.getNewConfigWithArrary(l,e,this.filter_config)}}};var v=h(56279),L=h(629466),N={props:["widgetInfo","widgetArr","currentWidget"],name:"container-tabs",components:{WidgetActionIcon:L.Z,ExternalFrameSvg:f.Z,DraggableComponentContainer:i.Z,draggable:t.Z,HideButton:g.Z},mixins:[c.baseConfig,a.j,r.i,u,v.P],data(){return{selectWidget:{},active:null}},mounted(){this.loadInfo(this.widgetInfo),this.active=this.widgetInfo.config.tabsAttr.active},watch:{getCurrentWidget:{deep:!0,handler:function(){this.$nextTick(()=>{this.setTitleText("widgets",this.widgetInfo.config.tabPaneAttr)})}}},methods:{loadInfo(l){this.widgetInfo.id==l.id&&(this.setStyle(l.config.tabsAttr),this.lifecycleAfterLoad())},setStyle(l){let e=this.$refs.myTabs,s=this.widgetInfo.config.tabsAttr.tabPosition!="bottom"?0:1,d=this.widgetInfo.config.tabsAttr.tabPosition!="bottom"?1:0;if(l!=null){if(e&&e.$el.style&&(e.$el.style.borderColor=l.borderColor!=""&&l.borderColor!=null&&l.borderColor!=null?l.borderColor:"transparent",this.setHorizontalPosition(e)),e.$el.childNodes&&e.$el.childNodes.length>0&&(e.$el.childNodes[s].style.borderColor=l.borderColor!=""&&l.borderColor!=null&&l.borderColor!=null?l.borderColor:"transparent",this.setBackGround(e.$el.childNodes[s].style,l.navigation)),e.$el.childNodes&&e.$el.childNodes.length>1)for(let y=0;y<e.$el.childNodes[d].childNodes.length;y++)this.setBackGround(e.$el.childNodes[d].childNodes[y].style,l.content);setTimeout(()=>{this.setStyleIsActive(l.isActive,l.isInactivated,l.borderColor)},1)}},handleClick(){setTimeout(()=>{this.setStyleIsActive(this.widgetInfo.config.tabsAttr.isActive,this.widgetInfo.config.tabsAttr.isInactivated,this.widgetInfo.config.tabsAttr.borderColor)},1)},setStyleIsActive(l,e,s){let d=this.$refs.myTabs,y=this.widgetInfo.config.tabsAttr.tabPosition!="bottom"?0:1,o=d.$el.childNodes[y].childNodes[0].childNodes;if(d.$el.childNodes&&d.$el.childNodes.length>0&&d.$el.childNodes[y].childNodes&&d.$el.childNodes[y].childNodes.length>0&&o&&o.length>0&&o[o.length-1].childNodes&&o[o.length-1].childNodes.length>0&&o[o.length-1].childNodes[0].childNodes&&o[o.length-1].childNodes[0].childNodes.length>0){let I=d.$el.childNodes[y].childNodes[0].childNodes,_=I[I.length-1].childNodes[0];_.style.borderColor=s!=""&&s!=null&&s!=null?s:"transparent";for(let C=0;C<_.childNodes.length;C++)_.childNodes[C].className.indexOf("is-active")>-1?this.setBackGround(_.childNodes[C].style,l):this.setBackGround(_.childNodes[C].style,e),_.childNodes[C].style.borderColor=s!=""&&s!=null&&s!=null?s:"transparent"}this.setHorizontalPosition(d)},setBackGround(l,e){l.padding=0,e.backgroundColor&&e.backgroundColor!=""?l.backgroundColor=e.backgroundColor:l.backgroundColor="transparent",e.backgroundImage&&e.backgroundImage!=""?l.backgroundImage=this.getImageUrl(e.backgroundImage):l.backgroundImage="none",e.backgroundSize&&e.backgroundSize!=""?l.backgroundSize=e.backgroundSize:l.backgroundSize="auto"},onClick(l){typeof l.target.className=="string"&&l.target.className.indexOf("my-screen")>-1&&(this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[this.widgetInfo.id]?this.removeMultipleWidget(this.widgetInfo.id):(this.$$lib__.each(this.widgetInfo.config.widgets,e=>{this.removeMultipleWidget(e.id)}),this.addMultipleWidget(this.widgetInfo.id))):this.setCurrentWidget(this.widgetInfo.id))},getActiveName(l){let e=null;return l.config.tabsAttr.active?e=l.config.tabsAttr.active:l.config.tabPaneAttr.length>0&&(e=l.config.tabPaneAttr[0].id),e},getTabPaneStyle(l,e){let s={},d={};return l.id!=this.active?(s=e.inactivatedStyle.fontStyle,e.initialColor&&e.initialColor!=""&&(d.color=e.initialColor),e.inactivatedStyle.width&&(e.stretch?d.width="auto":d.width=e.inactivatedStyle.width+"px"),e.inactivatedStyle.height&&(d.height=e.inactivatedStyle.height+"px",d.lineHeight=e.inactivatedStyle.height+"px")):(s=e.activeStyle.fontStyle,e.activeColor&&e.activeColor!=""&&(d.color=e.activeColor),e.inactivatedStyle.width&&(e.stretch?d.width="auto":d.width=e.activeStyle.width+"px"),e.inactivatedStyle.height&&(d.height=e.activeStyle.height+"px",d.lineHeight=e.activeStyle.height+"px")),d.textAlign=s.horizontalAlignment,d.fontSize=s.fontSize+"px",d.fontWeight=s.fontWeight,d.fontFamily=s.fontFamily,d.fontStyle=s.fontStyle,d.textDecoration=s.textDecoration,e.tabPosition=="top"||e.tabPosition=="bottom"?e.height&&(d.height=e.height+"px",d.lineHeight=e.height+"px"):e.width&&(d.width=e.width+"px"),d},setHorizontalPosition(l){let e=JSON.parse(JSON.stringify(this.widgetInfo.config.tabsAttr));this.$nextTick(function(){if((e.tabPosition=="top"||e.tabPosition=="bottom")&&l.$el.getElementsByClassName("el-tabs__nav").length>0){let o=l.$el.getElementsByClassName("el-tabs__nav")[0],I=this.widgetInfo.attr.w/2,_=o.scrollWidth,C=_/2,x=e.tabHorizontalPosition,W=I-C,w=this.widgetInfo.attr.w-_;e.stretch==!0?o.style.marginLeft="0px":(x=="left"&&(o.style.marginLeft="0px"),W>0&&x=="center"&&(o.style.marginLeft=W+"px"),w>0&&x=="right"&&(o.style.marginLeft=w+"px"))}if(e.tabPosition=="bottom"&&l.$el.getElementsByClassName("el-tabs__header").length>0){let o=l.$el.getElementsByClassName("el-tabs__header")[0];o.style.position="relative",o.style.bottom=e.height-40+"px"}let s=l.$el.getElementsByClassName("el-tabs__item"),d=l.$el.getElementsByClassName("item-label"),y=40;(e.tabPosition=="left"||e.tabPosition=="right")&&(e.stretch==!0&&s.length>0?y=this.widgetInfo.attr.hh/s.length:y=e.height),(e.tabPosition=="top"||e.tabPosition=="bottom")&&(y=e.height);for(let o=0;o<s.length;o++)d[o].style.height=y+"px",d[o].style.lineHeight=y+"px"})}}},$=N,M=h(768141),T=(0,M.Z)($,p,b,!1,null,"ee1673ba",null),P=T.exports},629466:function(S,m,h){h.d(m,{Z:function(){return r}});var p=function(){var f=this,n=f._self._c;return f.action_info.is_action?n("div",{staticClass:"widget-action-icon"},[n("el-tooltip",{attrs:{"open-delay":1e3,effect:"light",placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("el-table",{attrs:{data:f.action_info.tableData,"span-method":f.objectSpanMethod,border:"",size:"mini",stripe:""}},[n("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u7C7B\u578B",prop:"action_type"}}),n("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u540D\u79F0",prop:"action_name"}})],1)],1),n("i",{staticClass:"iconfont bi_jh"})])],1):f._e()},b=[],g={name:"widget-action-icon",props:["widget"],data(){return{action_info:{is_action:!1,tableData:[]},position:0,rowSpanArr:[]}},watch:{widget:{deep:!0,handler:function(){this.initInfo()}}},mounted(){this.initInfo()},methods:{initInfo(){if(this.action_info.is_action=!1,this.action_info.tableData=[],this.widget&&this.widget.action){if(this.widget.action.lifecycle)for(let c in this.widget.action.lifecycle)this.widget.action.lifecycle[c].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u751F\u547D\u5468\u671F",action_name:this.widget.action.lifecycle[c].name}));if(this.widget.action.sendOut&&this.widget.action.sendOut.actionList&&this.$$lib__.each(this.widget.action.sendOut.actionList,c=>{c.enabled==!0&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u53D1\u9001\u4E8B\u4EF6",action_name:c.name}))}),this.widget.action.receive)for(let c in this.widget.action.receive)this.widget.action.receive[c].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u63A5\u6536\u4E8B\u4EF6",action_name:this.widget.action.receive[c].name}))}this.rowSpanArr=[],this.action_info.tableData.forEach((c,f)=>{f==0?(this.rowSpanArr.push(1),this.position=0):this.action_info.tableData[f].action_type==this.action_info.tableData[f-1].action_type?(this.rowSpanArr[this.position]+=1,this.rowSpanArr.push(0),this.action_info.tableData[f].action_type=this.action_info.tableData[f-1].action_type):(this.rowSpanArr.push(1),this.position=f)})},objectSpanMethod({row:c,column:f,rowIndex:n,columnIndex:u}){if(u!=1)return{rowspan:this.rowSpanArr[n],colspan:1}}}},t=g,i=h(768141),a=(0,i.Z)(t,p,b,!1,null,"cd1e86ee",null),r=a.exports}}]);
