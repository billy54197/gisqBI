"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[1395],{70081:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _utils_bus_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27966),_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21300),_platform_tabs_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(70362),_js_editor_editor_setting__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23400),_js_editor_action_action_receive__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45061),_js_editor_action_action_lifecycle__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(56279),element_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(55616),element_ui__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_6__),_platform_tabs_config_extend__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(95932),console=__webpack_require__(49500);__webpack_exports__.Z={props:["widgetInfo"],name:"platform-tabs",mixins:[_platform_tabs_config__WEBPACK_IMPORTED_MODULE_2__.u,_js_editor_action_action_receive__WEBPACK_IMPORTED_MODULE_4__.u,_js_editor_editor_setting__WEBPACK_IMPORTED_MODULE_3__.j,_platform_tabs_config_extend__WEBPACK_IMPORTED_MODULE_7__.s,_js_editor_action_action_lifecycle__WEBPACK_IMPORTED_MODULE_5__.P],data(){return{tabsValue:"",tabPaneAttr:[],currentIndex:-1,carouselTimer:null}},computed:{iframeHeight:function(){let e=this.widgetInfo.attr.hh+"px";if(this.widgetInfo.config.tabsAttr.tabPosition!="right"&&this.widgetInfo.config.tabsAttr.tabPosition!="left"){let t=_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__.getNewPxH(this.widgetInfo.config.tabsAttr.height,this.widgetInfo.config.tabsAttr.lockedTitle);e=this.widgetInfo.attr.hh-t+"px"}return e}},mounted(){this.$refs.platformTabs.addEventListener("click",this.removeTags),this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{getUrl(e){if(this.widgetInfo.config.iframe.forceReload){let t=e.url,i=t.indexOf("#");if(i>-1){let l=t.indexOf("?");t=t.replace("#",`${l>-1&&l<i?"&":"?"}${Math.random()}#`)}return t}return e.url},mouseover(e,t){let i=this.$refs.myTabs,l=this.widgetInfo.config.tabsAttr.tabPosition!="bottom"?0:1;if(i.$el.childNodes&&i.$el.childNodes.length>0&&i.$el.childNodes[l].childNodes&&i.$el.childNodes[l].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].childNodes.length>0){let o=i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0],d=this.widgetInfo.config.tabsAttr.hoverCloseBtn.icon||"";o.childNodes[t].classList.add("is-hover"),o.childNodes[t].childNodes[1]?o.childNodes[t].childNodes[1].className=d:o.childNodes[t].childNodes[0].childNodes&&o.childNodes[t].childNodes[0].childNodes[1]&&(o.childNodes[t].childNodes[0].childNodes[1].className=d),this.setStyle(this.widgetInfo.config.tabsAttr)}},mouseout(e,t){let i=this.$refs.myTabs,l=this.widgetInfo.config.tabsAttr.tabPosition!="bottom"?0:1;if(i.$el.childNodes&&i.$el.childNodes.length>0&&i.$el.childNodes[l].childNodes&&i.$el.childNodes[l].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].childNodes.length>0){let o=i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0];o.childNodes[t].classList.remove("is-hover");let n=o.childNodes[t].classList.contains("is-active")?this.widgetInfo.config.tabsAttr.activeCloseBtn.icon||"":this.widgetInfo.config.tabsAttr.closeBtn.icon||"";o.childNodes[t].childNodes[1]?o.childNodes[t].childNodes[1].className=n:o.childNodes[t].childNodes[0].childNodes&&o.childNodes[t].childNodes[0].childNodes[1]&&(o.childNodes[t].childNodes[0].childNodes[1].className=n),this.setStyle(this.widgetInfo.config.tabsAttr)}},removeTags(){this.$refs.platformTabs.childNodes[1].style.display=="block"&&(this.$refs.platformTabs.childNodes[1].style.display="none")},loadInfo(e){this.tabsValue=e.config.tabsAttr.active,this.getTabPaneAttr(e.dataset),this.$nextTick(function(){this.setStyle(e.config.tabsAttr)}),this.currentIndex=-1,this.initCarousel(e),this.lifecycleAfterLoad()},reLoadInfo(e){this.loadInfo(e)},closeTags(e){switch(e){case"all":this.closeTabs([]);break;case"left":this.closeTabs(this.tabPaneAttr.slice(this.currentIndex));break;case"right":this.closeTabs(this.tabPaneAttr.slice(0,this.currentIndex+1));break;case"others":this.closeTabs([this.tabPaneAttr[this.currentIndex]]);break}this.currentIndex=-1},closeTabs(e){this.tabPaneAttr.length=0,this.tabPaneAttr=e,this.$refs.platformTabs.childNodes[1].style.display="none",this.setStyle(this.widgetInfo.config.tabsAttr)},preventMouse(){this.$refs.platformTabs.oncontextmenu=function(){return!1}},rightClick(e,t){if(this.preventMouse(),t==null)return;this.currentIndex=t;let i=null;for(let n=0;n<this.$refs.myTabs.$el.childNodes.length;n++)this.$refs.myTabs.$el.childNodes[n].className.indexOf("el-tabs__header")>-1&&(i=this.$refs.myTabs.$el.childNodes[n]);let l;i.childNodes[0].childNodes[0].nodeName=="SPAN"?l=i.childNodes[0].childNodes[2].childNodes[0].childNodes:l=i.childNodes[0].childNodes[0].childNodes[0].childNodes;let o=t>0?l[t-1].offsetLeft+106:0,d=t>0?l[t-1].offsetTop+37:0;switch(this.$refs.platformTabs.childNodes[1].style.display="block",this.widgetInfo.config.tabsAttr.tabPosition){case"top":this.$refs.platformTabs.childNodes[1].removeAttribute("data-position"),this.$refs.platformTabs.childNodes[1].setAttribute("data-position","top"),this.$refs.platformTabs.childNodes[1].style.left=o+e.offsetY+"px",this.$refs.platformTabs.childNodes[1].style.top=this.widgetInfo.config.tabsAttr.height+"px";break;case"right":this.$refs.platformTabs.childNodes[1].removeAttribute("data-position"),this.$refs.platformTabs.childNodes[1].setAttribute("data-position","right"),this.$refs.platformTabs.childNodes[1].style.right=_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__.getNewPxW(this.widgetInfo.config.tabsAttr.width+40)+"px",this.$refs.platformTabs.childNodes[1].style.top=d-e.offsetY+"px";break;case"bottom":this.$refs.platformTabs.childNodes[1].removeAttribute("data-position"),this.$refs.platformTabs.childNodes[1].setAttribute("data-position","bottom"),this.$refs.platformTabs.childNodes[1].style.left=o+e.offsetY+"px",this.$refs.platformTabs.childNodes[1].style.bottom=this.widgetInfo.config.tabsAttr.height+"px";break;case"left":this.$refs.platformTabs.childNodes[1].removeAttribute("data-position"),this.$refs.platformTabs.childNodes[1].setAttribute("data-position","left"),this.$refs.platformTabs.childNodes[1].style.left=_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__.getNewPxW(this.widgetInfo.config.tabsAttr.width+40)+"px",this.$refs.platformTabs.childNodes[1].style.top=d-e.offsetY+"px";break}},getTabPaneAttr(e){this.tabPaneAttr=[];let t=e[e.type].source,i=e[e.type].dimensions,l=e[e.type].encode,o={name:-1,label:-1,url:-1,order:-1,disabled:-1,closable:-1};this.$$lib__.each(i,(n,s)=>{l.name&&l.name!=""&&l.name==n?o.name=s:l.label&&l.label!=""&&l.label==n?o.label=s:l.url&&l.url!=""&&l.url==n?o.url=s:l.order&&l.order!=""&&l.order==n?o.order=s:l.disabled&&l.disabled!=""&&l.disabled==n?o.disabled=s:l.closable&&l.closable!=""&&l.closable==n&&(o.closable=s)});let d=[];this.$$lib__.each(t,n=>{let s=n[o.label],r=this.replaceParams(e.params,n[o.url]);if(r.msg!=null){d.push("\u6807\u7B7E\u6587\u672C\u201C"+s+"\u201D\uFF0C\u5185\u5BB9\u5730\u5740\u4E2D\u7684\u53C2\u6570\u201C"+r.msg+"\u201D\u672A\u5728\u53C2\u6570\u914D\u7F6E\u4E2D\u5B9A\u4E49");return}this.tabPaneAttr.push({name:n[o.name],label:s,url:r.newUrl,order:this.toNumber(n[o.order]),disabled:this.toBoolean(n[o.disabled]),closable:this.toBoolean(n[o.closable])})}),o.order>-1&&(this.tabPaneAttr=this.$$lib__.sortBy(this.tabPaneAttr,"order")),d.length>0&&element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning({message:d.join(";"),offset:60})},initAction(e){this.actionReceive(e);let t=e.action.receive.addTabPane;t&&t.enabled&&t.tabPaneList&&t.tabPaneList.length>0&&this.doTabPane(t.tabPaneList,e);let i=e.action.receive.changeTabPane;i&&i.enabled&&i.tabPaneList&&i.tabPaneList.length>0&&this.goTabPane(i.tabPaneList,e)},doTabPane(e,t){this.$$lib__.each(e,i=>{let l=i.widget[1];_utils_bus_js__WEBPACK_IMPORTED_MODULE_0__.Z.$on(l,o=>{let d=!1;t.action.receive.addTabPane.script&&t.action.receive.addTabPane.script.enabled&&(d=!0,console.log("Execute the script to add a tab to the "+t.name+" component"),this.doAddTabPane=new Function("info","data","action",t.action.receive.addTabPane.script.content)),this.doAddTabPane(t,o,i),d&&console.log("Script execution of adding tab to "+t.name+" component completed")})})},doAddTabPane(e,t,i){let l={name:t[i.name],label:t[i.label],url:t[i.url],order:t[i.order],disabled:t[i.disabled],closable:t[i.closable]},o=this.checkParam(i,l);if(o!=null){element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning({message:o,offset:60});return}let d=this.replaceParams(e.dataset.params,l.url);if(d.msg!=null){element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning({message:"\u5185\u5BB9\u5730\u5740\u4E2D\u7684\u53C2\u6570\u201C "+d.msg+" \u201D\u672A\u5728\u53C2\u6570\u914D\u7F6E\u4E2D\u5B9A\u4E49",offset:60});return}l.url=this.addExtendParams(d.newUrl,t,i),this.addTabPane(l),this.initCarousel(e)},goTabPane(e,t){this.$$lib__.each(e,i=>{let l=i[0][1]+"_"+i[0][0];i[0][1].indexOf("_")>-1&&(l=i[0][1]),_utils_bus_js__WEBPACK_IMPORTED_MODULE_0__.Z.$on(l,o=>{let d=!1;t.action.receive.changeTabPane.script&&t.action.receive.changeTabPane.script.enabled&&(d=!0,console.log("Execute the script to change a tab to the "+t.name+" component"),this.goChangeTabPane=new Function("info","data","action",t.action.receive.changeTabPane.script.content)),this.goChangeTabPane(t,o,i),d&&console.log("Script execution of changing tab to "+t.name+" component completed")})})},goChangeTabPane(e,t,i){for(let l in t)this.switchTabPane(t[l])},switchTabPane(e){let t="";for(let i in this.tabPaneAttr)if(e==this.tabPaneAttr[i].name){t=e;break}t!=""?(this.tabsValue=t,this.$nextTick(function(){this.setStyleIsActive(this.widgetInfo.config.tabsAttr,this.widgetInfo.config.tabsAttr.borderColor)})):console.log("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u5207\u6362\u6807\u7B7E\u9875\u65F6\uFF0C\u7ED9\u7684["+e+"]\u503C\u4E0D\u5339\u914D")},addExtendParams(e,t,i){let l=this.getActionKeys(i),o=[];for(let d in t)this.$$lib__.contains(l,d)||o.push(d+"="+t[d]);return o.length>0&&(e.indexOf("?")>-1?e=e+"&"+o.join("&"):e=e+"?"+o.join("&")),e},getActionKeys(e){let t=[];return e.name&&t.push(e.name),e.label&&t.push(e.label),e.url&&t.push(e.url),e.order&&t.push(e.order),e.disabled&&t.push(e.disabled),e.closable&&t.push(e.closable),t},replaceParams(e,t){let i={newUrl:t,msg:null};if(!e.enabled)return i;let l="\\{(.*?)\\}",o=i.newUrl.match(l),d=[];for(;o!=null;){let n=o[1].trim(),s=e.param[n];s?i.newUrl=o.input.replace(o[0],s):(d.push(o[0]),i.newUrl=o.input.replace(o[0],o[1])),o=i.newUrl.match(l)}return d.length>0&&(i.msg=d.join("\u3001")),i},checkParam(e,t){let i=null,l=[];return!e.name||e.name==""?l.push("\u6807\u7B7E\u6807\u8BC6\u672A\u7ED1\u5B9A\u53C2\u6570"):(!t.name||t.name=="")&&l.push("\u6807\u7B7E\u6807\u8BC6\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A"),!e.label||e.label==""?l.push("\u6807\u7B7E\u6587\u672C\u672A\u7ED1\u5B9A\u53C2\u6570"):(!t.label||t.label=="")&&l.push("\u6807\u7B7E\u6587\u672C\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A"),!e.url||e.url==""?l.push("\u5185\u5BB9\u5730\u5740\u672A\u7ED1\u5B9A\u53C2\u6570"):(!t.url||t.url=="")&&l.push("\u5185\u5BB9\u5730\u5740\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A"),l.length>0&&(i=l.join(";")),i},addTabPane(e){let t=!1,i=null;return this.$$lib__.find(this.tabPaneAttr,(o,d)=>(o.name==e.name&&(i=d),o.name==e.name))?(t=!0,this.reloadIframe(i)):(this.tabPaneAttr.push(JSON.parse(JSON.stringify(e))),e.order&&(this.tabPaneAttr=this.$$lib__.sortBy(this.tabPaneAttr,"order"))),this.tabsValue=e.name,this.setStyle(this.widgetInfo.config.tabsAttr),t},setStyle(e){let t=this.$refs.myTabs,i=e.tabPosition!="bottom"?0:1;if(e.height===0&&(e.tabPosition=="top"||e.tabPosition=="bottom")){let l=t.$el.querySelector(".el-tabs__header");l.style.height="0px",l.style.overflow="hidden"}t&&t.$el.style&&(t.$el.style.borderColor=e.borderColor!=""&&e.borderColor!=null&&e.borderColor!=null&&e.height>0?e.borderColor:"transparent"),t.$el.childNodes&&t.$el.childNodes.length>0&&(t.$el.childNodes[i].style.borderColor=e.borderColor!=""&&e.borderColor!=null&&e.borderColor!=null&&e.height>0?e.borderColor:"transparent",this.setBackGround(t.$el.childNodes[i].style,e.background)),this.$nextTick(function(){setTimeout(()=>{this.setStyleIsActive(e,e.borderColor)},50)})},handleClick(e){this.reloadIframe(Number(e.index)),this.$nextTick(function(){this.setStyleIsActive(this.widgetInfo.config.tabsAttr,this.widgetInfo.config.tabsAttr.borderColor)})},reloadIframe(e){if(this.widgetInfo.config.tabsAttr.checkTabLoad)try{let t=new URL(document.getElementsByName("ifrmname_"+e)[0].src);if(t.hash&&t.hash.length>1){let i=t.search.indexOf("&gisqRandom");i>-1&&(t.search=t.search.substr(0,i)+t.search.substring(i+20)),t.search+=("&gisqRandom"+Math.random()).substr(0,20)}document.getElementsByName("ifrmname_"+e)[0].src=t}catch{}},removeTab(e){let t=this.tabPaneAttr,i=this.tabsValue;i===e&&t.forEach((l,o)=>{if(l.name===e){let d=t[o+1]||t[o-1];d&&(i=d.name)}}),this.tabsValue=i,this.tabPaneAttr=t.filter(l=>l.name!==e),this.setStyle(this.widgetInfo.config.tabsAttr)},setStyleIsActive(e,t){let i=this.$refs.myTabs,l=this.widgetInfo.config.tabsAttr.tabPosition!="bottom"?0:1,o=!1,d=null;if(i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].className=="el-icon-arrow-left"?(o=i.$el.childNodes&&i.$el.childNodes.length>0&&i.$el.childNodes[l].childNodes&&i.$el.childNodes[l].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes.length>2&&i.$el.childNodes[l].childNodes[0].childNodes[2].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[2].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[2].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[2].childNodes[0].childNodes.length>0,d=i.$el.childNodes[l].childNodes[0].childNodes[2].childNodes[0]):(o=i.$el.childNodes&&i.$el.childNodes.length>0&&i.$el.childNodes[l].childNodes&&i.$el.childNodes[l].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes.length>0&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].childNodes&&i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0].childNodes.length>0,d=i.$el.childNodes[l].childNodes[0].childNodes[0].childNodes[0]),o){d.style.fontSize=0;for(let n=0;n<d.childNodes.length;n++){d.childNodes[n].style.borderColor=t!=""&&t!=null&&t!=null&&e.height>0?t:"transparent";let s=d.childNodes[n];if(s.classList.contains("is-hover")){this.setBackGround(s.style,e.hoverStyle.background),s.style.borderTop=e.hoverBorder.widthT+"px "+e.hoverBorder.styleT+" "+e.hoverBorder.colorT,s.style.borderRight=e.hoverBorder.widthR+"px "+e.hoverBorder.styleR+" "+e.hoverBorder.colorR,s.style.borderBottom=e.hoverBorder.widthB+"px "+e.hoverBorder.styleB+" "+e.hoverBorder.colorB,s.style.borderLeft=e.hoverBorder.widthL+"px "+e.hoverBorder.styleL+" "+e.hoverBorder.colorL,s.style.borderTopLeftRadius=e.hoverBorder.radiusTL+"px",s.style.borderTopRightRadius=e.hoverBorder.radiusTR+"px",s.style.borderBottomLeftRadius=e.hoverBorder.radiusBR+"px",s.style.borderBottomRightRadius=e.hoverBorder.radiusBL+"px";let r=null;s.children&&s.children[1]?(r=s.children[1],s.children[0].append(r)):r=s.children[0].children[0],r&&(r.style.color=e.hoverCloseBtn.color,r.style.fontSize=e.hoverCloseBtn.fontSize+"px",r.style.marginLeft=e.hoverCloseBtn.marginLeft+"px",r.style.marginTop=e.hoverCloseBtn.marginTop+"px",r.className=e.hoverCloseBtn.icon||"",r.style.position="absolute")}else if(s.className.indexOf("is-active")>-1){this.setBackGround(s.style,e.activeStyle.background),s.style.borderTop=e.activeBorder.widthT+"px "+e.activeBorder.styleT+" "+e.activeBorder.colorT,s.style.borderRight=e.activeBorder.widthR+"px "+e.activeBorder.styleR+" "+e.activeBorder.colorR,s.style.borderBottom=e.activeBorder.widthB+"px "+e.activeBorder.styleB+" "+e.activeBorder.colorB,s.style.borderLeft=e.activeBorder.widthL+"px "+e.activeBorder.styleL+" "+e.activeBorder.colorL,s.style.borderTopLeftRadius=e.activeBorder.radiusTL+"px",s.style.borderTopRightRadius=e.activeBorder.radiusTR+"px",s.style.borderBottomLeftRadius=e.activeBorder.radiusBR+"px",s.style.borderBottomRightRadius=e.activeBorder.radiusBL+"px";let r=null;s.children&&s.children[1]?(r=s.children[1],s.children[0].append(r)):r=s.children[0].children[0],r&&(r.style.position="absolute",r.style.color=e.activeCloseBtn.color,r.style.fontSize=e.activeCloseBtn.fontSize+"px",r.style.marginLeft=e.activeCloseBtn.marginLeft+"px",r.style.marginTop=e.activeCloseBtn.marginTop+"px",r.className=e.activeCloseBtn.icon||"")}else{this.setBackGround(s.style,e.initialStyle.background),s.style.borderTop=e.border.widthT+"px "+e.border.styleT+" "+e.border.colorT,s.style.borderRight=e.border.widthR+"px "+e.border.styleR+" "+e.border.colorR,s.style.borderBottom=e.border.widthB+"px "+e.border.styleB+" "+e.border.colorB,s.style.borderLeft=e.border.widthL+"px "+e.border.styleL+" "+e.border.colorL,s.style.borderTopLeftRadius=e.border.radiusTL+"px",s.style.borderTopRightRadius=e.border.radiusTR+"px",s.style.borderBottomLeftRadius=e.border.radiusBR+"px",s.style.borderBottomRightRadius=e.border.radiusBL+"px";let r=null;s.children&&s.children[1]?(r=s.children[1],s.children[0].append(r)):r=s.children[0].children[0],r&&(r.style.color=e.closeBtn.color,r.style.fontSize=e.closeBtn.fontSize+"px",r.style.position="absolute",r.style.marginLeft=e.closeBtn.marginLeft+"px",r.style.marginTop=e.closeBtn.marginTop+"px",r.className=e.closeBtn.icon||"")}if(this.getTabPaneStyle(this.tabPaneAttr[n],e)&&(s.childNodes[0].style.fontSize=this.getTabPaneStyle(this.tabPaneAttr[n],e).fontSize,s.childNodes[0].style.fontFamily=this.getTabPaneStyle(this.tabPaneAttr[n],e).fontFamily,s.childNodes[0].style.color=this.getTabPaneStyle(this.tabPaneAttr[n],e).color,s.childNodes[0].style.fontWeight=this.getTabPaneStyle(this.tabPaneAttr[n],e).fontWeight,s.childNodes[0].style.fontStyle=this.getTabPaneStyle(this.tabPaneAttr[n],e).fontStyle,s.childNodes[0].style.textDecoration=this.getTabPaneStyle(this.tabPaneAttr[n],e).textDecoration,s.childNodes[0].style.textAlign=this.getTabPaneStyle(this.tabPaneAttr[n],e).textAlign),e.height&&e.height!=""){let r=_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__.getNewPxH(e.height,e.lockedTitle)+"px";s.style.height=r,s.style.lineHeight=r}if((e.height==0||e.height=="0")&&(s.style.height="0px",s.style.lineHeight="0px"),e.widthType==="fixedPadding"&&(e.tabPosition==="top"||e.tabPosition==="bottom")){if(e.itemPadding&&e.itemPadding!=""){let r=_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__.getNewPxW(e.itemPadding,e.lockedTitle)+"px";s.style.paddingLeft=r,s.style.paddingRight=r,s.style.width="auto",s.style.overflow="hidden",s.style.textAlign="center"}}else if(e.width&&e.width!=""){let r=_utils_mUtils__WEBPACK_IMPORTED_MODULE_1__.getNewPxW(parseInt(e.width)+40,e.lockedTitle)+"px";s.style.width=r,s.style.overflow="hidden",s.style.textAlign="center"}}}},setBackGround(e,t){t.backgroundColor&&t.backgroundColor!=""?e.backgroundColor=t.backgroundColor:e.backgroundColor="transparent",t.backgroundImage&&t.backgroundImage!=""?e.backgroundImage=this.getImageUrl(t.backgroundImage):e.backgroundImage="none",t.backgroundSize&&t.backgroundSize!=""?e.backgroundSize=t.backgroundSize:e.backgroundSize="auto"},getTabPaneStyle(e,t){let i={};e.name!=this.tabsValue?i=this.getStyleFontStyle(t.initialStyle.textStyle,t.lockedTitle):i=this.getStyleFontStyle(t.activeStyle.textStyle,t.lockedTitle);let l=this.$refs.myTabs;return l&&l.$el.querySelector(".is-hover")&&l.$el.querySelector(".is-hover").getAttribute("id").split("tab-")[1]==e.name&&(i=this.getStyleFontStyle(t.hoverStyle.textStyle,t.lockedTitle)),i},toBoolean(chart){let ret;if(typeof chart=="string"){let bol=eval(chart.toLowerCase());typeof bol=="boolean"?ret=bol:typeof bol=="number"&&(ret=bol==1?!0:bol==0?!1:void 0)}else typeof chart=="number"&&(ret=chart==1?!0:chart==0?!1:void 0);return ret},toNumber(e){return typeof e=="number"?e:parseInt(e)},initCarousel(e){let t=this;t.clearCarousel();let i=JSON.parse(JSON.stringify(t.tabPaneAttr)),l=JSON.parse(JSON.stringify(e.config.carousel));i&&l&&l.enabled==!0&&l.interval>0&&(t.carouselTimer=setInterval(()=>{let o=-1;for(let d=0;d<i.length;d++)t.tabsValue==i[d].name&&(o=d);l.order=="asc"&&(o==-1||o==i.length-1?o=0:o++),l.order=="desc"&&(o==-1||o==0?o=i.length-1:o--),t.tabsValue=i[o].name,t.handleClick({index:o})},l.interval*1e3))},clearCarousel(){this.carouselTimer!=null&&clearInterval(this.carouselTimer)}},destroyed(){this.clearCarousel()}}},95932:function(e,t,i){i.d(t,{s:function(){return o}});var l=i(67157);const o={mixins:[l.c],data(){return{config_extend:{config:{tabsAttr:{border:{widthT:0,widthR:0,widthB:0,widthL:0,colorT:"#DCDFE6",colorR:"#DCDFE6",colorB:"#DCDFE6",colorL:"#DCDFE6",radiusTR:0,radiusBR:0,radiusBL:0},activeBorder:{radiusTL:4,radiusTR:4,widthT:1,colorT:"#4C84FF"},initialStyle:{textStyle:{fontFamily:"alibabaPuHuiTiRegular"}},activeStyle:{textStyle:{fontFamily:"alibabaPuHuiTiRegular"}}}}},filter_config:{tabsAttr:{borderColor:"rgba(219, 223, 230, 0)",border:{colorT:"#DCDFE6",colorR:"#DCDFE6",colorB:"#DCDFE6",colorL:"#DCDFE6"},activeBorder:{colorT:"#4C84FF"},closeBtn:{color:"rgba(255, 120, 0, 1)"},activeCloseBtn:{color:"#616266"},hoverCloseBtn:{color:"rgba(255, 120, 0, 1)"},initialStyle:{background:{backgroundColor:"#4C84FF"},textStyle:{fontFamily:"alibabaPuHuiTiRegular",color:"#ffffff"}},activeStyle:{background:{backgroundColor:"#ffffff"},textStyle:{fontFamily:"alibabaPuHuiTiRegular",color:"#616266"}},hoverStyle:{background:{backgroundColor:"rgba(222,236,253, 1)"},textStyle:{color:"rgba(50,94,156, 1)"}}}}}},methods:{filterPredefineColoursSchemeConfig(d,n){this.getNewConfigWithArrary(d,n,this.filter_config)}}}},56279:function(e,t,i){i.d(t,{P:function(){return d}});var l=i(86892),o=i(49500);const d={mixins:[l.D],created(){},methods:{lifecycleBeforeChartsLoad(n){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&o.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),o.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let r=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[n]);if(r)return r}return n},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&o.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),o.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},51395:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var l=function(){var a=this,h=a._self._c;return h("div",{ref:"platformTabs",staticClass:"my-div",style:{width:a.widgetInfo.attr.w+"px",height:a.widgetInfo.attr.hh+"px"}},[h("el-tabs",{ref:"myTabs",staticClass:"my-tabs",attrs:{closable:a.widgetInfo.config.tabsAttr.closable,type:a.widgetInfo.config.tabsAttr.type,stretch:a.widgetInfo.config.tabsAttr.stretch,"tab-position":a.widgetInfo.config.tabsAttr.tabPosition},on:{"tab-click":a.handleClick,"tab-remove":a.removeTab},nativeOn:{contextmenu:function(c){return a.rightClick(c)}},model:{value:a.tabsValue,callback:function(c){a.tabsValue=c},expression:"tabsValue"}},a._l(a.tabPaneAttr,function(c,_){return h("el-tab-pane",{key:c.name,attrs:{name:c.name,closable:c.closable,disabled:c.disabled}},[h("span",{style:a.getTabPaneStyle(c,a.widgetInfo.config.tabsAttr),attrs:{slot:"label"},on:{contextmenu:function(f){return f.preventDefault(),a.rightClick(f,_)},mouseover:function(f){return f.preventDefault(),a.mouseover(f,_)},mouseout:function(f){return a.mouseout(f,_)}},slot:"label"},[a._v(a._s(c.label)+" ")]),h("div",{staticClass:"my-screen",style:{height:a.iframeHeight}},[h("iframe",{staticStyle:{width:"100%",height:"100%","vertical-align":"top"},attrs:{src:a.getUrl(c),name:"ifrmname_"+_,frameborder:!a.widgetInfo.config.iframe.frameborder,scrolling:a.widgetInfo.config.iframe.scrolling}})])])}),1),h("div",{staticClass:"contextmenu"},[h("ul",[h("li",{on:{click:function(c){return a.closeTags("all")}}},[a._v("\u5173\u95ED\u6240\u6709\u6807\u7B7E")]),h("li",{on:{click:function(c){return a.closeTags("others")}}},[a._v("\u5173\u95ED\u5176\u4ED6\u6807\u7B7E")]),h("li",{staticStyle:{width:"104px",height:"1px","background-color":"#dbdfe6",margin:"3px 0"}}),h("li",{on:{click:function(c){return a.closeTags("left")}}},[a._v("\u5173\u95ED\u524D\u9762\u6807\u7B7E")]),h("li",{on:{click:function(c){return a.closeTags("right")}}},[a._v("\u5173\u95ED\u540E\u9762\u6807\u7B7E")])])])],1)},o=[],d=i(70081),n=d.Z,s=i(68141),r=(0,s.Z)(n,l,o,!1,null,"b4862b5a",null),g=r.exports}}]);
