"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[53050],{813239:function(b,o,n){n.d(o,{Z:function(){return m}});var c=function(){var i=this,e=i._self._c;return e("div",[e("el-collapse",[e("el-collapse-item",[e("template",{slot:"title"},[e("div",{staticClass:"my-title"},[i._v(" \u56FE\u6807\u8BBE\u7F6E")])]),e("el-form",{staticStyle:{"padding-left":"20px"}},[e("el-form-item",{attrs:{label:"\u6309\u94AE\u7C7B\u578B"}},i._l(i.btnRadios,function(t,p){return e("el-radio",{key:p,attrs:{label:t.label},on:{change:i.getConfigData},model:{value:i.imgIconConfig.isHtml,callback:function(v){i.$set(i.imgIconConfig,"isHtml",v)},expression:"imgIconConfig.isHtml"}},[i._v(i._s(t.text)+" ")])}),1),i.imgIconConfig.isHtml?e("el-form-item",{attrs:{label:"\u663E\u793A\u5185\u5BB9"}},[e("el-input",{staticStyle:{width:"195px"},on:{blur:i.getConfigData},model:{value:i.imgIconConfig.html,callback:function(t){i.$set(i.imgIconConfig,"html",t)},expression:"imgIconConfig.html"}})],1):e("div",[i.isHideText?i._e():e("el-form-item",{attrs:{label:"\u56FE\u6807\u7C7B\u578B"}},i._l(i.radios,function(t,p){return e("el-radio",{key:p,attrs:{label:t.label},on:{change:i.iconTypeChange},model:{value:i.imgIconConfig.isImg,callback:function(v){i.$set(i.imgIconConfig,"isImg",v)},expression:"imgIconConfig.isImg"}},[i._v(i._s(t.text)+" ")])}),1),i.imgIconConfig.isImg?e("el-form-item",{attrs:{label:"\u56FE\u6807\u9009\u62E9"}},[e("select-img",{attrs:{image:i.imgIcon},on:{openSelectImage:function(t){return i.openSelectImage()},clearSelectImage:function(t){return i.clearSelectImage()},change:i.getConfigData}})],1):e("div",[e("el-form-item",{attrs:{label:"\u6587\u5B57\u5185\u5BB9"}},[e("el-input",{staticStyle:{width:"195px"},on:{blur:i.getConfigData},model:{value:i.imgIconConfig.title,callback:function(t){i.$set(i.imgIconConfig,"title",t)},expression:"imgIconConfig.title"}})],1),e("el-form-item",{attrs:{label:"\u5B57\u4F53\u5927\u5C0F"}},[e("el-input-number",{attrs:{step:1,min:5,max:40},on:{change:i.getConfigData},model:{value:i.imgIconConfig.size,callback:function(t){i.$set(i.imgIconConfig,"size",t)},expression:"imgIconConfig.size"}})],1)],1),i.imgIconConfig.isImg?e("el-form-item",{attrs:{label:i.widthLabel}},[e("el-input-number",{attrs:{step:1,min:15},on:{change:i.getConfigData},model:{value:i.imgIconConfig.width,callback:function(t){i.$set(i.imgIconConfig,"width",t)},expression:"imgIconConfig.width"}})],1):i._e(),i.imgIconConfig.isImg?e("el-form-item",{attrs:{label:i.heightLabel}},[e("el-input-number",{attrs:{step:1,min:15},on:{change:i.getConfigData},model:{value:i.imgIconConfig.height,callback:function(t){i.$set(i.imgIconConfig,"height",t)},expression:"imgIconConfig.height"}})],1):i._e()],1)],1)],2)],1),e("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,visible:i.dialogVisible,width:i.dialogWidth},on:{"update:visible":function(t){i.dialogVisible=t}}},[e("div",[e("image-manage",{ref:"imageMange",attrs:{isDialog:!0,type:["image"]}})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:i.cancelEidt}},[i._v("\u53D6 \u6D88")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:i.getImage}},[i._v("\u786E \u5B9A")])],1)])],1)},r=[],f=n(723400),d=n(721829),h=n(582333),u=n(321300),l=n(555616),I={props:["imgIconConfig","isHideText"],name:"gis-widget-icon",mixins:[f.j],components:{selectImg:d.Z,ImageManage:h.default},data(){return{formLabelWidth:"120px",imgIcon:"",widthLabel:this.imgIconConfig.isImg?"\u56FE\u6807\u5BBD\u5EA6":"\u6309\u94AE\u5BBD\u5EA6",heightLabel:this.imgIconConfig.isImg?"\u56FE\u6807\u9AD8\u5EA6":"\u6309\u94AE\u9AD8\u5EA6",dialogVisible:!1,dialogWidth:"89%",radios:[{label:!0,text:"\u56FE\u7247"},{label:!1,text:"\u6587\u5B57"}],btnRadios:[{label:!1,text:"\u6807\u51C6\u6309\u94AE"},{label:!0,text:"html\u4EE3\u7801"}]}},mounted(){this.imgIconConfig.img&&this.imgIconConfig.img.indexOf("/images/")!==-1&&(this.imgIcon="/images/"+this.imgIconConfig.img.split("/images/")[1])},methods:{openSelectImage(){this.dialogVisible=!0},clearSelectImage(){this.imgIcon="",this.imgIconConfig.img="",this.getConfigData()},getImage(){let g=this.$refs.imageMange.getSelectImage();if(g!=null){if(this.$$global.fileType.image.indexOf(g.imageFileType)==-1){l.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}this.dialogVisible=!1;let i=u.appendImageBaseURL(g.fileUrlPath);this.imgIconConfig.img=i,this.imgIcon=g.fileUrlPath,this.getConfigData()}else l.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},iconTypeChange(){this.widthLabel=this.imgIconConfig.isImg?"\u56FE\u6807\u5BBD\u5EA6":"\u6309\u94AE\u5BBD\u5EA6",this.heightLabel=this.imgIconConfig.isImg?"\u56FE\u6807\u9AD8\u5EA6":"\u6309\u94AE\u9AD8\u5EA6",this.getConfigData()},getConfigData(){this.$emit("gisWidgetIconChange",this.imgIconConfig)}}},C=I,s=n(768141),a=(0,s.Z)(C,c,r,!1,null,"7061a458",null),m=a.exports},153050:function(b,o,n){n.r(o),n.d(o,{default:function(){return C}});var c=function(){var a=this,m=a._self._c;return m("div",[m("gis-widget-icon",{attrs:{"img-icon-config":a.currentWidget.config.imgIconConfig},on:{gisWidgetIconChange:a.iconChange}})],1)},r=[],f=n(723400),d=n(813239),h={name:"GisMeasureStyle",components:{gisWidgetIcon:d.Z},mixins:[f.j],props:["currentWidget"],data(){return{}},methods:{iconChange(s){this.currentWidget.config.imgIconConfig=s,this.getConfigData()}}},u=h,l=n(768141),I=(0,l.Z)(u,c,r,!1,null,"5fbfa4a6",null),C=I.exports}}]);
