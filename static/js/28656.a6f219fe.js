"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[28656],{813239:function(b,l,n){n.d(l,{Z:function(){return o}});var s=function(){var i=this,t=i._self._c;return t("div",[t("el-collapse",[t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title"},[i._v(" \u56FE\u6807\u8BBE\u7F6E")])]),t("el-form",{staticStyle:{"padding-left":"20px"}},[t("el-form-item",{attrs:{label:"\u6309\u94AE\u7C7B\u578B"}},i._l(i.btnRadios,function(e,p){return t("el-radio",{key:p,attrs:{label:e.label},on:{change:i.getConfigData},model:{value:i.imgIconConfig.isHtml,callback:function(v){i.$set(i.imgIconConfig,"isHtml",v)},expression:"imgIconConfig.isHtml"}},[i._v(i._s(e.text)+" ")])}),1),i.imgIconConfig.isHtml?t("el-form-item",{attrs:{label:"\u663E\u793A\u5185\u5BB9"}},[t("el-input",{staticStyle:{width:"195px"},on:{blur:i.getConfigData},model:{value:i.imgIconConfig.html,callback:function(e){i.$set(i.imgIconConfig,"html",e)},expression:"imgIconConfig.html"}})],1):t("div",[i.isHideText?i._e():t("el-form-item",{attrs:{label:"\u56FE\u6807\u7C7B\u578B"}},i._l(i.radios,function(e,p){return t("el-radio",{key:p,attrs:{label:e.label},on:{change:i.iconTypeChange},model:{value:i.imgIconConfig.isImg,callback:function(v){i.$set(i.imgIconConfig,"isImg",v)},expression:"imgIconConfig.isImg"}},[i._v(i._s(e.text)+" ")])}),1),i.imgIconConfig.isImg?t("el-form-item",{attrs:{label:"\u56FE\u6807\u9009\u62E9"}},[t("select-img",{attrs:{image:i.imgIcon},on:{openSelectImage:function(e){return i.openSelectImage()},clearSelectImage:function(e){return i.clearSelectImage()},change:i.getConfigData}})],1):t("div",[t("el-form-item",{attrs:{label:"\u6587\u5B57\u5185\u5BB9"}},[t("el-input",{staticStyle:{width:"195px"},on:{blur:i.getConfigData},model:{value:i.imgIconConfig.title,callback:function(e){i.$set(i.imgIconConfig,"title",e)},expression:"imgIconConfig.title"}})],1),t("el-form-item",{attrs:{label:"\u5B57\u4F53\u5927\u5C0F"}},[t("el-input-number",{attrs:{step:1,min:5,max:40},on:{change:i.getConfigData},model:{value:i.imgIconConfig.size,callback:function(e){i.$set(i.imgIconConfig,"size",e)},expression:"imgIconConfig.size"}})],1)],1),i.imgIconConfig.isImg?t("el-form-item",{attrs:{label:i.widthLabel}},[t("el-input-number",{attrs:{step:1,min:15},on:{change:i.getConfigData},model:{value:i.imgIconConfig.width,callback:function(e){i.$set(i.imgIconConfig,"width",e)},expression:"imgIconConfig.width"}})],1):i._e(),i.imgIconConfig.isImg?t("el-form-item",{attrs:{label:i.heightLabel}},[t("el-input-number",{attrs:{step:1,min:15},on:{change:i.getConfigData},model:{value:i.imgIconConfig.height,callback:function(e){i.$set(i.imgIconConfig,"height",e)},expression:"imgIconConfig.height"}})],1):i._e()],1)],1)],2)],1),t("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,visible:i.dialogVisible,width:i.dialogWidth},on:{"update:visible":function(e){i.dialogVisible=e}}},[t("div",[t("image-manage",{ref:"imageMange",attrs:{isDialog:!0,type:["image"]}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini"},on:{click:i.cancelEidt}},[i._v("\u53D6 \u6D88")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:i.getImage}},[i._v("\u786E \u5B9A")])],1)])],1)},m=[],c=n(723400),r=n(721829),f=n(582333),d=n(321300),g=n(555616),h={props:["imgIconConfig","isHideText"],name:"gis-widget-icon",mixins:[c.j],components:{selectImg:r.Z,ImageManage:f.default},data(){return{formLabelWidth:"120px",imgIcon:"",widthLabel:this.imgIconConfig.isImg?"\u56FE\u6807\u5BBD\u5EA6":"\u6309\u94AE\u5BBD\u5EA6",heightLabel:this.imgIconConfig.isImg?"\u56FE\u6807\u9AD8\u5EA6":"\u6309\u94AE\u9AD8\u5EA6",dialogVisible:!1,dialogWidth:"89%",radios:[{label:!0,text:"\u56FE\u7247"},{label:!1,text:"\u6587\u5B57"}],btnRadios:[{label:!1,text:"\u6807\u51C6\u6309\u94AE"},{label:!0,text:"html\u4EE3\u7801"}]}},mounted(){this.imgIconConfig.img&&this.imgIconConfig.img.indexOf("/images/")!==-1&&(this.imgIcon="/images/"+this.imgIconConfig.img.split("/images/")[1])},methods:{openSelectImage(){this.dialogVisible=!0},clearSelectImage(){this.imgIcon="",this.imgIconConfig.img="",this.getConfigData()},getImage(){let a=this.$refs.imageMange.getSelectImage();if(a!=null){if(this.$$global.fileType.image.indexOf(a.imageFileType)==-1){g.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}this.dialogVisible=!1;let i=d.appendImageBaseURL(a.fileUrlPath);this.imgIconConfig.img=i,this.imgIcon=a.fileUrlPath,this.getConfigData()}else g.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},iconTypeChange(){this.widthLabel=this.imgIconConfig.isImg?"\u56FE\u6807\u5BBD\u5EA6":"\u6309\u94AE\u5BBD\u5EA6",this.heightLabel=this.imgIconConfig.isImg?"\u56FE\u6807\u9AD8\u5EA6":"\u6309\u94AE\u9AD8\u5EA6",this.getConfigData()},getConfigData(){this.$emit("gisWidgetIconChange",this.imgIconConfig)}}},u=h,I=n(768141),C=(0,I.Z)(u,s,m,!1,null,"7061a458",null),o=C.exports},275477:function(b,l,n){n.r(l),n.d(l,{default:function(){return C}});var s=function(){var a=this,i=a._self._c;return i("div",[i("el-collapse",[i("el-collapse-item",[i("template",{slot:"title"},[i("div",{staticClass:"my-title"},[a._v("\u56FE\u5C42\u9009\u62E9")])]),i("layer-directory-multiple",{attrs:{toc:a.currentWidget.config.toc,"show-setting":!0},on:{"on-toc-change":a.onLayerChange}})],2)],1)],1)},m=[],c=n(723400),r=n(944337),f=n(813239),d=n(149500),g={name:"GisAnalysisStyle",components:{layerDirectoryMultiple:r.Z,gisWidgetIcon:f.Z},mixins:[c.j],props:["currentWidget"],data(){return{}},methods:{onLayerChange(o){d.log(o),this.currentWidget.config.toc=o,this.getConfigData()},iconChange(o){this.currentWidget.config.imgIconConfig=o,this.getConfigData()}}},h=g,u=n(768141),I=(0,u.Z)(h,s,m,!1,null,"de3ad840",null),C=I.exports}}]);
