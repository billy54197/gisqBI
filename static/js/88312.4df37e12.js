(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[88312],{377326:function(et,H,d){var w=d(149500);et.exports=function(l){var c={};function s(p){if(c[p])return c[p].exports;var r=c[p]={i:p,l:!1,exports:{}};return l[p].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=l,s.c=c,s.d=function(p,r,x){s.o(p,r)||Object.defineProperty(p,r,{enumerable:!0,get:x})},s.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},s.t=function(p,r){if(r&1&&(p=s(p)),r&8||r&4&&typeof p=="object"&&p&&p.__esModule)return p;var x=Object.create(null);if(s.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:p}),r&2&&typeof p!="string")for(var O in p)s.d(x,O,function(C){return p[C]}.bind(null,O));return x},s.n=function(p){var r=p&&p.__esModule?function(){return p.default}:function(){return p};return s.d(r,"a",r),r},s.o=function(p,r){return Object.prototype.hasOwnProperty.call(p,r)},s.p="/dist/",s(s.s=759)}({0:function(l,c){l.exports=d(342579)},10:function(l,c){l.exports=d(42762)},101:function(l,c){l.exports=d(691)},102:function(l,c){l.exports=d(170017)},103:function(l,c){l.exports=d(260706)},109:function(l,c){l.exports=d(580823)},11:function(l,c){l.exports=d(520314)},125:function(l,c){l.exports=d(596376)},13:function(l,c){l.exports=d(66273)},17:function(l,c){l.exports=d(985208)},18:function(l,c){l.exports=d(659791)},19:function(l,c){l.exports=d(183393)},2:function(l,c,s){"use strict";s.d(c,"a",function(){return p});function p(r,x,O,C,k,B,P,V){var D=typeof r=="function"?r.options:r;x&&(D.render=x,D.staticRenderFns=O,D._compiled=!0),C&&(D.functional=!0),B&&(D._scopeId="data-v-"+B);var R;if(P?(R=function(g){g=g||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!g&&typeof __VUE_SSR_CONTEXT__<"u"&&(g=__VUE_SSR_CONTEXT__),k&&k.call(this,g),g&&g._registeredComponents&&g._registeredComponents.add(P)},D._ssrRegister=R):k&&(R=V?function(){k.call(this,(D.functional?this.parent:this).$root.$options.shadowRoot)}:k),R)if(D.functional){D._injectStyles=R;var X=D.render;D.render=function(Y,F){return R.call(F),X(Y,F)}}else{var b=D.beforeCreate;D.beforeCreate=b?[].concat(b,R):[R]}return{exports:r,options:D}}},20:function(l,c){l.exports=d(105077)},21:function(l,c){l.exports=d(581806)},22:function(l,c){l.exports=d(669033)},24:function(l,c){l.exports=d(452909)},25:function(l,c){l.exports=d(543389)},28:function(l,c){l.exports=d(132726)},30:function(l,c){l.exports=d(832569)},38:function(l,c){l.exports=d(326541)},39:function(l,c){l.exports=d(426352)},4:function(l,c){l.exports=d(555616)},40:function(l,c){l.exports=d(230551)},41:function(l,c){l.exports=d(43586)},5:function(l,c){l.exports=d(705146)},50:function(l,c){l.exports=d(636583)},6:function(l,c){l.exports=d(783574)},7:function(l,c){l.exports=d(17249)},719:function(l,c){l.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDx0aXRsZT5pY29uL3N0YXR1cy9pbmZvcjwvdGl0bGU+DQogICAgPGcgaWQ9Imljb24vc3RhdHVzL2luZm9yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IuW9oueKtue7k+WQiC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgMS4wMDAwMDApIiBmaWxsPSIjQzBDNENDIj4NCiAgICAgICAgICAgIDxwYXRoIGQ9Ik03LDAgQzEwLjg2NTk5MzIsMCAxNCwzLjEzNDAwNjc1IDE0LDcgQzE0LDEwLjg2NTk5MzIgMTAuODY1OTkzMiwxNCA3LDE0IEMzLjEzNDAwNjc1LDE0IDAsMTAuODY1OTkzMiAwLDcgQzAsMy4xMzQwMDY3NSAzLjEzNDAwNjc1LDAgNywwIFogTTcuMjc1MzgzODQsNS41NiBMNy4yNjUyNjkwMSw1LjU2IEM2Ljk4NTI4MTkzLDUuNTYgNi42NzQ2MTg5LDUuNjUxODcxMDEgNi4zMTU0Njg0OCw1Ljg0MDg3OTgzIEM1Ljk4MDE5MzUsNi4wMTczNjI4NSA1LjYyNzg1NTg2LDYuMjk3NjkzMDkgNS4yMzgyMTM2Miw2LjY5NzkzNDI1IEw1LjIzODIxMzYyLDYuNjk3OTM0MjUgTDMuOTYsOC4wMTEwMzQ4NCBMNS42OTg2MzUxOSw3LjI5Mjc3MTYgQzUuODUzOTQyMTUsNy4yMjg1OTcgNi4wMjE5MTcyMSw3LjE2MDMwMDU2IDYuMTc2MjE3Niw3LjA5ODYyMTk1IEM1Ljg0NjQxNzM5LDguMTE0NzIxNzcgNS40NzY5NTU3Myw5LjM0NzkxNjEgNS40NzY5NTU3Myw5Ljg5MDAyODM2IEM1LjQ3Njk1NTczLDEwLjE3MzQ1IDUuNTk1NDI0NTUsMTAuMzUxNDEgNS42OTQ3MzE2NCwxMC40NTA3MDAzIEM1Ljg0NDYzNzQ4LDEwLjYwMDcwMDYgNi4wNDkxODA2MywxMC42OCA2LjI4NjM1MTUsMTAuNjggQzYuNTAyNDcwMjUsMTAuNjggNi43NDgyOTUxOSwxMC42MDUwMDU2IDcuMDM3OTE4MzYsMTAuNDUwNjMxNiBDNy4yOTI4NzYxMywxMC4zMTQ3NDg2IDcuNjY4NTEyMjYsMTAuMDI3NzA4OSA4LjE4NjE4NTc3LDkuNTczMDgyNTEgTDguMTg2MTg1NzcsOS41NzMwODI1MSBMMTAuMDQsNy45NDUxODg2IEw3LjczODY2NTU0LDguOTYxMTk2ODMgQzcuNTUzNTY2NDUsOS4wNDI5MTIxMSA3LjM0Njc2NDY0LDkuMTMxMzI1MzYgNy4xNjkxNTM0OSw5LjIwNDQ1MzUgQzcuMjM3MTQ2MzEsOC45MTQzNjgyNSA3LjM3NjI0OTksOC40MDk1NTg1NiA3LjY1NjI4NjA3LDcuNTMyMzMwMDYgQzguMDA5MjAwNjUsNi40MzA0ODQ3MiA4LjAyMDI4NTI0LDYuMjgzMDcyMDUgOC4wMjA2MTY2Nyw2LjIwMjYwNDc2IEM4LjAyNzU3Njc2LDYuMDE3Mzk3MiA3Ljk3Mjk1MTcyLDUuODY1MDcyNjggNy44NTgxMTYzOSw1Ljc0OTU0Njk0IEM3LjY4MTU2MDksNS41NzE5NDE4NSA3LjQ0NjEzMzEyLDUuNTY1MjMyNDQgNy4zMTk2MzYyNiw1LjU2MTYxNDM4IEM3LjMwNzg4ODgxLDUuNTYxMzA1MjUgNy4yOTY0ODUwNiw1LjU2MDk4NDY2IDcuMjg1NDk4NjgsNS41NjA0NDY1MyBMNy4yODU0OTg2OCw1LjU2MDQ0NjUzIEw3LjI3NTM4Mzg0LDUuNTYgWiBNNy44OTA5NzEzNSwzLjMyIEM3LjYwMjUyNzY0LDMuMzIgNy4zNDIzNTIyMSwzLjQzMTEzNTUzIDcuMTM4NzAxMzksMy42NDEzMzg5NiBDNi45NDMyOTI1LDMuODQyODYyNzUgNi44NCw0LjA5OTE0OTgxIDYuODQsNC4zODI0Mjc1NyBDNi44NCw0LjYyMjEwMzIyIDYuOTIzOTEwMjQsNC44MzIzNTE5NyA3LjA4MjUxMDc1LDQuOTkwMzY0MyBDNy4yNDYxNDQ2OCw1LjE1MzY5MDk0IDcuNDYwNDcwNjUsNS4yNCA3LjcwMjMyNTM4LDUuMjQgQzcuODk3ODc3NCw1LjI0IDguMTg2Nzg2MjksNS4xODE3OTIwOSA4LjQ1MjcyMjcxLDQuOTA0MzE1ODcgQzguNjU2NjEyMDgsNC42OTE1NTE2IDguNzYsNC40NDA1Nzg4MyA4Ljc2LDQuMTU4MzY2MiBDOC43NiwzLjkyNTYzNjUyIDguNjc1MDYzOTksMy43MTk4NjM1NSA4LjUxNDA0MjE5LDMuNTYyOTUwMzQgQzguMzUwNTAzNjksMy40MDQwMDg4NSA4LjEzNTA2ODQ2LDMuMzIgNy44OTA5NzEzNSwzLjMyIFoiIGlkPSLlvaLnirbnu5PlkIgiPjwvcGF0aD4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},720:function(l,c){l.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDx0aXRsZT5pY29uL2Jhc2UvdHJhc2gyPC90aXRsZT4NCiAgICA8ZyBpZD0iaWNvbi9iYXNlL3RyYXNoMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSLlvaLnirbnu5PlkIgtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMy4wMDAwMDAsIDEuMDAwMDAwKSIgZmlsbD0iI0ZGNUU2NyIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxwYXRoIGQ9Ik04Ljk1ODQzODUzLDQuMzc0OTY0NDkgQzkuNDE2NDkyMzQsNC4zNzQ5NjQ0OSA5Ljc1NzkyODc4LDQuNzY3MTk3MDMgOS43MTY0NTE0Nyw1LjI0NjUzNjI1IEw5LjcxNjQ1MTQ3LDUuMjQ2NTM2MjUgTDkuMDMzNjk4ODEsMTMuMTI4NDI4MiBDOC45OTI1ODIxNywxMy42MDc3Njc1IDguNTgzMjE5MTIsMTQgOC4xMjUwNDUwOCwxNCBMOC4xMjUwNDUwOCwxNCBMMS44NzUwNzUxNCwxNCBDMS40MTY5MDExLDE0IDEuMDA3NTM4MDUsMTMuNjA3ODkzNyAwLjk2NjQyMTQxLDEzLjEyODQyODIgTDAuOTY2NDIxNDEsMTMuMTI4NDI4MiBMMC4yODM2Njg3NTksNS4yNDY1MzYyNSBDMC4yNDIxOTE0NDUsNC43NjcxOTcwMyAwLjU4MzUwNzY1OCw0LjM3NDk2NDQ5IDEuMDQxNjgxNjksNC4zNzQ5NjQ0OSBMMS4wNDE2ODE2OSw0LjM3NDk2NDQ5IFogTTguMzMzMzkzNDUsNi4xMjUwNTEyOSBMNi42NjY3MjY3OCw2LjEyNTA1MTI5IEw2LjY2NjcyNjc4LDEyLjI1MDAzOTUgTDcuOTE2Njk2NzIsMTIuMjUwMDM5NSBMOC4zMzMzOTM0NSw2LjEyNTA1MTI5IFogTTUuODMzMzMzMzMsNi4xMjUwNTEyOSBMNC4xNjY3ODY4OSw2LjEyNTA1MTI5IEw0LjE2Njc4Njg5LDEyLjI1MDAzOTUgTDUuODMzMzMzMzMsMTIuMjUwMDM5NSBMNS44MzMzMzMzMyw2LjEyNTA1MTI5IFogTTMuMzMzMzkzNDUsNi4xMjUwNTEyOSBMMS42NjY3MjY3OCw2LjEyNTA1MTI5IEwyLjA4MzMwMzI4LDEyLjI1MDAzOTUgTDMuMzMzMzkzNDUsMTIuMjUwMDM5NSBMMy4zMzMzOTM0NSw2LjEyNTA1MTI5IFogTTYuNjY2NjY2NjcsMS40MjEwODU0N2UtMTQgQzcuMDEwNTA3NTksMS40MjEwODU0N2UtMTQgNy4zMzA0MjM5MSwwLjI5MjI0OTIxOSA3LjM3ODAzMjY1LDAuNjQ5NzY1MzI2IEw3LjM3ODAzMjY1LDAuNjQ5NzY1MzI2IEw3LjUyNDQ2NTYsMS43NDk5NjA1NSBMOC43NTAwMzAwNiwxLjc0OTk2MDU1IEM5LjQ0MDQ3NzA1LDEuNzQ5OTYwNTUgMTAsMi4zMzc0ODg3OCAxMCwzLjA2MjQ5NDA4IEwxMCwzLjA2MjQ5NDA4IEwxMCwzLjUwMDA0NzM0IEwwLDMuNTAwMDQ3MzQgTDAsMy4wNjI0OTQwOCBDMCwyLjMzNzQ4ODc4IDAuNTU5NTIyOTUxLDEuNzQ5OTYwNTUgMS4yNDk5Njk5NCwxLjc0OTk2MDU1IEwxLjI0OTk2OTk0LDEuNzQ5OTYwNTUgTDIuNDc1MjkzOTUsMS43NDk5NjA1NSBMMi42MjE3MjY5LDAuNjUwMjcwMjkyIEMyLjY2OTY5NjMxLDAuMjkyMjQ5MjE5IDIuOTg5NjEyNjQsMS40MjEwODU0N2UtMTQgMy4zMzMzMzMzMywxLjQyMTA4NTQ3ZS0xNCBMMy4zMzMzMzMzMywxLjQyMTA4NTQ3ZS0xNCBaIE02LjU2NjY0MDIyLDAuODc0OTgwMjc1IEwzLjQzMzQ4MDAxLDAuODc0OTgwMjc1IEwzLjMxNjk4Mjg2LDEuNzQ5OTYwNTUgTDYuNjgzMTM3MzcsMS43NDk5NjA1NSBMNi41NjY2NDAyMiwwLjg3NDk4MDI3NSBaIiBpZD0i5b2i54q257uT5ZCIIj48L3BhdGg+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},759:function(l,c,s){"use strict";s.r(c);var p=s(0),r=s.n(p),x=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow,expression:"shouldShow"}],staticClass:"sh-spatial-analysis3d"},[e("general-bar",{attrs:{mode:t.mode,"drag-enable":t.dragEnable,"is-show":t.visible,position:t.position,options:t.toolOptions,theme:t.theme,"theme-style":t.barThemeStyle},on:{"update:isShow":function(o){t.visible=o},"update:is-show":function(o){t.visible=o},select:t.select,"change:isShow":t.onChangeIsShow}}),e("div",{attrs:{id:"charts_sa"}},[e("div",{attrs:{id:"echartsView_sa"}}),e("div",{staticClass:"echartsView-closeBotton",on:{click:t.closeEchartsView}})]),e("general-container",{ref:"container",attrs:{"is-show":!!t.openDialog,"style-config":t.panelStyleConfig,title:t.title,position:t.panelPosition,"img-src":t.imgSrc,theme:t.theme},on:{"change:isShow":t.changeCard}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.openDialog,expression:"openDialog"}],staticClass:"spatialAnaContainer"},[e("div",[e("page-form",{attrs:{"ref-obj":t.formInfo.ref,data:t.formInfo.data,"field-list":t.formInfo.fieldList,rules:t.formInfo.rules,"label-width":t.formInfo.labelWidth},on:{"update:refObj":function(o){return t.$set(t.formInfo,"ref",o)},"update:ref-obj":function(o){return t.$set(t.formInfo,"ref",o)},handleEvent:t.handleEvent}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.formInfo.data.jieqiTableShow,expression:"formInfo.data.jieqiTableShow"}],attrs:{id:"jieqiTable"}},t._l(t.jieqiQueue,function(o,y){return e("label",{key:y,staticClass:"jieqiLabel",on:{click:function(f){return t.handleEvent("jieqi",f)}}},[t._v(t._s(o))])}),0)])],1)},O=[];x._withStripped=!0;var C=s(17),k=s.n(C),B=s(18),P=s.n(B),V=s(8),D=s.n(V),R=s(19),X=s.n(R),b=s(20),g=s.n(b),Y=s(39),F=s.n(Y),Oe=s(40),ke=s.n(Oe),Pe=s(41),Ue=s.n(Pe),Be=s(25),Re=s.n(Be),Ye=s(9),Qe=s.n(Ye),He=s(10),Fe=s.n(He),$e=s(24),Pt=s.n($e),We=s(38),nt=s.n(We),Ve=s(22),Ut=s.n(Ve),Ze=s(11),Bt=s.n(Ze),Ge=s(21),Rt=s.n(Ge),Je=s(13),Xe=s.n(Je),Ke=s(6),qe=s.n(Ke),_e=s(103),ta=s.n(_e),ea=s(7),aa=s.n(ea),Yt=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-form",{ref:"form",staticClass:"page-form sh-page-formsa",class:t.className,attrs:{model:t.data,rules:t.rules,"label-width":t.labelWidth}},t._l(t.getConfigList(),function(o,y){return e("div",{key:y},[o.title?e("div",{staticClass:"Collapse",on:{click:function(f){f.preventDefault(),o.title.showList=!o.title.showList}}},[t.showdel?e("i",{class:o.title.showList?"el-icon-caret-bottom":"el-icon-caret-right"}):e("i",{class:o.title.showList?"el-icon-arrow-down":"el-icon-arrow-right"}),t._v(`
      `+t._s(o.title.name)+`
      `),o.title.addTemp?e("div",{staticClass:"TEM",on:{click:function(f){return f.stopPropagation(),t.handleClick("addtemplate",o)}}},[e("i",{staticClass:"el-icon-plus"})]):t._e(),t.showdel?e("div",{on:{click:function(f){return f.stopPropagation(),t.handleClick("deltem",y)}}},[e("div",{staticStyle:{width:"16px",height:"16px","line-height":"14px",background:"#ff5e67","border-radius":"50%",color:"#fff",position:"absolute",right:"10px",top:"5px","text-align":"center"}},[t._v(`
          -
        `)])]):t._e()]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:o.title.showList,expression:"ConfigList.title.showList"}]},[o.title.addTemp?[t._t("form-"+o.slotprop)]:t._e(),t._l(o.formList,function(f,M){return e("el-row",{key:M},t._l(f,function(a,I){return e("el-col",{key:I,attrs:{span:a.span||24/f.length}},[a.hidden?t._e():e("el-form-item",{class:a.className,attrs:{prop:a.value,label:a.label,"label-width":a.labelWidth}},[a.type==="slot"?[t._t("form-"+a.value)]:t._e(),a.type==="input"||a.type==="password"?e("el-input",{attrs:{type:a.type,disabled:a.disabled||!0,placeholder:t.getPlaceholder(a),clearable:""},on:{input:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}):t._e(),a.type==="input_2"||a.type==="password"?e("el-input",{attrs:{type:a.type,disabled:a.disabled,placeholder:t.getPlaceholder(a),clearable:""},on:{input:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}):t._e(),a.type==="textarea"?e("el-input",{attrs:{type:a.type,disabled:a.disabled,placeholder:t.getPlaceholder(a),autosize:a.autosize||{minRows:2,maxRows:10}},on:{input:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,typeof n=="string"?n.trim():n)},expression:"data[item.value]"}}):t._e(),a.type==="inputNumber"?e("el-input-number",{attrs:{"controls-position":"right",min:a.min,max:a.max,step:a.step,"step-strictly":a.stepStrictly},on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}):t._e(),a.type==="inputNumber2"?e("div",{staticStyle:{height:"33px"}},[a.type==="inputNumber2"?e("el-input-number",{attrs:{"controls-position":"right",min:a.min,max:a.max,precision:3},on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}):t._e(),e("template",{staticClass:"unit_Meters",slot:"suffix"},[t._v(" \u7C73 ")])],2):t._e(),a.type==="select"?e("el-select",{attrs:{disabled:a.disabled,clearable:a.clearable,filterable:a.filterable,multiple:a.multiple,"collapse-tags":a.collapse_tags,placeholder:t.getPlaceholder(a)},on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}},t._l(a.list,function(n,m){return e("el-option",{key:m,attrs:{label:n.key,value:n.value}})}),1):t._e(),a.type==="select_custom"?e("el-select",{attrs:{disabled:a.disabled,clearable:a.clearable,filterable:a.filterable,multiple:a.multiple,"collapse-tags":a.collapse_tags,placeholder:t.getPlaceholder(a)},on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}},t._l(a.list,function(n,m){return e("el-option",{key:m,staticStyle:{padding:"0 20px 2 10px"},attrs:{value:n.value}},[e("span",{staticStyle:{float:"left",transform:"translateX(-10px)"},attrs:{label:n.key,value:n.value}},[t._v(t._s(n.key))]),e("span",{staticClass:"aspect_span",staticStyle:{float:"right"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data[n.value],expression:"data[childItem.value]"}],staticStyle:{"margin-top":"3px",padding:"0"},attrs:{type:"color"},domProps:{value:t.data[n.value]},on:{click:function(N){return N.stopPropagation(),function(){}.apply(null,arguments)},input:[function(N){N.target.composing||t.$set(t.data,n.value,N.target.value)},function(N){return N.stopPropagation(),t.handleEvent("aspect_color_single",{aspect:n.value,color:t.data[n.value]})}]}})])])}),1):t._e(),a.type==="select_terrain"?e("div",[e("span",[e("el-select",{attrs:{disabled:a.disabled,clearable:a.clearable,filterable:a.filterable,multiple:a.multiple,"collapse-tags":a.collapse_tags,placeholder:t.getPlaceholder(a)},on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}},t._l(a.list,function(n,m){return e("el-option",{key:m,attrs:{label:n.key,value:n.value}})}),1)],1),e("span",[t.data[a.value]=="polygon"?e("div",{staticStyle:{"padding-left":"10px",display:"block",top:"-45px",right:"-94px",position:"relative",width:"0%"}},[e("el-button",{staticClass:"terrain_add",attrs:{size:"mini"},on:{click:function(n){return t.handleEvent("addPolygon","click","btnRowbtnRow")}}},[t._v("+")])],1):t._e()])]):t._e(),a.type==="ColorPicker2"?e("div",{staticClass:"divContent"},[a.noInput?t._e():e("el-input",{staticClass:"colorInput",attrs:{placeholder:""},on:{input:function(n){return t.handleEvent_color(a.value,t.data[a.value])}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}),e("el-color-picker",{on:{"active-change":function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}})],1):t._e(),a.type==="ColorPicker"?e("div",{staticClass:"divContent"},[a.noInput?t._e():e("el-input",{staticClass:"colorInput",staticStyle:{"z-index":"10"},attrs:{placeholder:""},on:{input:function(n){return t.handleEvent_color(a.value,t.data[a.value])}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data[a.value],expression:"data[item.value]"}],staticStyle:{"margin-top":"3px",padding:"0","z-index":"10"},attrs:{type:"color"},domProps:{value:t.data[a.value]},on:{input:[function(n){n.target.composing||t.$set(t.data,a.value,n.target.value)},function(n){return t.handleEvent(a.value,t.data[a.value])}]}})],1):t._e(),a.type==="switch"?e("el-switch",{on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}):t._e(),a.type==="time"?e("el-date-picker",{attrs:{type:"datetime"},on:{change:function(n){return t.handleEvent(a.value,n)},focus:function(n){return t.handleEvent(a.value,"focus")}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}):t._e(),a.type==="play"?e("div",[e("button",{staticClass:"btn btn1",attrs:{id:"playBtn",type:"button"},on:{click:function(n){return t.handleEvent("start","start")}}}),e("button",{staticClass:"btn btn2",attrs:{type:"button"},on:{click:function(n){return t.handleEvent("stop","stop")}}})]):t._e(),a.type==="btnRow"?e("div",{staticStyle:{"padding-left":"10px",height:"100%"}},t._l(a.list,function(n,m){return e("span",{key:m,staticClass:"btnSpan"},[e("el-button",{class:{btnRow:!0,selected:t.data[n.value]},attrs:{size:"mini"},on:{click:function(N){return t.handleEvent(n.value,"click","btnRowbtnRow")}}},[t._v(t._s(n.name))])],1)}),0):t._e(),a.type==="solarTermBtn"?e("div",[e("button",{staticClass:"btn_solarTerm",attrs:{type:"button"},on:{click:function(n){return t.handleEvent("solarTermBtn","solarTermBtn")}}},[e("span",[t._v("\u8282\u6C14")]),t._v("\xA0\xA0"),e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.data[a.value]))])])]):t._e(),a.type==="slider"?e("div",{staticStyle:{display:"flex"}},[e("el-slider",{staticStyle:{width:"60%","margin-right":"10px"},attrs:{min:a.min,max:a.max,step:a.step},on:{input:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}),e("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:""},on:{input:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}},[e("template",{slot:"suffix"},[t._v(`
                  `+t._s(a.suffix===void 0?"%":a.suffix)+`
                `)])],2)],1):t._e(),a.type==="slider&inputNumber"?e("div",{staticStyle:{display:"flex",height:"100%"}},[e("el-slider",{staticStyle:{width:"60%","margin-right":"10px"},attrs:{min:a.min,max:a.max,step:a.step},on:{input:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}}),e("el-input-number",{staticClass:"nopadding position_modify",staticStyle:{width:"30%"},attrs:{"controls-position":"right",min:a.min,max:a.max,step:a.step},on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}})],1):t._e(),a.type==="colorRamp"?e("div",{staticStyle:{height:"100%"}},[e("canvas",{staticStyle:{display:"block",position:"absolute",top:"4px"},attrs:{id:"colorRamp",width:"120px",height:"24px"}})]):t._e(),a.type==="clipDisplay"?e("div",{staticClass:"clipContainer"},[e("div",{staticClass:"layui-layer-tips",staticStyle:{"z-index":"19891019",position:"absolute",left:"66.3375px",top:"148px",color:"#d0d0d0"},attrs:{id:"layui-layer5",type:"tips",hidden:"true"}},[e("div",{staticClass:"layui-layer-content",staticStyle:{"background-color":"rgb(18, 18, 18)"},attrs:{id:""}},[e("span",[t._v("\u76F8\u673A")]),e("span",{staticClass:"clip-info-close",on:{click:t.closeInfo}}),e("hr",{staticStyle:{margin:"1px"}}),e("div",{staticStyle:{color:"#d0d0d0"}},[e("span",[t._v("\u7ECF\u5EA6\uFF1A"+t._s(a.info.longitude)+"\xB0")]),e("br"),e("span",[t._v("\u7EAC\u5EA6\uFF1A"+t._s(a.info.latitude)+"\xB0")]),e("br"),e("span",[t._v("\u89C6\u9AD8\uFF1A"+t._s(a.info.height)+"\u7C73")]),e("br"),e("span",[t._v("\u65B9\u5411\uFF1A"+t._s(a.info.direction)+"\xB0")]),e("br"),e("span",[t._v("\u4FEF\u4EF0\u89D2\uFF1A"+t._s(a.info.pitch)+"\xB0")])]),e("i",{staticClass:"layui-layer-TipsG layui-layer-TipsB",staticStyle:{"border-right-color":"rgb(18, 18, 18)"}})])]),t._l(a.list,function(n,m){return e("div",{key:m,staticClass:"listRow",attrs:{title:m},on:{click:function(N){return t.handleEvent("openEcharts",m)}}},[e("span",{staticClass:"name"},[t._v(t._s(m+1)+"-\u7ED3\u679C "+t._s(n.distancestr))]),e("img",{staticClass:"info",attrs:{src:s(719)},on:{click:function(N){return N.stopPropagation(),t.handleEvent("openInfo",m)}}}),e("img",{staticClass:"delete",attrs:{src:s(720)},on:{click:function(N){return N.stopPropagation(),t.handleEvent("deleteMea",m)}}})])})],2):t._e(),a.type==="checkBoxGroup"?e("el-checkbox-group",{model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}},t._l(a.list,function(n){return e("el-checkbox",{key:n.key,on:{change:function(m){return t.handleEvent(n.key,m)}}})}),1):t._e(),a.type=="radioGroup"?e("el-radio-group",{on:{change:function(n){return t.handleEvent(a.value,n)}},model:{value:t.data[a.value],callback:function(n){t.$set(t.data,a.value,n)},expression:"data[item.value]"}},t._l(a.list,function(n,m){return e("el-radio",{key:m,attrs:{label:n.key}},[t._v(t._s(n.key))])}),1):t._e()],2)],1)}),1)})],2)])}),0)},ia=[];Yt._withStripped=!0;var S=s(79),na=S.Utils.getColor("fromCssColorString"),oa={name:"PageForm",props:{className:{type:String},showdel:{type:Boolean,default:!1},data:{type:Object},fieldList:{type:Array},rules:{type:Object},listTypeInfo:{type:Object},labelWidth:{type:String,default:"120px"},refObj:{type:Object}},data:function(){return{activeNames:["1"]}},watch:{data:{handler:function(){this.$emit("update:refObj",this.$refs.form)},deep:!0}},mounted:function(){this.$emit("update:refObj",this.$refs.form)},methods:{handleChange:function(){},getConfigList:function(){var i,e=this;return D()(i=this.fieldList).call(i,function(o){return r()(this,e),!o.hasOwnProperty("show")||o.hasOwnProperty("show")&&o.show}.bind(this))},getPlaceholder:function(i){var e;return i.type==="input"||i.type==="textarea"?e=""+i.label:i.type==="select"||i.type==="time"||i.type==="date"?e="\u8BF7\u9009\u62E9"+i.label:e=i.label,e},handleEvent:function(i,e){this.$emit("handleEvent",i,e)},handleEvent_color:function(i,e){var o=na(e);o&&(this.data[i]=o.toCssHexString(),this.handleEvent(i,this.data[i]))},handleClick:function(i,e){this.$emit("handleClick",i,e)},closeInfo:function(){document.getElementById("layui-layer5").hidden=!0}}},sa=oa,Qt=s(2),la=Object(Qt.a)(sa,Yt,ia,!1,null,null,null),ra=la.exports,Ht=s(125),da=s(101),ua=s.n(da),Ft=s(109),mt=["\u5C0F\u5BD2","\u5927\u5BD2","\u7ACB\u6625","\u96E8\u6C34","\u60CA\u86F0","\u6625\u5206","\u6E05\u660E","\u8C37\u96E8","\u7ACB\u590F","\u5C0F\u6EE1","\u8292\u79CD","\u590F\u81F3","\u5C0F\u6691","\u5927\u6691","\u7ACB\u79CB","\u5904\u6691","\u767D\u9732","\u79CB\u5206","\u5BD2\u9732","\u971C\u964D","\u7ACB\u51AC","\u5C0F\u96EA","\u5927\u96EA","\u51AC\u81F3"];function ca(t,i,e){i-=1;var o=[0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],y=new Date(315569259747e-1*(t-1900)+o[i*2+1]*6e4+Date.UTC(1900,0,6,2,5)),f=y.getUTCDate(),M="";return f===e&&(M=mt[i*2+1]),y=new Date(315569259747e-1*(t-1900)+o[i*2]*6e4+Date.UTC(1900,0,6,2,5)),f=y.getUTCDate(),f===e&&(M=mt[i*2]),M}function fa(t,i){i=typeof i=="number"&&i>0&&i<25?mt[i-1]:i;for(var e=1;e<13;e++)for(var o=1;o<32;o++)if(ca(t,e,o)===i)return{year:t,month:e,day:o,jieqi:i}}var ha=s(30),pa=s.n(ha),$t=s(4),va=s(102),ga=s.n(va),ma=s(50),ya=s.n(ma),wa=s(5),Ma=s.n(wa),Ia=[{key:"visible",img:"visible-analysis",name:"\u901A\u89C6\u5206\u6790"},{key:"viewShed",img:"viewShed-analysis",name:"\u89C6\u57DF\u5206\u6790"},{key:"sun",img:"sun-analysis",name:"\u65E5\u7167\u5206\u6790"},{key:"clip",img:"clip-analysis",name:"\u5256\u9762\u5206\u6790"},{key:"flood",img:"flood-analysis",name:"\u6DF9\u6CA1\u5206\u6790"},{key:"terrain",img:"terrain-analysis",name:"\u5730\u5F62\u5206\u6790"},{key:"skyLine",img:"skyLine",name:"\u5929\u9645\u7EBF"},{key:"controlHeight",img:"control-height-analysis",name:"\u63A7\u9AD8\u5206\u6790"}],Z={viewShed:[{title:{name:"\u89C2\u5BDF\u70B9",showList:!0},formList:[[{label:"\u7ECF\u7EAC\u5EA6(\xB0)",value:"lonAndLat",type:"input"}],[{label:"\u9AD8\u5EA6(m)",value:"height",type:"input"}]]},{title:{name:"\u53C2\u6570\u8BBE\u7F6E",showList:!0},formList:[[{label:"\u9644\u52A0\u9AD8\u5EA6(m)",value:"additionalHeight",type:"inputNumber",span:12,min:-1e3,max:1e3,className:"nopadding terrainRow"},{label:"\u65B9\u5411\u89D2(\xB0)",value:"direction",type:"inputNumber",span:12,className:"nopadding terrainRow"}],[{label:"\u53EF\u89C6\u8DDD\u79BB(m)",value:"visualRange",type:"inputNumber",span:12,className:"nopadding terrainRow"},{label:"\u4FEF\u4EF0\u89D2(\xB0)",value:"pitch",type:"inputNumber",span:12,min:-90,max:90,className:"nopadding terrainRow"}],[{label:"\u6C34\u5E73\u5F20\u89D2(\xB0)",value:"horizontalViewAngle",type:"inputNumber",span:12,min:0,max:179.9,stepStrictly:!0,className:"nopadding terrainRow"},{label:"\u7AD6\u76F4\u5F20\u89D2(\xB0)",value:"verticalViewAngle",type:"inputNumber",span:12,min:0,max:179.9,className:"nopadding terrainRow"}]]},{title:{name:"\u989C\u8272\u8BBE\u7F6E",showList:!0},formList:[[{label:"\u63D0\u793A\u7EBF\u989C\u8272",value:"cueLineColor",type:"ColorPicker"}],[{label:"\u53EF\u89C1\u533A\u57DF",value:"visibleAreaColor",type:"ColorPicker",className:"nopadding",span:19},{label:"",value:"visibleArea",type:"switch",labelWidth:"0",span:5}],[{label:"\u4E0D\u53EF\u89C1\u533A\u57DF",value:"invisibleAreaColor",type:"ColorPicker",className:"nopadding",span:19},{label:"",value:"invisibleArea",type:"switch",labelWidth:"0",span:5}]]},{title:{name:"\u64CD\u4F5C",showList:!0},formList:[[{label:"",value:"btnRow",type:"btnRow",span:24,className:"nopadding",list:[{name:"\u7ED8\u5236",value:"execute"},{name:"\u6E05\u9664",value:"clear"}]}]]}],controlHeight:[{title:{name:"\u9AD8\u5EA6",showList:!0},formList:[[{label:"\u76F8\u5BF9\u9AD8\u5EA6(m)",value:"relativeHeight",type:"inputNumber",span:24}],[{label:"\u63A7\u9AD8\u6D77\u62D4",value:"altitude",type:"input"}],[{label:"\u5730\u576A\u9AD8\u5EA6",value:"groundHeight",type:"input"}]]},{title:{name:"\u64CD\u4F5C",showList:!0},formList:[[{label:"\u663E\u793A\u8D85\u9AD8",value:"showWarning",type:"switch",span:24}],[{label:"",value:"btnRow",type:"btnRow",span:24,className:"nopadding",list:[{name:"\u7ED8\u5236",value:"execute"},{name:"\u6E05\u9664",value:"clear"}]}]]}],sun:[{title:{name:"\u65F6\u95F4\u8BBE\u5B9A",showList:!0},formList:[[{label:"\u5F00\u59CB\u65F6\u95F4",value:"startTime",type:"time",span:24,className:"nopadding"},{label:"\u7ED3\u675F\u65F6\u95F4",value:"endTime",type:"time",span:24,className:"nopadding"}],[{label:"\u8282\u6C14\u5E74\u4EFD",value:"solarTermYear",type:"inputNumber",min:1,max:9999,step:1,stepStrictly:!0,className:"nopadding nopadding_jieqi"},{label:"",value:"solarTermName",type:"solarTermBtn",className:"solarTermBtn"}]]},{title:{name:"\u63A7\u5236",showList:!0},formList:[[{label:"\u64AD\u653E",value:"play",type:"play"}],[{label:"\u5F53\u524D\u65F6\u95F4",value:"currentTime",type:"time"}],[{label:"\u5F53\u524D\u901F\u7387",value:"currentRate",type:"select",list:[{key:"1\u7EA7",value:"300"},{key:"2\u7EA7",value:"600"},{key:"3\u7EA7",value:"900"},{key:"4\u7EA7",value:"1200"},{key:"5\u7EA7",value:"2400"}]}],[{label:"\u9634\u5F71\u6A21\u5F0F",value:"ShadowMode",type:"switch"},{label:"\u5730\u5F62\u9634\u5F71",value:"TerrainShade",type:"switch"}]]},{title:{name:"\u9634\u5F71\u7387",showList:!0},formList:[[{label:"",value:"btnRow",type:"btnRow",span:24,className:"nopadding",list:[{name:"\u7ED8\u5236",value:"shadowRatio"},{name:"\u6E05\u9664",value:"shadowRatio_clear"}]}]]},{title:{name:"\u5355\u70B9\u9634\u5F71\u7387",showList:!1},formList:[[{label:"\u65E5\u7167\u7387",value:"sunshineRatio",type:"input"}],[{label:"\u7ECF\u7EAC\u5EA6",value:"position_sr",type:"input"}],[{label:"\u6D77\u62D4",value:"height_sr",type:"input"}],[{label:"\u65E5\u7167\u65F6\u6BB5",value:"sunshinePeriod",className:"heightAuto1",type:"textarea"}]]}],visible:[{title:{name:"\u53C2\u6570",showList:!0},formList:[[{label:"\u89C2\u5BDF\u70B9\u6D77\u62D4",value:"obAltitude",type:"input",span:24}],[{label:"\u89C6\u70B9\u76F8\u5BF9\u9AD8",value:"obHeight",type:"inputNumber",span:24}]]},{title:{name:"\u64CD\u4F5C",showList:!0},formList:[[{value:"btnRow",type:"btnRow",span:24,labelWidth:"20px",className:"nopadding",list:[{name:"\u7ED8\u5236",value:"execute"},{name:"\u589E\u52A0\u89C2\u5BDF\u70B9",value:"addOBpoint"},{name:"\u6E05\u9664",value:"clear"}]}]]}],clip:[{title:{name:"\u64CD\u4F5C",showList:!0},formList:[[{label:"",value:"btnRow",type:"btnRow",span:24,className:"nopadding",list:[{name:"\u7ED8\u5236",value:"execute"},{name:"\u6E05\u9664",value:"clear"}]}],[{label:"",value:"clipRecords",type:"clipDisplay",className:"heightAuto",list:[],info:{longitude:120,latitude:30,height:551231231236,direction:56,pitch:-56}}]]}],flood:[{title:{name:"\u53C2\u6570",showList:!0},formList:[[{label:"\u989C\u8272",value:"floodColor",type:"ColorPicker"}],[{label:"\u900F\u660E\u5EA6",value:"opacity_flo",type:"slider",span:24,min:0,max:1,step:.1,suffix:"",hidden:!1}],[{label:"\u6C34\u9762\u6D77\u62D4",value:"floodAltitude",span:18,type:"inputNumber2"}]]},{title:{name:"\u64CD\u4F5C",showList:!0},formList:[[{value:"btnRow",type:"btnRow",span:24,className:"nopadding",list:[{name:"\u7ED8\u5236",value:"execute"},{name:"\u6E05\u9664",value:"floClear"}]}],[{labelWidth:"10px",value:"waterDepth",type:"btnRow",span:4,className:"nopadding",list:[{name:"\u62FE\u53D6\u6DF1\u5EA6",value:"waterDepth"}]},{label:"",labelWidth:"40px",value:"pick_method",type:"select",span:16,list:[{key:"\u5730\u9762\u6C34\u6DF1",value:"ground"},{key:"\u6A21\u578B\u6C34\u6DF1",value:"model"},{key:"\u540E\u7AEF\u67E5\u8BE2\u6DF1\u5EA6",value:"serve"}]}]]}],terrain:[{title:{name:"\u53C2\u6570",showList:!0},formList:[[{label:"\u7B49\u9AD8\u7EBF",value:"terrain",type:"switch",span:24}],[{label:"\u95F4\u8DDD",value:"spacing_ter",type:"slider&inputNumber",span:24,min:0,max:300}],[{label:"\u7EBF\u5BBD",value:"width_ter",type:"slider&inputNumber",span:24,min:0,max:10}],[{label:"\u66F4\u6539\u989C\u8272",value:"contourColor",type:"ColorPicker",className:"nopadding changeColor",span:17},{label:"",value:"btnRow",type:"btnRow",span:7,className:"terrainRow transfrom115",list:[{name:"\u968F\u673A\u989C\u8272",value:"changeColor_ter"}]}],[{label:"",labelWidth:"0px",value:"terrainSelect",className:"twoRow",type:"radioGroup",list:[{key:"\u5761\u5EA6",value:"slope"},{key:"\u5761\u5411",value:"aspect"},{key:"\u9AD8\u7A0B",value:"elevation"}]}],[{label:"\u5206\u6790\u6A21\u5F0F",value:"analysisMode",type:"select_terrain",list:[{key:"\u6307\u5B9A\u591A\u8FB9\u5F62\u533A\u57DF",value:"polygon"},{key:"\u5168\u90E8\u533A\u57DF\u53C2\u4E0E\u5206\u6790",value:"all_on"},{key:"\u5168\u90E8\u533A\u57DF\u4E0D\u53C2\u4E0E\u5206\u6790",value:"all_off"}],hidden:!1}]]}],skyLine:[{title:{name:"\u5F00\u5173",showList:!0},formList:[[{label:"\u5F00\u542F",value:"skyLine",type:"switch",span:24}]]}]};Z.getTerrainFieldListByType=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"elevation",i=ya()(this.terrain),e=i[0].formList,o=[];return t==="slope"?o=[[{label:"\u5761\u5EA6\u8D77\u70B9",value:"slopeS",type:"slider&inputNumber",span:18,min:0,max:89,hidden:!1,className:"only_nopadding slope_slider",suffix:"  "},{label:"",value:"colorS",type:"ColorPicker",labelWidth:"5px",hidden:!1,noInput:!0,span:6,className:"terrainRow"}],[{label:"\u5761\u5EA6\u7EC8\u70B9",value:"slopeE",type:"slider&inputNumber",hidden:!1,span:18,min:1,max:90,className:"only_nopadding slope_slider",suffix:"  "},{label:"",value:"colorE",className:"terrainRow",noInput:!0,hidden:!1,span:6,labelWidth:"5px",type:"ColorPicker"}],[{label:"\u989C\u8272\u6761\u5E26",value:"colorRamp",className:"nopadding",hidden:!1,type:"colorRamp"}],[{label:"\u900F\u660E\u8C03\u8282",value:"opacity_ter",type:"slider&inputNumber",span:24,min:0,max:1,step:.1,suffix:"",hidden:!1}]]:t==="elevation"?o=[[{label:"\u9AD8\u7A0B\u8D77\u70B9",value:"elevationS",type:"inputNumber",span:18,min:-414,max:8776,hidden:!1,className:"only_nopadding elevation_slider",suffix:"  "},{label:"",value:"colorS",type:"ColorPicker",labelWidth:"5px",hidden:!1,noInput:!0,span:6,className:"terrainRow"}],[{label:"\u9AD8\u7A0B\u7EC8\u70B9",value:"elevationE",type:"inputNumber",hidden:!1,span:18,min:0,max:8777,className:"only_nopadding elevation_slider",suffix:"  "},{label:"",value:"colorE",className:"terrainRow",noInput:!0,hidden:!1,span:6,labelWidth:"5px",type:"ColorPicker"}],[{label:"\u989C\u8272\u6761\u5E26",value:"colorRamp",className:"nopadding",hidden:!1,type:"colorRamp"}],[{label:"\u900F\u660E\u8C03\u8282",value:"opacity_ter",type:"slider&inputNumber",span:24,min:0,max:1,step:.1,suffix:"",hidden:!1}]]:t==="aspect"&&(o=[[{label:"\u5761\u5411",value:"aspect",type:"select_custom",className:"aspect",span:18,size:"mini",collapse_tags:!0,multiple:!0,hidden:!1,list:[{key:"\u5317",value:"\u5317"},{key:"\u897F\u5317",value:"\u897F\u5317"},{key:"\u897F",value:"\u897F"},{key:"\u897F\u5357",value:"\u897F\u5357"},{key:"\u5357",value:"\u5357"},{key:"\u4E1C\u5357",value:"\u4E1C\u5357"},{key:"\u4E1C",value:"\u4E1C"},{key:"\u4E1C\u5317",value:"\u4E1C\u5317"}]},{label:"",value:"aspect_color",type:"ColorPicker",labelWidth:"5px",hidden:!1,noInput:!0,span:6,className:"terrainRow"}],[{label:"\u900F\u660E\u8C03\u8282",value:"opacity_ter",type:"slider&inputNumber",span:24,min:0,max:1,step:.1,suffix:"",hidden:!1}]]),Ma()(e).call(e,o)};var ba=void 0;function Na(t,i){var e=typeof ke.a<"u"&&Ue()(t)||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=Da(t))||i&&t&&typeof t.length=="number"){e&&(t=e);var o=0,y=function(){};return{s:y,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(n){throw n},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,M=!1,a;return{s:function(){e=e.call(t)},n:function(){var n=e.next();return f=n.done,n},e:function(n){M=!0,a=n},f:function(){try{!f&&e.return!=null&&e.return()}finally{if(M)throw a}}}}function Da(t,i){var e;if(t){if(typeof t=="string")return Wt(t,i);var o=Bt()(e=Object.prototype.toString.call(t)).call(e,8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return F()(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Wt(t,i)}}function Wt(t,i){(i==null||i>t.length)&&(i=t.length);for(var e=0,o=new Array(i);e<i;e++)o[e]=t[e];return o}function Vt(t,i){var e=k()(t);if(P.a){var o=P()(t);i&&(o=D()(o).call(o,function(y){return X()(t,y).enumerable})),e.push.apply(e,o)}return e}function z(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?Vt(Object(e),!0).forEach(function(o){Re()(t,o,e[o])}):g.a?Object.defineProperties(t,g()(e)):Vt(Object(e)).forEach(function(o){Object.defineProperty(t,o,X()(e,o))})}return t}var u,T,v,U,L,ot,A,h,Q,Zt,j={},$=S.Utils.getColor("fromCssColorString"),rt={\u5761\u5EA6:"slope",\u5761\u5411:"aspect",\u9AD8\u7A0B:"elevation"},Ta=function(){function t(){var i=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;Qe()(this,t),this.step=e,this.timer=null,this.callback=function(){r()(this,i),w.warn("\u8BF7\u8BBE\u7F6E\u9632\u6296\u7684\u56DE\u8C03\u51FD\u6570")}.bind(this)}return Fe()(t,[{key:"active",value:function(e){var o=this;clearTimeout(this.timer),this.callback=e||this.callback,this.timer=setTimeout(function(){r()(this,o),this.callback()}.bind(this),this.step)}}]),t}(),yt=new Ta,La={name:"ShSpatialAnalysis3d",components:{PageForm:ra,GeneralContainer:pa.a,GeneralBar:ga.a},directives:{dialogDrag:ua.a},mixins:[qe.a,ta.a,aa.a],props:{panelCardProps:{type:Object,default:function(){r()(this,ba)}.bind(void 0)}},data:function(){return{defaultLayerName_vis:"tempVisibleALayer",defaultLayerName_sun:"tempSunALayer",defaultLayerName_vsa:"tempViewShedALayer",defaultLayerName_cha:"tempControlHeightALayer",defaultLayerName_cli:"tempClipALayer",defaultLayerName_flo:"tempFloodALayer",defaultLayerName_sky:"tempSkyLineALayer",defaultLayerName_ter:"tempTerrainALayer",defaultLayerName_sra:"tempShadowRatioALayer",title:"",imgSrc:"",toolOptions:Ia,jieqiQueue:["\u5C0F\u5BD2","\u5927\u5BD2","\u7ACB\u6625","\u96E8\u6C34","\u60CA\u86F0","\u6625\u5206","\u6E05\u660E","\u8C37\u96E8","\u7ACB\u590F","\u5C0F\u6EE1","\u8292\u79CD","\u590F\u81F3","\u5C0F\u6691","\u5927\u6691","\u7ACB\u79CB","\u5904\u6691","\u767D\u9732","\u79CB\u5206","\u5BD2\u9732","\u971C\u964D","\u7ACB\u51AC","\u5C0F\u96EA","\u5927\u96EA","\u51AC\u81F3"],openDialog:!1,currentVS:{},last_analysisMode:null,formInfo:{data:{lonAndLat:null,height:null,direction:null,visualRange:null,pitch:null,horizontalViewAngle:null,verticalViewAngle:null,cueLineColor:"#3388ff",visibleArea:!0,visibleAreaColor:"#008000",invisibleArea:!0,invisibleAreaColor:"#FF0000",additionalHeight:0,relativeHeight:0,altitude:null,groundHeight:null,showWarning:!0,timePass:!1,solarTermName:"",solarTermYear:2022,startTime:new Date(2022,7,9,9,0),endTime:new Date(2022,7,9,15,0),currentTime:new Date(2022,7,9,9,0),currentRate:"1\u7EA7",ShadowMode:null,TerrainShade:!1,jieqiTableShow:!1,obAltitude:null,obHeight:1.7,floodColor:"#6A7D7B",opacity_flo:.8,floodAltitude:null,waterDepth:!1,pick_method:"model",skyLine:!1,slopeS:0,slopeE:90,elevationS:0,elevationE:880,colorS:"#ff0000",colorE:"#0000ff",terrain:!1,spacing_ter:50,width_ter:2,contourColor:"#ff0000",terrainSelect:"\u9AD8\u7A0B",opacity_ter:.5,aspect:["\u5317","\u897F\u5317","\u897F","\u897F\u5357","\u5357","\u4E1C\u5357","\u4E1C","\u4E1C\u5317"],aspect_color:null,\u5317:"#34AF00",\u897F\u5317:"#AAFF14",\u897F:"#AEE900",\u897F\u5357:"#E9E932",\u5357:"#E9E990",\u4E1C\u5357:"#FFAA00",\u4E1C:"#FF780A",\u4E1C\u5317:"#FF320A",analysisMode:"all_on",position_sr:"",height_sr:null,sunshineRatio:null},fieldList:[],labelWidth:"80px"}}},computed:{shouldShow:function(){return this.currentView==="earth"},panelStyleConfig:function(){var i;return((i=this.panelCardProps)===null||i===void 0?void 0:i.styleConfig)||{size:{overflow:"visible"}}},panelPosition:function(){var i;return((i=this.panelCardProps)===null||i===void 0?void 0:i.position)||{type:"absolute",top:"100px",right:"135px"}}},watch:{currentInteraction:function(i){if(i!==this.$options.name&&u){var e;!((e=u.drawControl.drawCtrl.polyline.entity)===null||e===void 0)&&e.inProgress&&u.destroy(),u.drawControl.stopDraw(),T.drawControl.stopDraw(),L.drawControl.stopDraw(),A.drawControl.stopDraw(),h.drawControl.stopDraw(),Q.drawControl.stopDraw();var o=U.drawControl.draw();o.stopDraw(),A.pickWaterDepth(!1),u.pyramid&&(u.props.viewer.entities.removeById(u.pyramid.id),u.pyramid=null)}}},mounted:function(){var i=this;this.$earth&&setTimeout(function(){r()(this,i),this.begin()}.bind(this),0),document.getElementById("charts_sa").hidden=!0,window.addEventListener("resize",function(){r()(this,i),this.myChart&&this.myChart.resize()}.bind(this))},methods:{onChangeIsShow:function(i){this.$emit("change:isShow",i)},changeCard:function(i){i||this.closeOfClick()},begin:function(){var i;i=this.$earth.viewer,this.initSpatialAnalysis(i)},initSpatialAnalysis:function(i){var e=this,o={viewer:i};if(!j.visibleAnalysis){j.visibleAnalysis=new S.VisibleAnalysis(z(z({},o),{},{name:this.defaultLayerName_vis})),j.viewShedAnalysis=new S.ViewShedAnalysis(z(z({},o),{},{name:this.defaultLayerName_vsa})),j.controlHeightAnalysis=new S.ControlHeightAnalysis(z(z({},o),{},{name:this.defaultLayerName_cha})),j.sunAnalysis=new S.SunAnalysis(z(z({},o),{},{name:this.defaultLayerName_sun})),j.clipAnalysis=new S.ClipAnalysis(z(z({},o),{},{name:this.defaultLayerName_cli})),j.floodAnalysis=new S.FloodAnalysis(z(z({},o),{},{name:this.defaultLayerName_flo})),j.skyLineAnalysis=new S.SkyLineAnalysis(z(z({},o),{},{name:this.defaultLayerName_sky})),j.terrainAnalysis=new S.TerrainAnalysis(z(z({},o),{},{name:this.defaultLayerName_ter})),j.shadowRatioAnalysis=new S.ShadowRatioAnalysis(z(z({},o),{},{name:this.defaultLayerName_sra})),L=j.visibleAnalysis,v=j.sunAnalysis,u=j.viewShedAnalysis,T=j.controlHeightAnalysis,U=j.clipAnalysis,A=j.floodAnalysis,ot=j.skyLineAnalysis,h=j.terrainAnalysis,Q=j.shadowRatioAnalysis,L.callback=function(){r()(this,e),this.dialogInition()}.bind(this);var y=T.drawControl;y.on("draw-created",function(){r()(this,e),this.dialogInition()}.bind(this)),y.on("edit-move-point",function(){r()(this,e),this.dialogInition()}.bind(this)),v.foo=function(){r()(this,e),this.formInfo.data.currentTime=v.isoTime}.bind(this),A.drawControl.on("draw-created",function(){r()(this,e),this.dialogInition()}.bind(this)),h.setLegend("aspect",h._terrainLegendSample.aspect),h.setLegend("slope",h._terrainLegendSample.slope),h.setLegend("elevation",h._terrainLegendSample.elevation),this.setTerrainShadow(1);var f=U.drawControl.draw();f.on("edit-start",function(M){var a=this;r()(this,e);var I=this.formInfo.fieldList[0].formList[1][0].list,n=Pt()(I).call(I,function(m){return r()(this,a),m.id===M.entity.id}.bind(this));n&&this.setEchartsData(n)}.bind(this)),U.drawControl.draw().on("delete-feature",function(M){var a,I=this;r()(this,e);var n=f.dataSource.entities;if(M._totalLable&&n.remove(M._totalLable),M._arrLables&&((a=M._arrLables)===null||a===void 0?void 0:a.length)>0)for(var m=0;m<M._arrLables.length;m++){var N=M._arrLables[m];n.remove(N)}var G=this.formInfo.fieldList[0].formList[1][0].list,st=nt()(G).call(G,function(ut){return r()(this,I),ut.id===M._id}.bind(this));st>-1&&Ut()(G).call(G,st,1)}.bind(this))}},select:function(i){var e,o=this;this.clear(),v&&v.clear(),i==="viewShed"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="controlHeight"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="sun"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="visible"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="clip"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="flood"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="skyLine"?(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i):i==="terrain"&&(this.formInfo.fieldList=this.clone(Z[i]),this.openDialog=i,this.handleEvent("terrainSelect","\u9AD8\u7A0B"),h._terrainLight(!0));var y=Pt()(e=this.toolOptions).call(e,function(a){return r()(this,o),a.key===i}.bind(this)),f=y.name,M=y.img;this.title=f,this.imgSrc=M,this.formInfo.data.jieqiTableShow=!1,this.$refs.container.changeShow(!0)},closeOfClick:function(){this.openDialog==="sun"&&(v.setShadowMode(!1),v.setTerrainShade(!1),this.formInfo.data.ShadowMode=!1,this.formInfo.data.TerrainShade=!1),this.clear(),this.openDialog=!1},execute:function(i){var e=this,o=this.openDialog;switch(this.openDialog=i||this.openDialog,this.openDialog){case"viewShed":{u.clear(),this.$set(this.formInfo.data,"additionalHeight",null),u.drawLine(function(a){r()(this,e),u.clearDraw();var I=a.polyline.positions.getValue(),n=I[0],m=I[1];this.currentVS.originalP=n.clone(),this.currentVS.end=m.clone(),u.start(n,m),this.dialogInition()}.bind(this));break}case"controlHeight":{T.clear(),T.start(!0);break}case"visible":{L.clear(),L.drawLine(function(a){r()(this,e);var I=a.polyline.positions.getValue(),n=[I[0]],m=I[1];L.start(n,m)}.bind(this));break}case"clip":{var y=this,f,M;U.drawLine(function(I){var n=this;if(I.arrHB&&I.arrHB.length){I.id=M||I.id,y.setEchartsData(I);var m=y.formInfo.fieldList[0].formList[1][0].list,N=nt()(m).call(m,function(G){return r()(this,n),G.id===M}.bind(this));f={a:"\u5C5E\u6027\u5217\u8868"},f.height=U.prop.viewer.camera.positionCartographic.height.toFixed(1),f.direction=y.toDegrees(U.prop.viewer.camera.heading).toFixed(0),f.pitch=y.toDegrees(U.prop.viewer.camera.pitch).toFixed(0),f.longitude=y.toDegrees(U.prop.viewer.camera.positionCartographic.longitude).toFixed(4),f.latitude=y.toDegrees(U.prop.viewer.camera.positionCartographic.latitude).toFixed(4),I.attrs=f,N>-1?Ut()(m).call(m,N,1,I):m.unshift(I)}},function(I,n){M=n.id});break}case"flood":{A.clear(),A.floodDraw(),this.formInfo.data.waterDepth=!1;break}}this.openDialog=o,this.$emit("change:active",!0)},clear:function(i){var e=this.openDialog;switch(this.openDialog=i||this.openDialog,h.drawControl.clearDraw(),h._terrainLight(!1),this.openDialog){case"viewShed":{u.destroy();break}case"controlHeight":{T.destroy();break}case"sun":{v.clear(),Q.clear();var o=v.prop.viewer;o.shine.ol3d&&o.shine.ol3d.setBlockCesiumRendering(!1);break}case"visible":{L.clear(),L.obHeight=1.7,L.viewStart=[];break}case"clip":{U.clear(),this.formInfo.fieldList[0].formList[1][0].list=[],this.closeEchartsView(),document.getElementById("layui-layer5").hidden=!0;break}case"flood":{A.clear(),A.color="#6A7D7B",this.formInfo.data.waterDepth=!1;break}case"terrain":{h.regionPolygonsEnabled=!1,h.updateMaterial({hasContour:!1,selectedShading:"none"});break}case"skyLine":ot.clear()}this.dialogInition("CleanUp"),this.openDialog=e,this.$emit("change:active",!1)},clearAll:function(){this.deactivate()},deactivate:function(){u.destroy(),T.destroy(),v.clear(),Q.clear(),L.clear(),U.clear(),this.closeEchartsView(),A.clear(),ot.clear(),h.updateMaterial({hasContour:!1,selectedShading:"none"}),this.$refs.container.changeShow(!1)},dialogInition:function(i){switch(this.openDialog){case"visible":{this.setDialogProps_vis(i);break}case"viewShed":{this.setDialogProps_vsa(i);break}case"controlHeight":{this.setDialogProps_cha(i);break}case"sun":{this.setDialogProps_sun(i);break}case"flood":{this.setDialogProps_flo(i);break}case"terrain":{this.setDialogProps_ter(i);break}case"skyLine":{this.setDialogProps_sky(i);break}}},setDialogProps_vis:function(i){if(i==="CleanUp"){this.formInfo.data.obAltitude=null,this.formInfo.data.obHeight=1.7;return}var e=Number(L.obAltitude)+(Number(L.obHeight)||0);e=e.toFixed(2),this.formInfo.data.obAltitude=e,this.formInfo.data.obHeight=L.obHeight},setDialogProps_vsa:function(i){if(i==="CleanUp"){this.formInfo.data.lonAndLat=null,this.formInfo.data.height=null,this.formInfo.data.visibleArea=!0,this.formInfo.data.invisibleArea=!0,this.formInfo.data.visibleAreaColor="#008000",this.formInfo.data.invisibleAreaColor="#ff0000",this.formInfo.data.cueLineColor="#3388ff",u.visibleAreaColor=$("#008000"),u.invisibleAreaColor=$("#ff0000"),u.cueLineColor=$("#3388ff"),this.formInfo.data.additionalHeight=null,this.formInfo.data.direction=null,this.formInfo.data.visualRange=null,this.formInfo.data.pitch=null,this.formInfo.data.horizontalViewAngle=null,this.formInfo.data.verticalViewAngle=null;return}var e=u.viewPosition&&u.viewPosition.clone();if(e){var o=S.Utils.cartesianToLonLatHeight(e),y=o[0].toFixed(5)+" , "+o[1].toFixed(5);this.formInfo.data.lonAndLat=y,this.formInfo.data.height=o[2].toFixed(2)}this.formInfo.data.direction=u.direction,this.formInfo.data.visualRange=u.visualRange,this.formInfo.data.pitch=u.pitch,this.formInfo.data.horizontalViewAngle=u.horizontalViewAngle,this.formInfo.data.verticalViewAngle=u.verticalViewAngle,this.formInfo.data.cueLineColor=u.cueLineColor.toCssHexString(),this.formInfo.data.visibleAreaColor=u.visibleAreaColor.toCssHexString(),this.formInfo.data.invisibleAreaColor=u.invisibleAreaColor.toCssHexString()},setDialogProps_cha:function(i){if(i==="CleanUp"){this.formInfo.data.relativeHeight=30,this.formInfo.data.altitude=null,this.formInfo.data.groundHeight=null,this.formInfo.data.showWarning=!0,T.extrudedHeight=30;return}var e=T.height1-T.height2;this.formInfo.data.relativeHeight=e.toFixed(2),this.formInfo.data.altitude=T.height1,this.formInfo.data.groundHeight=T.height2,this.formInfo.data.showWarning=T.warningShow},setDialogProps_sun:function(i){if(i==="CleanUp"){this.formInfo.data.currentTime=null,this.formInfo.data.currentRate="1\u7EA7",v.setTerrainShade(!1),v.setShadowMode(!1),this.formInfo.data.TerrainShade=!1,this.formInfo.data.ShadowMode=!1,this.formInfo.data.sunshineRatio="",this.formInfo.data.position_sr="",this.formInfo.data.height_sr="",this.formInfo.data.sunshinePeriod="";return}this.formInfo.data.ShadowMode=v.prop.viewer.shadows,this.formInfo.data.TerrainShade=v.prop.viewer.scene.globe.shadows},setDialogProps_flo:function(i){if(i==="CleanUp"){this.formInfo.data.floodColor="#6A7D7B",this.formInfo.data.floodAltitude=null,this.formInfo.data.opacity_flo=.8;return}var e=$(A.color);e.alpha=1,this.formInfo.data.floodColor=e.toCssHexString(),this.formInfo.data.floodAltitude=A.height.toFixed(3)},setDialogProps_ter:function(i){if(i==="CleanUp"){var e=this.formInfo.data;e.terrain=!1,e.terrainSelect=null,e.slopeS=0,e.slopeE=90,e.elevationS=0,e.elevationE=880,e.colorS="#ff0000",e.colorE="#0000ff",e.spacing_ter=50,e.width_ter=2,e.contourColor="#ff0000",e.opacity_ter=.5,e.aspect=["\u5317","\u897F\u5317","\u897F","\u897F\u5357","\u5357","\u4E1C\u5357","\u4E1C","\u4E1C\u5317"],e.aspect_color=null,e.analysisMode="all_on",e.\u5317="#34AF00",e.\u897F\u5317="#AAFF14",e.\u897F="#AEE900",e.\u897F\u5357="#E9E932",e.\u5357="#E9E990",e.\u4E1C\u5357="#FFAA00",e.\u4E1C="#FF780A",e.\u4E1C\u5317="#FF320A",h.setLegend("aspect",h._terrainLegendSample.aspect),h.setLegend("slope",h._terrainLegendSample.slope),h.setLegend("elevation",h._terrainLegendSample.elevation),h.hierarchys=[h._smallRegion],h.regionPolygonsEnabled=!1;return}},setDialogProps_sky:function(i){if(i==="CleanUp"){this.formInfo.data.skyLine=!1;return}},setTerrainShadow:function(i){var e=u.prop.viewer;e.scene.globe.shadows=i?1:0},handleEvent:function(i,e){var o=this;switch(i){case"cueLineColor":{u.cueLineColor=e;break}case"invisibleArea":case"visibleArea":{var y=i==="visibleArea"?"visibleAreaColor":"invisibleAreaColor";if(e){var f=u[y].toCssHexString();f.length===9&&(f=Bt()(f).call(f,0,-2)),this.formInfo.data[y]=f;var M=u[y]&&u[y].clone();M.alpha=1,u[y]=M}else{var a=u[y]&&u[y].clone();a.alpha=0,u[y]=a}}case"visibleAreaColor":case"invisibleAreaColor":if(Rt()(i).call(i,"isibleAreaColor")){var I=i.replace("Color",""),n=this.formInfo.data[I],m=$(e);n?m.alpha=1:m.alpha=0,u[i]=m}case"additionalHeight":case"visualRange":case"horizontalViewAngle":case"direction":case"pitch":case"verticalViewAngle":{if(u.pyramid){var N=this.formInfo.data,G=N.additionalHeight,st=N.visualRange,ut=N.horizontalViewAngle,Gt=N.verticalViewAngle,Jt=N.direction,Xt=N.pitch;if(G==null||st==null||ut==null||Gt==null||Jt==null||Xt==null)return;yt.active(function(){r()(this,o);var E=u.viewPosition.clone();E=S.Utils.upPosition(u.prop.viewer,E,G),u.viewPosition=E,st<=0&&(N.visualRange=1),u.visualRange=N.visualRange,u.horizontalViewAngle=ut,u.direction=Jt,u.pitch=Xt,u.verticalViewAngle=Gt,u._updateViewShed(),E=S.Utils.upPosition(u.prop.viewer,E,-G),u.viewPosition=E}.bind(this))}break}case"relativeHeight":{T.extrudedHeight=e,T.curEnt&&(T.setHeight(e),T.curEnt.editing.changePositionsToCallback(),T.curEnt.editing.updateDraggers(),this.formInfo.data.altitude=T.height1);break}case"startTime":{this.formInfo.data.solarTermName="";var wt=[this.formInfo.data.startTime,this.formInfo.data.currentTime,this.formInfo.data.endTime],Mt=wt[0],Kt=wt[1],qt=wt[2];if(Mt<=qt){if(Kt<Mt||Kt>qt){this.formInfo.data.currentTime=Mt;var Ea=S.Utils.JulianDate;v.prop.viewer.clock.currentTime=Ea.fromDate(this.formInfo.data.currentTime)}var Oa={start:this.formInfo.data.startTime,end:this.formInfo.data.endTime};v.setTime(Oa),Q.setPeriod(this.formInfo.data.startTime,this.formInfo.data.endTime)}else Object($t.Message)({message:"\u65F6\u95F4\u9519\u8BEF\uFF0C\u5F00\u59CB\u5E94\u5728\u7ED3\u675F\u4E4B\u524D",type:"warning"}),this.formInfo.data.startTime=null;break}case"endTime":{this.formInfo.data.solarTermName="";var It=[this.formInfo.data.startTime,this.formInfo.data.currentTime,this.formInfo.data.endTime],bt=It[0],_t=It[1],te=It[2];if(bt<=te){if(_t<bt||_t>te){this.formInfo.data.currentTime=bt;var ka=S.Utils.JulianDate;v.prop.viewer.clock.currentTime=ka.fromDate(this.formInfo.data.currentTime)}var Pa={start:this.formInfo.data.startTime,end:this.formInfo.data.endTime};v.setTime(Pa),Q.setPeriod(this.formInfo.data.startTime,this.formInfo.data.endTime)}else Object($t.Message)({message:"\u65F6\u95F4\u9519\u8BEF\uFF0C\u5F00\u59CB\u5E94\u5728\u7ED3\u675F\u4E4B\u524D",type:"warning"}),this.formInfo.data.endTime=null;break}case"currentTime":{if(e==="focus"){v.sunStop();break}var Nt=[this.formInfo.data.startTime,this.formInfo.data.currentTime,this.formInfo.data.endTime],ee=Nt[0],ct=Nt[1],ae=Nt[2];this.formInfo.data.startTime=ee<ct?ee:ct,this.formInfo.data.endTime=ae>ct?ae:ct;var Ua={start:this.formInfo.data.startTime,end:this.formInfo.data.endTime};v.setTime(Ua),Q.setPeriod(this.formInfo.data.startTime,this.formInfo.data.endTime),v.start(!0);var Ba=S.Utils.JulianDate;v.prop.viewer.clock.currentTime=Ba.fromDate(this.formInfo.data.currentTime),this.formInfo.data.timePass===!1&&v.sunStop(!0);break}case"start":{var Dt=document.getElementById("playBtn");Dt.className=Dt.className==="btn btn1"?"btn btn3":"btn btn1";var Ra=Dt.className==="btn btn1"?"pause":"play";if(Ra==="play"){this.formInfo.data.timePass=!0,v.setTerrainShade(e),v.setShadowMode(e),this.formInfo.data.TerrainShade=!0,this.formInfo.data.ShadowMode=!0;var ft=this.formInfo.data.currentRate[0]*300;ft=ft===1500?2400:ft,v.setTimeMultiplier(ft,!1);var Ya={start:this.formInfo.data.currentTime,end:this.formInfo.data.endTime};v.setTime(Ya),Q.setPeriod(this.formInfo.data.startTime,this.formInfo.data.endTime),v.start(!0),v.prop.viewer.clock.shouldAnimate=!0;var ie=v.prop.viewer;ie.shine.ol3d&&ie.shine.ol3d.setBlockCesiumRendering(!0)}else this.formInfo.data.timePass=!1,v.prop.viewer.clock.shouldAnimate=!1;break}case"stop":{var Qa=document.getElementById("playBtn");Qa.className="btn btn1",v.clear(),this.formInfo.data.currentTime=this.formInfo.data.startTime,this.formInfo.data.currentRate="1\u7EA7",v.prop.viewer.clock.shouldAnimate=!1,v.prop.viewer.shine.ol3d&&v.prop.viewer.shine.ol3d.setBlockCesiumRendering(!1),this.formInfo.data.ShadowMode=this.formInfo.data.TerrainShade=!1,v.setShadowMode(!1),v.setTerrainShade(!1);break}case"currentRate":{v.setTimeMultiplier(e,!1);break}case"ShadowMode":{v.setShadowMode(e);break}case"TerrainShade":{v.setTerrainShade(e);break}case"jieqi":{var ne=e.target.innerText;this.formInfo.data.solarTermName=ne,this.formInfo.data.jieqiTableShow=!this.formInfo.data.jieqiTableShow;var Tt=this.formInfo.data.solarTermYear||2022,oe=fa(Tt,ne),se=oe.month,le=oe.day;this.formInfo.data.currentTime=this.formInfo.data.startTime=new Date(Tt,se-1,le,9,0),this.formInfo.data.endTime=new Date(Tt,se-1,le,15,0);var Ha={start:this.formInfo.data.currentTime,end:this.formInfo.data.endTime};v.setTime(Ha),Q.setPeriod(this.formInfo.data.startTime,this.formInfo.data.endTime);break}case"solarTermBtn":{this.formInfo.data.jieqiTableShow=!this.formInfo.data.jieqiTableShow;break}case"shadowRatio":{Q.clear(),Q.drawPolygon(this);break}case"shadowRatio_rawAlgorithm":{Q.clear(),Q.drawPolygon_rawAlgorithm();break}case"shadowRatio_clear":{Q.clear();break}case"execute":{this.execute();break}case"addOBpoint":{if(L.viewStart.length===0)return;L.drawPoint(function(E){r()(this,o);var tt=E.position.getValue();L.viewStart.push(tt),L.start()}.bind(this));break}case"obHeight":{L.obHeight=e,L.viewStart.length&&L.start();break}case"clear":{this.clear();break}case"showWarning":{T.setWarningShow(e);break}case"floClear":{A.clear(),this.formInfo.data.waterDepth=!1;break}case"floodColor":case"opacity_flo":{var Fa=A.prop.waters.length,at=this.formInfo.data.floodColor,$a=this.formInfo.data.opacity_flo;Fa&&(at=$(at),at.alpha=$a,at=at.toCssHexString(),A.setWaterProp({color:at}));break}case"floodAltitude":{A.prop.waters.length&&A.setWaterProp({height:e});break}case"waterDepth":{var re=this.formInfo.data.waterDepth;this.formInfo.data.waterDepth=!re,A.pickWaterDepth(!re);break}case"pick_method":{A.pick_method=e;break}case"skyLine":{ot.start(e);break}case"colorS":case"colorE":this.formInfo.data[i]=e;case"slopeS":case"slopeE":case"elevationS":case"elevationE":case"opacity_ter":{if(!(this.formInfo.data.colorS&&this.formInfo.data.colorE))return;var W,K,ht=this.formInfo.fieldList[0].formList.length,q=this.formInfo.data.terrainSelect;if(q=rt[q],q==="elevation"){var de=[this.formInfo.data.elevationS,this.formInfo.data.elevationE];W=de[0],K=de[1],this.formInfo.fieldList[0].formList[ht-4][0].min=W,this.formInfo.fieldList[0].formList[ht-5][0].max=K}else if(q==="slope"){var ue=[this.formInfo.data.slopeS,this.formInfo.data.slopeE];W=ue[0],K=ue[1],this.formInfo.fieldList[0].formList[ht-4][0].min=W,this.formInfo.fieldList[0].formList[ht-5][0].max=K}else if(q==="aspect"){h._terrainLegend.aspect.opacity=this.formInfo.data.opacity_ter,this.handleEvent("terrain");break}var Wa=W+(K-W)*1/4,Va=W+(K-W)*2/4,Za=W+(K-W)*3/4,ce=[this.formInfo.data.colorS,this.formInfo.data.colorE],Ga=ce[0],Ja=ce[1],Lt=S.Utils.getColor("lerp"),fe=[$(Ga),$(Ja)],_=fe[0],pt=fe[1],xt=[Lt(_,pt,1/4,_.clone()),Lt(_,pt,2/4,_.clone()),Lt(_,pt,3/4,_.clone())],Xa=xt[0],Ka=xt[1],qa=xt[2],lt=[_.toCssHexString(),Xa.toCssHexString(),Ka.toCssHexString(),qa.toCssHexString(),pt.toCssHexString()],he=lt[0],pe=lt[1],ve=lt[2],ge=lt[3],me=lt[4],ye,we;ye=he,we=me;var _a=q==="slope"?"(\u5355\u4F4D\uFF1A\u5EA6)":"(\u5355\u4F4D\uFF1A\u7C73)",ti=this.formInfo.data.opacity_ter,ei={stop:[W,Wa,Va,Za,K],color:[he,pe,ve,ge,me],unit:_a,opacity:ti},Me=document.getElementById("colorRamp");if(Me){var Ct=Me.getContext("2d"),it=Ct.createLinearGradient(0,0,120,24);it.addColorStop(0,ye),it.addColorStop(.25,pe),it.addColorStop(.5,ve),it.addColorStop(.75,ge),it.addColorStop(1,we),Ct.fillStyle=it,Ct.fillRect(0,0,120,24)}h.setLegend(q,ei),yt.active(function(){r()(this,o),this.handleEvent("terrain")}.bind(this));break}case"aspect_color_single":{var Ie,be=h._terrainLegend.aspect,ai=e.aspect,Ne;Ne=nt()(Ie=be.direction).call(Ie,function(E){return r()(this,o),E===ai}.bind(this)),be.color[Ne]=e.color,this.handleEvent("terrain");break}case"terrainSelect":{this.formInfo.data.terrainSelect=e,this.switchSlopeAndElevation(rt[e]),h.drawControl.clearDraw(),setTimeout(function(){r()(this,o),this.handleEvent("opacity_ter")}.bind(this),50);break}case"aspect":{if(e.length===1){var De=h._terrainLegend.aspect,Te=De.direction,Le;Le=nt()(Te).call(Te,function(E){return r()(this,o),E===e[0]}.bind(this)),this.formInfo.data.aspect_color=De.color[Le]}var St=h._terrainLegend.aspect,ii=St.direction;ii.forEach(function(E,tt){r()(this,o);var kt=Rt()(e).call(e,E),J=St.color[tt];J=$(J),kt?J.alpha=1:J.alpha=0,J=J.toCssHexString(),St.color[tt]=J}.bind(this)),this.handleEvent("terrain");break}case"aspect_color":{var xe=h._terrainLegend.aspect,ni=this.formInfo.data.aspect,vt=Na(ni),Ce;try{var oi=function(){var tt,kt=this,J=Ce.value,Ee;Ee=nt()(tt=xe.direction).call(tt,function(pi){return r()(this,kt),pi===J}.bind(this)),xe.color[Ee]=e,o.formInfo.data[J]=e};for(vt.s();!(Ce=vt.n()).done;)oi()}catch(E){vt.e(E)}finally{vt.f()}this.handleEvent("terrain");break}case"changeColor_ter":{var si=S.Utils.getColor("fromRandom")({alpha:1}),li=si.toCssHexString();this.formInfo.data.contourColor=li}case"contourColor":{if(e!=="click"){var ri=$(e).toCssHexString();this.formInfo.data.contourColor=ri}this.formInfo.data.contourColor=this.formInfo.data.contourColor?this.formInfo.data.contourColor:"rgb(255,0,0)",e=this.formInfo.data.contourColor;var di=$(e),At=rt[this.formInfo.data.terrainSelect];At=this.formInfo.data.analysisMode==="all_off"?"none":At;var ui={contourColor:di,selectedShading:At,contourSpacing:this.formInfo.data.spacing_ter,contourWidth:this.formInfo.data.width_ter,hasContour:this.formInfo.data.terrain};yt.active(function(){r()(this,o),h.updateMaterial(ui)}.bind(this));break}case"analysisMode":{var gt=this.formInfo.data.analysisMode,jt=this.formInfo.data.terrainSelect;gt==="all_off"?(h.drawControl.clearDraw(),jt==="\u5761\u5411"&&(this.formInfo.data.aspect=null)):gt==="all_on"?(h.hierarchys=[h._smallRegion],h.regionPolygonsEnabled=!1,h.drawControl.clearDraw(),jt==="\u5761\u5411"&&(this.formInfo.data.aspect=["\u5317","\u897F\u5317","\u897F","\u897F\u5357","\u5357","\u4E1C\u5357","\u4E1C","\u4E1C\u5317"],h.setLegend("aspect",h._terrainLegendSample.aspect))):gt==="polygon"&&(h.drawPolygon(),h.regionPolygonsEnabled=!0,h.hierarchys=[h._smallRegion],jt==="\u5761\u5411"&&this.last_analysisMode==="all_off"&&(this.formInfo.data.aspect=["\u5317","\u897F\u5317","\u897F","\u897F\u5357","\u5357","\u4E1C\u5357","\u4E1C","\u4E1C\u5317"])),this.last_analysisMode=gt}case"spacing_ter":case"width_ter":case"terrain":{this.formInfo.data.contourColor=this.formInfo.data.contourColor?this.formInfo.data.contourColor:"rgb(255,0,0)",e=this.formInfo.data.contourColor;var ci=$(e),zt=rt[this.formInfo.data.terrainSelect];zt=this.formInfo.data.analysisMode==="all_off"?"none":zt;var fi={contourColor:ci,selectedShading:zt,contourSpacing:this.formInfo.data.spacing_ter,contourWidth:this.formInfo.data.width_ter,hasContour:this.formInfo.data.terrain};h.updateMaterial(fi);break}case"addPolygon":{h.regionPolygonsEnabled=!0,h.drawPolygon();break}case"openInfo":{var Et=this.formInfo.fieldList[0].formList[1][0].list[e].attrs;Et=Et||{longitude:120,latitude:30,height:500,direction:26,pitch:-33},this.formInfo.fieldList[0].formList[1][0].info=Et;var Ot=document.getElementById("layui-layer5");Ot.style.top=e*42+42+"px",Ot.style.left="85px",Ot.hidden=!1;break}case"deleteMea":{var hi=this.formInfo.fieldList[0].formList[1][0].list,Se=hi[e].id;U.drawControl.clearMeasureById(Se),Se===Zt&&this.closeEchartsView(),document.getElementById("layui-layer5").hidden=!0;break}case"openEcharts":{var Ae=this.formInfo.fieldList[0].formList[1][0].list[e];this.setEchartsData(Ae);var je=U.drawControl.draw(),ze=je.dataSource.entities.getById(Ae.id);ze&&je.startEditing(ze);break}}},setEchartsData:function(i){Zt=i.id,document.getElementById("charts_sa").hidden=!1,this.myChart==null&&(this.myChart=Ht.init(document.getElementById("echartsView_sa"),"dark"));var e=i.arrPoint,o={backgroundColor:"rgba(0, 0, 0, 0.7)",grid:{left:10,right:10,bottom:10,containLabel:!0},dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis",formatter:function(f){var M="";if(f.length===0)return M;var a=e[f[0].dataIndex];return f[0].axisValue=Number(f[0].axisValue),f[0].value=Number(f[0].value),M+="\u6240\u5728\u4F4D\u7F6E&nbsp;"+a.x+","+a.y+"<br />\u8DDD\u8D77\u70B9&nbsp;<label>"+Object(Ft.formatLength)(f[0].axisValue)+"</label><br />"+f[0].seriesName+"&nbsp;<label style='color:"+f[0].color+";'>"+Object(Ft.formatLength)(f[0].value)+"</label><br />",M}},xAxis:[{name:"\u884C\u7A0B",type:"category",boundaryGap:!1,axisLine:{show:!1},axisLabel:{show:!1},data:i.arrLen}],yAxis:[{type:"value",axisLabel:{rotate:60,formatter:"{value} \u7C73"}}],series:[{name:"\u9AD8\u7A0B\u503C",type:"line",smooth:!0,symbol:"none",sampling:"average",itemStyle:{normal:{color:"rgb(255, 70, 131)"}},areaStyle:{normal:{color:new Ht.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 158, 68)"},{offset:1,color:"rgb(255, 70, 131)"}])}},data:i.arrHB}]};this.myChart.setOption(o)},closeEchartsView:function(){this.myChart&&this.myChart.dispose(),this.myChart=void 0,document.getElementById("charts_sa").hidden=!0},toDegrees:function(i){return i/Math.PI*180},clone:function(i){return JSON.parse(Xe()(i))},switchSlopeAndElevation:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"slope";this.formInfo.fieldList[0].formList=Z.getTerrainFieldListByType(i)},getAnalysisInstance:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"flood";switch(i){case"flood":return A;case"visible":return L;case"viewShed":return u;case"controlHeight":return T;case"sun":return v;case"clip":return U;case"skyLine":return ot;case"terrain":return h}}}},xa=La,Ca=Object(Qt.a)(xa,x,O,!1,null,null,null),Sa=Ca.exports,Aa=s(28),ja=s.n(Aa),za=void 0,dt=ja()(Sa,{transform:function(i){r()(this,za);var e=i.show,o=i.position;return{isShow:e,position:o}}.bind(void 0)});dt.install=function(t){t.component(dt.name,dt)};var vi=c.default=dt},79:function(l,c){l.exports=d(115998)},8:function(l,c){l.exports=d(22466)},9:function(l,c){l.exports=d(122777)}})},691:function(et,H,d){"use strict";var w=d(419534);Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var l=w(d(342579)),c={inserted:function(r){var x=this,O=r.querySelector(".fold"),C=r;O.style.cursor="move",O.onmousedown=function(k){var B=this;(0,l.default)(this,x),k.stopPropagation();var P=k.clientX-C.offsetLeft,V=k.clientY-C.offsetTop;document.onmousemove=function(D){(0,l.default)(this,B);var R=D.clientX-P,X=D.clientY-V;r.style.left=R+"px",r.style.top=X+"px"}.bind(this),document.onmouseup=function(){(0,l.default)(this,B),document.onmousemove=null,document.onmouseup=null}.bind(this)}.bind(this)}},s=c;H.default=s},242709:function(et,H,d){"use strict";var w=d(148836);const l={data(){return this.map=null,this.timer="",{isEditor:window.location.href.indexOf("editor.html")>0}},inject:{reactiveViewMode:{default:function(){return()=>"23D"}}},computed:{viewMode(){return this.isSetMap_common?this.$_viewMode:this.reactiveViewMode()}},mounted(){!this.widgetInfo.parentId&&this.isEditor&&this.widgetInfo.action.gisMapId&&this.$nextTick(function(){this.updateWidgetParentId({widgetId:this.widgetInfo.id,parentId:this.widgetInfo.action.gisMapId,keepPosition:!0})})},methods:{...(0,w.nv)(["updateWidgetParentId"]),getBindMap(){typeof this.widgetInfo.action.gisMapId<"u"}}};H.Z=l},168042:function(et,H,d){"use strict";d.d(H,{$:function(){return c}});var w=d(927966),l=d(149500);function c(s,p,r,x){let O=p[r];O&&O.length<1||O.forEach(C=>{if(C&&C.length<1)return;let k=C[0][1]+"_"+C[0][0];C[0][1].indexOf("_")>-1&&(k=C[0][1]),w.Z.$on(k,B=>{l.debug("gis\u7EC4\u4EF6\u63A5\u6536\u4E8B\u4EF6\u89E6\u53D1");let P=C[0][2];if(P){let V=P.indexOf("|");V>-1&&(P=C[0][2].substring(V+1))}p.script&&p.script.enabled?(s._doAction=new Function("data","param_key","value","info",p.script.content),s._doAction(B,P,p.value,B)):x(B[P],B)})})}},476010:function(et,H){"use strict";const d={data(){return{isSpecial:!1,isEditor:window.location.href.indexOf("editor.html")>0}},computed:{isBindToPage(){return this.widgetInfo.config.styleConfig.dragEnable||this.isSpecial},position(){return this.isEditor||!this.isBindToPage?{type:"absolute",top:"0px",left:"0px",bottom:"unset",right:"unset",zIndex:this.widgetInfo.attr.z}:{type:"absolute",top:this.widgetInfo.attr.y+"px",left:this.widgetInfo.attr.x+"px",zIndex:this.widgetInfo.attr.z}},styleConfig(){return{isShowBtn:this.widgetInfo.config.styleConfig.isShowBtn,isStartFix:this.isEditor,titleBar:{miniBtn:!0,maxBtn:!1,closeBtn:!1,fixBtn:!this.isEditor,title:!0},autoVisible:!1,btnSize:{size:this.widgetInfo.config.styleConfig.btnSize.size+"px",padding:this.widgetInfo.config.styleConfig.btnSize.padding+"px",radius:this.widgetInfo.config.styleConfig.btnSize.radius+"px"},size:{radius:this.widgetInfo.config.styleConfig.size.radius+"px",width:this.widgetInfo.attr.w>150?this.widgetInfo.attr.w+"px":"275px",height:this.widgetInfo.attr.hh>100?this.widgetInfo.attr.hh+"px":"80vh"},toolBtnSize:{size:this.widgetInfo.config.styleConfig.toolBtnSize.size+"px",margin:(this.widgetInfo.config.styleConfig.btnSize.size-this.widgetInfo.config.styleConfig.toolBtnSize.size)/2+"px"}}},themeConfig(){let w=this.widgetInfo.config.themeStyle.light;return{light:{title:{backgroundImage:"url('"+w.title.backgroundImage+"')",backgroundColor:w.title.backgroundColor?w.title.backgroundColor:w.floatButton.fillcolor,backgroundSize:w.title.backgroundSize,fontSize:w.title.fontSize+"px",color:w.title.fontColor},primaryFont:{fontSize:w.primaryFont.fontSize+"px",fontColor:w.primaryFont.fontColor},toolButton:{color:w.toolButton.color},panel:{backgroundImage:"url('"+w.panel.backgroundImage+"')",backgroundColor:w.panel.fillcolor,backgroundSize:w.panel.backgroundSize,border:w.panel.border},floatButton:{backgroundColor:w.floatButton.fillcolor,shadowColor:w.floatButton.shadowColor,border:w.floatButton.border}}}}},methods:{bindToPage(w){w&&this.isBindToPage&&(w.parentElement.remove(w),document.getElementById("page_"+this.widgetInfo.pageId).append(w),w.style.pointerEvents="auto",document.getElementById("container_child_"+this.widgetInfo.id).remove())}}};H.Z=d},491099:function(et,H,d){"use strict";d.r(H),d.d(H,{default:function(){return X}});var w=function(){var g=this,Y=g._self._c;return Y("div",{directives:[{name:"show",rawName:"v-show",value:g.widgetInfo.attr.hide!==!0,expression:"widgetInfo.attr.hide !== true"}],ref:"content",style:{width:g.widgetInfo.attr.w+"px",height:g.widgetInfo.attr.hh+"px"}},[g.viewMode!=="2D"?Y("SpatialAnalysis3d",{ref:"spatialAnalysis3d",attrs:{position:g.position,"is-show":!0,"theme-style":g.themeConfig,"style-config":g.styleConfig,"drag-enable":g.widgetInfo.config.styleConfig.dragEnable}}):g._e()],1)},l=[],c=d(377326),s=d.n(c),p=d(386892),r=d(476010),x=d(445061),O=d(126711),C=d(242709),k=d(927966),B=d(168042),P={name:"GisSpatialAnalysis3d",components:{SpatialAnalysis3d:s()},mixins:[p.D,r.Z,x.u,O.H,C.Z],props:["widgetInfo"],data(){return{timer:"",mapAction:this.widgetInfo.action,btnAttr:this.widgetInfo.attr}},mounted(){this.viewMode==="2D"&&this.$message("\u7EAF\u4E8C\u7EF4\u6A21\u5F0F\u65E0\u6CD5\u52A0\u8F7D'\u7A7A\u95F4\u5206\u6790'\u7EC4\u4EF6"),this.isSpecial=!0,this.isEditor||this.$nextTick(()=>{let b=this.$refs.spatialAnalysis3d.$el;this.bindToPage(b)}),this.initAction(this.widgetInfo)},methods:{reLoadInfo(b){this.btnAttr=b.attr},initAction(b){this.actionReceive(b)},actionReceive(b){if(b.action==null||b.action.receive==null)return;let g=b.action.receive.executeAction;g&&g.enabled&&g.executeList&&g.executeList.length>0&&(0,B.$)(this,g,"executeList",this.generateFloor);let Y=b.action.receive.show;Y&&Y.enabled&&Y.showList&&Y.showList.length>0&&this.doActionShowOrHide(Y.showList,Y.value,Y.script,b.name,"show",!1);let F=b.action.receive.hide;F&&F.enabled&&F.hideList&&F.hideList.length>0&&this.doActionShowOrHide(F.hideList,F.value,F.script,b.name,"hide",!0)},generateFloor(b){let g=this.$refs.spatialAnalysis3d.getAnalysisInstance("flood");g&&(g.clear(),g.generateFlood(b.positions,b.height,b.radius,b.name))},updateWater(b){let g=this.$refs.spatialAnalysis3d.getAnalysisInstance("flood");g&&(g.prop.waterObjs&&g.prop.waterObjs.length>0?g.setWaterProp({height:b.height}):g.generateFlood(b.positions,b.height,b.radius,b.name))}}},V=P,D=d(768141),R=(0,D.Z)(V,w,l,!1,null,null,null),X=R.exports}}]);
