"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[560],{96896:function(ae,Z,M){var l=M(89558);l.Zr({type:"series.liquidFill",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,a){var u=l._y.createDimensions(t.data,{coordDimensions:["value"]}),h=new l.aV(u,this);return h.initData(t.data),h},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});var _=M(46326),U=l.Q.extendShape({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(t,a){a.radiusY==null&&(a.radiusY=a.radius);for(var u=Math.max(Math.ceil(2*a.radius/a.waveLength*4)*2,8);a.phase<-Math.PI*2;)a.phase+=Math.PI*2;for(;a.phase>0;)a.phase-=Math.PI*2;var h=a.phase/Math.PI/2*a.waveLength,v=a.cx-a.radius+h-a.radius*2;t.moveTo(v,a.waterLevel);for(var y=0,P=0;P<u;++P){var B=P%4,s=E(P*a.waveLength/4,B,a.waveLength,a.amplitude);t.bezierCurveTo(s[0][0]+v,-s[0][1]+a.waterLevel,s[1][0]+v,-s[1][1]+a.waterLevel,s[2][0]+v,-s[2][1]+a.waterLevel),P===u-1&&(y=s[2][0])}a.inverse?(t.lineTo(y+v,a.cy-a.radiusY),t.lineTo(v,a.cy-a.radiusY),t.lineTo(v,a.waterLevel)):(t.lineTo(y+v,a.cy+a.radiusY),t.lineTo(v,a.cy+a.radiusY),t.lineTo(v,a.waterLevel)),t.closePath()}});function E(t,a,u,h){return a===0?[[t+1/2*u/Math.PI/2,h/2],[t+1/2*u/Math.PI,h],[t+u/4,h]]:a===1?[[t+1/2*u/Math.PI/2*(Math.PI-2),h],[t+1/2*u/Math.PI/2*(Math.PI-1),h/2],[t+u/4,0]]:a===2?[[t+1/2*u/Math.PI/2,-h/2],[t+1/2*u/Math.PI,-h],[t+u/4,-h]]:[[t+1/2*u/Math.PI/2*(Math.PI-2),-h],[t+1/2*u/Math.PI/2*(Math.PI-1),-h/2],[t+u/4,0]]}var j=M(49500),p=_.GM;function q(t){return t&&t.indexOf("path://")===0}l.Zy({type:"liquidFill",render:function(t,a,u){var h=this,v=this.group;v.removeAll();var y=t.getData(),P=y.getItemModel(0),B=P.get("center"),s=P.get("radius"),z=u.getWidth(),C=u.getHeight(),N=Math.min(z,C),F=0,A=0,K=t.get("outline.show");K&&(F=t.get("outline.borderDistance"),A=p(t.get("outline.itemStyle.borderWidth"),N));var T=p(B[0],z),D=p(B[1],C),Q,k,O,b=!1,I=t.get("shape");if(I==="container"?(b=!0,Q=[z/2,C/2],k=[Q[0]-A/2,Q[1]-A/2],O=[p(F,z),p(F,C)],s=[Math.max(k[0]-O[0],0),Math.max(k[1]-O[1],0)]):(Q=p(s,N)/2,k=Q-A/2,O=p(F,N),s=Math.max(k-O,0)),K){var ie=X();ie.style.lineWidth=A,v.add(X())}var re=b?0:T-s,ne=b?0:D-s,R=null;v.add(le());var V=this._data,H=[];y.diff(V).add(function(e){var i=J(e,!1),r=i.shape.waterLevel;i.shape.waterLevel=b?C/2:s,l.Q.initProps(i,{shape:{waterLevel:r}},t),i.z2=2,$(e,i,null),v.add(i),y.setItemGraphicEl(e,i),H.push(i)}).update(function(e,i){for(var r=V.getItemGraphicEl(i),d=J(e,!1,r),o={},n=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],f=0;f<n.length;++f){var c=n[f];d.shape.hasOwnProperty(c)&&(o[c]=d.shape[c])}for(var w={},g=["fill","opacity","shadowBlur","shadowColor"],f=0;f<g.length;++f){var c=g[f];d.style.hasOwnProperty(c)&&(w[c]=d.style[c])}b&&(o.radiusY=C/2),l.Q.updateProps(r,{shape:o,x:d.x,y:d.y},t),t.isUniversalTransitionEnabled&&t.isUniversalTransitionEnabled()?l.Q.updateProps(r,{style:w},t):r.useStyle(w);var m=r.getClipPath(),S=d.getClipPath();r.setClipPath(d.getClipPath()),r.shape.inverse=d.inverse,m&&S&&h._shape===I&&!q(I)&&l.Q.updateProps(S,{shape:m.shape},t,{isFrom:!0}),$(e,r,r),v.add(r),y.setItemGraphicEl(e,r),H.push(r)}).remove(function(e){var i=V.getItemGraphicEl(e);v.remove(i)}).execute(),P.get("label.show")&&v.add(oe(H)),this._shape=I,this._data=y;function W(e,i){if(I)if(q(I)){var r=l.Q.makePath(I.slice(7),{}),d=r.getBoundingRect(),o=d.width,n=d.height;o>n?(n=e*2/o*n,o=e*2):(o=e*2/n*o,n=e*2);var f=i?0:T-o/2,c=i?0:D-n/2;return r=l.Q.makePath(I.slice(7),{},new l.Q.BoundingRect(f,c,o,n)),i&&(r.x=-o/2,r.y=-n/2),r}else if(b){var w=i?-e[0]:T-e[0],g=i?-e[1]:D-e[1];return l._y.createSymbol("rect",w,g,e[0]*2,e[1]*2)}else{var w=i?-e:T-e,g=i?-e:D-e;return I==="pin"?g+=e:I==="arrow"&&(g-=e),l._y.createSymbol(I,w,g,e*2,e*2)}return new l.Q.Circle({shape:{cx:i?0:T,cy:i?0:D,r:e}})}function X(){var e=W(Q);return e.style.fill=null,e.setStyle(t.getModel("outline.itemStyle").getItemStyle()),e}function le(){var e=W(s);e.setStyle(t.getModel("backgroundStyle").getItemStyle()),e.style.fill=null,e.z2=5;var i=W(s);i.setStyle(t.getModel("backgroundStyle").getItemStyle()),i.style.stroke=null;var r=new l.Q.Group;return r.add(e),r.add(i),r}function J(e,i,r){var d=b?s[0]:s,o=b?C/2:s,n=y.getItemModel(e),f=n.getModel("itemStyle"),c=n.get("phase"),w=p(n.get("amplitude"),o*2),g=p(n.get("waveLength"),d*2),m=y.get("value",e),S=o-m*o*2;c=r?r.shape.phase:c==="auto"?e*Math.PI/4:c;var L=f.getItemStyle();if(!L.fill){var x=t.get("color"),G=e%x.length;L.fill=x[G]}var se=d*2,Y=new U({shape:{waveLength:g,radius:d,radiusY:o,cx:se,cy:0,waterLevel:S,amplitude:w,phase:c,inverse:i},style:L,x:T,y:D});Y.shape._waterLevel=S;var ee=n.getModel("emphasis.itemStyle").getItemStyle();ee.lineWidth=0,Y.ensureState("emphasis").style=ee,l._y.enableHoverEmphasis(Y);var te=W(s,!0);return te.setStyle({fill:"white"}),Y.setClipPath(te),Y}function $(e,i,r){var d=y.getItemModel(e),o=d.get("period"),n=d.get("direction"),f=y.get("value",e),c=d.get("phase");c=r?r.shape.phase:c==="auto"?e*Math.PI/4:c;var w=function(S){var L=y.count();return L===0?S:S*(.2+(L-e)/L*.8)},g=0;o==="auto"?g=w(5e3):g=typeof o=="function"?o(f,e):o;var m=0;n==="right"||n==null?m=Math.PI:n==="left"?m=-Math.PI:n==="none"?m=0:j.error("Illegal direction value for liquid fill."),n!=="none"&&d.get("waveAnimation")&&i.animate("shape",!0).when(0,{phase:c}).when(g/2,{phase:m+c}).when(g,{phase:m*2+c}).during(function(){R&&R.dirty(!0)}).start()}function oe(e){var i=P.getModel("label");function r(){var L=t.getFormattedLabel(0,"normal"),x=y.get("value",0)*100,G=y.getName(0)||t.name;return isNaN(x)||(G=x.toFixed(0)+"%"),L??G}var d={z2:10,shape:{x:re,y:ne,width:(b?s[0]:s)*2,height:(b?s[1]:s)*2},style:{fill:"transparent"},textConfig:{position:i.get("position")||"inside"},silent:!0},o={style:{text:r(),textAlign:i.get("align"),textVerticalAlign:i.get("baseline")}};Object.assign(o.style,l._y.createTextStyle(i));var n=new l.Q.Rect(d),f=new l.Q.Rect(d);f.disableLabelAnimation=!0,n.disableLabelAnimation=!0;var c=new l.Q.Text(o),w=new l.Q.Text(o);n.setTextContent(c),f.setTextContent(w);var g=i.get("insideColor");w.style.fill=g;var m=new l.Q.Group;m.add(n),m.add(f);var S=W(s,!0);return R=new l.Q.CompoundPath({shape:{paths:e},x:T,y:D}),R.setClipPath(S),f.setClipPath(R),m}},dispose:function(){}})},56279:function(ae,Z,M){M.d(Z,{P:function(){return U}});var l=M(86892),_=M(49500);const U={mixins:[l.D],created(){},methods:{lifecycleBeforeChartsLoad(E){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&_.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),_.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let p=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[E]);if(p)return p}return E},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&_.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),_.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}}}]);
