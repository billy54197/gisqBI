(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[1978],{20300:function(y,b,i){"use strict";var c=i(56906);y.exports=function(t){t=t||{};var e=t.reporter,o=c.getOption(t,"async",!0),u=c.getOption(t,"auto",!0);u&&!o&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),o=!0);var C=n(),S,h=!1;function E(I,P){!h&&u&&o&&C.size()===0&&O(),C.add(I,P)}function L(){for(h=!0;C.size();){var I=C;C=n(),I.process()}h=!1}function g(I){h||(I===void 0&&(I=o),S&&(p(S),S=null),I?O():L())}function O(){S=j(L)}function z(){C={},batchSize=0,topLevel=0,bottomLevel=0}function p(I){var P=clearTimeout;return P(I)}function j(I){var P=function(R){return setTimeout(R,0)};return P(I)}return{add:E,force:g}};function n(){var r={},t=0,e=0,o=0;function u(h,E){E||(E=h,h=0),h>e?e=h:h<o&&(o=h),r[h]||(r[h]=[]),r[h].push(E),t++}function C(){for(var h=o;h<=e;h++)for(var E=r[h],L=0;L<E.length;L++){var g=E[L];g()}}function S(){return t}return{add:u,process:C,size:S}}},56906:function(y){"use strict";var b=y.exports={};b.getOption=i;function i(c,n,r){var t=c[n];return t==null&&r!==void 0?r:t}},91895:function(y){"use strict";var b=y.exports={};b.isIE=function(i){function c(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!c())return!1;if(!i)return!0;var n=function(){var r,t=3,e=document.createElement("div"),o=e.getElementsByTagName("i");do e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(o[0]);return t>4?t:r}();return i===n},b.isLegacyOpera=function(){return!!window.opera}},10219:function(y){"use strict";var b=y.exports={};b.forEach=function(i,c){for(var n=0;n<i.length;n++){var r=c(i[n]);if(r)return r}}},90153:function(y,b,i){"use strict";var c=i(91895);y.exports=function(n){n=n||{};var r=n.reporter,t=n.batchProcessor,e=n.stateHandler.getState;if(!r)throw new Error("Missing required dependency: reporter.");function o(E,L){function g(){L(E)}if(c.isIE(8))e(E).object={proxy:g},E.attachEvent("onresize",g);else{var O=S(E);if(!O)throw new Error("Element is not detectable by this strategy.");O.contentDocument.defaultView.addEventListener("resize",g)}}function u(E){var L=n.important?" !important; ":"; ";return(E.join(L)+L).trim()}function C(E,L,g){g||(g=L,L=E,E=null),E=E||{};var O=E.debug;function z(p,j){var I=u(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),P=!1,R=window.getComputedStyle(p),D=p.offsetWidth,T=p.offsetHeight;e(p).startSize={width:D,height:T};function f(){function s(){if(R.position==="static"){p.style.setProperty("position","relative",E.important?"important":"");var M=function(U,N,H,B){function k(Z){return Z.replace(/[^-\d\.]/g,"")}var Q=H[B];Q!=="auto"&&k(Q)!=="0"&&(U.warn("An element that is positioned static has style."+B+"="+Q+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+B+" will be set to 0. Element: ",N),N.style.setProperty(B,"0",E.important?"important":""))};M(r,p,R,"top"),M(r,p,R,"right"),M(r,p,R,"bottom"),M(r,p,R,"left")}}function w(){P||s();function M(N,H){if(!N.contentDocument){var B=e(N);B.checkForObjectDocumentTimeoutId&&window.clearTimeout(B.checkForObjectDocumentTimeoutId),B.checkForObjectDocumentTimeoutId=setTimeout(function(){B.checkForObjectDocumentTimeoutId=0,M(N,H)},100);return}H(N.contentDocument)}var U=this;M(U,function(H){j(p)})}R.position!==""&&(s(R),P=!0);var v=document.createElement("object");v.style.cssText=I,v.tabIndex=-1,v.type="text/html",v.setAttribute("aria-hidden","true"),v.onload=w,c.isIE()||(v.data="about:blank"),e(p)&&(p.appendChild(v),e(p).object=v,c.isIE()&&(v.data="about:blank"))}t?t.add(f):f()}c.isIE(8)?g(L):z(L,g)}function S(E){return e(E).object}function h(E){if(e(E)){var L=S(E);L&&(c.isIE(8)?E.detachEvent("onresize",L.proxy):E.removeChild(L),e(E).checkForObjectDocumentTimeoutId&&window.clearTimeout(e(E).checkForObjectDocumentTimeoutId),delete e(E).object)}}return{makeDetectable:C,addListener:o,uninstall:h}}},21762:function(y,b,i){"use strict";var c=i(10219).forEach;y.exports=function(n){n=n||{};var r=n.reporter,t=n.batchProcessor,e=n.stateHandler.getState,o=n.stateHandler.hasState,u=n.idHandler;if(!t)throw new Error("Missing required dependency: batchProcessor");if(!r)throw new Error("Missing required dependency: reporter.");var C=g(),S="erd_scroll_detection_scrollbar_style",h="erd_scroll_detection_container";function E(f){O(f,S,h)}E(window.document);function L(f){var s=n.important?" !important; ":"; ";return(f.join(s)+s).trim()}function g(){var f=500,s=500,w=document.createElement("div");w.style.cssText=L(["position: absolute","width: "+f*2+"px","height: "+s*2+"px","visibility: hidden","margin: 0","padding: 0"]);var v=document.createElement("div");v.style.cssText=L(["position: absolute","width: "+f+"px","height: "+s+"px","overflow: scroll","visibility: none","top: "+-f*3+"px","left: "+-s*3+"px","visibility: hidden","margin: 0","padding: 0"]),v.appendChild(w),document.body.insertBefore(v,document.body.firstChild);var M=f-v.clientWidth,U=s-v.clientHeight;return document.body.removeChild(v),{width:M,height:U}}function O(f,s,w){function v(H,B){B=B||function(Q){f.head.appendChild(Q)};var k=f.createElement("style");return k.innerHTML=H,k.id=s,B(k),k}if(!f.getElementById(s)){var M=w+"_animation",U=w+"_animation_active",N=`/* Created by the element-resize-detector library. */
`;N+="."+w+" > div::-webkit-scrollbar { "+L(["display: none"])+` }

`,N+="."+U+" { "+L(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+M,"animation-name: "+M])+` }
`,N+="@-webkit-keyframes "+M+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,N+="@keyframes "+M+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",v(N)}}function z(f){f.className+=" "+h+"_animation_active"}function p(f,s,w){if(f.addEventListener)f.addEventListener(s,w);else if(f.attachEvent)f.attachEvent("on"+s,w);else return r.error("[scroll] Don't know how to add event listeners.")}function j(f,s,w){if(f.removeEventListener)f.removeEventListener(s,w);else if(f.detachEvent)f.detachEvent("on"+s,w);else return r.error("[scroll] Don't know how to remove event listeners.")}function I(f){return e(f).container.childNodes[0].childNodes[0].childNodes[0]}function P(f){return e(f).container.childNodes[0].childNodes[0].childNodes[1]}function R(f,s){var w=e(f).listeners;if(!w.push)throw new Error("Cannot add listener to an element that is not detectable.");e(f).listeners.push(s)}function D(f,s,w){w||(w=s,s=f,f=null),f=f||{};function v(){if(f.debug){var m=Array.prototype.slice.call(arguments);if(m.unshift(u.get(s),"Scroll: "),r.log.apply)r.log.apply(null,m);else for(var F=0;F<m.length;F++)r.log(m[F])}}function M(m){function F(V){var ot=V.getRootNode&&V.getRootNode().contains(V);return V===V.ownerDocument.body||V.ownerDocument.body.contains(V)||ot}return!F(m)||window.getComputedStyle(m)===null}function U(m){var F=e(m).container.childNodes[0],V=window.getComputedStyle(F);return!V.width||V.width.indexOf("px")===-1}function N(){var m=window.getComputedStyle(s),F={};return F.position=m.position,F.width=s.offsetWidth,F.height=s.offsetHeight,F.top=m.top,F.right=m.right,F.bottom=m.bottom,F.left=m.left,F.widthCSS=m.width,F.heightCSS=m.height,F}function H(){var m=N();e(s).startSize={width:m.width,height:m.height},v("Element start size",e(s).startSize)}function B(){e(s).listeners=[]}function k(){if(v("storeStyle invoked."),!e(s)){v("Aborting because element has been uninstalled");return}var m=N();e(s).style=m}function Q(m,F,V){e(m).lastWidth=F,e(m).lastHeight=V}function Z(m){return I(m).childNodes[0]}function W(){return 2*C.width+1}function tt(){return 2*C.height+1}function Et(m){return m+10+W()}function mt(m){return m+10+tt()}function ut(m){return m*2+W()}function Ot(m){return m*2+tt()}function yt(m,F,V){var ot=I(m),vt=P(m),xt=Et(F),bt=mt(V),et=ut(F),A=Ot(V);ot.scrollLeft=xt,ot.scrollTop=bt,vt.scrollLeft=et,vt.scrollTop=A}function rt(){var m=e(s).container;if(!m){m=document.createElement("div"),m.className=h,m.style.cssText=L(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),e(s).container=m,z(m),s.appendChild(m);var F=function(){e(s).onRendered&&e(s).onRendered()};p(m,"animationstart",F),e(s).onAnimationStart=F}return m}function ht(){function m(){var J=e(s).style;if(J.position==="static"){s.style.setProperty("position","relative",f.important?"important":"");var ft=function(dt,gt,Vt,$t){function Wt(Ut){return Ut.replace(/[^-\d\.]/g,"")}var Mt=Vt[$t];Mt!=="auto"&&Wt(Mt)!=="0"&&(dt.warn("An element that is positioned static has style."+$t+"="+Mt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+$t+" will be set to 0. Element: ",gt),gt.style[$t]=0)};ft(r,s,J,"top"),ft(r,s,J,"right"),ft(r,s,J,"bottom"),ft(r,s,J,"left")}}function F(J,ft,dt,gt){return J=J?J+"px":"0",ft=ft?ft+"px":"0",dt=dt?dt+"px":"0",gt=gt?gt+"px":"0",["left: "+J,"top: "+ft,"right: "+gt,"bottom: "+dt]}if(v("Injecting elements"),!e(s)){v("Aborting because element has been uninstalled");return}m();var V=e(s).container;V||(V=rt());var ot=C.width,vt=C.height,xt=L(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),bt=L(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(F(-(1+ot),-(1+vt),-vt,-ot))),et=L(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),A=L(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),at=L(["position: absolute","left: 0","top: 0"]),pt=L(["position: absolute","width: 200%","height: 200%"]),st=document.createElement("div"),ct=document.createElement("div"),St=document.createElement("div"),Tt=document.createElement("div"),Lt=document.createElement("div"),At=document.createElement("div");st.dir="ltr",st.style.cssText=xt,st.className=h,ct.className=h,ct.style.cssText=bt,St.style.cssText=et,Tt.style.cssText=at,Lt.style.cssText=A,At.style.cssText=pt,St.appendChild(Tt),Lt.appendChild(At),ct.appendChild(St),ct.appendChild(Lt),st.appendChild(ct),V.appendChild(st);function Dt(){var J=e(s);J&&J.onExpand?J.onExpand():v("Aborting expand scroll handler: element has been uninstalled")}function Nt(){var J=e(s);J&&J.onShrink?J.onShrink():v("Aborting shrink scroll handler: element has been uninstalled")}p(St,"scroll",Dt),p(Lt,"scroll",Nt),e(s).onExpandScroll=Dt,e(s).onShrinkScroll=Nt}function Y(){function m(et,A,at){var pt=Z(et),st=Et(A),ct=mt(at);pt.style.setProperty("width",st+"px",f.important?"important":""),pt.style.setProperty("height",ct+"px",f.important?"important":"")}function F(et){var A=s.offsetWidth,at=s.offsetHeight,pt=A!==e(s).lastWidth||at!==e(s).lastHeight;v("Storing current size",A,at),Q(s,A,at),t.add(0,function(){if(pt){if(!e(s)){v("Aborting because element has been uninstalled");return}if(!V()){v("Aborting because element container has not been initialized");return}if(f.debug){var ct=s.offsetWidth,St=s.offsetHeight;(ct!==A||St!==at)&&r.warn(u.get(s),"Scroll: Size changed before updating detector elements.")}m(s,A,at)}}),t.add(1,function(){if(!e(s)){v("Aborting because element has been uninstalled");return}if(!V()){v("Aborting because element container has not been initialized");return}yt(s,A,at)}),pt&&et&&t.add(2,function(){if(!e(s)){v("Aborting because element has been uninstalled");return}if(!V()){v("Aborting because element container has not been initialized");return}et()})}function V(){return!!e(s).container}function ot(){function et(){return e(s).lastNotifiedWidth===void 0}v("notifyListenersIfNeeded invoked");var A=e(s);if(et()&&A.lastWidth===A.startSize.width&&A.lastHeight===A.startSize.height)return v("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(A.lastWidth===A.lastNotifiedWidth&&A.lastHeight===A.lastNotifiedHeight)return v("Not notifying: Size already notified");v("Current size not notified, notifying..."),A.lastNotifiedWidth=A.lastWidth,A.lastNotifiedHeight=A.lastHeight,c(e(s).listeners,function(at){at(s)})}function vt(){if(v("startanimation triggered."),U(s)){v("Ignoring since element is still unrendered...");return}v("Element rendered.");var et=I(s),A=P(s);(et.scrollLeft===0||et.scrollTop===0||A.scrollLeft===0||A.scrollTop===0)&&(v("Scrollbars out of sync. Updating detector elements..."),F(ot))}function xt(){if(v("Scroll detected."),U(s)){v("Scroll event fired while unrendered. Ignoring...");return}F(ot)}if(v("registerListenersAndPositionElements invoked."),!e(s)){v("Aborting because element has been uninstalled");return}e(s).onRendered=vt,e(s).onExpand=xt,e(s).onShrink=xt;var bt=e(s).style;m(s,bt.width,bt.height)}function X(){if(v("finalizeDomMutation invoked."),!e(s)){v("Aborting because element has been uninstalled");return}var m=e(s).style;Q(s,m.width,m.height),yt(s,m.width,m.height)}function jt(){w(s)}function it(){v("Installing..."),B(),H(),t.add(0,k),t.add(1,ht),t.add(2,Y),t.add(3,X),t.add(4,jt)}v("Making detectable..."),M(s)?(v("Element is detached"),rt(),v("Waiting until element is attached..."),e(s).onRendered=function(){v("Element is now attached"),it()}):it()}function T(f){var s=e(f);s&&(s.onExpandScroll&&j(I(f),"scroll",s.onExpandScroll),s.onShrinkScroll&&j(P(f),"scroll",s.onShrinkScroll),s.onAnimationStart&&j(s.container,"animationstart",s.onAnimationStart),s.container&&f.removeChild(s.container))}return{makeDetectable:D,addListener:R,uninstall:T,initDocument:E}}},28766:function(y,b,i){"use strict";var c=i(10219).forEach,n=i(12167),r=i(49315),t=i(36179),e=i(49806),o=i(34880),u=i(91895),C=i(20300),S=i(55619),h=i(90153),E=i(21762);function L(p){return Array.isArray(p)||p.length!==void 0}function g(p){if(Array.isArray(p))return p;var j=[];return c(p,function(I){j.push(I)}),j}function O(p){return p&&p.nodeType===1}y.exports=function(p){p=p||{};var j;if(p.idHandler)j={get:function(Z){return p.idHandler.get(Z,!0)},set:p.idHandler.set};else{var I=t(),P=e({idGenerator:I,stateHandler:S});j=P}var R=p.reporter;if(!R){var D=R===!1;R=o(D)}var T=z(p,"batchProcessor",C({reporter:R})),f={};f.callOnAdd=!!z(p,"callOnAdd",!0),f.debug=!!z(p,"debug",!1);var s=r(j),w=n({stateHandler:S}),v,M=z(p,"strategy","object"),U=z(p,"important",!1),N={reporter:R,batchProcessor:T,stateHandler:S,idHandler:j,important:U};if(M==="scroll"&&(u.isLegacyOpera()?(R.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),M="object"):u.isIE(9)&&(R.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),M="object")),M==="scroll")v=E(N);else if(M==="object")v=h(N);else throw new Error("Invalid strategy name: "+M);var H={};function B(Z,W,tt){function Et(ht){var Y=s.get(ht);c(Y,function(jt){jt(ht)})}function mt(ht,Y,X){s.add(Y,X),ht&&X(Y)}if(tt||(tt=W,W=Z,Z={}),!W)throw new Error("At least one element required.");if(!tt)throw new Error("Listener required.");if(O(W))W=[W];else if(L(W))W=g(W);else return R.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var ut=0,Ot=z(Z,"callOnAdd",f.callOnAdd),yt=z(Z,"onReady",function(){}),rt=z(Z,"debug",f.debug);c(W,function(Y){S.getState(Y)||(S.initState(Y),j.set(Y));var X=j.get(Y);if(rt&&R.log("Attaching listener to element",X,Y),!w.isDetectable(Y)){if(rt&&R.log(X,"Not detectable."),w.isBusy(Y)){rt&&R.log(X,"System busy making it detectable"),mt(Ot,Y,tt),H[X]=H[X]||[],H[X].push(function(){ut++,ut===W.length&&yt()});return}return rt&&R.log(X,"Making detectable..."),w.markBusy(Y,!0),v.makeDetectable({debug:rt,important:U},Y,function(it){if(rt&&R.log(X,"onElementDetectable"),S.getState(it)){w.markAsDetectable(it),w.markBusy(it,!1),v.addListener(it,Et),mt(Ot,it,tt);var m=S.getState(it);if(m&&m.startSize){var F=it.offsetWidth,V=it.offsetHeight;(m.startSize.width!==F||m.startSize.height!==V)&&Et(it)}H[X]&&c(H[X],function(ot){ot()})}else rt&&R.log(X,"Element uninstalled before being detectable.");delete H[X],ut++,ut===W.length&&yt()})}rt&&R.log(X,"Already detecable, adding listener."),mt(Ot,Y,tt),ut++}),ut===W.length&&yt()}function k(Z){if(!Z)return R.error("At least one element is required.");if(O(Z))Z=[Z];else if(L(Z))Z=g(Z);else return R.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");c(Z,function(W){s.removeAllListeners(W),v.uninstall(W),S.cleanState(W)})}function Q(Z){v.initDocument&&v.initDocument(Z)}return{listenTo:B,removeListener:s.removeListener,removeAllListeners:s.removeAllListeners,uninstall:k,initDocument:Q}};function z(p,j,I){var P=p[j];return P==null&&I!==void 0?I:P}},12167:function(y){"use strict";y.exports=function(b){var i=b.stateHandler.getState;function c(e){var o=i(e);return o&&!!o.isDetectable}function n(e){i(e).isDetectable=!0}function r(e){return!!i(e).busy}function t(e,o){i(e).busy=!!o}return{isDetectable:c,markAsDetectable:n,isBusy:r,markBusy:t}}},36179:function(y){"use strict";y.exports=function(){var b=1;function i(){return b++}return{generate:i}}},49806:function(y){"use strict";y.exports=function(b){var i=b.idGenerator,c=b.stateHandler.getState;function n(t){var e=c(t);return e&&e.id!==void 0?e.id:null}function r(t){var e=c(t);if(!e)throw new Error("setId required the element to have a resize detection state.");var o=i.generate();return e.id=o,o}return{get:n,set:r}}},49315:function(y){"use strict";y.exports=function(b){var i={};function c(e){var o=b.get(e);return o===void 0?[]:i[o]||[]}function n(e,o){var u=b.get(e);i[u]||(i[u]=[]),i[u].push(o)}function r(e,o){for(var u=c(e),C=0,S=u.length;C<S;++C)if(u[C]===o){u.splice(C,1);break}}function t(e){var o=c(e);o&&(o.length=0)}return{get:c,add:n,removeListener:r,removeAllListeners:t}}},34880:function(y,b,i){"use strict";var c=i(49500);y.exports=function(n){function r(){}var t={log:r,warn:r,error:r};if(!n&&window.console){var e=function(o,u){o[u]=function(){var S=c[u];if(S.apply)S.apply(c,arguments);else for(var h=0;h<arguments.length;h++)S(arguments[h])}};e(t,"log"),e(t,"warn"),e(t,"error")}return t}},55619:function(y){"use strict";var b="_erd";function i(r){return r[b]={},c(r)}function c(r){return r[b]}function n(r){delete r[b]}y.exports={initState:i,getState:c,cleanState:n}},20767:function(y,b,i){"use strict";i.r(b)},16034:function(y,b,i){"use strict";var c=i(65557),n=i(19534);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var r=n(i(22777)),t=n(i(42762)),e=n(i(53144)),o=n(i(30044)),u=n(i(99085)),C=n(i(34009));i(20767);var S=n(i(49458)),h=i(66323),E=n(i(99096)),L=n(i(42637)),g=i(39705),O=i(79660);function z(P){var R=p();return function(){var T=(0,C.default)(P),f;if(R){var s=(0,C.default)(this).constructor;f=c(T,arguments,s)}else f=T.apply(this,arguments);return(0,u.default)(this,f)}}function p(){if(typeof Reflect>"u"||!c||c.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(c(Boolean,[],function(){})),!0}catch{return!1}}var j=function(P){(0,o.default)(D,P);var R=z(D);function D(T){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,r.default)(this,D);var s=f.center,w=s===void 0?[111.7579,31.6736]:s,v=f.zoom,M=v===void 0?5:v,U=f.projection,N=U===void 0?"EPSG:4490":U,H=f.minZoom,B=f.maxZoom,k=f.minResolution,Q=f.maxResolution,Z=f.constrainResolution,W={target:T,transformProjection:N,layers:O.mapDefaultLayers,view:new S.default({center:w,zoom:M,projection:N,minZoom:H,maxZoom:B,minResolution:k,maxResolution:Q,constrainResolution:Z}),controls:(0,h.defaults)({zoom:!1})};return R.call(this,W)}return(0,t.default)(D,[{key:"resize",value:function(){this.updateSize()}},{key:"centerAt",value:function(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=s.duration,v=w===void 0?800:w,M=s.projection,U=this.getView().getCenter(),N=this.getView().getZoom(),H=f.center,B=H===void 0?U:H,k=f.zoom,Q=k===void 0?N:k,Z=this.getView().getProjection().getCode();f.center&&M&&Z!==M&&(B=(0,g.transformCoordinate)(B,M,Z)),this.getView().animate({center:B,zoom:Q,duration:v})}},{key:"setExtent",value:function(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=s.duration,v=w===void 0?800:w,M=s.projection,U=s.padding,N=U===void 0?[0,0,0,0]:U,H=f,B=this.getView().getProjection().getCode();M&&M!==B&&(H=(0,g.transformExtent)(f,M,B)),this.getView().fit(H,{padding:N,maxZoom:this.getView().getMaxZoom(),duration:v})}},{key:"getExtent",value:function(){return(0,e.default)((0,C.default)(D.prototype),"getExtent",this).call(this)}},{key:"getCenter",value:function(){return this.getView().getCenter()}},{key:"getZoom",value:function(){return this.getView().getZoom()}},{key:"getProjection",value:function(){return this.getView().getProjection().getCode()}},{key:"addLayer",value:function(f){(0,e.default)((0,C.default)(D.prototype),"addLayer",this).call(this,f)}},{key:"removeLayer",value:function(f){(0,e.default)((0,C.default)(D.prototype),"removeLayer",this).call(this,f)}},{key:"getContainer",value:function(){return(0,e.default)((0,C.default)(D.prototype),"getViewport",this).call(this).parentNode}},{key:"createPopup",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=new L.default(this,f);return s}},{key:"createDrawLayer",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.layerManager.createDrawLayer(f)}}]),D}(E.default),I=j;b.default=I},42637:function(y,b,i){"use strict";var c=i(19534);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=c(i(28866)),r=c(i(22777)),t=c(i(42762)),e=c(i(42369)),o=function(){function C(S,h){(0,r.default)(this,C),this.map=S,this.overlayTip=new e.default({element:h.element,offset:h.offset,autoPan:!0,autoPanAnimation:{duration:250},positioning:"bottom-center"}),(0,n.default)(this).addOverlay(this.overlayTip)}return(0,t.default)(C,[{key:"setPosition",value:function(h){this.overlayTip.setPosition(h)}},{key:"destroy",value:function(){(0,n.default)(this).removeOverlay(this.overlayTip)}}]),C}(),u=o;b.default=u},61536:function(y,b,i){y.exports=function(c){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=c,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(e&1&&(t=r(t)),e&8||e&4&&typeof t=="object"&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),e&2&&typeof t!="string")for(var u in t)r.d(o,u,function(C){return t[C]}.bind(null,u));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=791)}({0:function(c,n){c.exports=i(42579)},2:function(c,n,r){"use strict";r.d(n,"a",function(){return t});function t(e,o,u,C,S,h,E,L){var g=typeof e=="function"?e.options:e;o&&(g.render=o,g.staticRenderFns=u,g._compiled=!0),C&&(g.functional=!0),h&&(g._scopeId="data-v-"+h);var O;if(E?(O=function(j){j=j||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!j&&typeof __VUE_SSR_CONTEXT__<"u"&&(j=__VUE_SSR_CONTEXT__),S&&S.call(this,j),j&&j._registeredComponents&&j._registeredComponents.add(E)},g._ssrRegister=O):S&&(O=L?function(){S.call(this,(g.functional?this.parent:this).$root.$options.shadowRoot)}:S),O)if(g.functional){g._injectStyles=O;var z=g.render;g.render=function(I,P){return O.call(P),z(I,P)}}else{var p=g.beforeCreate;g.beforeCreate=p?[].concat(p,O):[O]}return{exports:e,options:g}}},32:function(c,n){c.exports=i(17745)},6:function(c,n){c.exports=i(83574)},791:function(c,n,r){"use strict";r.r(n);var t=function(){var P=this,R=P.$createElement,D=P._self._c||R;return D("div",[P.$slots.default?D("div",{attrs:{title:"\u590D\u4F4D"},on:{click:function(T){return T.stopPropagation(),P.onClick.apply(null,arguments)}}},[P._t("default")],2):D("div",{staticClass:"sh-full-figure",attrs:{title:"\u590D\u4F4D"},on:{click:function(T){return T.stopPropagation(),P.onClick.apply(null,arguments)}}},[D("icon-svg",{attrs:{"icon-class":"reset-view",width:"16px",height:"16px",theme:P.theme}})],1)])},e=[];t._withStripped=!0;var o=r(0),u=r.n(o),C=r(6),S=r.n(C),h=r(32),E=r.n(h),L=void 0,g={name:"ShFullFigure",components:{IconSvg:E.a},mixins:[S.a],inject:{reactiveInitPosition:{default:null}},props:{initPosition:{type:Object},options:{type:Object,default:function(){u()(this,L)}.bind(void 0)}},computed:{theme:function(){return this.currentView==="map"?"light":"dark"}},methods:{onClick:function(){var R,D=((R=this.reactiveInitPosition)===null||R===void 0?void 0:R.call(this))||this.initPosition;this.currentView==="map"?this.$map.getView().animate({center:D.center,zoom:D.zoom,duration:2e3}):this.$earth.centerAt(D)}}},O=g,z=r(2),p=Object(z.a)(O,t,e,!1,null,null,null),j=p.exports;j.install=function(P){P.component(j.name,j)};var I=n.default=j}})},2258:function(y,b,i){y.exports=function(c){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=c,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(e&1&&(t=r(t)),e&8||e&4&&typeof t=="object"&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),e&2&&typeof t!="string")for(var u in t)r.d(o,u,function(C){return t[C]}.bind(null,u));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=797)}({0:function(c,n){c.exports=i(42579)},2:function(c,n,r){"use strict";r.d(n,"a",function(){return t});function t(e,o,u,C,S,h,E,L){var g=typeof e=="function"?e.options:e;o&&(g.render=o,g.staticRenderFns=u,g._compiled=!0),C&&(g.functional=!0),h&&(g._scopeId="data-v-"+h);var O;if(E?(O=function(j){j=j||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!j&&typeof __VUE_SSR_CONTEXT__<"u"&&(j=__VUE_SSR_CONTEXT__),S&&S.call(this,j),j&&j._registeredComponents&&j._registeredComponents.add(E)},g._ssrRegister=O):S&&(O=L?function(){S.call(this,(g.functional?this.parent:this).$root.$options.shadowRoot)}:S),O)if(g.functional){g._injectStyles=O;var z=g.render;g.render=function(I,P){return O.call(P),z(I,P)}}else{var p=g.beforeCreate;g.beforeCreate=p?[].concat(p,O):[O]}return{exports:e,options:g}}},32:function(c,n){c.exports=i(17745)},377:function(c,n){c.exports=i(90451)},6:function(c,n){c.exports=i(83574)},7:function(c,n){c.exports=i(17249)},797:function(c,n,r){"use strict";r.r(n);var t=function(){var f=this,s=f.$createElement,w=f._self._c||s;return w("div",[f.$slots.default?w("div",{attrs:{title:f.item.text},on:{click:function(v){return v.stopPropagation(),f.execute.apply(null,arguments)}}},[f._t("default")],2):w("div",{staticClass:"sh-full-screen",attrs:{title:f.item.text},on:{click:function(v){return v.stopPropagation(),f.execute.apply(null,arguments)}}},[w("IconSvg",{attrs:{"icon-class":f.item.icon,theme:f.theme,width:"16px",height:"16px"}})],1)])},e=[];t._withStripped=!0;var o=r(0),u=r.n(o),C=r(6),S=r.n(C),h=r(7),E=r.n(h),L=r(32),g=r.n(L),O=r(377),z=r.n(O),p,j={name:"ShFullScreen",components:{IconSvg:g.a},mixins:[S.a,E.a],data:function(){return{item:{id:"fullScreen",icon:"full-screen",text:"\u5168\u5C4F"}}},computed:{theme:function(){return this.currentView==="map"?"light":"dark"}},mounted:function(){var s=this;(this.$map||this.$earth)&&setTimeout(function(){u()(this,s),this.begin()}.bind(this),0)},beforeDestroy:function(){document.removeEventListener("fullscreenchange",p)},methods:{begin:function(){var s=this;p=function(){z.a.fullscreen===!0?s.item={id:"exitFullScreen",icon:"exit-full-screen",text:"\u9000\u51FA\u5168\u5C4F"}:s.item={id:"fullScreen",icon:"full-screen",text:"\u5168\u5C4F"}},document.removeEventListener("fullscreenchange",p),document.addEventListener("fullscreenchange",p)},execute:function(){var s=z.a.fullscreen===!1,w=document.body;s?z.a.requestFullscreen(w):z.a.exitFullscreen()}}},I=j,P=r(2),R=Object(P.a)(I,t,e,!1,null,null,null),D=R.exports;D.install=function(f){f.component(D.name,D)};var T=n.default=D}})},79810:function(y,b,i){var c=i(49500);y.exports=function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=r,t.d=function(e,o,u){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:u})},t.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(o&1&&(e=t(e)),o&8||o&4&&typeof e=="object"&&e&&e.__esModule)return e;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),o&2&&typeof e!="string")for(var C in e)t.d(u,C,function(S){return e[S]}.bind(null,C));return u},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="/dist/",t(t.s=753)}({0:function(n,r){n.exports=i(42579)},1:function(n,r){n.exports=i(28866)},10:function(n,r){n.exports=i(42762)},115:function(n,r){n.exports=i(21830)},116:function(n,r){n.exports=i(66323)},12:function(n,r){n.exports=i(65557)},126:function(n,r){n.exports=i(97998)},127:function(n,r){n.exports=i(59842)},13:function(n,r){n.exports=i(66273)},136:function(n){n.exports=JSON.parse('{"1.3.12":"1.3","2.0.5":"2.0","2.1.4":"2.1","2.2.0-29":"2.2"}')},14:function(n,r){n.exports=i(72233)},17:function(n,r){n.exports=i(85208)},18:function(n,r){n.exports=i(59791)},19:function(n,r){n.exports=i(83393)},2:function(n,r,t){"use strict";t.d(r,"a",function(){return e});function e(o,u,C,S,h,E,L,g){var O=typeof o=="function"?o.options:o;u&&(O.render=u,O.staticRenderFns=C,O._compiled=!0),S&&(O.functional=!0),E&&(O._scopeId="data-v-"+E);var z;if(L?(z=function(I){I=I||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!I&&typeof __VUE_SSR_CONTEXT__<"u"&&(I=__VUE_SSR_CONTEXT__),h&&h.call(this,I),I&&I._registeredComponents&&I._registeredComponents.add(L)},O._ssrRegister=z):h&&(z=g?function(){h.call(this,(O.functional?this.parent:this).$root.$options.shadowRoot)}:h),z)if(O.functional){O._injectStyles=z;var p=O.render;O.render=function(P,R){return z.call(R),p(P,R)}}else{var j=O.beforeCreate;O.beforeCreate=j?[].concat(j,z):[z]}return{exports:o,options:O}}},20:function(n,r){n.exports=i(5077)},21:function(n,r){n.exports=i(81806)},24:function(n,r){n.exports=i(52909)},25:function(n,r){n.exports=i(43389)},26:function(n,r){n.exports=i(34009)},28:function(n,r){n.exports=i(32726)},32:function(n,r){n.exports=i(17745)},33:function(n,r){n.exports=i(30044)},34:function(n,r){n.exports=i(99085)},354:function(n,r){n.exports=i(2258)},355:function(n,r){n.exports=i(61536)},36:function(n,r){n.exports=i(59269)},441:function(n,r){n.exports=i(16034)},442:function(n,r){n.exports=i(33917)},443:function(n,r){n.exports=i(32020)},444:function(n,r){n.exports=i(28766)},49:function(n,r){n.exports=i(91873)},53:function(n,r){n.exports=i(29870)},54:function(n,r){n.exports=i(1117)},59:function(n,r){n.exports=i(67040)},6:function(n,r){n.exports=i(83574)},68:function(n,r){n.exports=i(81534)},7:function(n,r){n.exports=i(17249)},753:function(n,r,t){"use strict";t.r(r);var e=t(0),o=t.n(e),u=function(){var a=this,d=a.$createElement,l=a._self._c||d;return l("div",{ref:"map",staticClass:"sh-map",class:{"sh-base-component":a.$isBaseComponent},attrs:{id:a.mapId}},[l("div",{staticClass:"sh-map-controls"},[a.isLoad&&a.getControlIsShow("FullFigure")?l("FullFigure",{attrs:{options:a.getControlOption("FullFigure"),"init-position":a.initPosition}},[a._t("map:FullFigure")],2):a._e(),a.isLoad&&a.getControlIsShow("Zoom")?l("Zoom",{attrs:{options:a.getControlOption("Zoom")},scopedSlots:a._u([{key:"ZoomIn",fn:function(){return[a._t("map:ZoomIn")]},proxy:!0},{key:"ZoomOut",fn:function(){return[a._t("map:ZoomOut")]},proxy:!0}],null,!0)}):a._e(),a.isLoad&&a.getControlIsShow("FullScreen")?l("FullScreen",{attrs:{options:a.getControlOption("FullScreen")}},[a._t("map:FullScreen")],2):a._e()],1),a.isLoad&&a.getControlIsShow("Geolocation")?l("Geolocation",{attrs:{options:a.getControlOption("Geolocation")}}):a._e(),a.isLoad&&a.getControlIsShow("Rotate")?l("Rotate",{attrs:{options:a.getControlOption("Rotate")}}):a._e(),a.isLoad&&a.getControlIsShow("ScaleLine")?l("ScaleLine",{attrs:{options:a.getControlOption("ScaleLine")}}):a._e(),a.isLoad?a._t("default"):a._e()],2)},C=[];u._withStripped=!0;var S=t(53),h=t.n(S),E=t(17),L=t.n(E),g=t(1),O=t.n(g),z=t(21),p=t.n(z),j=t(24),I=t.n(j),P=t(13),R=t.n(P),D=t(49),T=t(14),f=t(441),s=t.n(f),w=t(68),v=t(7),M=t.n(v),U=t(115),N=t.n(U),H=function(){var a=this,d=a.$createElement,l=a._self._c||d;return l("div",{staticClass:"sh-geolocation"},[l("div",{directives:[{name:"show",rawName:"v-show",value:a.longitude!==""&&a.latitude!=="",expression:"longitude !== '' && latitude !== ''"}],staticClass:"content"},[a._v(`
    \u7ECF\u5EA6\uFF1A`+a._s(a.longitude)+"\xA0\xA0\xA0\xA0\u7EAC\u5EA6\uFF1A"+a._s(a.latitude)+"\xA0\xA0\xA0\xA0\u65B9\u5411\uFF1A"+a._s(a.rotation)+`\u5EA6(0\u5EA6\u4E3A\u6B63\u5317)
  `)]),l("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"position"})])},B=[];H._withStripped=!0;var k=t(6),Q=t.n(k),Z={name:"ShGeolocation",mixins:[Q.a,M.a],data:function(){return{longitude:"",latitude:"",rotation:0}},mounted:function(){var d=this;this.setInitRotate(),this.subscribe.$on("rotate:change",function(l){o()(this,d),this.rotation=l}.bind(this)),this.$map.getView().on("change:center",this.onChangeCenter),this.onChangeCenter()},destroyed:function(){this.subscribe.$off("rotate:change"),this.$map.getView().un("change:center",this.onChangeCenter)},methods:{setInitRotate:function(){var d=this.$map.getView().getRotation(),l=d*180/Math.PI;l<0&&(l+=360),l=l.toFixed(0)*1,this.rotation=l},onChangeCenter:function(){var d=this.$map.getView().getCenter();this.longitude=d[0].toFixed(4),this.latitude=d[1].toFixed(4)}}},W=Z,tt=t(2),Et=Object(tt.a)(W,H,B,!1,null,null,null),mt=Et.exports,ut=function(){var a=this,d=a.$createElement,l=a._self._c||d;return l("div",{staticClass:"sh-zoom",attrs:{title:"\u653E\u5927"}},[l("div",[a.$slots.ZoomIn?l("div",{on:{click:function(x){return x.stopPropagation(),function(){return a.zoomByDelta(a.delta)}.apply(null,arguments)}}},[a._t("ZoomIn")],2):l("div",{staticClass:"zoom-in",attrs:{title:"\u653E\u5927"},on:{click:function(x){return x.stopPropagation(),function(){return a.zoomByDelta(a.delta)}.apply(null,arguments)}}},[l("icon-svg",{attrs:{"icon-class":"zoom-in",width:"16px",height:"16px",theme:"light"}})],1)]),l("div",[a.$slots.ZoomOut?l("div",{attrs:{title:"\u7F29\u5C0F"},on:{click:function(x){return x.stopPropagation(),function(){return a.zoomByDelta(-a.delta)}.apply(null,arguments)}}},[a._t("ZoomOut")],2):l("div",{staticClass:"zoom-out",attrs:{title:"\u7F29\u5C0F"},on:{click:function(x){return x.stopPropagation(),function(){return a.zoomByDelta(-a.delta)}.apply(null,arguments)}}},[l("icon-svg",{attrs:{"icon-class":"zoom-out",width:"16px",height:"16px",theme:"light"}})],1)])])},Ot=[];ut._withStripped=!0;var yt=t(32),rt=t.n(yt),ht=t(442),Y=void 0,X={name:"ShZoom",components:{IconSvg:rt.a},mixins:[Q.a,M.a],props:{options:{type:Object,default:function(){o()(this,Y)}.bind(void 0)}},data:function(){var d,l;return this.zoom,{duration:((d=this.options)===null||d===void 0?void 0:d.duration)||250,delta:((l=this.options)===null||l===void 0?void 0:l.delta)||1}},methods:{zoomByDelta:function(d){var l=this.$map.getView();if(l){var x=l.getZoom();if(x!==void 0){var $=l.getConstrainedZoom(x+d);this.duration_>0?(l.getAnimating()&&l.cancelAnimations(),l.animate({zoom:$,duration:this.duration_,easing:ht.easeOut})):l.setZoom($)}}}}},jt=X,it=Object(tt.a)(jt,ut,Ot,!1,null,null,null),m=it.exports,F=function(){var a=this,d=a.$createElement,l=a._self._c||d;return l("div",{staticClass:"sh-rotate"},[a.customImg?l("img",{staticClass:"customImg",style:{transform:"rotate("+a.rotation+"deg)"},attrs:{src:a.customImg},on:{click:a.resetNorth}}):l("div",{style:{transform:"rotate("+a.rotation+"deg)"},on:{click:function(x){return x.stopPropagation(),a.resetNorth.apply(null,arguments)}}},[l("div",{staticClass:"rotate-outer-ring-background"}),l("div",{staticClass:"rotate-outer-ring"},[l("icon-svg",{attrs:{fillcolor:"var(--sh-color-primary)","icon-class":"compass-outer",width:"60px",height:"60px",theme:"light"}})],1),l("div",{staticClass:"rotate-gyro-background"},[l("icon-svg",{attrs:{fillcolor:"var(--sh-color-primary)","icon-class":"compass-inner",width:"30px",height:"30px",theme:"light"}})],1)])])},V=[];F._withStripped=!0;var ot=void 0,vt={name:"ShRotate",components:{IconSvg:rt.a},mixins:[Q.a,M.a],props:{options:{type:Object,default:function(){o()(this,ot)}.bind(void 0)}},data:function(){var d;return{customImg:(d=this.options)===null||d===void 0?void 0:d.src,rotation:0}},mounted:function(){var d=this;this.setInitRotate(),this.$map.getView().on("change:rotation",function(l){o()(this,d);var x=l.target.getRotation();this.rotation=this.transRotation(x),this.$emit("change",this.rotation)}.bind(this))},methods:{setInitRotate:function(){var d=this.$map.getView().getRotation();this.rotation=this.transRotation(d)},transRotation:function(d){var l=d*180/Math.PI;return l<0&&(l+=360),l=l.toFixed(0)*1,l},resetNorth:function(){this.$map.getView().setRotation(0)}}},xt=vt,bt=Object(tt.a)(xt,F,V,!1,null,null,null),et=bt.exports,A=function(){var a=this,d=a.$createElement,l=a._self._c||d;return l("div",{ref:"scale",staticClass:"sh-scale-line"})},at=[];A._withStripped=!0;var pt=t(18),st=t.n(pt),ct=t(8),St=t.n(ct),Tt=t(19),Lt=t.n(Tt),At=t(20),Dt=t.n(At),Nt=t(25),J=t.n(Nt),ft=t(12),dt=t.n(ft),gt=t(9),Vt=t.n(gt),$t=t(10),Wt=t.n($t),Mt=t(33),Ut=t.n(Mt),qt=t(34),_t=t.n(qt),te=t(26),Jt=t.n(te),ee=t(116),ne=t(126),Pt=t.n(ne),re=t(443),It=t(127);function ie(a){var d=oe();return function(){var x=Jt()(a),$;if(d){var K=Jt()(this).constructor;$=dt()(x,arguments,K)}else $=x.apply(this,arguments);return _t()(this,$)}}function oe(){if(typeof Reflect>"u"||!dt.a||dt.a.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(dt()(Boolean,[],function(){})),!0}catch{return!1}}var ae=[1,2,5],Kt="scale",se=function(a){Ut()(l,a);var d=ie(l);function l(x){return Vt()(this,l),d.call(this,x)}return Wt()(l,[{key:"updateElement_",value:function(){var $=this.viewState_;if(!$){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var K=$.center,q=$.projection,nt=this.getUnits(),Rt=nt===It.Units.DEGREES?Pt.a.DEGREES:Pt.a.METERS,G=Object(T.getPointResolution)(q,$.resolution,K,Rt);q.getUnits()!==Pt.a.DEGREES&&q.getMetersPerUnit()&&Rt===Pt.a.METERS&&(G*=q.getMetersPerUnit());var lt=this.minWidth_*G,_="",Ft=0;if(nt===It.Units.DEGREES){var wt=T.METERS_PER_UNIT[Pt.a.DEGREES];q.getUnits()===Pt.a.DEGREES?lt*=wt:G/=wt,lt<wt/60?(_="\u2033",G*=3600):lt<wt?(_="\u2032",G*=60):_="\xB0"}else if(nt===It.Units.IMPERIAL)lt<.9144?(_="in",G/=.0254):lt<1609.344?(_="ft",G/=.3048):(_="mi",G/=1609.344);else if(nt===It.Units.NAUTICAL)G/=1852,_="nm";else if(nt===It.Units.METRIC)lt<.001?(_="\u03BCm",G*=1e6):lt<1?(_="mm",G*=1e3):lt<1e3?_="m":(_="km",G/=1e3);else if(nt===It.Units.US)lt<.9144?(_="in",G*=39.37):lt<1609.344?(_="ft",G/=.30480061):(_="mi",G/=1609.3472);else if(nt===Kt){var Ct=q.getMetersPerUnit(),Bt=25.4/.28,Re=1e3/25.4;Ft=parseFloat($.resolution)*Ct*Re*Bt}else Object(re.assert)(!1,33);for(var Xt=3*Math.floor(Math.log(this.minWidth_*G)/Math.log(10)),Yt,zt;;){if(Yt=ae[(Xt%3+3)%3]*Math.pow(10,Math.floor(Xt/3)),zt=Math.round(Yt/G),isNaN(zt)){this.element.style.display="none",this.renderedVisible_=!1;return}else if(zt>=this.minWidth_)break;++Xt}var Ht=Yt+" "+_;nt===Kt&&(Ht="1:"+Math.floor(Ft)),this.renderedHTML_!==Ht&&(this.innerElement_.innerHTML=Ht,this.renderedHTML_=Ht),this.renderedWidth_!==zt&&(this.innerElement_.style.width=zt+"px",this.renderedWidth_=zt),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}}]),l}(ee.ScaleLine),le=se,ue=void 0;function Qt(a,d){var l=L()(a);if(st.a){var x=st()(a);d&&(x=St()(x).call(x,function($){return Lt()(a,$).enumerable})),l.push.apply(l,x)}return l}function ce(a){for(var d=1;d<arguments.length;d++){var l=arguments[d]!=null?arguments[d]:{};d%2?Qt(Object(l),!0).forEach(function(x){J()(a,x,l[x])}):Dt.a?Object.defineProperties(a,Dt()(l)):Qt(Object(l)).forEach(function(x){Object.defineProperty(a,x,Lt()(l,x))})}return a}var fe={name:"ShScaleLine",mixins:[Q.a,M.a],props:{options:{type:Object,default:function(){o()(this,ue)}.bind(void 0)}},data:function(){return this.scaleLine,{}},mounted:function(){this.createControl()},destroyed:function(){this.$map.removeControl(this.scaleLine)},methods:{createControl:function(){this.scaleLine=new le(ce({target:this.$refs.scale},this.options)),this.$map.addControl(this.scaleLine)}}},de=fe,he=Object(tt.a)(de,A,at,!1,null,null,null),ve=he.exports,pe=t(354),ge=t.n(pe),kt=t(54),me=t(444),ye=t.n(me),xe=t(355),be=t.n(xe),Se=t(36),Ce=t(59),Gt=void 0,Ee={name:"ShMap",components:{Geolocation:mt,Zoom:m,Rotate:et,ScaleLine:ve,FullScreen:ge.a,FullFigure:be.a},mixins:[M.a,N.a],provide:function(){var d=this;return{reactiveViewMode:function(){return o()(this,d),"2D"}.bind(this),reactiveView:function(){return o()(this,d),"map"}.bind(this),reactiveMap:function(){return o()(this,d),this.$map}.bind(this),emitterId:this.emitterId}},props:{animateEnable:{type:Boolean,default:!0},mouseWheelZoomEnable:{type:Boolean,default:!0},doubleClickZoomEnable:{type:Boolean,default:!0},dragPanEnable:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:4490"},maxScale:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},center:{type:Array,default:function(){return o()(this,Gt),null}.bind(void 0)},zoom:{type:Number,default:5},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:28},constrainResolution:{type:Boolean,default:!1},controls:{type:Array,default:function(){return o()(this,Gt),["FullFigure","Zoom","Geolocation","Rotate","ScaleLine","FullScreen"]}.bind(void 0)},initData:Object,initLayers:{type:Array,default:function(){return o()(this,Gt),[]}.bind(void 0)}},data:function(){return this.$map=void 0,this.$configInfo={},this.translateInteractions=[],this.mapId=Object(kt.v4)(),{isLocate:!1,config:null,isLoad:!1,basemapcontrol:!1,importTestIsShow:!0,showPosition:!0,showZoom:!0,fullscreenControl:null,showScale:!0,maskFeature:null,maskGeometry:null}},watch:{animateEnable:function(d){this.$map.setStatus({animateEnable:d})},mouseWheelZoomEnable:function(d){this.$map.setStatus({mouseWheelZoomEnable:d})},doubleClickZoomEnable:function(d){this.$map.setStatus({doubleClickZoomEnable:d})},dragPanEnable:function(d){this.$map.setStatus({dragPanEnable:d})},center:function(d){this.$map.setCenter(d)},zoom:function(d){this.$map.setZoom(d)}},beforeCreate:function(){var d,l,x;this.$isBaseComponent=((d=this.$parent)===null||d===void 0||(l=d.$parent)===null||l===void 0||(x=l.$options)===null||x===void 0?void 0:x.name)!=="ShMapEarth",this.emitterId=this.$isBaseComponent?Object(kt.v4)():this.$parent.$parent.emitterId},mounted:function(){var d=this;if(this.$isBaseComponent){var l=L()(t(136)).reverse()[0];c.log("shinegis-client-23d version:",l)}setTimeout(function(){var x=this;o()(this,d),this.initmap();var $=ye()();$.listenTo(this.$map.getTargetElement(),function(){return o()(this,x),this.$map.updateSize()}.bind(this))}.bind(this))},methods:{initmap:function(){var d=this,l=this.$props,x=l.projection,$=l.center,K=l.zoom,q=l.minZoom,nt=l.maxZoom,Rt=l.minResolution,G=l.maxResolution,lt=l.constrainResolution;Object(w.registerProj)(x);var _=Object(T.get)(x);_.setGlobal(!0);var Ft=$||Object(T.transform)([111.7579,31.6736],"EPSG:4490",x);this.initPosition={center:Ft,zoom:K},this.$map=new s.a(O()(this.$refs),{center:Ft,zoom:K,projection:x,minZoom:q,maxZoom:nt,minResolution:Rt,maxResolution:G,constrainResolution:lt}),this.$map.setStatus({animateEnable:this.animateEnable,mouseWheelZoomEnable:this.mouseWheelZoomEnable,doubleClickZoomEnable:this.doubleClickZoomEnable,dragPanEnable:this.dragPanEnable}),this.createMapEvents(),this.setLayerLocation(),this.setInitLayers(),this.$emit("mapInited",this.$map),window.shinemap=this.$map,this.isLoad=!0;var wt=Object(Ce.getUrlParams)(decodeURIComponent(window.location.href)),Ct={};wt.forEach(function(Bt){o()(this,d),Ct[Bt.name]=Bt.value}.bind(this)),Ct.view==="map"&&this.$map.centerAt({center:[Number(Ct.x),Number(Ct.y)],zoom:Number(Ct.z)},{duration:0,projection:Ct.projection})},createMapEvents:function(){var d=this;L()(this.$listeners).forEach(function(l){var x=this;o()(this,d),p()(l).call(l,"map:")&&this.$map.on(l.replace("map:",""),function($){o()(this,x),this.$listeners[l].call(this,$)}.bind(this))}.bind(this))},setLayerLocation:function(){var d=this;if(this.initData){this.$map.layerManager.initData=this.initData;var l=function($){var K=this;if(o()(this,d),$.layer.get("layerTag")===this.initData.xm){this.$map.layerManager.un("afterAddLayer",l);var q={tag:this.initData.xm,subLayerId:"0",isStopFlashHlight:!1,express:this.initData.whereClause,isShow:!0};this.$map.search(q,function(nt,Rt,G){o()(this,K),nt&&(G&&G>0&&this.$map.layerManager.setDisableFit(!0),this.$emit("layerLocationSuccess",Rt))}.bind(this))}}.bind(this);this.$map.layerManager.on("afterAddLayer",l)}},setInitLayers:function(){for(var d=0;d<this.initLayers.length;d++)this.$map.layerManager.addCheckedLayers(this.initLayers[d])},initQuery:function(){var d=this,l=this.config.options.drawLayerStyle.fillColor?this.config.options.drawLayerStyle.fillColor:"rgba(255, 255, 255, 0.2)",x=this.config.options.drawLayerStyle.strokeColor?this.config.options.drawLayerStyle.strokeColor:"rgba(0, 191, 255, 2)",$={tag:this.config.options.initData.xm,subLayerId:"0",isStopFlashHlight:!1,express:this.config.options.initData.whereClause,isShow:!0,flashStyle:{fillColor:l,strokeColor:x}};this.$map.search($,function(K,q,nt){o()(this,d),K&&(nt&&nt>0&&this.$map.layerManager.setDisableFit(!0),this.$emit("initQuerySuccess",q))}.bind(this))},setDrawLayerStyle:function(d){if(d){var l=this.$map.getLayerById(Se.BASE_DRAWLAYER_ID),x=d.fillColor?d.fillColor:"rgba(255, 255, 255, 0.2)",$=d.strokeColor?d.strokeColor:"rgba(0, 191, 255, 2)",K=d.pointColor?d.pointColor:"#ffcc33",q=new D.Style({fill:new D.Fill({color:x}),stroke:new D.Stroke({color:$,width:2}),image:new D.Circle({radius:7,fill:new D.Fill({color:K})})});this.$map.drawStyle=q,l.setStyle(q)}},getControlIsShow:function(d){var l,x=this,$=O()(l=this.controls).call(l,function(K){return o()(this,x),h()(K)==="object"?K.name:K}.bind(this));return p()($).call($,d)},getControlOption:function(d){var l,x=this,$=I()(l=this.controls).call(l,function(K){return o()(this,x),K.name===d}.bind(this));return $?$.options:null},toggle:function(d,l,x){var $=this.$map.layerManager.getLayerDataById(d);$||($=this.$map.layerManager.getLayerDataByLayerTag(d)),$?($=JSON.parse(R()($)),$.isFit=x!==void 0?x:$.isFit,this.$emit("setLayerChecked",$,l,null)):this.$emit("setLayerChecked",d,l,null)},setSynchronous:function(d){if(d){var l=d.action;if(l==="clear")this.$map.removeAllLinkMap();else if(l==="add"){var x=d.data;x&&x.length>0&&this.addLinkMapArray(x,0)}}},addTargetLayer:function(d){var l=d.layerTag,x=d.layerFilter,$=this.$map.layerManager.getLayerDataById(l);$||($=this.$map.layerManager.getLayerDataByLayerTag(l)),$&&($.filter=x,$=JSON.parse(R()($)),$.isFit=!!d.isZoom,this.$emit("setLayerChecked",$,!0,null))}}},Oe=Ee,je=Object(tt.a)(Oe,u,C,!1,null,null,null),Le=je.exports,$e=t(28),Pe=t.n($e),Ie=void 0,Zt=Pe()(Le,{transform:function(d,l){o()(this,Ie);var x=l.projection,$=l.center,K=l.controls,q=l.zoom;return{projection:x,center:$,controls:K,zoom:Number(q)}}.bind(void 0)});Zt.install=function(a){a.component(Zt.name,Zt)};var we=r.default=Zt},8:function(n,r){n.exports=i(22466)},9:function(n,r){n.exports=i(22777)}})},21830:function(y,b,i){"use strict";var c=i(19534);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=c(i(42579)),r={data:function(){return{currentInteraction:""}},provide:function(){var o=this;return{reactiveInteraction:function(){return(0,n.default)(this,o),this.currentInteraction}.bind(this)}},mounted:function(){var o=this;this.subscribe.$on("identify-popup:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShIdentifyPopup",u)}.bind(this)),this.subscribe.$on("select-tool:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShSelectTool",u)}.bind(this)),this.subscribe.$on("draw-tool:change:active",function(u,C,S){(0,n.default)(this,o),this.changeCurrentInteraction("ShDrawTool",S.length>0)}.bind(this)),this.subscribe.$on("map-measure:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShMapMeasure",u)}.bind(this)),this.subscribe.$on("plot-tool:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShPlotTool",u)}.bind(this)),this.subscribe.$on("map-measure3d:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShMapMeasure3d",u)}.bind(this)),this.subscribe.$on("export-map:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShExportMap",u)}.bind(this)),this.subscribe.$on("spatial-analysis3d:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShSpatialAnalysis3d",u)}.bind(this)),this.subscribe.$on("flatten-tools:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShFlattenTools",u)}.bind(this)),this.subscribe.$on("roam3d:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShRoam3d",u)}.bind(this)),this.subscribe.$on("clip-tools:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShClipTools",u)}.bind(this)),this.subscribe.$on("split-tool:change:active",function(u){return(0,n.default)(this,o),this.changeCurrentInteraction("ShSplitTool",u)}.bind(this))},methods:{changeCurrentInteraction:function(o,u){u?this.currentInteraction=o:this.currentInteraction===o&&(this.currentInteraction="")}}},t=r;b.default=t},79660:function(y,b,i){"use strict";var c=i(19534);Object.defineProperty(b,"__esModule",{value:!0}),b.mapDefaultLayers=void 0;var n=i(83062),r=c(i(18187)),t=i(91873),e=i(59269),o=[new n.Vector({id:e.BASE_DRAWLAYER_ID,type:e.BASE_DRAWLAYER_TYPE,zIndex:999999,source:new r.default,style:new t.Style({fill:new t.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new t.Stroke({color:"rgba(0, 191, 255, 2)",width:2}),image:new t.Circle({radius:7,fill:new t.Fill({color:"#ffcc33"})})})}),new n.Vector({id:"locateLayer",zIndex:999999,source:new r.default,style:new t.Style({fill:new t.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new t.Stroke({color:"#ffcc33",width:2}),image:new t.Circle({radius:7,fill:new t.Fill({color:"#ffcc33"})})})}),new n.Vector({id:"identifyDrawLayer",zIndex:999999,source:new r.default}),new n.Vector({id:"identifyPopupLayer",zIndex:999999,source:new r.default})];b.mapDefaultLayers=o},90451:function(y,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;function i(e){return e!=null}var c,n={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},r={};Object.defineProperties(r,{element:{get:function(){if(r.supportsFullscreen())return document[n.fullscreenElement]}},changeEventName:{get:function(){if(r.supportsFullscreen())return n.fullscreenchange}},errorEventName:{get:function(){if(r.supportsFullscreen())return n.fullscreenerror}},enabled:{get:function(){if(r.supportsFullscreen())return document[n.fullscreenEnabled]}},fullscreen:{get:function(){if(r.supportsFullscreen())return r.element!==null}}}),r.supportsFullscreen=function(){if(i(c))return c;c=!1;var e=document.body;if(typeof e.requestFullscreen=="function")return n.requestFullscreen="requestFullscreen",n.exitFullscreen="exitFullscreen",n.fullscreenEnabled="fullscreenEnabled",n.fullscreenElement="fullscreenElement",n.fullscreenchange="fullscreenchange",n.fullscreenerror="fullscreenerror",c=!0,c;for(var o=["webkit","moz","o","ms","khtml"],u,C=0,S=o.length;C<S;++C){var h=o[C];u="".concat(h,"RequestFullscreen"),typeof e[u]=="function"?(n.requestFullscreen=u,c=!0):(u="".concat(h,"RequestFullScreen"),typeof e[u]=="function"&&(n.requestFullscreen=u,c=!0)),u="".concat(h,"ExitFullscreen"),typeof document[u]=="function"?n.exitFullscreen=u:(u="".concat(h,"CancelFullScreen"),typeof document[u]=="function"&&(n.exitFullscreen=u)),u="".concat(h,"FullscreenEnabled"),document[u]!==void 0?n.fullscreenEnabled=u:(u="".concat(h,"FullScreenEnabled"),document[u]!==void 0&&(n.fullscreenEnabled=u)),u="".concat(h,"FullscreenElement"),document[u]!==void 0?n.fullscreenElement=u:(u="".concat(h,"FullScreenElement"),document[u]!==void 0&&(n.fullscreenElement=u)),u="".concat(h,"fullscreenchange"),document["on".concat(u)]!==void 0&&(h==="ms"&&(u="MSFullscreenChange"),n.fullscreenchange=u),u="".concat(h,"fullscreenerror"),document["on".concat(u)]!==void 0&&(h==="ms"&&(u="MSFullscreenError"),n.fullscreenerror=u)}return c},r.requestFullscreen=function(e,o){r.supportsFullscreen()&&e[n.requestFullscreen]({vrDisplay:o})},r.exitFullscreen=function(){r.supportsFullscreen()&&document[n.exitFullscreen]()},r._names=n;var t=r;b.default=t},69257:function(y,b,i){y.exports=i(4989)},5077:function(y,b,i){y.exports=i(72873)},59791:function(y,b,i){y.exports=i(69127)},43389:function(y,b,i){var c=i(57448),n=i(68871);function r(t,e,o){return e=n(e),e in t?c(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}y.exports=r,y.exports.__esModule=!0,y.exports.default=y.exports},49632:function(y,b,i){"use strict";i(46670);var c=i(94388);y.exports=c.Object.assign},59631:function(y,b,i){"use strict";i(25902);var c=i(94388);y.exports=c.Object.getOwnPropertyDescriptors},81640:function(y,b,i){"use strict";i(46932);var c=i(94388);y.exports=c.Object.getOwnPropertySymbols},71073:function(y,b,i){"use strict";var c=i(14451),n=i(36021),r=i(99556),t=i(27909),e=i(98564),o=i(53529),u=i(7196),C=i(19449),S=i(21958),h=Object.assign,E=Object.defineProperty,L=n([].concat);y.exports=!h||t(function(){if(c&&h({b:1},h(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},O={},z=Symbol("assign detection"),p="abcdefghijklmnopqrst";return g[z]=7,p.split("").forEach(function(j){O[j]=j}),h({},g)[z]!==7||e(h({},O)).join("")!==p})?function(O,z){for(var p=C(O),j=arguments.length,I=1,P=o.f,R=u.f;j>I;)for(var D=S(arguments[I++]),T=P?L(e(D),P(D)):e(D),f=T.length,s=0,w;f>s;)w=T[s++],(!c||r(R,D,w))&&(p[w]=D[w]);return p}:h},46670:function(y,b,i){"use strict";var c=i(90434),n=i(71073);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},25902:function(y,b,i){"use strict";var c=i(90434),n=i(14451),r=i(35744),t=i(4036),e=i(68428),o=i(59063);c({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(C){for(var S=t(C),h=e.f,E=r(S),L={},g=0,O,z;E.length>g;)z=h(S,O=E[g++]),z!==void 0&&o(L,O,z);return L}})},4989:function(y,b,i){"use strict";var c=i(49632);y.exports=c},72873:function(y,b,i){"use strict";var c=i(59631);y.exports=c},69127:function(y,b,i){"use strict";var c=i(81640);y.exports=c}}]);
