"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[53402],{953402:function(y,n,s){s.r(n),s.d(n,{default:function(){return f}});var l=function(){var t=this,a=t._self._c;return a("div",[a("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:t.currentWidget.dataset}},[a("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:t.changeDatasetType},model:{value:t.currentWidget.dataset.type,callback:function(e){t.$set(t.currentWidget.dataset,"type",e)},expression:"currentWidget.dataset.type"}},t._l(this.$$global_editor.dataSourcTypeList3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"\u9ED8\u8BA4\u9009\u4E2D"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"\u683C\u5F0F:a,b,c"},on:{change:t.getConfigData},model:{value:t.currentWidget.dataset[t.currentWidget.dataset.type].defaultValue,callback:function(e){t.$set(t.currentWidget.dataset[t.currentWidget.dataset.type],"defaultValue",e)},expression:"currentWidget.dataset[currentWidget.dataset.type].defaultValue"}})],1),a("el-form-item",{attrs:{label:"\u7ED1\u5B9A\u503C"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u7ED1\u5B9A\u503C\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:t.getConfigData},model:{value:t.currentWidget.dataset[t.currentWidget.dataset.type].encode.value,callback:function(e){t.$set(t.currentWidget.dataset[t.currentWidget.dataset.type].encode,"value",e)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.value"}},t._l(this.currentWidget.dataset[t.currentWidget.dataset.type].dimensionsAlias,function(e){return a("el-option",{key:e.name,attrs:{label:e.alias!=""?e.alias:e.name,value:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u7ED1\u5B9A\u6587\u672C"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u7ED1\u5B9A\u6587\u672C\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:t.getConfigData},model:{value:t.currentWidget.dataset[t.currentWidget.dataset.type].encode.label,callback:function(e){t.$set(t.currentWidget.dataset[t.currentWidget.dataset.type].encode,"label",e)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.label"}},t._l(this.currentWidget.dataset[t.currentWidget.dataset.type].dimensionsAlias,function(e){return a("el-option",{key:e.name,attrs:{label:e.alias!=""?e.alias:e.name,value:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u662F\u5426\u7981\u7528"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u7981\u7528\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:t.getConfigData},model:{value:t.currentWidget.dataset[t.currentWidget.dataset.type].encode.disabled,callback:function(e){t.$set(t.currentWidget.dataset[t.currentWidget.dataset.type].encode,"disabled",e)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.disabled"}},t._l(this.currentWidget.dataset[t.currentWidget.dataset.type].dimensionsAlias,function(e){return a("el-option",{key:e.name,attrs:{label:e.alias!=""?e.alias:e.name,value:e.name}})}),1)],1),a("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:t.currentWidget},on:{getDataSetData:t.getConfigData,clearDynamicEncode:t.clearDynamicEncode}})],1)],1)},c=[],u=s(589908),g=s(723400),o={name:"checkbox-group-data",components:{SettingDataset:u.Z},props:["currentWidget"],mixins:[g.j],watch:{"currentWidget.config.min"(){let d=this.currentWidget.config.min;if(d>0){let t=this.currentWidget.dataset[this.currentWidget.dataset.type].encode.value,a=this.currentWidget.dataset[this.currentWidget.dataset.type].dimensions,e=this.currentWidget.dataset[this.currentWidget.dataset.type].source,r=this.getValList(t,a,e);r.length>0&&this.$$lib__.each(r,i=>{this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue==""||this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue==null?this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue=r[0]:this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue!=""&&this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue.split(",").length<d&&this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue.indexOf(i)==-1&&(this.currentWidget.dataset[this.currentWidget.dataset.type].defaultValue+=","+i),this.getConfigData()})}}},methods:{getValList(d,t,a){let e=null;for(let i=0;i<t.length;i++)t[i]==d&&(e=i);let r=[];return this.$$lib__.each(a,i=>{r.push(i[e])}),r},changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.dataset[this.currentWidget.dataset.type].encode.value="",this.currentWidget.dataset[this.currentWidget.dataset.type].encode.label="",this.currentWidget.dataset[this.currentWidget.dataset.type].encode.disabled=""}}},h=o,p=s(768141),W=(0,p.Z)(h,l,c,!1,null,"d9164670",null),f=W.exports}}]);
