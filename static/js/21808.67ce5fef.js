(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[21808],{677005:function(K,R,P){var G,$;(function(p){K.exports?(p.default=p,K.exports=p):(G=[P(235776)],$=function(U){return p(U),p.Highcharts=U,p}.apply(R,G),$!==void 0&&(K.exports=$))})(function(p){function U(A,m,g,E){A.hasOwnProperty(m)||(A[m]=E.apply(null,g),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:m,module:A[m]}})))}p=p?p._modules:{},U(p,"Core/Geometry/GeometryUtilities.js",[],function(){var A;return function(m){m.getCenterOfPoints=function(g){var E=g.reduce(function(L,l){return L.x+=l.x,L.y+=l.y,L},{x:0,y:0});return{x:E.x/g.length,y:E.y/g.length}},m.getDistanceBetweenPoints=function(g,E){return Math.sqrt(Math.pow(E.x-g.x,2)+Math.pow(E.y-g.y,2))},m.getAngleBetweenPoints=function(g,E){return Math.atan2(E.x-g.x,E.y-g.y)}}(A||(A={})),A}),U(p,"Core/Geometry/CircleUtilities.js",[p["Core/Geometry/GeometryUtilities.js"]],function(A){var m=A.getAngleBetweenPoints,g=A.getCenterOfPoints,E=A.getDistanceBetweenPoints,L;return function(l){function w(d,f){return f=Math.pow(10,f),Math.round(d*f)/f}function N(d){if(0>=d)throw Error("radius of circle must be a positive number.");return Math.PI*d*d}function M(d,f){return d*d*Math.acos(1-f/d)-(d-f)*Math.sqrt(f*(2*d-f))}function F(d,f){var x=E(d,f),O=d.r,D=f.r,u=[];if(x<O+D&&x>Math.abs(O-D)){O*=O;var c=(O-D*D+x*x)/(2*x);D=Math.sqrt(O-c*c),O=d.x,u=f.x,d=d.y;var j=f.y;f=O+c*(u-O)/x,c=d+c*(j-d)/x,d=D/x*-(j-d),x=D/x*-(u-O),u=[{x:w(f+d,14),y:w(c-x,14)},{x:w(f-d,14),y:w(c+x,14)}]}return u}function X(d){return d.reduce(function(f,x,O,D){return D=D.slice(O+1).reduce(function(u,c,j,I){var T=[O,j+O+1];return u.concat(F(x,c).map(function(r){return r.indexes=T,r}))},[]),f.concat(D)},[])}function J(d,f){return E(d,f)<=f.r+1e-10}function W(d,f){return!f.some(function(x){return!J(d,x)})}function z(d){return X(d).filter(function(f){return W(f,d)})}l.round=w,l.getAreaOfCircle=N,l.getCircularSegmentArea=M,l.getOverlapBetweenCircles=function(d,f,x){var O=0;return x<d+f&&(x<=Math.abs(f-d)?O=N(d<f?d:f):(O=(d*d-f*f+x*x)/(2*x),x-=O,O=M(d,d-O)+M(f,f-x)),O=w(O,14)),O},l.getCircleCircleIntersection=F,l.getCirclesIntersectionPoints=X,l.isCircle1CompletelyOverlappingCircle2=function(d,f){return E(d,f)+f.r<d.r+1e-10},l.isPointInsideCircle=J,l.isPointInsideAllCircles=W,l.isPointOutsideAllCircles=function(d,f){return!f.some(function(x){return J(d,x)})},l.getCirclesIntersectionPolygon=z,l.getAreaOfIntersectionBetweenCircles=function(d){var f=z(d);if(1<f.length){var x=g(f);f=f.map(function(u){return u.angle=m(x,u),u}).sort(function(u,c){return c.angle-u.angle});var O=f[f.length-1];if(f=f.reduce(function(u,c){var j=u.startPoint,I=g([j,c]),T=c.indexes.filter(function(i){return-1<j.indexes.indexOf(i)}).reduce(function(i,n){n=d[n];var t=m(n,c),e=m(n,j);return t=e-(e-t+(e<t?2*Math.PI:0))/2,t=E(I,{x:n.x+n.r*Math.sin(t),y:n.y+n.r*Math.cos(t)}),n=n.r,t>2*n&&(t=2*n),(!i||i.width>t)&&(i={r:n,largeArc:t>n?1:0,width:t,x:c.x,y:c.y}),i},null);if(T){var r=T.r;u.arcs.push(["A",r,r,0,T.largeArc,1,T.x,T.y]),u.startPoint=c}return u},{startPoint:O,arcs:[]}).arcs,f.length!==0&&f.length!==1){f.unshift(["M",O.x,O.y]);var D={center:x,d:f}}}return D}}(L||(L={})),L}),U(p,"Series/DrawPointUtilities.js",[p["Core/Utilities.js"]],function(A){return{draw:function(m,g){var E=g.animatableAttribs,L=g.onComplete,l=g.css,w=g.renderer,N=m.series&&m.series.chart.hasRendered?void 0:m.series&&m.series.options.animation,M=m.graphic;if(g.attribs=g.attribs||{},g.attribs.class=m.getClassName(),m.shouldDraw())M||(m.graphic=M=g.shapeType==="text"?w.text():w[g.shapeType](g.shapeArgs||{}),M.add(g.group)),l&&M.css(l),M.attr(g.attribs).animate(E,g.isNew?!1:N,L);else if(M){var F=function(){m.graphic=M=M&&M.destroy(),typeof L=="function"&&L()};Object.keys(E).length?M.animate(E,void 0,function(){return F()}):F()}}}}),U(p,"Series/Venn/VennPoint.js",[p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(A,m){var g=this&&this.__extends||function(){var L=function(l,w){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,M){N.__proto__=M}||function(N,M){for(var F in M)M.hasOwnProperty(F)&&(N[F]=M[F])},L(l,w)};return function(l,w){function N(){this.constructor=l}L(l,w),l.prototype=w===null?Object.create(w):(N.prototype=w.prototype,new N)}}(),E=m.isNumber;return function(L){function l(){var w=L!==null&&L.apply(this,arguments)||this;return w.options=void 0,w.series=void 0,w}return g(l,L),l.prototype.isValid=function(){return E(this.value)},l.prototype.shouldDraw=function(){return!!this.shapeArgs},l}(A.seriesTypes.scatter.prototype.pointClass)}),U(p,"Series/Venn/VennUtils.js",[p["Core/Geometry/CircleUtilities.js"],p["Core/Geometry/GeometryUtilities.js"],p["Core/Utilities.js"]],function(A,m,g){function E(r){var i=r.filter(function(n){return n.sets.length===2}).reduce(function(n,t){return t.sets.forEach(function(e,o,s){I(n[e])||(n[e]={overlapping:{},totalOverlap:0}),n[e].totalOverlap+=t.value,n[e].overlapping[s[1-o]]=t.value}),n},{});return r.filter(M).forEach(function(n){u(n,i[n.sets[0]])}),r}function L(r,i,n,t,e){var o=r(i),s=r(n);e=e||100,t=t||1e-10;var a=n-i,h=1;if(i>=n)throw Error("a must be smaller than b.");if(0<o*s)throw Error("f(a) and f(b) must have opposite signs.");if(o===0)var C=i;else if(s===0)C=n;else for(;h++<=e&&v!==0&&a>t;){a=(n-i)/2,C=i+a;var v=r(C);0<o*v?i=C:n=C}return C}function l(r){r=r.slice(0,-1);for(var i=r.length,n=[],t=function(o,s){return o.sum+=s[o.i],o},e=0;e<i;e++)n[e]=r.reduce(t,{sum:0,i:e}).sum/i;return n}function w(r,i,n){var t=r+i;return 0>=n?t:W(r<i?r:i)<=n?0:L(function(e){return e=d(r,i,e),n-e},0,t)}function N(r){var i=0;return r.length===2&&(i=r[0],r=r[1],i=d(i.r,r.r,D(i,r))),i}function M(r){return c(r.sets)&&r.sets.length===1}function F(r){var i={};return I(r)&&j(r.value)&&-1<r.value&&c(r.sets)&&0<r.sets.length&&!r.sets.some(function(n){var t=!1;return!i[n]&&T(n)?i[n]=!0:t=!0,t})}function X(r,i){return i.reduce(function(n,t){var e=0;return 1<t.sets.length&&(e=t.value,t=N(t.sets.map(function(o){return r[o]})),t=e-t,e=Math.round(t*t*1e11)/1e11),n+e},0)}function J(r,i){return i.totalOverlap-r.totalOverlap}var W=A.getAreaOfCircle,z=A.getCircleCircleIntersection,d=A.getOverlapBetweenCircles,f=A.isPointInsideAllCircles,x=A.isPointInsideCircle,O=A.isPointOutsideAllCircles,D=m.getDistanceBetweenPoints,u=g.extend,c=g.isArray,j=g.isNumber,I=g.isObject,T=g.isString;return{geometry:m,geometryCircles:A,addOverlapToSets:E,getCentroid:l,getDistanceBetweenCirclesByOverlap:w,getLabelWidth:function(r,i,n){var t=i.reduce(function(o,s){return Math.min(s.r,o)},1/0),e=n.filter(function(o){return!x(r,o)});return n=function(o,s){return L(function(a){var h={x:r.x+s*a,y:r.y};return h=f(h,i)&&O(h,e),-(o-a)+(h?0:Number.MAX_VALUE)},0,o)},2*Math.min(n(t,-1),n(t,1))},getMarginFromCircles:function(r,i,n){return i=i.reduce(function(t,e){return e=e.r-D(r,e),e<=t?e:t},Number.MAX_VALUE),i=n.reduce(function(t,e){return e=D(r,e)-e.r,e<=t?e:t},i)},isSet:M,layoutGreedyVenn:function(r){var i=[],n={};r.filter(function(s){return s.sets.length===1}).forEach(function(s){n[s.sets[0]]=s.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(s.value/Math.PI)}});var t=function(s,a){var h=s.circle;h.x=a.x,h.y=a.y,i.push(s)};E(r);var e=r.filter(M).sort(J);t(e.shift(),{x:0,y:0});var o=r.filter(function(s){return s.sets.length===2});return e.forEach(function(s){var a=s.circle,h=a.r,C=s.overlapping,v=i.reduce(function(V,S,b){var y=S.circle,H=w(h,y.r,C[S.sets[0]]),B=[{x:y.x+H,y:y.y},{x:y.x-H,y:y.y},{x:y.x,y:y.y+H},{x:y.x,y:y.y-H}];return i.slice(b+1).forEach(function(_){var Z=_.circle;_=w(h,Z.r,C[_.sets[0]]),B=B.concat(z({x:y.x,y:y.y,r:H},{x:Z.x,y:Z.y,r:_}))}),B.forEach(function(_){a.x=_.x,a.y=_.y;var Z=X(n,o);Z<V.loss&&(V.loss=Z,V.coordinates=_)}),V},{loss:Number.MAX_VALUE,coordinates:void 0});t(s,v.coordinates)}),n},loss:X,nelderMead:function(r,i){var n=function(S,b){return S.fx-b.fx},t=function(S,b,y,H){return b.map(function(B,_){return S*B+y*H[_]})},e=function(S,b){return b.fx=r(b),S[S.length-1]=b,S},o=function(S){var b=S[0];return S.map(function(y){return y=t(.5,b,.5,y),y.fx=r(y),y})},s=function(S,b,y,H){return S=t(y,S,H,b),S.fx=r(S),S};i=function(S){var b=S.length,y=Array(b+1);y[0]=S,y[0].fx=r(S);for(var H=0;H<b;++H){var B=S.slice();B[H]=B[H]?1.05*B[H]:.001,B.fx=r(B),y[H+1]=B}return y}(i);for(var a=0;100>a;a++){i.sort(n);var h=i[i.length-1],C=l(i),v=s(C,h,2,-1);if(v.fx<i[0].fx)h=s(C,h,3,-2),i=e(i,h.fx<v.fx?h:v);else if(v.fx>=i[i.length-2].fx){var V=void 0;v.fx>h.fx?(V=s(C,h,.5,.5),i=V.fx<h.fx?e(i,V):o(i)):(V=s(C,h,1.5,-.5),i=V.fx<v.fx?e(i,V):o(i))}else i=e(i,v)}return i[0]},processVennData:function(r){r=c(r)?r:[];var i=r.reduce(function(t,e){return F(e)&&M(e)&&0<e.value&&t.indexOf(e.sets[0])===-1&&t.push(e.sets[0]),t},[]).sort(),n=r.reduce(function(t,e){return F(e)&&!e.sets.some(function(o){return i.indexOf(o)===-1})&&(t[e.sets.sort().join()]=e),t},{});return i.reduce(function(t,e,o,s){return s.slice(o+1).forEach(function(a){t.push(e+","+a)}),t},[]).forEach(function(t){if(!n[t]){var e={sets:t.split(","),value:0};n[t]=e}}),Object.keys(n).map(function(t){return n[t]})},sortByTotalOverlap:J}}),U(p,"Series/Venn/VennSeries.js",[p["Core/Animation/AnimationUtilities.js"],p["Core/Color/Color.js"],p["Core/Geometry/CircleUtilities.js"],p["Series/DrawPointUtilities.js"],p["Core/Geometry/GeometryUtilities.js"],p["Core/Series/SeriesRegistry.js"],p["Series/Venn/VennPoint.js"],p["Series/Venn/VennUtils.js"],p["Core/Legend/LegendSymbol.js"],p["Core/Utilities.js"]],function(A,m,g,E,L,l,w,N,M,F){var X=this&&this.__extends||function(){var i=function(n,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])},i(n,t)};return function(n,t){function e(){this.constructor=n}i(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),J=A.animObject,W=m.parse,z=g.getAreaOfIntersectionBetweenCircles,d=g.getCirclesIntersectionPolygon,f=g.isCircle1CompletelyOverlappingCircle2,x=g.isPointInsideAllCircles,O=g.isPointOutsideAllCircles,D=L.getCenterOfPoints,u=l.seriesTypes.scatter;A=F.addEvent;var c=F.extend,j=F.isArray,I=F.isNumber,T=F.isObject,r=F.merge;return F=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.data=void 0,t.mapOfIdToRelation=void 0,t.options=void 0,t.points=void 0,t}return X(n,i),n.getLabelPosition=function(t,e){var o=t.reduce(function(s,a){var h=a.r/2;return[{x:a.x,y:a.y},{x:a.x+h,y:a.y},{x:a.x-h,y:a.y},{x:a.x,y:a.y+h},{x:a.x,y:a.y-h}].reduce(function(C,v){var V=N.getMarginFromCircles(v,t,e);return C.margin<V&&(C.point=v,C.margin=V),C},s)},{point:void 0,margin:-Number.MAX_VALUE}).point;return o=N.nelderMead(function(s){return-N.getMarginFromCircles({x:s[0],y:s[1]},t,e)},[o.x,o.y]),o={x:o[0],y:o[1]},x(o,t)&&O(o,e)||(o=1<t.length?D(d(t)):{x:t[0].x,y:t[0].y}),o},n.getLabelValues=function(t,e){var o=t.sets,s=e.reduce(function(a,h){var C=-1<o.indexOf(h.sets[0]);return a[C?"internal":"external"].push(h.circle),a},{internal:[],external:[]});return s.external=s.external.filter(function(a){return s.internal.some(function(h){return!f(a,h)})}),t=n.getLabelPosition(s.internal,s.external),e=N.getLabelWidth(t,s.internal,s.external),{position:t,width:e}},n.layout=function(t){var e={},o={};if(0<t.length){var s=N.layoutGreedyVenn(t),a=t.filter(N.isSet);t.forEach(function(h){var C=h.sets,v=C.join();(C=N.isSet(h)?s[v]:z(C.map(function(V){return s[V]})))&&(e[v]=C,o[v]=n.getLabelValues(h,a))})}return{mapOfIdToShape:e,mapOfIdToLabelValues:o}},n.getScale=function(t,e,o){var s=o.bottom-o.top,a=o.right-o.left;return s=Math.min(0<a?1/a*t:1,0<s?1/s*e:1),{scale:s,centerX:t/2-(o.right+o.left)/2*s,centerY:e/2-(o.top+o.bottom)/2*s}},n.updateFieldBoundaries=function(t,e){var o=e.x-e.r,s=e.x+e.r,a=e.y+e.r;return e=e.y-e.r,(!I(t.left)||t.left>o)&&(t.left=o),(!I(t.right)||t.right<s)&&(t.right=s),(!I(t.top)||t.top>e)&&(t.top=e),(!I(t.bottom)||t.bottom<a)&&(t.bottom=a),t},n.prototype.animate=function(t){if(!t){var e=J(this.options.animation);this.points.forEach(function(o){var s=o.shapeArgs;if(o.graphic&&s){var a={},h={};s.d?a.opacity=.001:(a.r=0,h.r=s.r),o.graphic.attr(a).animate(h,e),s.d&&setTimeout(function(){o&&o.graphic&&o.graphic.animate({opacity:1})},e.duration)}},this)}},n.prototype.drawPoints=function(){var t=this,e=t.chart,o=t.group,s=e.renderer;(t.points||[]).forEach(function(a){var h={zIndex:j(a.sets)?a.sets.length:0},C=a.shapeArgs;e.styledMode||c(h,t.pointAttribs(a,a.state)),E.draw(a,{isNew:!a.graphic,animatableAttribs:C,attribs:h,group:o,renderer:s,shapeType:C&&C.d?"path":"circle"})})},n.prototype.init=function(){u.prototype.init.apply(this,arguments),delete this.opacity},n.prototype.pointAttribs=function(t,e){var o=this.options||{};return t=r(o,{color:t&&t.color},t&&t.options||{},e&&o.states[e]||{}),{fill:W(t.color).brighten(t.brightness).get(),opacity:t.opacity,stroke:t.borderColor,"stroke-width":t.borderWidth,dashstyle:t.borderDashStyle}},n.prototype.translate=function(){var t=this.chart;this.processedXData=this.xData,this.generatePoints();var e=N.processVennData(this.options.data);e=n.layout(e);var o=e.mapOfIdToShape,s=e.mapOfIdToLabelValues;e=Object.keys(o).filter(function(v){return(v=o[v])&&I(v.r)}).reduce(function(v,V){return n.updateFieldBoundaries(v,o[V])},{top:0,bottom:0,left:0,right:0}),t=n.getScale(t.plotWidth,t.plotHeight,e);var a=t.scale,h=t.centerX,C=t.centerY;this.points.forEach(function(v){var V=j(v.sets)?v.sets:[],S=V.join(),b=o[S],y=s[S]||{};S=y.width,y=y.position;var H=v.options&&v.options.dataLabels;if(b){if(b.r)var B={x:h+b.x*a,y:C+b.y*a,r:b.r*a};else b.d&&(b=b.d,b.forEach(function(_){_[0]==="M"?(_[1]=h+_[1]*a,_[2]=C+_[2]*a):_[0]==="A"&&(_[1]*=a,_[2]*=a,_[6]=h+_[6]*a,_[7]=C+_[7]*a)}),B={d:b});y?(y.x=h+y.x*a,y.y=C+y.y*a):y={},I(S)&&(S=Math.round(S*a))}v.shapeArgs=B,y&&B&&(v.plotX=y.x,v.plotY=y.y),S&&B&&(v.dlOptions=r(!0,{style:{width:S}},T(H,!0)?H:void 0)),v.name=v.options.name||V.join("\u2229")})},n.defaultOptions=r(u.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"}}),n}(u),c(F.prototype,{axisTypes:[],directTouch:!0,drawLegendSymbol:M.drawRectangle,isCartesian:!1,pointArrayMap:["value"],pointClass:w,utils:N}),l.registerSeriesType("venn",F),A(F,"afterSetOptions",function(i){var n=i.options.states;this.is("venn")&&Object.keys(n).forEach(function(t){n[t].halo=!1})}),F}),U(p,"masters/modules/venn.src.js",[],function(){})})},56279:function(K,R,P){"use strict";P.d(R,{P:function(){return p}});var G=P(386892),$=P(149500);const p={mixins:[G.D],created(){},methods:{lifecycleBeforeChartsLoad(U){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&$.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),$.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let m=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[U]);if(m)return m}return U},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&$.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),$.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},752246:function(K,R,P){"use strict";P.d(R,{X:function(){return G},b:function(){return $}});let G={versions:function(){var p=navigator.userAgent;return{trident:p.indexOf("Trident")>-1,presto:p.indexOf("Presto")>-1,webKit:p.indexOf("AppleWebKit")>-1,gecko:p.indexOf("Gecko")>-1&&p.indexOf("KHTML")==-1,mobile:!!p.match(/AppleWebKit.*Mobile.*/),ios:!!p.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:p.indexOf("Android")>-1,iPhone:p.indexOf("iPhone")>-1,iPad:p.indexOf("iPad")>-1,webApp:p.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},$;G.versions.mobile||G.versions.ios||G.versions.android||G.versions.iPhone||G.versions.iPad?$=!1:$=!0},721808:function(K,R,P){"use strict";P.r(R),P.d(R,{default:function(){return D}});var G=function(){var c=this,j=c._self._c;return j("div",{style:{width:c.widgetInfo.attr.w+"px",height:c.widgetInfo.attr.hh+"px"}},[j("hide-button",{attrs:{attr:c.widgetInfo.attr}}),j("div",{ref:"vennSimple",style:{width:c.widgetInfo.attr.w+"px",height:c.widgetInfo.attr.hh+"px"}})],1)},$=[],p=P(844513),U=P(927966),A=P(56279),m=P(445061),g=P(126711),E=P(99349),L=P(235776),l=P.n(L),w=P(677005),N=P.n(w),M=P(555616),F=P(435584),X=P(67157),J=P(150813);const W={mixins:[X.c],data(){return{config_extend:{},filter_config:{title:JSON.parse(JSON.stringify(J.Z.charts.title)),legend:JSON.parse(JSON.stringify(J.Z.charts.legend)),tooltip:JSON.parse(JSON.stringify(J.Z.charts.tooltip)),toolbox:JSON.parse(JSON.stringify(J.Z.charts.toolbox)),colorList:["#4C84FF"]}}},methods:{filterPredefineColoursSchemeConfig(u,c){this.getNewConfigWithArrary(u,c,this.filter_config)}}};var z=P(149500);N()(l());var d={props:["widgetInfo"],name:"venn-simple",components:{HideButton:p.Z},mixins:[E.P,A.P,m.u,g.H,F.baseConfig,W],data(){return{dimensionsEx:null,dimensionsAliasEx:null}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{loadInfo(u){let c=u.dataset[u.dataset.type],j=JSON.parse(JSON.stringify(u.config.chart)),I=JSON.parse(JSON.stringify(u.config.tooltip)),T=JSON.parse(JSON.stringify(u.config.series));T.label=Object.assign(T.label,{format:this.getFromat(T.label)});let r=this,i={accessibility:{point:{descriptionFormatter:function(n){var t=n.sets.join(", "),e=n.name,o=n.index+1,s=n.value;return o+". Intersection: "+t+". "+(n.sets.length>1?e+". ":"")+"Value "+s+"."}}},chart:{width:u.attr.w,height:u.attr.hh,marginLeft:j.marginLeft,marginRight:j.marginRight,marginTop:j.marginTop,marginBottom:j.marginBottom,backgroundColor:"rgba(255,255,255,0)"},colors:u.config.colorList,tooltip:I,title:"",credits:{enabled:!1},series:[{type:"venn",name:"",data:this.getDataList(c.encode,c.dimensions,c.source),dataLabels:T.label,animation:{duration:T.animation.duration*1e3},borderColor:T.borderColor,borderWidth:T.borderWidth,events:{click:n=>{r.clickVenn(n.point)}}}],color:["#7B97EB","#8CC9F5","#363DEB","#DDDF00","#24CBE5","#64E572","#FF9655","#FFF263","#6AF9C4"]};z.log(i),l().chart(this.$refs.vennSimple,this.lifecycleBeforeChartsLoad(i))},reLoadInfo(u){u&&(this.$refs.vennSimple.style.width=u.attr.w+"px",this.$refs.vennSimple.style.height=u.attr.hh+"px"),this.loadInfo(u)},getFromat(u){let c="";if(u.scriptEnabled&&u.scriptContent){let j=new Function(u.scriptContent);c+="<b>"+j()+"</b>"}else u.nameShow&&(c+='<b style="stroke-width:0">{point.name}:</b>'),u.valueShow&&(c+='<b style="stroke-width:0">{point.value}</b>');return c},getDataList(u,c,j){let I=[],T,r;for(let i=0;i<c.length;i++)c[i]==u.sets&&(T=i),c[i]==u.value&&(r=i);return this.$$lib__.each(j,i=>{I.push({sets:i[T].split(","),value:Number(i[r])})}),I},initAction(u){this.actionSendout(u),this.actionReceive(u)},clickVenn(u){let c=this.widgetInfo,j=[],I=this,T=c.action.sendOut.actionList;I.$$lib__.each(T,r=>{let i=r.code+"_"+c.id,n={};r.paramsExtend&&r.paramsExtend.length>0&&I.getParamsExtend(n,r.paramsExtend,c);let t=r.postMessage;if(n.name=u.name,n.value=u.value,r.enabled&&r.code==I.$$global_editor.actionType.click.code){if(c.dataset[c.dataset.type].source&&c.dataset[c.dataset.type].source.length>0&&(j=c.dataset[c.dataset.type].source[u.index]),I.getExtendParams(n,T[0].paramsExtend,j,c.dataset[c.dataset.type].dimensions),r.script&&r.script.enabled){if(z.log("Execute script for "+I.widgetInfo.name+" component to "+r.name+" component"),r.script.content==""){M.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}I.customScript_actionSend_clickParam2=new Function("param",r.script.content),n=I.customScript_actionSend_clickParam2(n)}U.Z.$emit(i,n),t&&I.doPostMessage(n)}else if(r.enabled&&r.code==I.$$global_editor.actionType.openLink.code){if(r.paramsExtend&&r.paramsExtend.length>0){let e=[];c.dataset[c.dataset.type].source&&c.dataset[c.dataset.type].source.length>0&&(e=c.dataset[c.dataset.type].source[u.index]),r.type===I.$$global_editor.linkType.dynamic.code&&(r[I.$$global_editor.linkType.dynamic.code].url=I.getActionUrl(r,c.dataset[c.dataset.type].source[u.index],c.dataset[c.dataset.type].dimensions)),I.getExtendParams(n,r.paramsExtend,e,c.dataset[c.dataset.type].dimensions)}if(r.script&&r.script.enabled){if(z.log("Execute script for "+I.widgetInfo.name+" component to "+r.name+" component"),r.script.content==""){M.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript_actionSend_clickParam=new Function("param,params",r.script.content),n=this.customScript_actionSend_clickParam(n,u)}I.openLinkAction(r,n,u)}})}}},f=d,x=P(768141),O=(0,x.Z)(f,G,$,!1,null,"0cbec4d0",null),D=O.exports},844513:function(K,R,P){"use strict";P.d(R,{Z:function(){return E}});var G=function(){var l=this,w=l._self._c;return l.attr.buttonHide?w("div",{style:{position:"absolute",right:l.attr.buttonHideRight+"px",top:l.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(N){return l.onHide()}}},[l.openTooltip?w("el-tooltip",{attrs:{"open-delay":1e3,content:l.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[w("el-button",{class:l.attr.buttonHideIconClass&&l.attr.buttonHideIconClass!=""?l.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:l.attr.buttonHideColor,fontSize:l.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):w("el-button",{class:l.attr.buttonHideIconClass&&l.attr.buttonHideIconClass!=""?l.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:l.attr.buttonHideColor,fontSize:l.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):l._e()},$=[],p=P(752246),U={props:["attr"],name:"hide-button",data(){return{isPc:p.b}},computed:{openTooltip:function(){let L=!1,l=this.attr.buttonHideTooltipContent;return p.b&&l&&l!=null&&l.trim()!=""&&(L=!0),L}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},A=U,m=P(768141),g=(0,m.Z)(A,G,$,!1,null,"bf399b9a",null),E=g.exports}}]);
