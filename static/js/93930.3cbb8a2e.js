"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[93930],{293930:function(h,a,i){i.r(a),i.d(a,{default:function(){return v}});var s=function(){var e=this,t=e._self._c;return t("el-collapse",[t("el-form",[t("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[t("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"\u6570\u636E\u6E90\u7C7B\u578B"},model:{value:e.currentWidget.config.isGeoJson,callback:function(r){e.$set(e.currentWidget.config,"isGeoJson",r)},expression:"currentWidget.config.isGeoJson"}},e._l(e.sourceOptions,function(r){return t("el-option",{key:r.value,attrs:{label:r.label,value:r.value}})}),1)],1),e.currentWidget.config.isGeoJson?e._e():t("div",[t("el-form-item",{attrs:{label:"\u670D\u52A1\u5730\u5740"}},[t("layer-directory-single",{attrs:{"layer-id":e.currentWidget.config.layerid},on:{"on-layer-change":e.onLayerChange}})],1),e.currentWidget.config.layerType==e.serverTypes[0]?t("el-form-item",{attrs:{label:"\u6307\u5B9A\u56FE\u5C42"}},[t("el-input-number",{attrs:{min:0},on:{change:function(r){return e.cahngeCounter("initLayer",e.currentWidget.config.initLayer)}},model:{value:e.currentWidget.config.initLayer,callback:function(r){e.$set(e.currentWidget.config,"initLayer",r)},expression:"currentWidget.config.initLayer"}})],1):e._e(),e.currentWidget.config.layerType==e.serverTypes[1]?t("el-form-item",{attrs:{label:"\u6570\u636E\u8868\u540D\u79F0"}},[t("el-input",{staticStyle:{width:"195px"},model:{value:e.currentWidget.config.layerName,callback:function(r){e.$set(e.currentWidget.config,"layerName",r)},expression:"currentWidget.config.layerName"}})],1):e._e()],1),e.currentWidget.config.isGeoJson?t("el-form-item",{attrs:{label:"\u56FE\u5F62JSON"}},[t("el-input",{staticStyle:{width:"195px"},attrs:{rows:4,placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea"},model:{value:e.currentWidget.config.geojson,callback:function(r){e.$set(e.currentWidget.config,"geojson",r)},expression:"currentWidget.config.geojson"}})],1):e._e()],1)],1)},l=[],o=i(723400),c=i(588406),g=i(149500),u={name:"GisThemeCluseterData",components:{LayerDirectorySingle:c.Z},mixins:[o.j],props:["currentWidget"],data(){return{sourceOptions:[{value:!1,label:"\u56FE\u5C42\u670D\u52A1"},{value:!0,label:"\u56FE\u5F62GeoJson"}],serverTypes:["arc-vector","geo-wfs"]}},methods:{cahngeCounter(n,e){let t=`this.currentWidget.config.${n}`;t=e},changeMaskSourceType(){this.getConfigData()},onLayerChange(n){g.log(n),n.url?(this.currentWidget.config.layerid=n.id,this.currentWidget.config.layerUrl=n.url,n.serverOrigin=="arcgis"?this.currentWidget.config.layerType=this.serverTypes[0]:(this.currentWidget.config.layerName=n.visibleLayers[0],this.currentWidget.config.layerType=this.serverTypes[1])):(this.currentWidget.config.layerid="",this.currentWidget.config.layerUrl=""),this.getConfigData()}}},d=u,f=i(768141),y=(0,f.Z)(d,s,l,!1,null,"20046866",null),v=y.exports}}]);
