"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[1651],{601651:function(m,a,n){n.r(a),n.d(a,{default:function(){return y}});var o=function(){var e=this,t=e._self._c;return t("el-collapse",[t("el-form",[t("el-form-item",{attrs:{label:"\u70B9\u6570\u636E\uFF1A"}}),t("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[t("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.isGeojson,callback:function(r){e.$set(e.currentWidget.config,"isGeojson",r)},expression:"currentWidget.config.isGeojson"}},e._l(e.sourceOptions,function(r){return t("el-option",{key:r.value,attrs:{label:r.label,value:r.value}})}),1)],1),e.currentWidget.config.isGeojson?e._e():t("div",[t("el-form-item",{attrs:{label:"\u670D\u52A1\u5730\u5740"}},[t("layer-directory-single",{attrs:{"layer-id":e.currentWidget.config.layerid},on:{"on-layer-change":e.onLayerChange}})],1),e.isDataTab?t("el-form-item",{attrs:{label:"\u6570\u636E\u8868\u540D\u79F0"}},[t("el-input",{staticStyle:{width:"195px"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.layerName,callback:function(r){e.$set(e.currentWidget.config,"layerName",r)},expression:"currentWidget.config.layerName"}})],1):e._e(),e.isDataTab?e._e():t("el-form-item",{attrs:{label:"\u6307\u5B9A\u56FE\u5C42"}},[t("el-input-number",{attrs:{min:0},on:{change:function(r){return e.changeCounter("initLayer",e.currentWidget.config.initLayer)}},model:{value:e.currentWidget.config.initLayer,callback:function(r){e.$set(e.currentWidget.config,"initLayer",r)},expression:"currentWidget.config.initLayer"}})],1),t("el-form-item",{attrs:{label:"\u8FC7\u6EE4\u6761\u4EF6"}},[t("el-input",{staticStyle:{width:"195px"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.where,callback:function(r){e.$set(e.currentWidget.config,"where",r)},expression:"currentWidget.config.where"}})],1)],1),e.currentWidget.config.isGeojson?t("el-form-item",{attrs:{label:"\u56FE\u5F62JSON"}},[t("el-input",{staticStyle:{width:"195px"},attrs:{rows:4,placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.geojson,callback:function(r){e.$set(e.currentWidget.config,"geojson",r)},expression:"currentWidget.config.geojson"}})],1):e._e()],1)],1)},s=[],l=n(723400),c=n(588406),g=n(149500),u={name:"GisThemeHeatmapData",components:{LayerDirectorySingle:c.Z},mixins:[l.j],props:["currentWidget"],data(){return{sourceOptions:[{value:!1,label:"\u56FE\u5C42\u670D\u52A1"},{value:!0,label:"\u56FE\u5F62GeoJson"}],serverTypes:["arc-vector","geo-wfs"],layerType:this.currentWidget.config.layerType}},computed:{isDataTab(){return this.layerType&&this.layerType.slice(0,3)==="geo"?!0:(this.currentWidget.config.layerType="arc-vector",!1)}},methods:{changeCounter(i,e){let t=`this.currentWidget.config.${i}`;t=e,this.getConfigData()},manageGetBoardConfigData(){setTimeout(this.getConfigData(),500)},changeMaskSourceType(){this.getConfigData()},onLayerChange(i){g.log(i),i.url?(this.currentWidget.config.layerid=i.id,this.currentWidget.config.layerUrl=i.url,i.serverOrigin=="arcgis"?this.currentWidget.config.layerType=this.serverTypes[0]:(this.currentWidget.config.layerName=i.visibleLayers[0],this.currentWidget.config.layerType=this.serverTypes[1]),this.layerType=this.currentWidget.config.layerType,this.currentWidget.config.layerName=i.visibleLayers[0]):(this.currentWidget.config.layerid="",this.currentWidget.config.layerUrl=""),this.manageGetBoardConfigData()}}},d=u,f=n(768141),h=(0,f.Z)(d,o,s,!1,null,"77f322d9",null),y=h.exports}}]);
