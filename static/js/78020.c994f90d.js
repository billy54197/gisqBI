"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[78020],{878020:function(m,d,n){n.r(d),n.d(d,{default:function(){return f}});var r=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"padding-left":"15px"}},[e.isRoot?e._e():t("el-form-item",{attrs:{label:e.value.d=="v"?"\u5BBD":"\u9AD8"}},[t("el-tooltip",{attrs:{content:"\u5BBD/\u9AD8\u4E3A\u767E\u5206\u6BD4\uFF0C\u598210\uFF0C\u5219\u4EE3\u886810%\uFF0C\u8BF7\u4FDD\u6301\u5B50\u9762\u677F\u7684\u5BBD\u9AD8\u603B\u548C\u4E3A100\uFF0C\u5426\u5219\u663E\u793A\u53EF\u80FD\u4E0D\u6B63\u5E38"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"20px\u6216\u800520 (\u767E\u5206\u6BD4)"},on:{change:e.updateModel},model:{value:e.value.s,callback:function(i){e.$set(e.value,"s",i)},expression:"value.s"}})],1)],1),e._e(),e.value.isParent?t("div",[t("el-form-item",{attrs:{label:"\u65B9\u5411"}},[t("el-radio",{attrs:{label:"v",value:"v"},on:{change:e.updateModel},model:{value:e.value.d,callback:function(i){e.$set(e.value,"d",i)},expression:"value.d"}},[e._v("\u5DE6\u53F3")]),t("el-radio",{attrs:{label:"h",value:"h"},on:{change:e.updateModel},model:{value:e.value.d,callback:function(i){e.$set(e.value,"d",i)},expression:"value.d"}},[e._v("\u4E0A\u4E0B")])],1),t("el-button",{staticClass:"el-icon-plus",attrs:{type:"text"},on:{click:function(i){return e.addChild(!0)}}},[e._v("\u6DFB\u52A0\u5B50\u9762\u677F ")]),t("el-collapse",{staticStyle:{"padding-right":"5px"}},e._l(e.value.children,function(i,a){return t("el-collapse-item",{key:a},[t("template",{slot:"title"},[t("div",{staticClass:"my-title-button"},[t("span",[e._v(" \u5B50\u9762\u677F"+e._s(a+1)+" ")]),t("el-tooltip",{attrs:{content:"\u987A\u5E8F\u5411\u4E0A\u4E00\u7EA7"}},[t("el-button",{attrs:{type:"text"},on:{click:function(s){return e.up(a)}}},[t("span",{staticClass:"iconfont bi_moveUp1"})])],1),t("el-tooltip",{attrs:{content:"\u987A\u5E8F\u5411\u4E0B\u4E00\u7EA7"}},[t("el-button",{attrs:{type:"text"},on:{click:function(s){return e.down(a)}}},[t("span",{staticClass:"iconfont bi_moveDown1"})])],1),t("el-tooltip",{attrs:{content:"\u5220\u9664"}},[t("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(s){return e.del(a)}}},[t("span",{staticClass:"iconfont bi_trash2"})])],1)],1)]),t("container-split-pane-config",{attrs:{"widgets-list":e.widgetsList,"current-widget":e.currentWidget,value:e.value},on:{change:e.change},model:{value:e.value.children[a],callback:function(s){e.$set(e.value.children,a,s)},expression:"value.children[index]"}})],2)}),1)],1):t("div",[t("el-form-item",{attrs:{label:"\u6DFB\u52A0\u7EC4\u4EF6"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",clearable:"",placeholder:"\u4ECE\u770B\u677F\u4E2D\u7684\u7EC4\u4EF6\u9009\u62E9"},model:{value:e.selectWidget,callback:function(i){e.selectWidget=i},expression:"selectWidget"}},e._l(e.widgetsList,function(i){return t("el-option",{key:i.value,attrs:{label:i.label,value:i.value}})}),1),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u6DFB\u52A0\u7EC4\u4EF6",effect:"dark",placement:"top"}},[t("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13ce66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(i){return e.addWidgetParent(e.value.widgets)}}})],1)],1),e._l(e.value.widgets,function(i,a){return t("el-form-item",{key:a,attrs:{label:"\u7EC4\u4EF6\u540D\u79F0"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"\u7EC4\u4EF6\u540D\u79F0",disabled:!0},model:{value:i.name,callback:function(s){e.$set(i,"name",s)},expression:"item.name"}}),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u79FB\u9664\u5230\u770B\u677F",effect:"dark",placement:"top"}},[t("el-button",{staticStyle:{color:"#409eff","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-back"},on:{click:function(s){return e.removeWidgetParent(a)}}})],1),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u5220\u9664\u7EC4\u4EF6",effect:"dark",placement:"top"}},[t("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.deleteWidgetParent(a)}}})],1)],1)})],2)],1)},c=[],o=n(723400),u=n(663778),h={name:"ContainerSplitPaneConfig",mixins:[u.a,o.j],props:["value","expanded","currentWidget","widgetsList","isRoot"],data(){return{selectWidget:""}},created(){},mounted(){this.addChild(!1),this.addChild(!1)},methods:{up(l){if(l>0){let e=this.value.children[l-1];this.value.children[l-1]=this.value.children[l],this.value.children[l]=e}this.updateModel()},down(l){if(l<this.value.children.length-1){let e=this.value.children[l+1];this.value.children[l+1]=this.value.children[l],this.value.children[l]=e}this.updateModel()},del(l){debugger;let e=this.value.children[l].size;if(e-0>0)for(let i=1;i<this.value.children.length;++i){if(l+i<this.value.children.length&&this.value.children[l+i].size-0>0){this.value.children[l+i].size=e-0+this.value.children[l+i].size;break}if(l-i>-1&&this.value.children[l-i].size-0>0){this.value.children[l-i].size=e-0+this.value.children[l-i].size;break}}debugger;let t=this.value.children.splice(l,1);t[0].widgets&&t[0].widgets.length>0&&t[0].widgets.forEach(i=>{this.deleteWidget(i.id)}),this.updateModel()},updateSize(){this.updateModel()},updateModel(){this.$emit("input",this.value),this.$emit("change",this.value)},change(){this.$emit("change",this.value)},addChild(l){l&&this.$message.info("\u8BF7\u8BBE\u7F6E\u5B50\u9762\u677F\u5BBD/\u9AD8");let e=JSON.parse(JSON.stringify(this.value.children));e.push({isParent:!1,d:"h",s:"10",children:[]}),this.$set(this.value,"children",[].concat(e)),this.updateModel()},addWidgetParent(){let l=this.$$lib__.find(this.widgetsList,e=>e.value==this.selectWidget);this.value.widgets||(this.value.widgets=[]),l&&(this.value.widgets.push({id:l.value,name:l.label}),this.updateModel(),this.updateWidgetParentId({widgetId:this.selectWidget,parentId:this.currentWidget.id}),this.selectWidget="")},removeWidgetParent(l){let e=JSON.parse(JSON.stringify(this.value.widgets[l].id));this.updateWidgetParentId({widgetId:e,parentId:null}),this.value.widgets.splice(l,1),this.updateModel()},deleteWidgetParent(l){let e=JSON.parse(JSON.stringify(this.value.widgets[l].id));this.deleteWidget(e),this.value.widgets.splice(l,1),this.updateModel()}}},p=h,v=n(768141),g=(0,v.Z)(p,r,c,!1,null,"27fd47c8",null),f=g.exports}}]);
