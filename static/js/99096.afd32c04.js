(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[99096],{545317:function(G){"use strict";G.exports=C;function C(t,u){for(var g=new Array(arguments.length-1),d=0,h=2,o=!0;h<arguments.length;)g[d++]=arguments[h++];return new Promise(function(s,T){g[d]=function(S){if(o)if(o=!1,S)T(S);else{for(var p=new Array(arguments.length-1),I=0;I<p.length;)p[I++]=arguments[I];s.apply(null,p)}};try{t.apply(u||null,g)}catch(v){o&&(o=!1,T(v))}})}},598660:function(G,C){"use strict";var t=C;t.length=function(i){var s=i.length;if(!s)return 0;for(var T=0;--s%4>1&&i.charAt(s)==="=";)++T;return Math.ceil(i.length*3)/4-T};for(var u=new Array(64),g=new Array(123),d=0;d<64;)g[u[d]=d<26?d+65:d<52?d+71:d<62?d-4:d-59|43]=d++;t.encode=function(i,s,T){for(var v=null,S=[],p=0,I=0,c;s<T;){var f=i[s++];switch(I){case 0:S[p++]=u[f>>2],c=(f&3)<<4,I=1;break;case 1:S[p++]=u[c|f>>4],c=(f&15)<<2,I=2;break;case 2:S[p++]=u[c|f>>6],S[p++]=u[f&63],I=0;break}p>8191&&((v||(v=[])).push(String.fromCharCode.apply(String,S)),p=0)}return I&&(S[p++]=u[c],S[p++]=61,I===1&&(S[p++]=61)),v?(p&&v.push(String.fromCharCode.apply(String,S.slice(0,p))),v.join("")):String.fromCharCode.apply(String,S.slice(0,p))};var h="invalid encoding";t.decode=function(i,s,T){for(var v=T,S=0,p,I=0;I<i.length;){var c=i.charCodeAt(I++);if(c===61&&S>1)break;if((c=g[c])===void 0)throw Error(h);switch(S){case 0:p=c,S=1;break;case 1:s[T++]=p<<2|(c&48)>>4,p=c,S=2;break;case 2:s[T++]=(p&15)<<4|(c&60)>>2,p=c,S=3;break;case 3:s[T++]=(p&3)<<6|c,S=0;break}}if(S===1)throw Error(h);return T-v},t.test=function(i){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(i)}},823745:function(G){"use strict";G.exports=C;function C(){this._listeners={}}C.prototype.on=function(u,g,d){return(this._listeners[u]||(this._listeners[u]=[])).push({fn:g,ctx:d||this}),this},C.prototype.off=function(u,g){if(u===void 0)this._listeners={};else if(g===void 0)this._listeners[u]=[];else for(var d=this._listeners[u],h=0;h<d.length;)d[h].fn===g?d.splice(h,1):++h;return this},C.prototype.emit=function(u){var g=this._listeners[u];if(g){for(var d=[],h=1;h<arguments.length;)d.push(arguments[h++]);for(h=0;h<g.length;)g[h].fn.apply(g[h++].ctx,d)}return this}},319059:function(G){"use strict";G.exports=C(C);function C(h){return typeof Float32Array<"u"?function(){var o=new Float32Array([-0]),i=new Uint8Array(o.buffer),s=i[3]===128;function T(I,c,f){o[0]=I,c[f]=i[0],c[f+1]=i[1],c[f+2]=i[2],c[f+3]=i[3]}function v(I,c,f){o[0]=I,c[f]=i[3],c[f+1]=i[2],c[f+2]=i[1],c[f+3]=i[0]}h.writeFloatLE=s?T:v,h.writeFloatBE=s?v:T;function S(I,c){return i[0]=I[c],i[1]=I[c+1],i[2]=I[c+2],i[3]=I[c+3],o[0]}function p(I,c){return i[3]=I[c],i[2]=I[c+1],i[1]=I[c+2],i[0]=I[c+3],o[0]}h.readFloatLE=s?S:p,h.readFloatBE=s?p:S}():function(){function o(s,T,v,S){var p=T<0?1:0;if(p&&(T=-T),T===0)s(1/T>0?0:2147483648,v,S);else if(isNaN(T))s(2143289344,v,S);else if(T>34028234663852886e22)s((p<<31|2139095040)>>>0,v,S);else if(T<11754943508222875e-54)s((p<<31|Math.round(T/1401298464324817e-60))>>>0,v,S);else{var I=Math.floor(Math.log(T)/Math.LN2),c=Math.round(T*Math.pow(2,-I)*8388608)&8388607;s((p<<31|I+127<<23|c)>>>0,v,S)}}h.writeFloatLE=o.bind(null,t),h.writeFloatBE=o.bind(null,u);function i(s,T,v){var S=s(T,v),p=(S>>31)*2+1,I=S>>>23&255,c=S&8388607;return I===255?c?NaN:p*(1/0):I===0?p*1401298464324817e-60*c:p*Math.pow(2,I-150)*(c+8388608)}h.readFloatLE=i.bind(null,g),h.readFloatBE=i.bind(null,d)}(),typeof Float64Array<"u"?function(){var o=new Float64Array([-0]),i=new Uint8Array(o.buffer),s=i[7]===128;function T(I,c,f){o[0]=I,c[f]=i[0],c[f+1]=i[1],c[f+2]=i[2],c[f+3]=i[3],c[f+4]=i[4],c[f+5]=i[5],c[f+6]=i[6],c[f+7]=i[7]}function v(I,c,f){o[0]=I,c[f]=i[7],c[f+1]=i[6],c[f+2]=i[5],c[f+3]=i[4],c[f+4]=i[3],c[f+5]=i[2],c[f+6]=i[1],c[f+7]=i[0]}h.writeDoubleLE=s?T:v,h.writeDoubleBE=s?v:T;function S(I,c){return i[0]=I[c],i[1]=I[c+1],i[2]=I[c+2],i[3]=I[c+3],i[4]=I[c+4],i[5]=I[c+5],i[6]=I[c+6],i[7]=I[c+7],o[0]}function p(I,c){return i[7]=I[c],i[6]=I[c+1],i[5]=I[c+2],i[4]=I[c+3],i[3]=I[c+4],i[2]=I[c+5],i[1]=I[c+6],i[0]=I[c+7],o[0]}h.readDoubleLE=s?S:p,h.readDoubleBE=s?p:S}():function(){function o(s,T,v,S,p,I){var c=S<0?1:0;if(c&&(S=-S),S===0)s(0,p,I+T),s(1/S>0?0:2147483648,p,I+v);else if(isNaN(S))s(0,p,I+T),s(2146959360,p,I+v);else if(S>17976931348623157e292)s(0,p,I+T),s((c<<31|2146435072)>>>0,p,I+v);else{var f;if(S<22250738585072014e-324)f=S/5e-324,s(f>>>0,p,I+T),s((c<<31|f/4294967296)>>>0,p,I+v);else{var m=Math.floor(Math.log(S)/Math.LN2);m===1024&&(m=1023),f=S*Math.pow(2,-m),s(f*4503599627370496>>>0,p,I+T),s((c<<31|m+1023<<20|f*1048576&1048575)>>>0,p,I+v)}}}h.writeDoubleLE=o.bind(null,t,0,4),h.writeDoubleBE=o.bind(null,u,4,0);function i(s,T,v,S,p){var I=s(S,p+T),c=s(S,p+v),f=(c>>31)*2+1,m=c>>>20&2047,A=4294967296*(c&1048575)+I;return m===2047?A?NaN:f*(1/0):m===0?f*5e-324*A:f*Math.pow(2,m-1075)*(A+4503599627370496)}h.readDoubleLE=i.bind(null,g,0,4),h.readDoubleBE=i.bind(null,d,4,0)}(),h}function t(h,o,i){o[i]=h&255,o[i+1]=h>>>8&255,o[i+2]=h>>>16&255,o[i+3]=h>>>24}function u(h,o,i){o[i]=h>>>24,o[i+1]=h>>>16&255,o[i+2]=h>>>8&255,o[i+3]=h&255}function g(h,o){return(h[o]|h[o+1]<<8|h[o+2]<<16|h[o+3]<<24)>>>0}function d(h,o){return(h[o]<<24|h[o+1]<<16|h[o+2]<<8|h[o+3])>>>0}},350491:function(module){"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(G){}return null}},118601:function(G){"use strict";G.exports=C;function C(t,u,g){var d=g||8192,h=d>>>1,o=null,i=d;return function(T){if(T<1||T>h)return t(T);i+T>d&&(o=t(d),i=0);var v=u.call(o,i,i+=T);return i&7&&(i=(i|7)+1),v}}},768375:function(G,C){"use strict";var t=C;t.length=function(g){for(var d=0,h=0,o=0;o<g.length;++o)h=g.charCodeAt(o),h<128?d+=1:h<2048?d+=2:(h&64512)===55296&&(g.charCodeAt(o+1)&64512)===56320?(++o,d+=4):d+=3;return d},t.read=function(g,d,h){var o=h-d;if(o<1)return"";for(var i=null,s=[],T=0,v;d<h;)v=g[d++],v<128?s[T++]=v:v>191&&v<224?s[T++]=(v&31)<<6|g[d++]&63:v>239&&v<365?(v=((v&7)<<18|(g[d++]&63)<<12|(g[d++]&63)<<6|g[d++]&63)-65536,s[T++]=55296+(v>>10),s[T++]=56320+(v&1023)):s[T++]=(v&15)<<12|(g[d++]&63)<<6|g[d++]&63,T>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),T=0);return i?(T&&i.push(String.fromCharCode.apply(String,s.slice(0,T))),i.join("")):String.fromCharCode.apply(String,s.slice(0,T))},t.write=function(g,d,h){for(var o=h,i,s,T=0;T<g.length;++T)i=g.charCodeAt(T),i<128?d[h++]=i:i<2048?(d[h++]=i>>6|192,d[h++]=i&63|128):(i&64512)===55296&&((s=g.charCodeAt(T+1))&64512)===56320?(i=65536+((i&1023)<<10)+(s&1023),++T,d[h++]=i>>18|240,d[h++]=i>>12&63|128,d[h++]=i>>6&63|128,d[h++]=i&63|128):(d[h++]=i>>12|224,d[h++]=i>>6&63|128,d[h++]=i&63|128);return h-o}},600147:function(G){G.exports=function(C){if(typeof C!="function")throw TypeError(C+" is not a function!");return C}},357946:function(G,C,t){var u=t(325079)("unscopables"),g=Array.prototype;g[u]==null&&t(465836)(g,u,{}),G.exports=function(d){g[u][d]=!0}},62446:function(G,C,t){"use strict";var u=t(652393)(!0);G.exports=function(g,d,h){return d+(h?u(g,d).length:1)}},266677:function(G){G.exports=function(C,t,u,g){if(!(C instanceof t)||g!==void 0&&g in C)throw TypeError(u+": incorrect invocation!");return C}},672462:function(G,C,t){var u=t(295795);G.exports=function(g){if(!u(g))throw TypeError(g+" is not an object!");return g}},609909:function(G,C,t){"use strict";var u=t(921687),g=t(183334),d=t(576929);G.exports=[].copyWithin||function(o,i){var s=u(this),T=d(s.length),v=g(o,T),S=g(i,T),p=arguments.length>2?arguments[2]:void 0,I=Math.min((p===void 0?T:g(p,T))-S,T-v),c=1;for(S<v&&v<S+I&&(c=-1,S+=I-1,v+=I-1);I-- >0;)S in s?s[v]=s[S]:delete s[v],v+=c,S+=c;return s}},424039:function(G,C,t){"use strict";var u=t(921687),g=t(183334),d=t(576929);G.exports=function(o){for(var i=u(this),s=d(i.length),T=arguments.length,v=g(T>1?arguments[1]:void 0,s),S=T>2?arguments[2]:void 0,p=S===void 0?s:g(S,s);p>v;)i[v++]=o;return i}},123512:function(G,C,t){var u=t(792904),g=t(576929),d=t(183334);G.exports=function(h){return function(o,i,s){var T=u(o),v=g(T.length),S=d(s,v),p;if(h&&i!=i){for(;v>S;)if(p=T[S++],p!=p)return!0}else for(;v>S;S++)if((h||S in T)&&T[S]===i)return h||S||0;return!h&&-1}}},845960:function(G,C,t){var u=t(53120),g=t(746276),d=t(921687),h=t(576929),o=t(781031);G.exports=function(i,s){var T=i==1,v=i==2,S=i==3,p=i==4,I=i==6,c=i==5||I,f=s||o;return function(m,A,M){for(var P=d(m),l=g(P),y=u(A,M,3),r=h(l.length),x=0,B=T?f(m,r):v?f(m,0):void 0,N,b;r>x;x++)if((c||x in l)&&(N=l[x],b=y(N,x,P),i)){if(T)B[x]=b;else if(b)switch(i){case 3:return!0;case 5:return N;case 6:return x;case 2:B.push(N)}else if(p)return!1}return I?-1:S||p?p:B}}},910694:function(G,C,t){var u=t(295795),g=t(316321),d=t(325079)("species");G.exports=function(h){var o;return g(h)&&(o=h.constructor,typeof o=="function"&&(o===Array||g(o.prototype))&&(o=void 0),u(o)&&(o=o[d],o===null&&(o=void 0))),o===void 0?Array:o}},781031:function(G,C,t){var u=t(910694);G.exports=function(g,d){return new(u(g))(d)}},535379:function(G,C,t){var u=t(5757),g=t(325079)("toStringTag"),d=u(function(){return arguments}())=="Arguments",h=function(o,i){try{return o[i]}catch{}};G.exports=function(o){var i,s,T;return o===void 0?"Undefined":o===null?"Null":typeof(s=h(i=Object(o),g))=="string"?s:d?u(i):(T=u(i))=="Object"&&typeof i.callee=="function"?"Arguments":T}},5757:function(G){var C={}.toString;G.exports=function(t){return C.call(t).slice(8,-1)}},338577:function(G,C,t){"use strict";var u=t(78944).f,g=t(783727),d=t(348327),h=t(53120),o=t(266677),i=t(811317),s=t(575633),T=t(174010),v=t(340575),S=t(863382),p=t(311629).fastKey,I=t(475941),c=S?"_s":"size",f=function(m,A){var M=p(A),P;if(M!=="F")return m._i[M];for(P=m._f;P;P=P.n)if(P.k==A)return P};G.exports={getConstructor:function(m,A,M,P){var l=m(function(y,r){o(y,l,A,"_i"),y._t=A,y._i=g(null),y._f=void 0,y._l=void 0,y[c]=0,r!=null&&i(r,M,y[P],y)});return d(l.prototype,{clear:function(){for(var r=I(this,A),x=r._i,B=r._f;B;B=B.n)B.r=!0,B.p&&(B.p=B.p.n=void 0),delete x[B.i];r._f=r._l=void 0,r[c]=0},delete:function(y){var r=I(this,A),x=f(r,y);if(x){var B=x.n,N=x.p;delete r._i[x.i],x.r=!0,N&&(N.n=B),B&&(B.p=N),r._f==x&&(r._f=B),r._l==x&&(r._l=N),r[c]--}return!!x},forEach:function(r){I(this,A);for(var x=h(r,arguments.length>1?arguments[1]:void 0,3),B;B=B?B.n:this._f;)for(x(B.v,B.k,this);B&&B.r;)B=B.p},has:function(r){return!!f(I(this,A),r)}}),S&&u(l.prototype,"size",{get:function(){return I(this,A)[c]}}),l},def:function(m,A,M){var P=f(m,A),l,y;return P?P.v=M:(m._l=P={i:y=p(A,!0),k:A,v:M,p:l=m._l,n:void 0,r:!1},m._f||(m._f=P),l&&(l.n=P),m[c]++,y!=="F"&&(m._i[y]=P)),m},getEntry:f,setStrong:function(m,A,M){s(m,A,function(P,l){this._t=I(P,A),this._k=l,this._l=void 0},function(){for(var P=this,l=P._k,y=P._l;y&&y.r;)y=y.p;return!P._t||!(P._l=y=y?y.n:P._t._f)?(P._t=void 0,T(1)):l=="keys"?T(0,y.k):l=="values"?T(0,y.v):T(0,[y.k,y.v])},M?"entries":"values",!M,!0),v(A)}}},988628:function(G,C,t){"use strict";var u=t(58727),g=t(800764),d=t(263408),h=t(348327),o=t(311629),i=t(811317),s=t(266677),T=t(295795),v=t(815930),S=t(791685),p=t(802376),I=t(787889);G.exports=function(c,f,m,A,M,P){var l=u[c],y=l,r=M?"set":"add",x=y&&y.prototype,B={},N=function(tt){var lt=x[tt];d(x,tt,tt=="delete"?function(ct){return P&&!T(ct)?!1:lt.call(this,ct===0?0:ct)}:tt=="has"?function(nt){return P&&!T(nt)?!1:lt.call(this,nt===0?0:nt)}:tt=="get"?function(nt){return P&&!T(nt)?void 0:lt.call(this,nt===0?0:nt)}:tt=="add"?function(nt){return lt.call(this,nt===0?0:nt),this}:function(nt,gt){return lt.call(this,nt===0?0:nt,gt),this})};if(typeof y!="function"||!(P||x.forEach&&!v(function(){new y().entries().next()})))y=A.getConstructor(f,c,M,r),h(y.prototype,m),o.NEED=!0;else{var b=new y,at=b[r](P?{}:-0,1)!=b,st=v(function(){b.has(1)}),K=S(function(tt){new y(tt)}),yt=!P&&v(function(){for(var tt=new y,lt=5;lt--;)tt[r](lt,lt);return!tt.has(-0)});K||(y=f(function(tt,lt){s(tt,y,c);var ct=I(new l,tt,y);return lt!=null&&i(lt,M,ct[r],ct),ct}),y.prototype=x,x.constructor=y),(st||yt)&&(N("delete"),N("has"),M&&N("get")),(yt||at)&&N(r),P&&x.clear&&delete x.clear}return p(y,c),B[c]=y,g(g.G+g.W+g.F*(y!=l),B),P||A.setStrong(y,c,M),y}},609191:function(G){var C=G.exports={version:"2.6.12"};typeof __e=="number"&&(__e=C)},53120:function(G,C,t){var u=t(600147);G.exports=function(g,d,h){if(u(g),d===void 0)return g;switch(h){case 1:return function(o){return g.call(d,o)};case 2:return function(o,i){return g.call(d,o,i)};case 3:return function(o,i,s){return g.call(d,o,i,s)}}return function(){return g.apply(d,arguments)}}},924833:function(G){G.exports=function(C){if(C==null)throw TypeError("Can't call method on  "+C);return C}},863382:function(G,C,t){G.exports=!t(815930)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},572478:function(G,C,t){var u=t(295795),g=t(58727).document,d=u(g)&&u(g.createElement);G.exports=function(h){return d?g.createElement(h):{}}},949003:function(G){G.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},800764:function(G,C,t){var u=t(58727),g=t(609191),d=t(465836),h=t(263408),o=t(53120),i="prototype",s=function(T,v,S){var p=T&s.F,I=T&s.G,c=T&s.S,f=T&s.P,m=T&s.B,A=I?u:c?u[v]||(u[v]={}):(u[v]||{})[i],M=I?g:g[v]||(g[v]={}),P=M[i]||(M[i]={}),l,y,r,x;I&&(S=v);for(l in S)y=!p&&A&&A[l]!==void 0,r=(y?A:S)[l],x=m&&y?o(r,u):f&&typeof r=="function"?o(Function.call,r):r,A&&h(A,l,r,T&s.U),M[l]!=r&&d(M,l,x),f&&P[l]!=r&&(P[l]=r)};u.core=g,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,G.exports=s},815930:function(G){G.exports=function(C){try{return!!C()}catch{return!0}}},846176:function(G,C,t){"use strict";t(12027);var u=t(263408),g=t(465836),d=t(815930),h=t(924833),o=t(325079),i=t(701158),s=o("species"),T=!d(function(){var S=/./;return S.exec=function(){var p=[];return p.groups={a:"7"},p},"".replace(S,"$<a>")!=="7"}),v=function(){var S=/(?:)/,p=S.exec;S.exec=function(){return p.apply(this,arguments)};var I="ab".split(S);return I.length===2&&I[0]==="a"&&I[1]==="b"}();G.exports=function(S,p,I){var c=o(S),f=!d(function(){var y={};return y[c]=function(){return 7},""[S](y)!=7}),m=f?!d(function(){var y=!1,r=/a/;return r.exec=function(){return y=!0,null},S==="split"&&(r.constructor={},r.constructor[s]=function(){return r}),r[c](""),!y}):void 0;if(!f||!m||S==="replace"&&!T||S==="split"&&!v){var A=/./[c],M=I(h,c,""[S],function(r,x,B,N,b){return x.exec===i?f&&!b?{done:!0,value:A.call(x,B,N)}:{done:!0,value:r.call(B,x,N)}:{done:!1}}),P=M[0],l=M[1];u(String.prototype,S,P),g(RegExp.prototype,c,p==2?function(y,r){return l.call(y,this,r)}:function(y){return l.call(y,this)})}}},787894:function(G,C,t){"use strict";var u=t(672462);G.exports=function(){var g=u(this),d="";return g.global&&(d+="g"),g.ignoreCase&&(d+="i"),g.multiline&&(d+="m"),g.unicode&&(d+="u"),g.sticky&&(d+="y"),d}},811317:function(G,C,t){var u=t(53120),g=t(420501),d=t(815478),h=t(672462),o=t(576929),i=t(989576),s={},T={},v=G.exports=function(S,p,I,c,f){var m=f?function(){return S}:i(S),A=u(I,c,p?2:1),M=0,P,l,y,r;if(typeof m!="function")throw TypeError(S+" is not iterable!");if(d(m)){for(P=o(S.length);P>M;M++)if(r=p?A(h(l=S[M])[0],l[1]):A(S[M]),r===s||r===T)return r}else for(y=m.call(S);!(l=y.next()).done;)if(r=g(y,A,l.value,p),r===s||r===T)return r};v.BREAK=s,v.RETURN=T},393850:function(G,C,t){G.exports=t(616927)("native-function-to-string",Function.toString)},58727:function(G){var C=G.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=C)},889191:function(G){var C={}.hasOwnProperty;G.exports=function(t,u){return C.call(t,u)}},465836:function(G,C,t){var u=t(78944),g=t(747908);G.exports=t(863382)?function(d,h,o){return u.f(d,h,g(1,o))}:function(d,h,o){return d[h]=o,d}},308051:function(G,C,t){var u=t(58727).document;G.exports=u&&u.documentElement},879287:function(G,C,t){G.exports=!t(863382)&&!t(815930)(function(){return Object.defineProperty(t(572478)("div"),"a",{get:function(){return 7}}).a!=7})},787889:function(G,C,t){var u=t(295795),g=t(919368).set;G.exports=function(d,h,o){var i=h.constructor,s;return i!==o&&typeof i=="function"&&(s=i.prototype)!==o.prototype&&u(s)&&g&&g(d,s),d}},746276:function(G,C,t){var u=t(5757);G.exports=Object("z").propertyIsEnumerable(0)?Object:function(g){return u(g)=="String"?g.split(""):Object(g)}},815478:function(G,C,t){var u=t(647894),g=t(325079)("iterator"),d=Array.prototype;G.exports=function(h){return h!==void 0&&(u.Array===h||d[g]===h)}},316321:function(G,C,t){var u=t(5757);G.exports=Array.isArray||function(d){return u(d)=="Array"}},295795:function(G){G.exports=function(C){return typeof C=="object"?C!==null:typeof C=="function"}},516190:function(G,C,t){var u=t(295795),g=t(5757),d=t(325079)("match");G.exports=function(h){var o;return u(h)&&((o=h[d])!==void 0?!!o:g(h)=="RegExp")}},420501:function(G,C,t){var u=t(672462);G.exports=function(g,d,h,o){try{return o?d(u(h)[0],h[1]):d(h)}catch(s){var i=g.return;throw i!==void 0&&u(i.call(g)),s}}},629668:function(G,C,t){"use strict";var u=t(783727),g=t(747908),d=t(802376),h={};t(465836)(h,t(325079)("iterator"),function(){return this}),G.exports=function(o,i,s){o.prototype=u(h,{next:g(1,s)}),d(o,i+" Iterator")}},575633:function(G,C,t){"use strict";var u=t(569379),g=t(800764),d=t(263408),h=t(465836),o=t(647894),i=t(629668),s=t(802376),T=t(905904),v=t(325079)("iterator"),S=!([].keys&&"next"in[].keys()),p="@@iterator",I="keys",c="values",f=function(){return this};G.exports=function(m,A,M,P,l,y,r){i(M,A,P);var x=function(gt){if(!S&&gt in at)return at[gt];switch(gt){case I:return function(){return new M(this,gt)};case c:return function(){return new M(this,gt)}}return function(){return new M(this,gt)}},B=A+" Iterator",N=l==c,b=!1,at=m.prototype,st=at[v]||at[p]||l&&at[l],K=st||x(l),yt=l?N?x("entries"):K:void 0,tt=A=="Array"&&at.entries||st,lt,ct,nt;if(tt&&(nt=T(tt.call(new m)),nt!==Object.prototype&&nt.next&&(s(nt,B,!0),!u&&typeof nt[v]!="function"&&h(nt,v,f))),N&&st&&st.name!==c&&(b=!0,K=function(){return st.call(this)}),(!u||r)&&(S||b||!at[v])&&h(at,v,K),o[A]=K,o[B]=f,l)if(lt={values:N?K:x(c),keys:y?K:x(I),entries:yt},r)for(ct in lt)ct in at||d(at,ct,lt[ct]);else g(g.P+g.F*(S||b),A,lt);return lt}},791685:function(G,C,t){var u=t(325079)("iterator"),g=!1;try{var d=[7][u]();d.return=function(){g=!0},Array.from(d,function(){throw 2})}catch{}G.exports=function(h,o){if(!o&&!g)return!1;var i=!1;try{var s=[7],T=s[u]();T.next=function(){return{done:i=!0}},s[u]=function(){return T},h(s)}catch{}return i}},174010:function(G){G.exports=function(C,t){return{value:t,done:!!C}}},647894:function(G){G.exports={}},569379:function(G){G.exports=!1},311629:function(G,C,t){var u=t(627174)("meta"),g=t(295795),d=t(889191),h=t(78944).f,o=0,i=Object.isExtensible||function(){return!0},s=!t(815930)(function(){return i(Object.preventExtensions({}))}),T=function(c){h(c,u,{value:{i:"O"+ ++o,w:{}}})},v=function(c,f){if(!g(c))return typeof c=="symbol"?c:(typeof c=="string"?"S":"P")+c;if(!d(c,u)){if(!i(c))return"F";if(!f)return"E";T(c)}return c[u].i},S=function(c,f){if(!d(c,u)){if(!i(c))return!0;if(!f)return!1;T(c)}return c[u].w},p=function(c){return s&&I.NEED&&i(c)&&!d(c,u)&&T(c),c},I=G.exports={KEY:u,NEED:!1,fastKey:v,getWeak:S,onFreeze:p}},783727:function(G,C,t){var u=t(672462),g=t(557498),d=t(949003),h=t(328253)("IE_PROTO"),o=function(){},i="prototype",s=function(){var T=t(572478)("iframe"),v=d.length,S="<",p=">",I;for(T.style.display="none",t(308051).appendChild(T),T.src="javascript:",I=T.contentWindow.document,I.open(),I.write(S+"script"+p+"document.F=Object"+S+"/script"+p),I.close(),s=I.F;v--;)delete s[i][d[v]];return s()};G.exports=Object.create||function(v,S){var p;return v!==null?(o[i]=u(v),p=new o,o[i]=null,p[h]=v):p=s(),S===void 0?p:g(p,S)}},78944:function(G,C,t){var u=t(672462),g=t(879287),d=t(253443),h=Object.defineProperty;C.f=t(863382)?Object.defineProperty:function(i,s,T){if(u(i),s=d(s,!0),u(T),g)try{return h(i,s,T)}catch{}if("get"in T||"set"in T)throw TypeError("Accessors not supported!");return"value"in T&&(i[s]=T.value),i}},557498:function(G,C,t){var u=t(78944),g=t(672462),d=t(49659);G.exports=t(863382)?Object.defineProperties:function(o,i){g(o);for(var s=d(i),T=s.length,v=0,S;T>v;)u.f(o,S=s[v++],i[S]);return o}},96184:function(G,C,t){var u=t(248318),g=t(747908),d=t(792904),h=t(253443),o=t(889191),i=t(879287),s=Object.getOwnPropertyDescriptor;C.f=t(863382)?s:function(v,S){if(v=d(v),S=h(S,!0),i)try{return s(v,S)}catch{}if(o(v,S))return g(!u.f.call(v,S),v[S])}},120441:function(G,C,t){var u=t(630277),g=t(949003).concat("length","prototype");C.f=Object.getOwnPropertyNames||function(h){return u(h,g)}},905904:function(G,C,t){var u=t(889191),g=t(921687),d=t(328253)("IE_PROTO"),h=Object.prototype;G.exports=Object.getPrototypeOf||function(o){return o=g(o),u(o,d)?o[d]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?h:null}},630277:function(G,C,t){var u=t(889191),g=t(792904),d=t(123512)(!1),h=t(328253)("IE_PROTO");G.exports=function(o,i){var s=g(o),T=0,v=[],S;for(S in s)S!=h&&u(s,S)&&v.push(S);for(;i.length>T;)u(s,S=i[T++])&&(~d(v,S)||v.push(S));return v}},49659:function(G,C,t){var u=t(630277),g=t(949003);G.exports=Object.keys||function(h){return u(h,g)}},248318:function(G,C){C.f={}.propertyIsEnumerable},747908:function(G){G.exports=function(C,t){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:t}}},348327:function(G,C,t){var u=t(263408);G.exports=function(g,d,h){for(var o in d)u(g,o,d[o],h);return g}},263408:function(G,C,t){var u=t(58727),g=t(465836),d=t(889191),h=t(627174)("src"),o=t(393850),i="toString",s=(""+o).split(i);t(609191).inspectSource=function(T){return o.call(T)},(G.exports=function(T,v,S,p){var I=typeof S=="function";I&&(d(S,"name")||g(S,"name",v)),T[v]!==S&&(I&&(d(S,h)||g(S,h,T[v]?""+T[v]:s.join(String(v)))),T===u?T[v]=S:p?T[v]?T[v]=S:g(T,v,S):(delete T[v],g(T,v,S)))})(Function.prototype,i,function(){return typeof this=="function"&&this[h]||o.call(this)})},102241:function(G,C,t){"use strict";var u=t(535379),g=RegExp.prototype.exec;G.exports=function(d,h){var o=d.exec;if(typeof o=="function"){var i=o.call(d,h);if(typeof i!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if(u(d)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return g.call(d,h)}},701158:function(G,C,t){"use strict";var u=t(787894),g=RegExp.prototype.exec,d=String.prototype.replace,h=g,o="lastIndex",i=function(){var v=/a/,S=/b*/g;return g.call(v,"a"),g.call(S,"a"),v[o]!==0||S[o]!==0}(),s=/()??/.exec("")[1]!==void 0,T=i||s;T&&(h=function(S){var p=this,I,c,f,m;return s&&(c=new RegExp("^"+p.source+"$(?!\\s)",u.call(p))),i&&(I=p[o]),f=g.call(p,S),i&&f&&(p[o]=p.global?f.index+f[0].length:I),s&&f&&f.length>1&&d.call(f[0],c,function(){for(m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(f[m]=void 0)}),f}),G.exports=h},919368:function(G,C,t){var u=t(295795),g=t(672462),d=function(h,o){if(g(h),!u(o)&&o!==null)throw TypeError(o+": can't set as prototype!")};G.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(h,o,i){try{i=t(53120)(Function.call,t(96184).f(Object.prototype,"__proto__").set,2),i(h,[]),o=!(h instanceof Array)}catch{o=!0}return function(T,v){return d(T,v),o?T.__proto__=v:i(T,v),T}}({},!1):void 0),check:d}},340575:function(G,C,t){"use strict";var u=t(58727),g=t(78944),d=t(863382),h=t(325079)("species");G.exports=function(o){var i=u[o];d&&i&&!i[h]&&g.f(i,h,{configurable:!0,get:function(){return this}})}},802376:function(G,C,t){var u=t(78944).f,g=t(889191),d=t(325079)("toStringTag");G.exports=function(h,o,i){h&&!g(h=i?h:h.prototype,d)&&u(h,d,{configurable:!0,value:o})}},328253:function(G,C,t){var u=t(616927)("keys"),g=t(627174);G.exports=function(d){return u[d]||(u[d]=g(d))}},616927:function(G,C,t){var u=t(609191),g=t(58727),d="__core-js_shared__",h=g[d]||(g[d]={});(G.exports=function(o,i){return h[o]||(h[o]=i!==void 0?i:{})})("versions",[]).push({version:u.version,mode:t(569379)?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},870849:function(G,C,t){var u=t(672462),g=t(600147),d=t(325079)("species");G.exports=function(h,o){var i=u(h).constructor,s;return i===void 0||(s=u(i)[d])==null?o:g(s)}},808537:function(G,C,t){"use strict";var u=t(815930);G.exports=function(g,d){return!!g&&u(function(){d?g.call(null,function(){},1):g.call(null)})}},652393:function(G,C,t){var u=t(798434),g=t(924833);G.exports=function(d){return function(h,o){var i=String(g(h)),s=u(o),T=i.length,v,S;return s<0||s>=T?d?"":void 0:(v=i.charCodeAt(s),v<55296||v>56319||s+1===T||(S=i.charCodeAt(s+1))<56320||S>57343?d?i.charAt(s):v:d?i.slice(s,s+2):(v-55296<<10)+(S-56320)+65536)}}},183334:function(G,C,t){var u=t(798434),g=Math.max,d=Math.min;G.exports=function(h,o){return h=u(h),h<0?g(h+o,0):d(h,o)}},9943:function(G,C,t){var u=t(798434),g=t(576929);G.exports=function(d){if(d===void 0)return 0;var h=u(d),o=g(h);if(h!==o)throw RangeError("Wrong length!");return o}},798434:function(G){var C=Math.ceil,t=Math.floor;G.exports=function(u){return isNaN(u=+u)?0:(u>0?t:C)(u)}},792904:function(G,C,t){var u=t(746276),g=t(924833);G.exports=function(d){return u(g(d))}},576929:function(G,C,t){var u=t(798434),g=Math.min;G.exports=function(d){return d>0?g(u(d),9007199254740991):0}},921687:function(G,C,t){var u=t(924833);G.exports=function(g){return Object(u(g))}},253443:function(G,C,t){var u=t(295795);G.exports=function(g,d){if(!u(g))return g;var h,o;if(d&&typeof(h=g.toString)=="function"&&!u(o=h.call(g))||typeof(h=g.valueOf)=="function"&&!u(o=h.call(g))||!d&&typeof(h=g.toString)=="function"&&!u(o=h.call(g)))return o;throw TypeError("Can't convert object to primitive value")}},637912:function(G,C,t){"use strict";if(t(863382)){var u=t(569379),g=t(58727),d=t(815930),h=t(800764),o=t(585564),i=t(976416),s=t(53120),T=t(266677),v=t(747908),S=t(465836),p=t(348327),I=t(798434),c=t(576929),f=t(9943),m=t(183334),A=t(253443),M=t(889191),P=t(535379),l=t(295795),y=t(921687),r=t(815478),x=t(783727),B=t(905904),N=t(120441).f,b=t(989576),at=t(627174),st=t(325079),K=t(845960),yt=t(123512),tt=t(870849),lt=t(160404),ct=t(647894),nt=t(791685),gt=t(340575),Pt=t(424039),ft=t(609909),St=t(78944),At=t(96184),Et=St.f,Tt=At.f,_=g.RangeError,rt=g.TypeError,Q=g.Uint8Array,et="ArrayBuffer",xt="Shared"+et,ut="BYTES_PER_ELEMENT",it="prototype",z=Array[it],D=i.ArrayBuffer,L=i.DataView,V=K(0),k=K(2),$=K(3),ht=K(4),q=K(5),R=K(6),Z=yt(!0),X=yt(!1),U=lt.values,J=lt.keys,Y=lt.entries,vt=z.lastIndexOf,dt=z.reduce,Mt=z.reduceRight,H=z.join,wt=z.sort,jt=z.slice,zt=z.toString,$t=z.toLocaleString,Jt=st("iterator"),Wt=st("toStringTag"),te=at("typed_constructor"),oe=at("def_constructor"),ve=o.CONSTR,Ht=o.TYPED,Dt=o.VIEW,le="Wrong length!",Me=K(1,function(Bt,Lt){return ie(tt(Bt,Bt[oe]),Lt)}),Xt=d(function(){return new Q(new Uint16Array([1]).buffer)[0]===1}),Se=!!Q&&!!Q[it].set&&d(function(){new Q(1).set({})}),re=function(Bt,Lt){var Gt=I(Bt);if(Gt<0||Gt%Lt)throw _("Wrong offset!");return Gt},kt=function(Bt){if(l(Bt)&&Ht in Bt)return Bt;throw rt(Bt+" is not a typed array!")},ie=function(Bt,Lt){if(!(l(Bt)&&te in Bt))throw rt("It is not a typed array constructor!");return new Bt(Lt)},fe=function(Bt,Lt){return qt(tt(Bt,Bt[oe]),Lt)},qt=function(Bt,Lt){for(var Gt=0,Ut=Lt.length,Nt=ie(Bt,Ut);Ut>Gt;)Nt[Gt]=Lt[Gt++];return Nt},ue=function(Bt,Lt,Gt){Et(Bt,Lt,{get:function(){return this._d[Gt]}})},ge=function(Lt){var Gt=y(Lt),Ut=arguments.length,Nt=Ut>1?arguments[1]:void 0,ye=Nt!==void 0,Fe=b(Gt),bt,me,De,Te,We,se;if(Fe!=null&&!r(Fe)){for(se=Fe.call(Gt),De=[],bt=0;!(We=se.next()).done;bt++)De.push(We.value);Gt=De}for(ye&&Ut>2&&(Nt=s(Nt,arguments[2],2)),bt=0,me=c(Gt.length),Te=ie(this,me);me>bt;bt++)Te[bt]=ye?Nt(Gt[bt],bt):Gt[bt];return Te},er=function(){for(var Lt=0,Gt=arguments.length,Ut=ie(this,Gt);Gt>Lt;)Ut[Lt]=arguments[Lt++];return Ut},be=!!Q&&d(function(){$t.call(new Q(1))}),Ie=function(){return $t.apply(be?jt.call(kt(this)):kt(this),arguments)},Ce={copyWithin:function(Lt,Gt){return ft.call(kt(this),Lt,Gt,arguments.length>2?arguments[2]:void 0)},every:function(Lt){return ht(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},fill:function(Lt){return Pt.apply(kt(this),arguments)},filter:function(Lt){return fe(this,k(kt(this),Lt,arguments.length>1?arguments[1]:void 0))},find:function(Lt){return q(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},findIndex:function(Lt){return R(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},forEach:function(Lt){V(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},indexOf:function(Lt){return X(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},includes:function(Lt){return Z(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},join:function(Lt){return H.apply(kt(this),arguments)},lastIndexOf:function(Lt){return vt.apply(kt(this),arguments)},map:function(Lt){return Me(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},reduce:function(Lt){return dt.apply(kt(this),arguments)},reduceRight:function(Lt){return Mt.apply(kt(this),arguments)},reverse:function(){for(var Lt=this,Gt=kt(Lt).length,Ut=Math.floor(Gt/2),Nt=0,ye;Nt<Ut;)ye=Lt[Nt],Lt[Nt++]=Lt[--Gt],Lt[Gt]=ye;return Lt},some:function(Lt){return $(kt(this),Lt,arguments.length>1?arguments[1]:void 0)},sort:function(Lt){return wt.call(kt(this),Lt)},subarray:function(Lt,Gt){var Ut=kt(this),Nt=Ut.length,ye=m(Lt,Nt);return new(tt(Ut,Ut[oe]))(Ut.buffer,Ut.byteOffset+ye*Ut.BYTES_PER_ELEMENT,c((Gt===void 0?Nt:m(Gt,Nt))-ye))}},Ke=function(Lt,Gt){return fe(this,jt.call(kt(this),Lt,Gt))},ze=function(Lt){kt(this);var Gt=re(arguments[1],1),Ut=this.length,Nt=y(Lt),ye=c(Nt.length),Fe=0;if(ye+Gt>Ut)throw _(le);for(;Fe<ye;)this[Gt+Fe]=Nt[Fe++]},Re={entries:function(){return Y.call(kt(this))},keys:function(){return J.call(kt(this))},values:function(){return U.call(kt(this))}},Ge=function(Bt,Lt){return l(Bt)&&Bt[Ht]&&typeof Lt!="symbol"&&Lt in Bt&&String(+Lt)==String(Lt)},Ee=function(Lt,Gt){return Ge(Lt,Gt=A(Gt,!0))?v(2,Lt[Gt]):Tt(Lt,Gt)},Ue=function(Lt,Gt,Ut){return Ge(Lt,Gt=A(Gt,!0))&&l(Ut)&&M(Ut,"value")&&!M(Ut,"get")&&!M(Ut,"set")&&!Ut.configurable&&(!M(Ut,"writable")||Ut.writable)&&(!M(Ut,"enumerable")||Ut.enumerable)?(Lt[Gt]=Ut.value,Lt):Et(Lt,Gt,Ut)};ve||(At.f=Ee,St.f=Ue),h(h.S+h.F*!ve,"Object",{getOwnPropertyDescriptor:Ee,defineProperty:Ue}),d(function(){zt.call({})})&&(zt=$t=function(){return H.call(this)});var Pe=p({},Ce);p(Pe,Re),S(Pe,Jt,Re.values),p(Pe,{slice:Ke,set:ze,constructor:function(){},toString:zt,toLocaleString:Ie}),ue(Pe,"buffer","b"),ue(Pe,"byteOffset","o"),ue(Pe,"byteLength","l"),ue(Pe,"length","e"),Et(Pe,Wt,{get:function(){return this[Ht]}}),G.exports=function(Bt,Lt,Gt,Ut){Ut=!!Ut;var Nt=Bt+(Ut?"Clamped":"")+"Array",ye="get"+Bt,Fe="set"+Bt,bt=g[Nt],me=bt||{},De=bt&&B(bt),Te=!bt||!o.ABV,We={},se=bt&&bt[it],Mr=function(he,Qt){var ce=he._d;return ce.v[ye](Qt*Lt+ce.o,Xt)},fr=function(he,Qt,ce){var Oe=he._d;Ut&&(ce=(ce=Math.round(ce))<0?0:ce>255?255:ce&255),Oe.v[Fe](Qt*Lt+Oe.o,ce,Xt)},hr=function(he,Qt){Et(he,Qt,{get:function(){return Mr(this,Qt)},set:function(ce){return fr(this,Qt,ce)},enumerable:!0})};Te?(bt=Gt(function(he,Qt,ce,Oe){T(he,bt,Nt,"_d");var Xe=0,Je=0,Be,Ae,Ne,dr;if(!l(Qt))Ne=f(Qt),Ae=Ne*Lt,Be=new D(Ae);else if(Qt instanceof D||(dr=P(Qt))==et||dr==xt){Be=Qt,Je=re(ce,Lt);var nr=Qt.byteLength;if(Oe===void 0){if(nr%Lt||(Ae=nr-Je,Ae<0))throw _(le)}else if(Ae=c(Oe)*Lt,Ae+Je>nr)throw _(le);Ne=Ae/Lt}else return Ht in Qt?qt(bt,Qt):ge.call(bt,Qt);for(S(he,"_d",{b:Be,o:Je,l:Ae,e:Ne,v:new L(Be)});Xe<Ne;)hr(he,Xe++)}),se=bt[it]=x(Pe),S(se,"constructor",bt)):(!d(function(){bt(1)})||!d(function(){new bt(-1)})||!nt(function(he){new bt,new bt(null),new bt(1.5),new bt(he)},!0))&&(bt=Gt(function(he,Qt,ce,Oe){T(he,bt,Nt);var Xe;return l(Qt)?Qt instanceof D||(Xe=P(Qt))==et||Xe==xt?Oe!==void 0?new me(Qt,re(ce,Lt),Oe):ce!==void 0?new me(Qt,re(ce,Lt)):new me(Qt):Ht in Qt?qt(bt,Qt):ge.call(bt,Qt):new me(f(Qt))}),V(De!==Function.prototype?N(me).concat(N(De)):N(me),function(he){he in bt||S(bt,he,me[he])}),bt[it]=se,u||(se.constructor=bt));var Ze=se[Jt],rr=!!Ze&&(Ze.name=="values"||Ze.name==null),cr=Re.values;S(bt,te,!0),S(se,Ht,Nt),S(se,Dt,!0),S(se,oe,bt),(Ut?new bt(1)[Wt]!=Nt:!(Wt in se))&&Et(se,Wt,{get:function(){return Nt}}),We[Nt]=bt,h(h.G+h.W+h.F*(bt!=me),We),h(h.S,Nt,{BYTES_PER_ELEMENT:Lt}),h(h.S+h.F*d(function(){me.of.call(bt,1)}),Nt,{from:ge,of:er}),ut in se||S(se,ut,Lt),h(h.P,Nt,Ce),gt(Nt),h(h.P+h.F*Se,Nt,{set:ze}),h(h.P+h.F*!rr,Nt,Re),!u&&se.toString!=zt&&(se.toString=zt),h(h.P+h.F*d(function(){new bt(1).slice()}),Nt,{slice:Ke}),h(h.P+h.F*(d(function(){return[1,2].toLocaleString()!=new bt([1,2]).toLocaleString()})||!d(function(){se.toLocaleString.call([1,2])})),Nt,{toLocaleString:Ie}),ct[Nt]=rr?Ze:cr,!u&&!rr&&S(se,Jt,cr)}}else G.exports=function(){}},976416:function(G,C,t){"use strict";var u=t(58727),g=t(863382),d=t(569379),h=t(585564),o=t(465836),i=t(348327),s=t(815930),T=t(266677),v=t(798434),S=t(576929),p=t(9943),I=t(120441).f,c=t(78944).f,f=t(424039),m=t(802376),A="ArrayBuffer",M="DataView",P="prototype",l="Wrong length!",y="Wrong index!",r=u[A],x=u[M],B=u.Math,N=u.RangeError,b=u.Infinity,at=r,st=B.abs,K=B.pow,yt=B.floor,tt=B.log,lt=B.LN2,ct="buffer",nt="byteLength",gt="byteOffset",Pt=g?"_b":ct,ft=g?"_l":nt,St=g?"_o":gt;function At(q,R,Z){var X=new Array(Z),U=Z*8-R-1,J=(1<<U)-1,Y=J>>1,vt=R===23?K(2,-24)-K(2,-77):0,dt=0,Mt=q<0||q===0&&1/q<0?1:0,H,wt,jt;for(q=st(q),q!=q||q===b?(wt=q!=q?1:0,H=J):(H=yt(tt(q)/lt),q*(jt=K(2,-H))<1&&(H--,jt*=2),H+Y>=1?q+=vt/jt:q+=vt*K(2,1-Y),q*jt>=2&&(H++,jt/=2),H+Y>=J?(wt=0,H=J):H+Y>=1?(wt=(q*jt-1)*K(2,R),H=H+Y):(wt=q*K(2,Y-1)*K(2,R),H=0));R>=8;X[dt++]=wt&255,wt/=256,R-=8);for(H=H<<R|wt,U+=R;U>0;X[dt++]=H&255,H/=256,U-=8);return X[--dt]|=Mt*128,X}function Et(q,R,Z){var X=Z*8-R-1,U=(1<<X)-1,J=U>>1,Y=X-7,vt=Z-1,dt=q[vt--],Mt=dt&127,H;for(dt>>=7;Y>0;Mt=Mt*256+q[vt],vt--,Y-=8);for(H=Mt&(1<<-Y)-1,Mt>>=-Y,Y+=R;Y>0;H=H*256+q[vt],vt--,Y-=8);if(Mt===0)Mt=1-J;else{if(Mt===U)return H?NaN:dt?-b:b;H=H+K(2,R),Mt=Mt-J}return(dt?-1:1)*H*K(2,Mt-R)}function Tt(q){return q[3]<<24|q[2]<<16|q[1]<<8|q[0]}function _(q){return[q&255]}function rt(q){return[q&255,q>>8&255]}function Q(q){return[q&255,q>>8&255,q>>16&255,q>>24&255]}function et(q){return At(q,52,8)}function xt(q){return At(q,23,4)}function ut(q,R,Z){c(q[P],R,{get:function(){return this[Z]}})}function it(q,R,Z,X){var U=+Z,J=p(U);if(J+R>q[ft])throw N(y);var Y=q[Pt]._b,vt=J+q[St],dt=Y.slice(vt,vt+R);return X?dt:dt.reverse()}function z(q,R,Z,X,U,J){var Y=+Z,vt=p(Y);if(vt+R>q[ft])throw N(y);for(var dt=q[Pt]._b,Mt=vt+q[St],H=X(+U),wt=0;wt<R;wt++)dt[Mt+wt]=H[J?wt:R-wt-1]}if(!h.ABV)r=function(R){T(this,r,A);var Z=p(R);this._b=f.call(new Array(Z),0),this[ft]=Z},x=function(R,Z,X){T(this,x,M),T(R,r,M);var U=R[ft],J=v(Z);if(J<0||J>U)throw N("Wrong offset!");if(X=X===void 0?U-J:S(X),J+X>U)throw N(l);this[Pt]=R,this[St]=J,this[ft]=X},g&&(ut(r,nt,"_l"),ut(x,ct,"_b"),ut(x,nt,"_l"),ut(x,gt,"_o")),i(x[P],{getInt8:function(R){return it(this,1,R)[0]<<24>>24},getUint8:function(R){return it(this,1,R)[0]},getInt16:function(R){var Z=it(this,2,R,arguments[1]);return(Z[1]<<8|Z[0])<<16>>16},getUint16:function(R){var Z=it(this,2,R,arguments[1]);return Z[1]<<8|Z[0]},getInt32:function(R){return Tt(it(this,4,R,arguments[1]))},getUint32:function(R){return Tt(it(this,4,R,arguments[1]))>>>0},getFloat32:function(R){return Et(it(this,4,R,arguments[1]),23,4)},getFloat64:function(R){return Et(it(this,8,R,arguments[1]),52,8)},setInt8:function(R,Z){z(this,1,R,_,Z)},setUint8:function(R,Z){z(this,1,R,_,Z)},setInt16:function(R,Z){z(this,2,R,rt,Z,arguments[2])},setUint16:function(R,Z){z(this,2,R,rt,Z,arguments[2])},setInt32:function(R,Z){z(this,4,R,Q,Z,arguments[2])},setUint32:function(R,Z){z(this,4,R,Q,Z,arguments[2])},setFloat32:function(R,Z){z(this,4,R,xt,Z,arguments[2])},setFloat64:function(R,Z){z(this,8,R,et,Z,arguments[2])}});else{if(!s(function(){r(1)})||!s(function(){new r(-1)})||s(function(){return new r,new r(1.5),new r(NaN),r.name!=A})){r=function(R){return T(this,r),new at(p(R))};for(var D=r[P]=at[P],L=I(at),V=0,k;L.length>V;)(k=L[V++])in r||o(r,k,at[k]);d||(D.constructor=r)}var $=new x(new r(2)),ht=x[P].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),($.getInt8(0)||!$.getInt8(1))&&i(x[P],{setInt8:function(R,Z){ht.call(this,R,Z<<24>>24)},setUint8:function(R,Z){ht.call(this,R,Z<<24>>24)}},!0)}m(r,A),m(x,M),o(x[P],h.VIEW,!0),C[A]=r,C[M]=x},585564:function(G,C,t){for(var u=t(58727),g=t(465836),d=t(627174),h=d("typed_array"),o=d("view"),i=!!(u.ArrayBuffer&&u.DataView),s=i,T=0,v=9,S,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");T<v;)(S=u[p[T++]])?(g(S.prototype,h,!0),g(S.prototype,o,!0)):s=!1;G.exports={ABV:i,CONSTR:s,TYPED:h,VIEW:o}},627174:function(G){var C=0,t=Math.random();G.exports=function(u){return"Symbol(".concat(u===void 0?"":u,")_",(++C+t).toString(36))}},475941:function(G,C,t){var u=t(295795);G.exports=function(g,d){if(!u(g)||g._t!==d)throw TypeError("Incompatible receiver, "+d+" required!");return g}},325079:function(G,C,t){var u=t(616927)("wks"),g=t(627174),d=t(58727).Symbol,h=typeof d=="function",o=G.exports=function(i){return u[i]||(u[i]=h&&d[i]||(h?d:g)("Symbol."+i))};o.store=u},989576:function(G,C,t){var u=t(535379),g=t(325079)("iterator"),d=t(647894);G.exports=t(609191).getIteratorMethod=function(h){if(h!=null)return h[g]||h["@@iterator"]||d[u(h)]}},954673:function(G,C,t){"use strict";var u=t(800764),g=t(123512)(!1),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0;u(u.P+u.F*(h||!t(808537)(d)),"Array",{indexOf:function(i){return h?d.apply(this,arguments)||0:g(this,i,arguments[1])}})},160404:function(G,C,t){"use strict";var u=t(357946),g=t(174010),d=t(647894),h=t(792904);G.exports=t(575633)(Array,"Array",function(o,i){this._t=h(o),this._i=0,this._k=i},function(){var o=this._t,i=this._k,s=this._i++;return!o||s>=o.length?(this._t=void 0,g(1)):i=="keys"?g(0,s):i=="values"?g(0,o[s]):g(0,[s,o[s]])},"values"),d.Arguments=d.Array,u("keys"),u("values"),u("entries")},427855:function(G,C,t){"use strict";var u=t(338577),g=t(475941),d="Map";G.exports=t(988628)(d,function(h){return function(){return h(this,arguments.length>0?arguments[0]:void 0)}},{get:function(o){var i=u.getEntry(g(this,d),o);return i&&i.v},set:function(o,i){return u.def(g(this,d),o===0?0:o,i)}},u,!0)},12027:function(G,C,t){"use strict";var u=t(701158);t(800764)({target:"RegExp",proto:!0,forced:u!==/./.exec},{exec:u})},569721:function(G,C,t){"use strict";var u=t(672462),g=t(921687),d=t(576929),h=t(798434),o=t(62446),i=t(102241),s=Math.max,T=Math.min,v=Math.floor,S=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,I=function(c){return c===void 0?c:String(c)};t(846176)("replace",2,function(c,f,m,A){return[function(l,y){var r=c(this),x=l?.[f];return x!==void 0?x.call(l,r,y):m.call(String(r),l,y)},function(P,l){var y=A(m,P,this,l);if(y.done)return y.value;var r=u(P),x=String(this),B=typeof l=="function";B||(l=String(l));var N=r.global;if(N){var b=r.unicode;r.lastIndex=0}for(var at=[];;){var st=i(r,x);if(st===null||(at.push(st),!N))break;var K=String(st[0]);K===""&&(r.lastIndex=o(x,d(r.lastIndex),b))}for(var yt="",tt=0,lt=0;lt<at.length;lt++){st=at[lt];for(var ct=String(st[0]),nt=s(T(h(st.index),x.length),0),gt=[],Pt=1;Pt<st.length;Pt++)gt.push(I(st[Pt]));var ft=st.groups;if(B){var St=[ct].concat(gt,nt,x);ft!==void 0&&St.push(ft);var At=String(l.apply(void 0,St))}else At=M(ct,x,nt,gt,ft,l);nt>=tt&&(yt+=x.slice(tt,nt)+At,tt=nt+ct.length)}return yt+x.slice(tt)}];function M(P,l,y,r,x,B){var N=y+P.length,b=r.length,at=p;return x!==void 0&&(x=g(x),at=S),m.call(B,at,function(st,K){var yt;switch(K.charAt(0)){case"$":return"$";case"&":return P;case"`":return l.slice(0,y);case"'":return l.slice(N);case"<":yt=x[K.slice(1,-1)];break;default:var tt=+K;if(tt===0)return st;if(tt>b){var lt=v(tt/10);return lt===0?st:lt<=b?r[lt-1]===void 0?K.charAt(1):r[lt-1]+K.charAt(1):st}yt=r[tt-1]}return yt===void 0?"":yt})}})},176118:function(G,C,t){"use strict";var u=t(516190),g=t(672462),d=t(870849),h=t(62446),o=t(576929),i=t(102241),s=t(701158),T=t(815930),v=Math.min,S=[].push,p="split",I="length",c="lastIndex",f=4294967295,m=!T(function(){RegExp(f,"y")});t(846176)("split",2,function(A,M,P,l){var y;return"abbc"[p](/(b)*/)[1]=="c"||"test"[p](/(?:)/,-1)[I]!=4||"ab"[p](/(?:ab)*/)[I]!=2||"."[p](/(.?)(.?)/)[I]!=4||"."[p](/()()/)[I]>1||""[p](/.?/)[I]?y=function(r,x){var B=String(this);if(r===void 0&&x===0)return[];if(!u(r))return P.call(B,r,x);for(var N=[],b=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),at=0,st=x===void 0?f:x>>>0,K=new RegExp(r.source,b+"g"),yt,tt,lt;(yt=s.call(K,B))&&(tt=K[c],!(tt>at&&(N.push(B.slice(at,yt.index)),yt[I]>1&&yt.index<B[I]&&S.apply(N,yt.slice(1)),lt=yt[0][I],at=tt,N[I]>=st)));)K[c]===yt.index&&K[c]++;return at===B[I]?(lt||!K.test(""))&&N.push(""):N.push(B.slice(at)),N[I]>st?N.slice(0,st):N}:"0"[p](void 0,0)[I]?y=function(r,x){return r===void 0&&x===0?[]:P.call(this,r,x)}:y=P,[function(x,B){var N=A(this),b=x?.[M];return b!==void 0?b.call(x,N,B):y.call(String(N),x,B)},function(r,x){var B=l(y,r,this,x,y!==P);if(B.done)return B.value;var N=g(r),b=String(this),at=d(N,RegExp),st=N.unicode,K=(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(m?"y":"g"),yt=new at(m?N:"^(?:"+N.source+")",K),tt=x===void 0?f:x>>>0;if(tt===0)return[];if(b.length===0)return i(yt,b)===null?[b]:[];for(var lt=0,ct=0,nt=[];ct<b.length;){yt.lastIndex=m?ct:0;var gt=i(yt,m?b:b.slice(ct)),Pt;if(gt===null||(Pt=v(o(yt.lastIndex+(m?0:ct)),b.length))===lt)ct=h(b,ct,st);else{if(nt.push(b.slice(lt,ct)),nt.length===tt)return nt;for(var ft=1;ft<=gt.length-1;ft++)if(nt.push(gt[ft]),nt.length===tt)return nt;ct=lt=Pt}}return nt.push(b.slice(lt)),nt}]})},368883:function(G,C,t){"use strict";var u=t(652393)(!0);t(575633)(String,"String",function(g){this._t=String(g),this._i=0},function(){var g=this._t,d=this._i,h;return d>=g.length?{value:void 0,done:!0}:(h=u(g,d),this._i+=h.length,{value:h,done:!1})})},487266:function(G,C,t){t(637912)("Uint8",1,function(u){return function(d,h,o){return u(this,d,h,o)}})},700117:function(G,C,t){for(var u=t(160404),g=t(49659),d=t(263408),h=t(58727),o=t(465836),i=t(647894),s=t(325079),T=s("iterator"),v=s("toStringTag"),S=i.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},I=g(p),c=0;c<I.length;c++){var f=I[c],m=p[f],A=h[f],M=A&&A.prototype,P;if(M&&(M[T]||o(M,T,S),M[v]||o(M,v,f),i[f]=S,m))for(P in u)M[P]||d(M,P,u[P],!0)}},411154:function(G,C,t){var u=t(149500);(function(g,d){d(C,t(967170),t(778327),t(222276),t(390583),t(72966),t(487266),t(337564),t(569721),t(954673),t(555089),t(176118),t(700117),t(368883),t(427855),t(412542),t(673608),t(776094),t(372449),t(2487),t(313927),t(213910),t(444138))})(this,function(g,d,h,o,i,s,T,v,S,p,I,c,f,m,A,M,P,l,y,r,x,B,N){"use strict";function b(D){return D&&typeof D=="object"&&"default"in D?D:{default:D}}var at=b(d),st=b(h),K=b(v),yt=b(I),tt=b(M),lt=b(P),ct=b(y),nt=b(r),gt=b(x),Pt=b(B),ft=b(N),St={};(function(){var D={resolutions:{res4490:[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765629e-19,429153442382814e-19,214576721191407e-19,107288360595703e-19,536441802978515e-20,268220901489258e-20,134110450744629e-20],res3857:[156543.03392804097,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395],res4326:[.703913007855028,.35195650392751515,.17597825196375638,.08798912598187819,.043994562990939096,.021997281495469548,.010998640747734774,.005499320373868577,.0027496601869330985,.001374830093467739,.0006874150467326798,.0003437075233663399,.00017185376168316996,8592688084158498e-20,4296344042198222e-20,2148172021099111e-20,10740860104305824e-21,53704300533426425e-22,2685215025481591e-21]},registerProj:function(){st.default.defs("EPSG:4490","+proj=longlat +ellps=GRS80 +no_defs"),st.default.defs("EPSG:4528","+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"),st.default.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs"),o.register(st.default)},transform:function(U,J,Y){return i.transform(U,J,Y)},getCustomProj:function(U,J,Y,vt,dt){this.proj=new at.default({code:U,extent,units:Y,origin:vt}),i.addProjection(this.proj),this.extent=this.proj.getExtent(),this.resolutions=dt}},L=function(){this.proj=i.get("EPSG:4528"),this.extent=this.proj.getExtent()},V=function(){this.proj=new at.default({code:"EPSG:4490",extent:[-180,-90,180,90],units:"degrees",worldExtent:[-180,-90,180,90]}),i.addProjection(this.proj),this.extent=this.proj.getExtent(),this.resolutions=D.resolutions.res4490},k=function(){this.proj=new i.get("EPSG:4326"),this.extent=this.proj.getExtent(),this.resolutions=D.resolutions.res4326},$=function(){this.proj=new i.get("EPSG:3857"),this.extent=this.proj.getExtent(),this.resolutions=D.resolutions.res3857};D.registerProj(),St=D;var ht=new L,q=new V,R=new k,Z=new $;St.proj4528=ht,St.proj4490=q,St.proj4326=R,St.proj3857=Z})();var At=St,Et=function(){var D=function L(){var V=new s.Circle({radius:5,fill:null,stroke:new s.Stroke({color:"red",width:1})}),k={Point:new s.Style({image:V}),LineString:new s.Style({stroke:new s.Stroke({color:"green",width:1})}),MultiLineString:new s.Style({stroke:new s.Stroke({color:"green",width:1})}),MultiPoint:new s.Style({image:V}),MultiPolygon:new s.Style({stroke:new s.Stroke({color:"yellow",width:2}),fill:new s.Fill({color:"rgba(255, 255, 0, 0.1)"})}),Polygon:new s.Style({stroke:new s.Stroke({color:"blue",lineDash:[4],width:3}),fill:new s.Fill({color:"rgba(0, 0, 255, 0.1)"})}),GeometryCollection:new s.Style({stroke:new s.Stroke({color:"magenta",width:2}),fill:new s.Fill({color:"magenta"}),image:new s.Circle({radius:10,fill:null,stroke:new s.Stroke({color:"magenta"})})}),Circle:new s.Style({stroke:new s.Stroke({color:"#ff0000",width:2}),fill:new s.Fill({color:"#ff0000"})})},$=function(q){return k[q.getGeometry().getType()]};L.prototype.styles=k,L.prototype.styleFunction=$};return D}(),Tt={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(L){var V=L.length/4*3,k=new ArrayBuffer(V);return this.decode(L,k),k},removePaddingChars:function(L){var V=this._keyStr.indexOf(L.charAt(L.length-1));return V==64?L.substring(0,L.length-1):L},decode:function(L,V){L=this.removePaddingChars(L),L=this.removePaddingChars(L);var k=parseInt(L.length/4*3,10),$,ht,q,R,Z,X,U,J,Y=0,vt=0;for(V?$=new Uint8Array(V):$=new Uint8Array(k),L=L.replace(/[^A-Za-z0-9\+\/\=]/g,""),Y=0;Y<k;Y+=3)Z=this._keyStr.indexOf(L.charAt(vt++)),X=this._keyStr.indexOf(L.charAt(vt++)),U=this._keyStr.indexOf(L.charAt(vt++)),J=this._keyStr.indexOf(L.charAt(vt++)),ht=Z<<2|X>>4,q=(X&15)<<4|U>>2,R=(U&3)<<6|J,$[Y]=ht,U!=64&&($[Y+1]=q),J!=64&&($[Y+2]=R);return $}},_=function(){function D(L){this.options={},this.options.path=L.path,this.options.featureName=L.featureName,this.options.projection=L.projection,u.log(this.options.projection)}return D.prototype.addShpLayer=function(L){if(yt.default&&typeof plus<"u"){var V=plus.android.importClass("com.zjzs.gisq.layer.ShpMapServiceLayer"),k=new V(this.options.path,this.options.featureName),$=k.getShpBinary(),ht=k.getDbfBinary(),q;if(Tt){q=Tt.decode($),Tt.decode(ht);var R=this.options.projection,Z=function(J){u.log(111);var Y=new K.default({dataProjection:R,featureProjection:"EPSG:3857"}).readFeatures(J);L.addFeatures(Y)},X=new Promise(function(U){var J=yt.default.combine([yt.default.parseShp(q),[]]);u.log(J),U(J)});X.then(Z)}}else u.log("Hbuilder app and has shpjs lib?")},D}(),rt=function(){var D=new Map,L="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",V,k=At.proj3857;function $(ht,q){this.path=ht,this.options={};var R=k.proj;q&&(this.options.resolutions=q.resolutions||k.resolutions,this.options.projection=q.projection||R,this.options.origin=q.origin,this.options.tileType=q.tileType),typeof plus<"u"&&plus!=null&&(this.MbTilesMapServiceLayer=plus.android.importClass("com.zjzs.gisq.layer.MbTilesMapServiceLayer"),V=new this.MbTilesMapServiceLayer(this.path,"",this.options.tileType))}return $.prototype.getTileGrid=function(){var ht=this.options.projection.getExtent(),q=this.options.origin||l.getTopLeft(ht),R=new tt.default({resolutions:this.options.resolutions,tileSize:[256,256],extent:ht,origin:q});return R},$.prototype.getMbTiles=function(ht,q,R){return new Promise(function(Z,X){if((typeof plus>"u"||!plus)&&X(L),D&&D.size>1024)for(var U=0;U<512;U++)D.delete(D.keys().next());var J=q+","+ht+","+R;if(D&&D.has(J)){var Y=D.get(J);Z("data:image/png;base64,"+Y)}else{var Y=plus.android.invoke(V,"getTile",q,ht,R);Y?(D&&D.set(J,Y),Z("data:image/png;base64,"+Y)):X(L)}})},$.prototype.getTileSource=function(){var ht=this,q=new lt.default({tileUrlFunction:function(Z){var X=Z[0],U=Z[1],J=Math.abs(Z[2]);return U+"/"+J+"/"+X},tileLoadFunction:function(Z,X){if(X){var U=X.split("/");if(U&&U.length==3){var J=ht.getMbTiles(parseInt(U[0]),parseInt(U[1]),parseInt(U[2]));J.then(function(Y){Z.getImage().src=Y},function(Y){Z.getImage().src=Y})}}},tileGrid:this.getTileGrid(),projection:this.options.projection});return q},$}(),Q=function(){var D=new Map,L="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",V,k=At.proj3857;function $(ht,q){this.path=ht,this.options={};var R=k.proj;q&&(this.options.resolutions=q.resolutions||k.resolutions,this.options.projection=q.projection||R,this.options.origin=q.origin),typeof plus<"u"&&plus!=null&&(this.SqliteMapServiceLayer=plus.android.importClass("com.zjzs.gisq.layer.SqliteMapServiceLayer"),V=new this.SqliteMapServiceLayer(this.path,""))}return $.prototype.getTileGrid=function(){var ht=this.options.projection.getExtent(),q=this.options.origin||l.getTopLeft(ht),R=new tt.default({resolutions:this.options.resolutions,tileSize:[256,256],extent:ht,origin:q});return R},$.prototype.getMbTiles=function(ht,q,R){return new Promise(function(Z,X){if((typeof plus>"u"||!plus)&&X(L),D&&D.size>1024)for(var U=0;U<512;U++)D.delete(D.keys().next());var J=q+","+ht+","+R;if(D&&D.has(J)){var Y=D.get(J);Z("data:image/png;base64,"+Y)}else{var Y=plus.android.invoke(V,"getTile",q,ht,R);Y?(D&&D.set(J,Y),Z("data:image/png;base64,"+Y)):X(L)}})},$.prototype.getTileSource=function(){var ht=this,q=new lt.default({tileUrlFunction:function(Z){var X=Z[0],U=Z[1],J=Math.abs(Z[2]);return U+"/"+J+"/"+X},tileLoadFunction:function(Z,X){if(X){var U=X.split("/");if(U&&U.length==3){var J=ht.getMbTiles(parseInt(U[0]),parseInt(U[1]),parseInt(U[2]));J.then(function(Y){Z.getImage().src=Y},function(Y){Z.getImage().src=Y})}}},tileGrid:this.getTileGrid(),projection:this.options.projection});return q},$}(),et=function(){function D(L){L=L||{},this.path=L.path,this.featureName=L.featureName,this.tilesource=new nt.default({wrapX:!1}),this.projection=L.projection,this.addShpLayerCallback=new _({path:this.path,featureName:this.featureName,projection:this.projection})}return D.prototype.getLayer=function(){return this.addShpLayerCallback.addShpLayer(this.tilesource),new ct.default({source:this.tilesource,projection:this.projection,style:new Et().styleFunction})},D}(),xt=function(){var D=At.proj3857;function L(k){L.TABLE_TYPE_MBTILES="mbtiles",L.TABLE_TYPE_ARCGIS="arcgis",k=k||{},this.path=k.path,this.projection=k.projection||"EPSG:3857",this.resolutions=k.resolutions||D.resolutions,this.origin=k.origin,this.tileType=k.tileType||L.TABLE_TYPE_MBTILES;var $=new rt(this.path,{projection:this.projection,resolutions:this.resolutions,origin:this.origin,tileType:this.tileType});this.tilesource=$.getTileSource()}L.prototype.getLayer=function(){return new gt.default({source:this.tilesource,projection:this.projection})};function V(k){if(typeof plus>"u"||!plus)return"";var $=plus.android.importClass("com.zjzs.gisq.layer.MbTilesMapServiceLayer"),ht=new $(k,""),q=plus.android.invoke(ht,"getConfig");return q}return L.getMedata=V,L}(),ut=function(){var D=At.proj3857;function L(k){k=k||{},this.path=k.path,this.projection=k.projection||"EPSG:3857",this.resolutions=k.resolutions||D.resolutions,this.origin=k.origin;var $=new Q(this.path,{projection:this.projection,resolutions:this.resolutions,origin:this.origin});this.tilesource=$.getTileSource()}L.prototype.getLayer=function(){return new gt.default({source:this.tilesource,projection:this.projection})};function V(k){if(typeof plus>"u"||!plus)return"";var $=plus.android.importClass("com.zjzs.gisq.layer.SqliteMapServiceLayer"),ht=new $(k,""),q=plus.android.invoke(ht,"getConfig");return q}return L.getMedata=V,L}(),it=function(){var D=At.proj3857;function L(k){var k=k||{};this.path=k.path,this.resolutions=k.resolutions||D.resolutions,this.dataProjection=k.dataProjection||"EPSG:3857",this.featureProjection=k.featureProjection||"EPSG:3857",this.sqlKey=k.sqlKey||""}return L.prototype.getTileGrid=function(){var V=this.featureProjection.getExtent(),k=new tt.default({resolutions:D.resolutions,tileSize:[256,256],extent:V,origin:l.getTopLeft(V)});return k},L.prototype.getSources=function(){var V=this,k=new ft.default({format:new K.default,tileUrlFunction:function(ht){var q=ht[0],R=ht[1],Z=Math.abs(ht[2]);return R+"/"+Z+"/"+q},tileLoadFunction:function(ht,q){var R=q.split("/");if(R&&R.length==3){var Z=ht.getFormat(),X=this.projection,U=V.getGeoJsonTiles(parseInt(R[0]),parseInt(R[1]),parseInt(R[2]),Z,X);U.then(function(J,Y){ht.onLoad(J,Y)},function(J){u.log("error="+J),ht.onError()})}else ht.onError()},tileGrid:this.getTileGrid(),projection:"EPSG:3857"});return k},L.prototype.getGeoJsonTiles=function(V,k,$,ht,q){var R=this;return new Promise(function(Z,X){(typeof plus>"u"||!plus)&&X("is Hbuilder app?");var U=plus.android.importClass("com.zjzs.gisq.layer.GeoJsonMapServiceLayer"),J=new U(R.path,R.sqlKey),Y=plus.android.invoke(J,"getGeoJsonTile",k,V,$);if(Y){u.log("XYZ=="+V+","+k+","+$);var vt=ht.readFeatures(Y,{dataProjection:R.dataProjection,featureProjection:q}),dt=ht.readProjection(Y);Z(vt,dt)}else X("\u6682\u65E0\u6570\u636E")})},L}(),z=function(){var D=At.proj3857;function L(k){var k=k||{};this.path=k.path;var $=k.dataProjection||"EPSG:3857",ht=k.featureProjection||"EPSG:3857";this.resolutions=k.resolutions||D.resolutions,this.layerProjection=ht,this.jsonDataProjection=$,this.sqlKey=k.sqlKey||""}return L.prototype.getLayer=function(){if(typeof plus>"u")return null;var V=plus.android.importClass("com.zjzs.gisq.layer.GeoJsonMapServiceLayer"),k=new V(this.path),$=plus.android.invoke(k,"getGeoJson"),ht=new K.default().readFeatures($,{dataProjection:this.jsonDataProjection,featureProjection:this.layerProjection}),q=new nt.default({features:ht});return new ct.default({source:q,projection:this.layerProjection||"EPSG:3857",style:new Et().styleFunction})},L.prototype.getVectorTileLayer=function(){if(typeof plus>"u")throw"is Hbuilder app?";var V=new it({path:this.path,resolutions:this.resolutions,dataProjection:this.jsonDataProjection,featureProjection:this.layerProjection,sqlKey:this.sqlKey});return new Pt.default({source:V.getSources(),projection:this.layerProjection||"EPSG:3857",style:new Et().styleFunction})},L}();g.GisqMobileMbTileSource=rt,g.GisqMobileSqliteSource=Q,g.GisqOfflineGeoJsonLayer=z,g.GisqOfflineMbTilesLayer=xt,g.GisqOfflineShpLayer=et,g.GisqOfflineSqliteLayer=ut,g.gisqOlMobileProj=At,g.gisqOlMobileShp=_,g.gisqOlMobileStyle=Et,Object.defineProperty(g,"__esModule",{value:!0})})},936893:function(G,C,t){"use strict";var u=t.g.MutationObserver||t.g.WebKitMutationObserver,g;if(u){var d=0,h=new u(v),o=t.g.document.createTextNode("");h.observe(o,{characterData:!0}),g=function(){o.data=d=++d%2}}else if(!t.g.setImmediate&&typeof t.g.MessageChannel<"u"){var i=new t.g.MessageChannel;i.port1.onmessage=v,g=function(){i.port2.postMessage(0)}}else"document"in t.g&&"onreadystatechange"in t.g.document.createElement("script")?g=function(){var p=t.g.document.createElement("script");p.onreadystatechange=function(){v(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},t.g.document.documentElement.appendChild(p)}:g=function(){setTimeout(v,0)};var s,T=[];function v(){s=!0;for(var p,I,c=T.length;c;){for(I=T,T=[],p=-1;++p<c;)I[p]();c=T.length}s=!1}G.exports=S;function S(p){T.push(p)===1&&!s&&g()}},284127:function(G,C,t){"use strict";var u=t(936893);function g(){}var d={},h=["REJECTED"],o=["FULFILLED"],i=["PENDING"];G.exports=s;function s(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,M!==g&&p(this,M)}s.prototype.finally=function(M){if(typeof M!="function")return this;var P=this.constructor;return this.then(l,y);function l(r){function x(){return r}return P.resolve(M()).then(x)}function y(r){function x(){throw r}return P.resolve(M()).then(x)}},s.prototype.catch=function(M){return this.then(null,M)},s.prototype.then=function(M,P){if(typeof M!="function"&&this.state===o||typeof P!="function"&&this.state===h)return this;var l=new this.constructor(g);if(this.state!==i){var y=this.state===o?M:P;v(l,y,this.outcome)}else this.queue.push(new T(l,M,P));return l};function T(M,P,l){this.promise=M,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof l=="function"&&(this.onRejected=l,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(M){d.resolve(this.promise,M)},T.prototype.otherCallFulfilled=function(M){v(this.promise,this.onFulfilled,M)},T.prototype.callRejected=function(M){d.reject(this.promise,M)},T.prototype.otherCallRejected=function(M){v(this.promise,this.onRejected,M)};function v(M,P,l){u(function(){var y;try{y=P(l)}catch(r){return d.reject(M,r)}y===M?d.reject(M,new TypeError("Cannot resolve promise with itself")):d.resolve(M,y)})}d.resolve=function(M,P){var l=I(S,P);if(l.status==="error")return d.reject(M,l.value);var y=l.value;if(y)p(M,y);else{M.state=o,M.outcome=P;for(var r=-1,x=M.queue.length;++r<x;)M.queue[r].callFulfilled(P)}return M},d.reject=function(M,P){M.state=h,M.outcome=P;for(var l=-1,y=M.queue.length;++l<y;)M.queue[l].callRejected(P);return M};function S(M){var P=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof P=="function")return function(){P.apply(M,arguments)}}function p(M,P){var l=!1;function y(N){l||(l=!0,d.reject(M,N))}function r(N){l||(l=!0,d.resolve(M,N))}function x(){P(r,y)}var B=I(x);B.status==="error"&&y(B.value)}function I(M,P){var l={};try{l.value=M(P),l.status="success"}catch(y){l.status="error",l.value=y}return l}s.resolve=c;function c(M){return M instanceof this?M:d.resolve(new this(g),M)}s.reject=f;function f(M){var P=new this(g);return d.reject(P,M)}s.all=m;function m(M){var P=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var l=M.length,y=!1;if(!l)return this.resolve([]);for(var r=new Array(l),x=0,B=-1,N=new this(g);++B<l;)b(M[B],B);return N;function b(at,st){P.resolve(at).then(K,function(yt){y||(y=!0,d.reject(N,yt))});function K(yt){r[st]=yt,++x===l&&!y&&(y=!0,d.resolve(N,r))}}}s.race=A;function A(M){var P=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var l=M.length,y=!1;if(!l)return this.resolve([]);for(var r=-1,x=new this(g);++r<l;)B(M[r]);return x;function B(N){P.resolve(N).then(function(b){y||(y=!0,d.resolve(x,b))},function(b){y||(y=!0,d.reject(x,b))})}}},60309:function(G,C,t){var u=t(149500);(function(){G.exports?G.exports=i:this.LRUCache=i;function g(f,m){return Object.prototype.hasOwnProperty.call(f,m)}function d(){return 1}var h=!1;function o(f){!h&&typeof f!="string"&&typeof f!="number"&&(h=!0,u.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof f).stack))}function i(f){if(!(this instanceof i))return new i(f);typeof f=="number"&&(f={max:f}),f||(f={}),this._max=f.max,(!this._max||typeof this._max!="number"||this._max<=0)&&(this._max=1/0),this._lengthCalculator=f.length||d,typeof this._lengthCalculator!="function"&&(this._lengthCalculator=d),this._allowStale=f.stale||!1,this._maxAge=f.maxAge||null,this._dispose=f.dispose,this.reset()}Object.defineProperty(i.prototype,"max",{set:function(f){(!f||typeof f!="number"||f<=0)&&(f=1/0),this._max=f,this._length>this._max&&S(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(i.prototype,"lengthCalculator",{set:function(f){if(typeof f!="function"){this._lengthCalculator=d,this._length=this._itemCount;for(var m in this._cache)this._cache[m].length=1}else{this._lengthCalculator=f,this._length=0;for(var m in this._cache)this._cache[m].length=this._lengthCalculator(this._cache[m].value),this._length+=this._cache[m].length}this._length>this._max&&S(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(i.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),i.prototype.forEach=function(f,m){m=m||this;for(var A=0,M=this._itemCount,P=this._mru-1;P>=0&&A<M;P--)if(this._lruList[P]){A++;var l=this._lruList[P];T(this,l)&&(I(this,l),this._allowStale||(l=void 0)),l&&f.call(m,l.value,l.key,this)}},i.prototype.keys=function(){for(var f=new Array(this._itemCount),m=0,A=this._mru-1;A>=0&&m<this._itemCount;A--)if(this._lruList[A]){var M=this._lruList[A];f[m++]=M.key}return f},i.prototype.values=function(){for(var f=new Array(this._itemCount),m=0,A=this._mru-1;A>=0&&m<this._itemCount;A--)if(this._lruList[A]){var M=this._lruList[A];f[m++]=M.value}return f},i.prototype.reset=function(){if(this._dispose&&this._cache)for(var f in this._cache)this._dispose(f,this._cache[f].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},i.prototype.dump=function(){for(var f=[],m=0,A=this._mru-1;A>=0&&m<this._itemCount;A--)if(this._lruList[A]){var M=this._lruList[A];T(this,M)||(++m,f.push({k:M.key,v:M.value,e:M.now+(M.maxAge||0)}))}return f},i.prototype.dumpLru=function(){return this._lruList},i.prototype.set=function(f,m,A){A=A||this._maxAge,o(f);var M=A?Date.now():0,P=this._lengthCalculator(m);if(g(this._cache,f))return P>this._max?(I(this,this._cache[f]),!1):(this._dispose&&this._dispose(f,this._cache[f].value),this._cache[f].now=M,this._cache[f].maxAge=A,this._cache[f].value=m,this._length+=P-this._cache[f].length,this._cache[f].length=P,this.get(f),this._length>this._max&&S(this),!0);var l=new c(f,m,this._mru++,P,M,A);return l.length>this._max?(this._dispose&&this._dispose(f,m),!1):(this._length+=l.length,this._lruList[l.lu]=this._cache[f]=l,this._itemCount++,this._length>this._max&&S(this),!0)},i.prototype.has=function(f){if(o(f),!g(this._cache,f))return!1;var m=this._cache[f];return!T(this,m)},i.prototype.get=function(f){return o(f),s(this,f,!0)},i.prototype.peek=function(f){return o(f),s(this,f,!1)},i.prototype.pop=function(){var f=this._lruList[this._lru];return I(this,f),f||null},i.prototype.del=function(f){o(f),I(this,this._cache[f])},i.prototype.load=function(f){this.reset();for(var m=Date.now(),A=f.length-1;A>=0;A--){var M=f[A];o(M.k);var P=M.e||0;if(P===0)this.set(M.k,M.v);else{var l=P-m;l>0&&this.set(M.k,M.v,l)}}};function s(f,m,A){o(m);var M=f._cache[m];return M&&(T(f,M)?(I(f,M),f._allowStale||(M=void 0)):A&&v(f,M),M&&(M=M.value)),M}function T(f,m){if(!m||!m.maxAge&&!f._maxAge)return!1;var A=!1,M=Date.now()-m.now;return m.maxAge?A=M>m.maxAge:A=f._maxAge&&M>f._maxAge,A}function v(f,m){p(f,m),m.lu=f._mru++,f._lruList[m.lu]=m}function S(f){for(;f._lru<f._mru&&f._length>f._max;)I(f,f._lruList[f._lru])}function p(f,m){for(delete f._lruList[m.lu];f._lru<f._mru&&!f._lruList[f._lru];)f._lru++}function I(f,m){m&&(f._dispose&&f._dispose(m.key,m.value),f._length-=m.length,f._itemCount--,delete f._cache[m.key],p(f,m))}function c(f,m,A,M,P,l){this.key=f,this.value=m,this.lu=A,this.length=M,this.now=P,l&&(this.maxAge=l)}})()},193227:function(G,C,t){t(77332);var u=t(72699).s;function g(o){var i=new u,s=i.write(o)+i.end();return s.replace(/\0/g,"").trim()}G.exports=h;var d=/^(?:ANSI\s)?(\d+)$/m;function h(o,i){if(!o)return g;try{new TextDecoder(o.trim())}catch{var s=d.exec(o);return s&&!i?h("windows-"+s[1],!0):g}return T;function T(v){var S=new TextDecoder(o),p=S.decode(v,{stream:!0})+S.decode();return p.replace(/\0/g,"").trim()}}},209518:function(G,C,t){var u=t(193227);function g(i){var s={};return s.lastUpdated=new Date(i.readUInt8(1)+1900,i.readUInt8(2),i.readUInt8(3)),s.records=i.readUInt32LE(4),s.headerLen=i.readUInt16LE(8),s.recLen=i.readUInt16LE(10),s}function d(i,s,T){for(var v=[],S=32;S<s&&(v.push({name:T(i.slice(S,S+11)),dataType:String.fromCharCode(i.readUInt8(S+11)),len:i.readUInt8(S+16),decimal:i.readUInt8(S+17)}),i.readUInt8(S+32)!==13);)S+=32;return v}function h(i,s,T,v,S){var p=i.slice(s,s+T),I=S(p);switch(v){case"N":case"F":case"O":return parseFloat(I,10);case"D":return new Date(I.slice(0,4),parseInt(I.slice(4,6),10)-1,I.slice(6,8));case"L":return I.toLowerCase()==="y"||I.toLowerCase()==="t";default:return I}}function o(i,s,T,v){for(var S={},p=0,I=T.length,c,f;p<I;)f=T[p],c=h(i,s,f.len,f.dataType,v),s+=f.len,typeof c<"u"&&(S[f.name]=c),p++;return S}G.exports=function(i,s){for(var T=u(s),v=g(i),S=d(i,v.headerLen-1,T),p=(S.length+1<<5)+2,I=v.recLen,c=v.records,f=[];c;)f.push(o(i,p,S,T)),p+=I,c--;return f}},330339:function(G,C,t){"use strict";t.r(C),t.d(C,{default:function(){return za}});function u(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var g=1,d=2,h=3,o=4,i=5,s=6378137,T=6356752314e-3,v=.0066943799901413165,S=484813681109536e-20,p=Math.PI/2,I=.16666666666666666,c=.04722222222222222,f=.022156084656084655,m=1e-10,A=.017453292519943295,M=57.29577951308232,P=Math.PI/4,l=Math.PI*2,y=3.14159265359,r={};r.greenwich=0,r.lisbon=-9.131906111111,r.paris=2.337229166667,r.bogota=-74.080916666667,r.madrid=-3.687938888889,r.rome=12.452333333333,r.bern=7.439583333333,r.jakarta=106.807719444444,r.ferro=-17.666666666667,r.brussels=4.367975,r.stockholm=18.058277777778,r.athens=23.7163375,r.oslo=10.722916666667;var x={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},B=/[\s_\-\/\(\)]/g;function N(e,n){if(e[n])return e[n];for(var a=Object.keys(e),E=n.toLowerCase().replace(B,""),w=-1,F,j;++w<a.length;)if(F=a[w],j=F.toLowerCase().replace(B,""),j===E)return e[F]}function b(e){var n={},a=e.split("+").map(function(O){return O.trim()}).filter(function(O){return O}).reduce(function(O,W){var ot=W.split("=");return ot.push(!0),O[ot[0].toLowerCase()]=ot[1],O},{}),E,w,F,j={proj:"projName",datum:"datumCode",rf:function(O){n.rf=parseFloat(O)},lat_0:function(O){n.lat0=O*A},lat_1:function(O){n.lat1=O*A},lat_2:function(O){n.lat2=O*A},lat_ts:function(O){n.lat_ts=O*A},lon_0:function(O){n.long0=O*A},lon_1:function(O){n.long1=O*A},lon_2:function(O){n.long2=O*A},alpha:function(O){n.alpha=parseFloat(O)*A},gamma:function(O){n.rectified_grid_angle=parseFloat(O)},lonc:function(O){n.longc=O*A},x_0:function(O){n.x0=parseFloat(O)},y_0:function(O){n.y0=parseFloat(O)},k_0:function(O){n.k0=parseFloat(O)},k:function(O){n.k0=parseFloat(O)},a:function(O){n.a=parseFloat(O)},b:function(O){n.b=parseFloat(O)},r_a:function(){n.R_A=!0},zone:function(O){n.zone=parseInt(O,10)},south:function(){n.utmSouth=!0},towgs84:function(O){n.datum_params=O.split(",").map(function(W){return parseFloat(W)})},to_meter:function(O){n.to_meter=parseFloat(O)},units:function(O){n.units=O;var W=N(x,O);W&&(n.to_meter=W.to_meter)},from_greenwich:function(O){n.from_greenwich=O*A},pm:function(O){var W=N(r,O);n.from_greenwich=(W||parseFloat(O))*A},nadgrids:function(O){O==="@null"?n.datumCode="none":n.nadgrids=O},axis:function(O){var W="ewnsud";O.length===3&&W.indexOf(O.substr(0,1))!==-1&&W.indexOf(O.substr(1,1))!==-1&&W.indexOf(O.substr(2,1))!==-1&&(n.axis=O)},approx:function(){n.approx=!0}};for(E in a)w=a[E],E in j?(F=j[E],typeof F=="function"?F(w):n[F]=w):n[E]=w;return typeof n.datumCode=="string"&&n.datumCode!=="WGS84"&&(n.datumCode=n.datumCode.toLowerCase()),n}var at=t(769185),st=t(149500);function K(e){var n=this;if(arguments.length===2){var a=arguments[1];typeof a=="string"?a.charAt(0)==="+"?K[e]=b(arguments[1]):K[e]=(0,at.Z)(arguments[1]):K[e]=a}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(E){Array.isArray(E)?K.apply(n,E):K(E)});if(typeof e=="string"){if(e in K)return K[e]}else"EPSG"in e?K["EPSG:"+e.EPSG]=e:"ESRI"in e?K["ESRI:"+e.ESRI]=e:"IAU2000"in e?K["IAU2000:"+e.IAU2000]=e:st.log(e);return}}u(K);var yt=K;function tt(e){return typeof e=="string"}function lt(e){return e in yt}var ct=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function nt(e){return ct.some(function(n){return e.indexOf(n)>-1})}var gt=["3857","900913","3785","102113"];function Pt(e){var n=N(e,"authority");if(n){var a=N(n,"epsg");return a&&gt.indexOf(a)>-1}}function ft(e){var n=N(e,"extension");if(n)return N(n,"proj4")}function St(e){return e[0]==="+"}function At(e){if(tt(e)){if(lt(e))return yt[e];if(nt(e)){var n=(0,at.Z)(e);if(Pt(n))return yt["EPSG:3857"];var a=ft(n);return a?b(a):n}if(St(e))return b(e)}else return e}var Et=At;function Tt(e,n){e=e||{};var a,E;if(!n)return e;for(E in n)a=n[E],a!==void 0&&(e[E]=a);return e}function _(e,n,a){var E=e*n;return a/Math.sqrt(1-E*E)}function rt(e){return e<0?-1:1}function Q(e){return Math.abs(e)<=y?e:e-rt(e)*l}function et(e,n,a){var E=e*a,w=.5*e;return E=Math.pow((1-E)/(1+E),w),Math.tan(.5*(p-n))/E}function xt(e,n){for(var a=.5*e,E,w,F=p-2*Math.atan(n),j=0;j<=15;j++)if(E=e*Math.sin(F),w=p-2*Math.atan(n*Math.pow((1-E)/(1+E),a))-F,F+=w,Math.abs(w)<=1e-10)return F;return-9999}function ut(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=_(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function it(e){var n=e.x,a=e.y;if(a*M>90&&a*M<-90&&n*M>180&&n*M<-180)return null;var E,w;if(Math.abs(Math.abs(a)-p)<=m)return null;if(this.sphere)E=this.x0+this.a*this.k0*Q(n-this.long0),w=this.y0+this.a*this.k0*Math.log(Math.tan(P+.5*a));else{var F=Math.sin(a),j=et(this.e,a,F);E=this.x0+this.a*this.k0*Q(n-this.long0),w=this.y0-this.a*this.k0*Math.log(j)}return e.x=E,e.y=w,e}function z(e){var n=e.x-this.x0,a=e.y-this.y0,E,w;if(this.sphere)w=p-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var F=Math.exp(-a/(this.a*this.k0));if(w=xt(this.e,F),w===-9999)return null}return E=Q(this.long0+n/(this.a*this.k0)),e.x=E,e.y=w,e}var D=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],L={init:ut,forward:it,inverse:z,names:D};function V(){}function k(e){return e}var $=["longlat","identity"],ht={init:V,forward:k,inverse:k,names:$},q=t(149500),R=[L,ht],Z={},X=[];function U(e,n){var a=X.length;return e.names?(X[a]=e,e.names.forEach(function(E){Z[E.toLowerCase()]=a}),this):(q.log(n),!0)}function J(e){if(!e)return!1;var n=e.toLowerCase();if(typeof Z[n]<"u"&&X[Z[n]])return X[Z[n]]}function Y(){R.forEach(U)}var vt={start:Y,add:U,get:J},dt={};dt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},dt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},dt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},dt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},dt.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},dt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},dt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},dt.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},dt.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},dt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},dt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},dt.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},dt.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},dt.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},dt.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},dt.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},dt.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},dt.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},dt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},dt.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},dt.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},dt.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},dt.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},dt.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},dt.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},dt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},dt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},dt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},dt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},dt.hough={a:6378270,rf:297,ellipseName:"Hough"},dt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},dt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},dt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},dt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},dt.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},dt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},dt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},dt.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},dt.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},dt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},dt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},dt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Mt=dt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};dt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function H(e,n,a,E){var w=e*e,F=n*n,j=(w-F)/w,O=0;E?(e*=1-j*(I+j*(c+j*f)),w=e*e,j=0):O=Math.sqrt(j);var W=(w-F)/F;return{es:j,e:O,ep2:W}}function wt(e,n,a,E,w){if(!e){var F=N(dt,E);F||(F=Mt),e=F.a,n=F.b,a=F.rf}return a&&!n&&(n=(1-1/a)*e),(a===0||Math.abs(e-n)<m)&&(w=!0,n=e),{a:e,b:n,rf:a,sphere:w}}var jt={};jt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},jt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},jt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},jt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},jt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},jt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},jt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},jt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},jt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},jt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},jt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},jt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},jt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},jt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},jt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},jt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},jt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},jt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function zt(e,n,a,E,w,F,j){var O={};return e===void 0||e==="none"?O.datum_type=i:O.datum_type=o,n&&(O.datum_params=n.map(parseFloat),(O.datum_params[0]!==0||O.datum_params[1]!==0||O.datum_params[2]!==0)&&(O.datum_type=g),O.datum_params.length>3&&(O.datum_params[3]!==0||O.datum_params[4]!==0||O.datum_params[5]!==0||O.datum_params[6]!==0)&&(O.datum_type=d,O.datum_params[3]*=S,O.datum_params[4]*=S,O.datum_params[5]*=S,O.datum_params[6]=O.datum_params[6]/1e6+1)),j&&(O.datum_type=h,O.grids=j),O.a=a,O.b=E,O.es=w,O.ep2=F,O}var $t=zt,Jt=t(149500),Wt={};function te(e,n){var a=new DataView(n),E=Dt(a),w=le(a,E),F=Xt(a,w,E),j={header:w,subgrids:F};return Wt[e]=j,j}function oe(e){if(e===void 0)return null;var n=e.split(",");return n.map(ve)}function ve(e){if(e.length===0)return null;var n=e[0]==="@";return n&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!n,grid:null,isNull:!0}:{name:e,mandatory:!n,grid:Wt[e]||null,isNull:!1}}function Ht(e){return e/3600*Math.PI/180}function Dt(e){var n=e.getInt32(8,!1);return n===11?!1:(n=e.getInt32(8,!0),n!==11&&Jt.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function le(e,n){return{nFields:e.getInt32(8,n),nSubgridFields:e.getInt32(24,n),nSubgrids:e.getInt32(40,n),shiftType:Me(e,56,56+8).trim(),fromSemiMajorAxis:e.getFloat64(120,n),fromSemiMinorAxis:e.getFloat64(136,n),toSemiMajorAxis:e.getFloat64(152,n),toSemiMinorAxis:e.getFloat64(168,n)}}function Me(e,n,a){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(n,a)))}function Xt(e,n,a){for(var E=176,w=[],F=0;F<n.nSubgrids;F++){var j=re(e,E,a),O=kt(e,E,j,a),W=Math.round(1+(j.upperLongitude-j.lowerLongitude)/j.longitudeInterval),ot=Math.round(1+(j.upperLatitude-j.lowerLatitude)/j.latitudeInterval);w.push({ll:[Ht(j.lowerLongitude),Ht(j.lowerLatitude)],del:[Ht(j.longitudeInterval),Ht(j.latitudeInterval)],lim:[W,ot],count:j.gridNodeCount,cvs:Se(O)}),E+=176+j.gridNodeCount*16}return w}function Se(e){return e.map(function(n){return[Ht(n.longitudeShift),Ht(n.latitudeShift)]})}function re(e,n,a){return{name:Me(e,n+8,n+16).trim(),parent:Me(e,n+24,n+24+8).trim(),lowerLatitude:e.getFloat64(n+72,a),upperLatitude:e.getFloat64(n+88,a),lowerLongitude:e.getFloat64(n+104,a),upperLongitude:e.getFloat64(n+120,a),latitudeInterval:e.getFloat64(n+136,a),longitudeInterval:e.getFloat64(n+152,a),gridNodeCount:e.getInt32(n+168,a)}}function kt(e,n,a,E){for(var w=n+176,F=16,j=[],O=0;O<a.gridNodeCount;O++){var W={latitudeShift:e.getFloat32(w+O*F,E),longitudeShift:e.getFloat32(w+O*F+4,E),latitudeAccuracy:e.getFloat32(w+O*F+8,E),longitudeAccuracy:e.getFloat32(w+O*F+12,E)};j.push(W)}return j}function ie(e,n){if(!(this instanceof ie))return new ie(e);n=n||function(ot){if(ot)throw ot};var a=Et(e);if(typeof a!="object"){n(e);return}var E=ie.projections.get(a.projName);if(!E){n(e);return}if(a.datumCode&&a.datumCode!=="none"){var w=N(jt,a.datumCode);w&&(a.datum_params=a.datum_params||(w.towgs84?w.towgs84.split(","):null),a.ellps=w.ellipse,a.datumName=w.datumName?w.datumName:a.datumCode)}a.k0=a.k0||1,a.axis=a.axis||"enu",a.ellps=a.ellps||"wgs84",a.lat1=a.lat1||a.lat0;var F=wt(a.a,a.b,a.rf,a.ellps,a.sphere),j=H(F.a,F.b,F.rf,a.R_A),O=oe(a.nadgrids),W=a.datum||$t(a.datumCode,a.datum_params,F.a,F.b,j.es,j.ep2,O);Tt(this,a),Tt(this,E),this.a=F.a,this.b=F.b,this.rf=F.rf,this.sphere=F.sphere,this.es=j.es,this.e=j.e,this.ep2=j.ep2,this.datum=W,this.init(),n(null,this)}ie.projections=vt,ie.projections.start();var fe=ie;function qt(e,n){return e.datum_type!==n.datum_type||e.a!==n.a||Math.abs(e.es-n.es)>5e-11?!1:e.datum_type===g?e.datum_params[0]===n.datum_params[0]&&e.datum_params[1]===n.datum_params[1]&&e.datum_params[2]===n.datum_params[2]:e.datum_type===d?e.datum_params[0]===n.datum_params[0]&&e.datum_params[1]===n.datum_params[1]&&e.datum_params[2]===n.datum_params[2]&&e.datum_params[3]===n.datum_params[3]&&e.datum_params[4]===n.datum_params[4]&&e.datum_params[5]===n.datum_params[5]&&e.datum_params[6]===n.datum_params[6]:!0}function ue(e,n,a){var E=e.x,w=e.y,F=e.z?e.z:0,j,O,W,ot;if(w<-p&&w>-1.001*p)w=-p;else if(w>p&&w<1.001*p)w=p;else{if(w<-p)return{x:-1/0,y:-1/0,z:e.z};if(w>p)return{x:1/0,y:1/0,z:e.z}}return E>Math.PI&&(E-=2*Math.PI),O=Math.sin(w),ot=Math.cos(w),W=O*O,j=a/Math.sqrt(1-n*W),{x:(j+F)*ot*Math.cos(E),y:(j+F)*ot*Math.sin(E),z:(j*(1-n)+F)*O}}function ge(e,n,a,E){var w=1e-12,F=w*w,j=30,O,W,ot,pt,mt,It,Ft,Ot,Ct,Rt,Vt,ae,Zt,_t=e.x,Yt=e.y,ee=e.z?e.z:0,Le,de,je;if(O=Math.sqrt(_t*_t+Yt*Yt),W=Math.sqrt(_t*_t+Yt*Yt+ee*ee),O/a<w){if(Le=0,W/a<w)return de=p,je=-E,{x:e.x,y:e.y,z:e.z}}else Le=Math.atan2(Yt,_t);ot=ee/W,pt=O/W,mt=1/Math.sqrt(1-n*(2-n)*pt*pt),Ot=pt*(1-n)*mt,Ct=ot*mt,Zt=0;do Zt++,Ft=a/Math.sqrt(1-n*Ct*Ct),je=O*Ot+ee*Ct-Ft*(1-n*Ct*Ct),It=n*Ft/(Ft+je),mt=1/Math.sqrt(1-It*(2-It)*pt*pt),Rt=pt*(1-It)*mt,Vt=ot*mt,ae=Vt*Ot-Rt*Ct,Ot=Rt,Ct=Vt;while(ae*ae>F&&Zt<j);return de=Math.atan(Vt/Math.abs(Rt)),{x:Le,y:de,z:je}}function er(e,n,a){if(n===g)return{x:e.x+a[0],y:e.y+a[1],z:e.z+a[2]};if(n===d){var E=a[0],w=a[1],F=a[2],j=a[3],O=a[4],W=a[5],ot=a[6];return{x:ot*(e.x-W*e.y+O*e.z)+E,y:ot*(W*e.x+e.y-j*e.z)+w,z:ot*(-O*e.x+j*e.y+e.z)+F}}}function be(e,n,a){if(n===g)return{x:e.x-a[0],y:e.y-a[1],z:e.z-a[2]};if(n===d){var E=a[0],w=a[1],F=a[2],j=a[3],O=a[4],W=a[5],ot=a[6],pt=(e.x-E)/ot,mt=(e.y-w)/ot,It=(e.z-F)/ot;return{x:pt+W*mt-O*It,y:-W*pt+mt+j*It,z:O*pt-j*mt+It}}}var Ie=t(149500);function Ce(e){return e===g||e===d}function Ke(e,n,a){if(qt(e,n)||e.datum_type===i||n.datum_type===i)return a;var E=e.a,w=e.es;if(e.datum_type===h){var F=ze(e,!1,a);if(F!==0)return;E=s,w=v}var j=n.a,O=n.b,W=n.es;if(n.datum_type===h&&(j=s,O=T,W=v),w===W&&E===j&&!Ce(e.datum_type)&&!Ce(n.datum_type))return a;if(a=ue(a,w,E),Ce(e.datum_type)&&(a=er(a,e.datum_type,e.datum_params)),Ce(n.datum_type)&&(a=be(a,n.datum_type,n.datum_params)),a=ge(a,W,j,O),n.datum_type===h){var ot=ze(n,!0,a);if(ot!==0)return}return a}function ze(e,n,a){if(e.grids===null||e.grids.length===0)return Ie.log("Grid shift grids not found"),-1;var E={x:-a.x,y:a.y},w={x:Number.NaN,y:Number.NaN},F=!1,j=[];t:for(var O=0;O<e.grids.length;O++){var W=e.grids[O];if(j.push(W.name),W.isNull){w=E;break}if(F=W.mandatory,W.grid===null){if(W.mandatory)return Ie.log("Unable to find mandatory grid '"+W.name+"'"),-1;continue}for(var ot=W.grid.subgrids,pt=0,mt=ot.length;pt<mt;pt++){var It=ot[pt],Ft=(Math.abs(It.del[1])+Math.abs(It.del[0]))/1e4,Ot=It.ll[0]-Ft,Ct=It.ll[1]-Ft,Rt=It.ll[0]+(It.lim[0]-1)*It.del[0]+Ft,Vt=It.ll[1]+(It.lim[1]-1)*It.del[1]+Ft;if(!(Ct>E.y||Ot>E.x||Vt<E.y||Rt<E.x)&&(w=Re(E,n,It),!isNaN(w.x)))break t}}return isNaN(w.x)?(Ie.log("Failed to find a grid shift table for location '"+-E.x*M+" "+E.y*M+" tried: '"+j+"'"),-1):(a.x=-w.x,a.y=w.y,0)}function Re(e,n,a){var E={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return E;var w={x:e.x,y:e.y};w.x-=a.ll[0],w.y-=a.ll[1],w.x=Q(w.x-Math.PI)+Math.PI;var F=Ge(w,a);if(n){if(isNaN(F.x))return E;F.x=w.x-F.x,F.y=w.y-F.y;var j=9,O=1e-12,W,ot;do{if(ot=Ge(F,a),isNaN(ot.x)){Ie.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}W={x:w.x-(ot.x+F.x),y:w.y-(ot.y+F.y)},F.x+=W.x,F.y+=W.y}while(j--&&Math.abs(W.x)>O&&Math.abs(W.y)>O);if(j<0)return Ie.log("Inverse grid shift iterator failed to converge."),E;E.x=Q(F.x+a.ll[0]),E.y=F.y+a.ll[1]}else isNaN(F.x)||(E.x=e.x+F.x,E.y=e.y+F.y);return E}function Ge(e,n){var a={x:e.x/n.del[0],y:e.y/n.del[1]},E={x:Math.floor(a.x),y:Math.floor(a.y)},w={x:a.x-1*E.x,y:a.y-1*E.y},F={x:Number.NaN,y:Number.NaN},j;if(E.x<0||E.x>=n.lim[0]||E.y<0||E.y>=n.lim[1])return F;j=E.y*n.lim[0]+E.x;var O={x:n.cvs[j][0],y:n.cvs[j][1]};j++;var W={x:n.cvs[j][0],y:n.cvs[j][1]};j+=n.lim[0];var ot={x:n.cvs[j][0],y:n.cvs[j][1]};j--;var pt={x:n.cvs[j][0],y:n.cvs[j][1]},mt=w.x*w.y,It=w.x*(1-w.y),Ft=(1-w.x)*(1-w.y),Ot=(1-w.x)*w.y;return F.x=Ft*O.x+It*W.x+Ot*pt.x+mt*ot.x,F.y=Ft*O.y+It*W.y+Ot*pt.y+mt*ot.y,F}function Ee(e,n,a){var E=a.x,w=a.y,F=a.z||0,j,O,W,ot={};for(W=0;W<3;W++)if(!(n&&W===2&&a.z===void 0))switch(W===0?(j=E,"ew".indexOf(e.axis[W])!==-1?O="x":O="y"):W===1?(j=w,"ns".indexOf(e.axis[W])!==-1?O="y":O="x"):(j=F,O="z"),e.axis[W]){case"e":ot[O]=j;break;case"w":ot[O]=-j;break;case"n":ot[O]=j;break;case"s":ot[O]=-j;break;case"u":a[O]!==void 0&&(ot.z=j);break;case"d":a[O]!==void 0&&(ot.z=-j);break;default:return null}return ot}function Ue(e){var n={x:e[0],y:e[1]};return e.length>2&&(n.z=e[2]),e.length>3&&(n.m=e[3]),n}function Pe(e){Bt(e.x),Bt(e.y)}function Bt(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function Lt(e,n){return(e.datum.datum_type===g||e.datum.datum_type===d||e.datum.datum_type===h)&&n.datumCode!=="WGS84"||(n.datum.datum_type===g||n.datum.datum_type===d||n.datum.datum_type===h)&&e.datumCode!=="WGS84"}function Gt(e,n,a,E){var w;Array.isArray(a)?a=Ue(a):a={x:a.x,y:a.y,z:a.z,m:a.m};var F=a.z!==void 0;if(Pe(a),e.datum&&n.datum&&Lt(e,n)&&(w=new fe("WGS84"),a=Gt(e,w,a,E),e=w),E&&e.axis!=="enu"&&(a=Ee(e,!1,a)),e.projName==="longlat")a={x:a.x*A,y:a.y*A,z:a.z||0};else if(e.to_meter&&(a={x:a.x*e.to_meter,y:a.y*e.to_meter,z:a.z||0}),a=e.inverse(a),!a)return;if(e.from_greenwich&&(a.x+=e.from_greenwich),a=Ke(e.datum,n.datum,a),!!a)return n.from_greenwich&&(a={x:a.x-n.from_greenwich,y:a.y,z:a.z||0}),n.projName==="longlat"?a={x:a.x*M,y:a.y*M,z:a.z||0}:(a=n.forward(a),n.to_meter&&(a={x:a.x/n.to_meter,y:a.y/n.to_meter,z:a.z||0})),E&&n.axis!=="enu"?Ee(n,!0,a):(a&&!F&&delete a.z,a)}var Ut=fe("WGS84");function Nt(e,n,a,E){var w,F,j;return Array.isArray(a)?(w=Gt(e,n,a,E)||{x:NaN,y:NaN},a.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof n.name<"u"&&n.name==="geocent"?typeof w.z=="number"?[w.x,w.y,w.z].concat(a.splice(3)):[w.x,w.y,a[2]].concat(a.splice(3)):[w.x,w.y].concat(a.splice(2)):[w.x,w.y]):(F=Gt(e,n,a,E),j=Object.keys(a),j.length===2||j.forEach(function(O){if(typeof e.name<"u"&&e.name==="geocent"||typeof n.name<"u"&&n.name==="geocent"){if(O==="x"||O==="y"||O==="z")return}else if(O==="x"||O==="y")return;F[O]=a[O]}),F)}function ye(e){return e instanceof fe?e:e.oProj?e.oProj:fe(e)}function Fe(e,n,a){e=ye(e);var E=!1,w;return typeof n>"u"?(n=e,e=Ut,E=!0):(typeof n.x<"u"||Array.isArray(n))&&(a=n,n=e,e=Ut,E=!0),n=ye(n),a?Nt(e,n,a):(w={forward:function(F,j){return Nt(e,n,F,j)},inverse:function(F,j){return Nt(n,e,F,j)}},E&&(w.oProj=n),w)}var bt=Fe,me=t(618857),De=t(149500);function Te(e,n,a){if(!(this instanceof Te))return new Te(e,n,a);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof n>"u"){var E=e.split(",");this.x=parseFloat(E[0],10),this.y=parseFloat(E[1],10),this.z=parseFloat(E[2],10)||0}else this.x=e,this.y=n,this.z=a||0;De.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Te.fromMGRS=function(e){return new Te((0,me.jt)(e))},Te.prototype.toMGRS=function(e){return(0,me.eH)([this.x,this.y],e)};var We=Te,se=1,Mr=.25,fr=.046875,hr=.01953125,Ze=.01068115234375,rr=.75,cr=.46875,he=.013020833333333334,Qt=.007120768229166667,ce=.3645833333333333,Oe=.005696614583333333,Xe=.3076171875;function Je(e){var n=[];n[0]=se-e*(Mr+e*(fr+e*(hr+e*Ze))),n[1]=e*(rr-e*(fr+e*(hr+e*Ze)));var a=e*e;return n[2]=a*(cr-e*(he+e*Qt)),a*=e,n[3]=a*(ce-e*Oe),n[4]=a*e*Xe,n}function Be(e,n,a,E){return a*=n,n*=n,E[0]*e-a*(E[1]+n*(E[2]+n*(E[3]+n*E[4])))}var Ae=20;function Ne(e,n,a){for(var E=1/(1-n),w=e,F=Ae;F;--F){var j=Math.sin(w),O=1-n*j*j;if(O=(Be(w,j,Math.cos(w),a)-e)*(O*Math.sqrt(O))*E,w-=O,Math.abs(O)<m)return w}return w}function dr(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Je(this.es),this.ml0=Be(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function nr(e){var n=e.x,a=e.y,E=Q(n-this.long0),w,F,j,O=Math.sin(a),W=Math.cos(a);if(this.es){var pt=W*E,mt=Math.pow(pt,2),It=this.ep2*Math.pow(W,2),Ft=Math.pow(It,2),Ot=Math.abs(W)>m?Math.tan(a):0,Ct=Math.pow(Ot,2),Rt=Math.pow(Ct,2);w=1-this.es*Math.pow(O,2),pt=pt/Math.sqrt(w);var Vt=Be(a,O,W,this.en);F=this.a*(this.k0*pt*(1+mt/6*(1-Ct+It+mt/20*(5-18*Ct+Rt+14*It-58*Ct*It+mt/42*(61+179*Rt-Rt*Ct-479*Ct)))))+this.x0,j=this.a*(this.k0*(Vt-this.ml0+O*E*pt/2*(1+mt/12*(5-Ct+9*It+4*Ft+mt/30*(61+Rt-58*Ct+270*It-330*Ct*It+mt/56*(1385+543*Rt-Rt*Ct-3111*Ct))))))+this.y0}else{var ot=W*Math.sin(E);if(Math.abs(Math.abs(ot)-1)<m)return 93;if(F=.5*this.a*this.k0*Math.log((1+ot)/(1-ot))+this.x0,j=W*Math.cos(E)/Math.sqrt(1-Math.pow(ot,2)),ot=Math.abs(j),ot>=1){if(ot-1>m)return 93;j=0}else j=Math.acos(j);a<0&&(j=-j),j=this.a*this.k0*(j-this.lat0)+this.y0}return e.x=F,e.y=j,e}function Ar(e){var n,a,E,w,F=(e.x-this.x0)*(1/this.a),j=(e.y-this.y0)*(1/this.a);if(this.es)if(n=this.ml0+j/this.k0,a=Ne(n,this.es,this.en),Math.abs(a)<p){var mt=Math.sin(a),It=Math.cos(a),Ft=Math.abs(It)>m?Math.tan(a):0,Ot=this.ep2*Math.pow(It,2),Ct=Math.pow(Ot,2),Rt=Math.pow(Ft,2),Vt=Math.pow(Rt,2);n=1-this.es*Math.pow(mt,2);var ae=F*Math.sqrt(n)/this.k0,Zt=Math.pow(ae,2);n=n*Ft,E=a-n*Zt/(1-this.es)*.5*(1-Zt/12*(5+3*Rt-9*Ot*Rt+Ot-4*Ct-Zt/30*(61+90*Rt-252*Ot*Rt+45*Vt+46*Ot-Zt/56*(1385+3633*Rt+4095*Vt+1574*Vt*Rt)))),w=Q(this.long0+ae*(1-Zt/6*(1+2*Rt+Ot-Zt/20*(5+28*Rt+24*Vt+8*Ot*Rt+6*Ot-Zt/42*(61+662*Rt+1320*Vt+720*Vt*Rt))))/It)}else E=p*rt(j),w=0;else{var O=Math.exp(F/this.k0),W=.5*(O-1/O),ot=this.lat0+j/this.k0,pt=Math.cos(ot);n=Math.sqrt((1-Math.pow(pt,2))/(1+Math.pow(W,2))),E=Math.asin(n),j<0&&(E=-E),W===0&&pt===0?w=0:w=Q(Math.atan2(W,pt)+this.long0)}return e.x=w,e.y=E,e}var jr=["Fast_Transverse_Mercator","Fast Transverse Mercator"],vr={init:dr,forward:nr,inverse:Ar,names:jr};function Tr(e){var n=Math.exp(e);return n=(n-1/n)/2,n}function we(e,n){e=Math.abs(e),n=Math.abs(n);var a=Math.max(e,n),E=Math.min(e,n)/(a||1);return a*Math.sqrt(1+Math.pow(E,2))}function Rr(e){var n=1+e,a=n-1;return a===0?e:e*Math.log(n)/a}function Br(e){var n=Math.abs(e);return n=Rr(n*(1+n/(we(1,n)+1))),e<0?-n:n}function Sr(e,n){for(var a=2*Math.cos(2*n),E=e.length-1,w=e[E],F=0,j;--E>=0;)j=-F+a*w+e[E],F=w,w=j;return n+j*Math.sin(2*n)}function br(e,n){for(var a=2*Math.cos(n),E=e.length-1,w=e[E],F=0,j;--E>=0;)j=-F+a*w+e[E],F=w,w=j;return Math.sin(n)*j}function Gr(e){var n=Math.exp(e);return n=(n+1/n)/2,n}function wr(e,n,a){for(var E=Math.sin(n),w=Math.cos(n),F=Tr(a),j=Gr(a),O=2*w*j,W=-2*E*F,ot=e.length-1,pt=e[ot],mt=0,It=0,Ft=0,Ot,Ct;--ot>=0;)Ot=It,Ct=mt,It=pt,mt=Ft,pt=-Ot+O*It-W*mt+e[ot],Ft=-Ct+W*It+O*mt;return O=E*j,W=w*F,[O*pt-W*Ft,O*Ft+W*pt]}function Dr(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(vr.init.apply(this),this.forward=vr.forward,this.inverse=vr.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),n=e/(2-e),a=n;this.cgb[0]=n*(2+n*(-2/3+n*(-2+n*(116/45+n*(26/45+n*(-2854/675)))))),this.cbg[0]=n*(-2+n*(2/3+n*(4/3+n*(-82/45+n*(32/45+n*(4642/4725)))))),a=a*n,this.cgb[1]=a*(7/3+n*(-8/5+n*(-227/45+n*(2704/315+n*(2323/945))))),this.cbg[1]=a*(5/3+n*(-16/15+n*(-13/9+n*(904/315+n*(-1522/945))))),a=a*n,this.cgb[2]=a*(56/15+n*(-136/35+n*(-1262/105+n*(73814/2835)))),this.cbg[2]=a*(-26/15+n*(34/21+n*(8/5+n*(-12686/2835)))),a=a*n,this.cgb[3]=a*(4279/630+n*(-332/35+n*(-399572/14175))),this.cbg[3]=a*(1237/630+n*(-12/5+n*(-24832/14175))),a=a*n,this.cgb[4]=a*(4174/315+n*(-144838/6237)),this.cbg[4]=a*(-734/315+n*(109598/31185)),a=a*n,this.cgb[5]=a*(601676/22275),this.cbg[5]=a*(444337/155925),a=Math.pow(n,2),this.Qn=this.k0/(1+n)*(1+a*(1/4+a*(1/64+a/256))),this.utg[0]=n*(-.5+n*(2/3+n*(-37/96+n*(1/360+n*(81/512+n*(-96199/604800)))))),this.gtu[0]=n*(.5+n*(-2/3+n*(5/16+n*(41/180+n*(-127/288+n*(7891/37800)))))),this.utg[1]=a*(-1/48+n*(-1/15+n*(437/1440+n*(-46/105+n*(1118711/3870720))))),this.gtu[1]=a*(13/48+n*(-3/5+n*(557/1440+n*(281/630+n*(-1983433/1935360))))),a=a*n,this.utg[2]=a*(-17/480+n*(37/840+n*(209/4480+n*(-5569/90720)))),this.gtu[2]=a*(61/240+n*(-103/140+n*(15061/26880+n*(167603/181440)))),a=a*n,this.utg[3]=a*(-4397/161280+n*(11/504+n*(830251/7257600))),this.gtu[3]=a*(49561/161280+n*(-179/168+n*(6601661/7257600))),a=a*n,this.utg[4]=a*(-4583/161280+n*(108847/3991680)),this.gtu[4]=a*(34729/80640+n*(-3418889/1995840)),a=a*n,this.utg[5]=a*(-20648693/638668800),this.gtu[5]=a*(212378941/319334400);var E=Sr(this.cbg,this.lat0);this.Zb=-this.Qn*(E+br(this.gtu,2*E))}function Nr(e){var n=Q(e.x-this.long0),a=e.y;a=Sr(this.cbg,a);var E=Math.sin(a),w=Math.cos(a),F=Math.sin(n),j=Math.cos(n);a=Math.atan2(E,j*w),n=Math.atan2(F*w,we(E,w*j)),n=Br(Math.tan(n));var O=wr(this.gtu,2*a,2*n);a=a+O[0],n=n+O[1];var W,ot;return Math.abs(n)<=2.623395162778?(W=this.a*(this.Qn*n)+this.x0,ot=this.a*(this.Qn*a+this.Zb)+this.y0):(W=1/0,ot=1/0),e.x=W,e.y=ot,e}function Vr(e){var n=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);a=(a-this.Zb)/this.Qn,n=n/this.Qn;var E,w;if(Math.abs(n)<=2.623395162778){var F=wr(this.utg,2*a,2*n);a=a+F[0],n=n+F[1],n=Math.atan(Tr(n));var j=Math.sin(a),O=Math.cos(a),W=Math.sin(n),ot=Math.cos(n);a=Math.atan2(j*ot,we(W,ot*O)),n=Math.atan2(W,ot*O),E=Q(n+this.long0),w=Sr(this.cgb,a)}else E=1/0,w=1/0;return e.x=E,e.y=w,e}var kr=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],yr={init:Dr,forward:Nr,inverse:Vr,names:kr};function zr(e,n){if(e===void 0){if(e=Math.floor((Q(n)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var Ur="etmerc";function Wr(){var e=zr(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*A,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,yr.init.apply(this),this.forward=yr.forward,this.inverse=yr.inverse}var Zr=["Universal Transverse Mercator System","utm"],Xr={init:Wr,names:Zr,dependsOn:Ur};function Pr(e,n){return Math.pow((1-e)/(1+e),n)}var Jr=20;function Hr(){var e=Math.sin(this.lat0),n=Math.cos(this.lat0);n*=n,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*n*n/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+P)/(Math.pow(Math.tan(.5*this.lat0+P),this.C)*Pr(this.e*e,this.ratexp))}function Qr(e){var n=e.x,a=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*a+P),this.C)*Pr(this.e*Math.sin(a),this.ratexp))-p,e.x=this.C*n,e}function Kr(e){for(var n=1e-14,a=e.x/this.C,E=e.y,w=Math.pow(Math.tan(.5*E+P)/this.K,1/this.C),F=Jr;F>0&&(E=2*Math.atan(w*Pr(this.e*Math.sin(e.y),-.5*this.e))-p,!(Math.abs(E-e.y)<n));--F)e.y=E;return F?(e.x=a,e.y=E,e):null}var Yr=["gauss"],Ir={init:Hr,forward:Qr,inverse:Kr,names:Yr};function $r(){Ir.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function qr(e){var n,a,E,w;return e.x=Q(e.x-this.long0),Ir.forward.apply(this,[e]),n=Math.sin(e.y),a=Math.cos(e.y),E=Math.cos(e.x),w=this.k0*this.R2/(1+this.sinc0*n+this.cosc0*a*E),e.x=w*a*Math.sin(e.x),e.y=w*(this.cosc0*n-this.sinc0*a*E),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function _r(e){var n,a,E,w,F;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,F=we(e.x,e.y)){var j=2*Math.atan2(F,this.R2);n=Math.sin(j),a=Math.cos(j),w=Math.asin(a*this.sinc0+e.y*n*this.cosc0/F),E=Math.atan2(e.x*n,F*this.cosc0*a-e.y*this.sinc0*n)}else w=this.phic0,E=0;return e.x=E,e.y=w,Ir.inverse.apply(this,[e]),e.x=Q(e.x+this.long0),e}var tn=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],en={init:$r,forward:qr,inverse:_r,names:tn};function rn(e,n,a){return n*=a,Math.tan(.5*(p+e))*Math.pow((1-n)/(1+n),.5*a)}function nn(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=m&&(this.k0=.5*(1+rt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=m&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=m&&Math.abs(Math.cos(this.lat_ts))>m&&(this.k0=.5*this.cons*_(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/et(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=_(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-p,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function an(e){var n=e.x,a=e.y,E=Math.sin(a),w=Math.cos(a),F,j,O,W,ot,pt,mt=Q(n-this.long0);return Math.abs(Math.abs(n-this.long0)-Math.PI)<=m&&Math.abs(a+this.lat0)<=m?(e.x=NaN,e.y=NaN,e):this.sphere?(F=2*this.k0/(1+this.sinlat0*E+this.coslat0*w*Math.cos(mt)),e.x=this.a*F*w*Math.sin(mt)+this.x0,e.y=this.a*F*(this.coslat0*E-this.sinlat0*w*Math.cos(mt))+this.y0,e):(j=2*Math.atan(this.ssfn_(a,E,this.e))-p,W=Math.cos(j),O=Math.sin(j),Math.abs(this.coslat0)<=m?(ot=et(this.e,a*this.con,this.con*E),pt=2*this.a*this.k0*ot/this.cons,e.x=this.x0+pt*Math.sin(n-this.long0),e.y=this.y0-this.con*pt*Math.cos(n-this.long0),e):(Math.abs(this.sinlat0)<m?(F=2*this.a*this.k0/(1+W*Math.cos(mt)),e.y=F*O):(F=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*O+this.cosX0*W*Math.cos(mt))),e.y=F*(this.cosX0*O-this.sinX0*W*Math.cos(mt))+this.y0),e.x=F*W*Math.sin(mt)+this.x0,e))}function sn(e){e.x-=this.x0,e.y-=this.y0;var n,a,E,w,F,j=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var O=2*Math.atan(j/(2*this.a*this.k0));return n=this.long0,a=this.lat0,j<=m?(e.x=n,e.y=a,e):(a=Math.asin(Math.cos(O)*this.sinlat0+e.y*Math.sin(O)*this.coslat0/j),Math.abs(this.coslat0)<m?this.lat0>0?n=Q(this.long0+Math.atan2(e.x,-1*e.y)):n=Q(this.long0+Math.atan2(e.x,e.y)):n=Q(this.long0+Math.atan2(e.x*Math.sin(O),j*this.coslat0*Math.cos(O)-e.y*this.sinlat0*Math.sin(O))),e.x=n,e.y=a,e)}else if(Math.abs(this.coslat0)<=m){if(j<=m)return a=this.lat0,n=this.long0,e.x=n,e.y=a,e;e.x*=this.con,e.y*=this.con,E=j*this.cons/(2*this.a*this.k0),a=this.con*xt(this.e,E),n=this.con*Q(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else w=2*Math.atan(j*this.cosX0/(2*this.a*this.k0*this.ms1)),n=this.long0,j<=m?F=this.X0:(F=Math.asin(Math.cos(w)*this.sinX0+e.y*Math.sin(w)*this.cosX0/j),n=Q(this.long0+Math.atan2(e.x*Math.sin(w),j*this.cosX0*Math.cos(w)-e.y*this.sinX0*Math.sin(w)))),a=-1*xt(this.e,Math.tan(.5*(p+F)));return e.x=n,e.y=a,e}var on=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ln={init:nn,forward:an,inverse:sn,names:on,ssfn_:rn};function un(){var e=this.lat0;this.lambda0=this.long0;var n=Math.sin(e),a=this.a,E=this.rf,w=1/E,F=2*w-Math.pow(w,2),j=this.e=Math.sqrt(F);this.R=this.k0*a*Math.sqrt(1-F)/(1-F*Math.pow(n,2)),this.alpha=Math.sqrt(1+F/(1-F)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(n/this.alpha);var O=Math.log(Math.tan(Math.PI/4+this.b0/2)),W=Math.log(Math.tan(Math.PI/4+e/2)),ot=Math.log((1+j*n)/(1-j*n));this.K=O-this.alpha*W+this.alpha*j/2*ot}function fn(e){var n=Math.log(Math.tan(Math.PI/4-e.y/2)),a=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),E=-this.alpha*(n+a)+this.K,w=2*(Math.atan(Math.exp(E))-Math.PI/4),F=this.alpha*(e.x-this.lambda0),j=Math.atan(Math.sin(F)/(Math.sin(this.b0)*Math.tan(w)+Math.cos(this.b0)*Math.cos(F))),O=Math.asin(Math.cos(this.b0)*Math.sin(w)-Math.sin(this.b0)*Math.cos(w)*Math.cos(F));return e.y=this.R/2*Math.log((1+Math.sin(O))/(1-Math.sin(O)))+this.y0,e.x=this.R*j+this.x0,e}function hn(e){for(var n=e.x-this.x0,a=e.y-this.y0,E=n/this.R,w=2*(Math.atan(Math.exp(a/this.R))-Math.PI/4),F=Math.asin(Math.cos(this.b0)*Math.sin(w)+Math.sin(this.b0)*Math.cos(w)*Math.cos(E)),j=Math.atan(Math.sin(E)/(Math.cos(this.b0)*Math.cos(E)-Math.sin(this.b0)*Math.tan(w))),O=this.lambda0+j/this.alpha,W=0,ot=F,pt=-1e3,mt=0;Math.abs(ot-pt)>1e-7;){if(++mt>20)return;W=1/this.alpha*(Math.log(Math.tan(Math.PI/4+F/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(ot))/2)),pt=ot,ot=2*Math.atan(Math.exp(W))-Math.PI/2}return e.x=O,e.y=ot,e}var cn=["somerc"],dn={init:un,forward:fn,inverse:hn,names:cn},Ye=1e-7;function vn(e){var n=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],a=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||n.indexOf(a)!==-1}function yn(){var e,n,a,E,w,F,j,O,W,ot,pt=0,mt,It=0,Ft=0,Ot=0,Ct=0,Rt=0,Vt=0,ae;this.no_off=vn(this),this.no_rot="no_rot"in this;var Zt=!1;"alpha"in this&&(Zt=!0);var _t=!1;if("rectified_grid_angle"in this&&(_t=!0),Zt&&(Vt=this.alpha),_t&&(pt=this.rectified_grid_angle*A),Zt||_t)It=this.longc;else if(Ft=this.long1,Ct=this.lat1,Ot=this.long2,Rt=this.lat2,Math.abs(Ct-Rt)<=Ye||(e=Math.abs(Ct))<=Ye||Math.abs(e-p)<=Ye||Math.abs(Math.abs(this.lat0)-p)<=Ye||Math.abs(Math.abs(Rt)-p)<=Ye)throw new Error;var Yt=1-this.es;n=Math.sqrt(Yt),Math.abs(this.lat0)>m?(O=Math.sin(this.lat0),a=Math.cos(this.lat0),e=1-this.es*O*O,this.B=a*a,this.B=Math.sqrt(1+this.es*this.B*this.B/Yt),this.A=this.B*this.k0*n/e,E=this.B*n/(a*Math.sqrt(e)),w=E*E-1,w<=0?w=0:(w=Math.sqrt(w),this.lat0<0&&(w=-w)),this.E=w+=E,this.E*=Math.pow(et(this.e,this.lat0,O),this.B)):(this.B=1/n,this.A=this.k0,this.E=E=w=1),Zt||_t?(Zt?(mt=Math.asin(Math.sin(Vt)/E),_t||(pt=Vt)):(mt=pt,Vt=Math.asin(E*Math.sin(mt))),this.lam0=It-Math.asin(.5*(w-1/w)*Math.tan(mt))/this.B):(F=Math.pow(et(this.e,Ct,Math.sin(Ct)),this.B),j=Math.pow(et(this.e,Rt,Math.sin(Rt)),this.B),w=this.E/F,W=(j-F)/(j+F),ot=this.E*this.E,ot=(ot-j*F)/(ot+j*F),e=Ft-Ot,e<-Math.pi?Ot-=l:e>Math.pi&&(Ot+=l),this.lam0=Q(.5*(Ft+Ot)-Math.atan(ot*Math.tan(.5*this.B*(Ft-Ot))/W)/this.B),mt=Math.atan(2*Math.sin(this.B*Q(Ft-this.lam0))/(w-1/w)),pt=Vt=Math.asin(E*Math.sin(mt))),this.singam=Math.sin(mt),this.cosgam=Math.cos(mt),this.sinrot=Math.sin(pt),this.cosrot=Math.cos(pt),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,ae=this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(E*E-1)/Math.cos(Vt))),this.lat0<0&&(this.u_0=-this.u_0)),w=.5*mt,this.v_pole_n=this.ArB*Math.log(Math.tan(P-w)),this.v_pole_s=this.ArB*Math.log(Math.tan(P+w))}function gn(e){var n={},a,E,w,F,j,O,W,ot;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-p)>m){if(j=this.E/Math.pow(et(this.e,e.y,Math.sin(e.y)),this.B),O=1/j,a=.5*(j-O),E=.5*(j+O),F=Math.sin(this.B*e.x),w=(a*this.singam-F*this.cosgam)/E,Math.abs(Math.abs(w)-1)<m)throw new Error;ot=.5*this.ArB*Math.log((1-w)/(1+w)),O=Math.cos(this.B*e.x),Math.abs(O)<Ye?W=this.A*e.x:W=this.ArB*Math.atan2(a*this.cosgam+F*this.singam,O)}else ot=e.y>0?this.v_pole_n:this.v_pole_s,W=this.ArB*e.y;return this.no_rot?(n.x=W,n.y=ot):(W-=this.u_0,n.x=ot*this.cosrot+W*this.sinrot,n.y=W*this.cosrot-ot*this.sinrot),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function mn(e){var n,a,E,w,F,j,O,W={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(a=e.y,n=e.x):(a=e.x*this.cosrot-e.y*this.sinrot,n=e.y*this.cosrot+e.x*this.sinrot+this.u_0),E=Math.exp(-this.BrA*a),w=.5*(E-1/E),F=.5*(E+1/E),j=Math.sin(this.BrA*n),O=(j*this.cosgam+w*this.singam)/F,Math.abs(Math.abs(O)-1)<m)W.x=0,W.y=O<0?-p:p;else{if(W.y=this.E/Math.sqrt((1+O)/(1-O)),W.y=xt(this.e,Math.pow(W.y,1/this.B)),W.y===1/0)throw new Error;W.x=-this.rB*Math.atan2(w*this.cosgam-j*this.singam,Math.cos(this.BrA*n))}return W.x+=this.lam0,W}var xn=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],pn={init:yn,forward:gn,inverse:mn,names:xn};function Mn(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<m)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var n=Math.sin(this.lat1),a=Math.cos(this.lat1),E=_(this.e,n,a),w=et(this.e,this.lat1,n),F=Math.sin(this.lat2),j=Math.cos(this.lat2),O=_(this.e,F,j),W=et(this.e,this.lat2,F),ot=et(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>m?this.ns=Math.log(E/O)/Math.log(w/W):this.ns=n,isNaN(this.ns)&&(this.ns=n),this.f0=E/(this.ns*Math.pow(w,this.ns)),this.rh=this.a*this.f0*Math.pow(ot,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Sn(e){var n=e.x,a=e.y;Math.abs(2*Math.abs(a)-Math.PI)<=m&&(a=rt(a)*(p-2*m));var E=Math.abs(Math.abs(a)-p),w,F;if(E>m)w=et(this.e,a,Math.sin(a)),F=this.a*this.f0*Math.pow(w,this.ns);else{if(E=a*this.ns,E<=0)return null;F=0}var j=this.ns*Q(n-this.long0);return e.x=this.k0*(F*Math.sin(j))+this.x0,e.y=this.k0*(this.rh-F*Math.cos(j))+this.y0,e}function Pn(e){var n,a,E,w,F,j=(e.x-this.x0)/this.k0,O=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(n=Math.sqrt(j*j+O*O),a=1):(n=-Math.sqrt(j*j+O*O),a=-1);var W=0;if(n!==0&&(W=Math.atan2(a*j,a*O)),n!==0||this.ns>0){if(a=1/this.ns,E=Math.pow(n/(this.a*this.f0),a),w=xt(this.e,E),w===-9999)return null}else w=-p;return F=Q(W/this.ns+this.long0),e.x=F,e.y=w,e}var In=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],En={init:Mn,forward:Sn,inverse:Pn,names:In};function Tn(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function wn(e){var n,a,E,w,F,j,O,W=e.x,ot=e.y,pt=Q(W-this.long0);return n=Math.pow((1+this.e*Math.sin(ot))/(1-this.e*Math.sin(ot)),this.alfa*this.e/2),a=2*(Math.atan(this.k*Math.pow(Math.tan(ot/2+this.s45),this.alfa)/n)-this.s45),E=-pt*this.alfa,w=Math.asin(Math.cos(this.ad)*Math.sin(a)+Math.sin(this.ad)*Math.cos(a)*Math.cos(E)),F=Math.asin(Math.cos(a)*Math.sin(E)/Math.cos(w)),j=this.n*F,O=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(w/2+this.s45),this.n),e.y=O*Math.cos(j)/1,e.x=O*Math.sin(j)/1,this.czech||(e.y*=-1,e.x*=-1),e}function Ln(e){var n,a,E,w,F,j,O,W,ot=e.x;e.x=e.y,e.y=ot,this.czech||(e.y*=-1,e.x*=-1),j=Math.sqrt(e.x*e.x+e.y*e.y),F=Math.atan2(e.y,e.x),w=F/Math.sin(this.s0),E=2*(Math.atan(Math.pow(this.ro0/j,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),n=Math.asin(Math.cos(this.ad)*Math.sin(E)-Math.sin(this.ad)*Math.cos(E)*Math.cos(w)),a=Math.asin(Math.cos(E)*Math.sin(w)/Math.cos(n)),e.x=this.long0-a/this.alfa,O=n,W=0;var pt=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(n/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(O))/(1-this.e*Math.sin(O)),this.e/2))-this.s45),Math.abs(O-e.y)<1e-10&&(W=1),O=e.y,pt+=1;while(W===0&&pt<15);return pt>=15?null:e}var Fn=["Krovak","krovak"],Cn={init:Tn,forward:wn,inverse:Ln,names:Fn};function pe(e,n,a,E,w){return e*w-n*Math.sin(2*w)+a*Math.sin(4*w)-E*Math.sin(6*w)}function ir(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function ar(e){return .375*e*(1+.25*e*(1+.46875*e))}function sr(e){return .05859375*e*e*(1+.75*e)}function or(e){return e*e*e*(35/3072)}function $e(e,n,a){var E=n*a;return e/Math.sqrt(1-E*E)}function qe(e){return Math.abs(e)<p?e:e-rt(e)*Math.PI}function gr(e,n,a,E,w){var F,j;F=e/n;for(var O=0;O<15;O++)if(j=(e-(n*F-a*Math.sin(2*F)+E*Math.sin(4*F)-w*Math.sin(6*F)))/(n-2*a*Math.cos(2*F)+4*E*Math.cos(4*F)-6*w*Math.cos(6*F)),F+=j,Math.abs(j)<=1e-10)return F;return NaN}function On(){this.sphere||(this.e0=ir(this.es),this.e1=ar(this.es),this.e2=sr(this.es),this.e3=or(this.es),this.ml0=this.a*pe(this.e0,this.e1,this.e2,this.e3,this.lat0))}function An(e){var n,a,E=e.x,w=e.y;if(E=Q(E-this.long0),this.sphere)n=this.a*Math.asin(Math.cos(w)*Math.sin(E)),a=this.a*(Math.atan2(Math.tan(w),Math.cos(E))-this.lat0);else{var F=Math.sin(w),j=Math.cos(w),O=$e(this.a,this.e,F),W=Math.tan(w)*Math.tan(w),ot=E*Math.cos(w),pt=ot*ot,mt=this.es*j*j/(1-this.es),It=this.a*pe(this.e0,this.e1,this.e2,this.e3,w);n=O*ot*(1-pt*W*(1/6-(8-W+8*mt)*pt/120)),a=It-this.ml0+O*F/j*pt*(.5+(5-W+6*mt)*pt/24)}return e.x=n+this.x0,e.y=a+this.y0,e}function jn(e){e.x-=this.x0,e.y-=this.y0;var n=e.x/this.a,a=e.y/this.a,E,w;if(this.sphere){var F=a+this.lat0;E=Math.asin(Math.sin(F)*Math.cos(n)),w=Math.atan2(Math.tan(n),Math.cos(F))}else{var j=this.ml0/this.a+a,O=gr(j,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(O)-p)<=m)return e.x=this.long0,e.y=p,a<0&&(e.y*=-1),e;var W=$e(this.a,this.e,Math.sin(O)),ot=W*W*W/this.a/this.a*(1-this.es),pt=Math.pow(Math.tan(O),2),mt=n*this.a/W,It=mt*mt;E=O-W*Math.tan(O)/ot*mt*mt*(.5-(1+3*pt)*mt*mt/24),w=mt*(1-It*(pt/3+(1+3*pt)*pt*It/15))/Math.cos(O)}return e.x=Q(w+this.long0),e.y=qe(E),e}var Rn=["Cassini","Cassini_Soldner","cass"],Bn={init:On,forward:An,inverse:jn,names:Rn};function Ve(e,n){var a;return e>1e-7?(a=e*n,(1-e*e)*(n/(1-a*a)-.5/e*Math.log((1-a)/(1+a)))):2*n}var bn=1,Gn=2,Dn=3,Nn=4;function Vn(){var e=Math.abs(this.lat0);if(Math.abs(e-p)<m?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<m?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var n;switch(this.qp=Ve(this.e,1),this.mmf=.5/(1-this.es),this.apa=Qn(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),n=Math.sin(this.lat0),this.sinb1=Ve(this.e,n)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*n*n)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function kn(e){var n,a,E,w,F,j,O,W,ot,pt,mt=e.x,It=e.y;if(mt=Q(mt-this.long0),this.sphere){if(F=Math.sin(It),pt=Math.cos(It),E=Math.cos(mt),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(a=this.mode===this.EQUIT?1+pt*E:1+this.sinph0*F+this.cosph0*pt*E,a<=m)return null;a=Math.sqrt(2/a),n=a*pt*Math.sin(mt),a*=this.mode===this.EQUIT?F:this.cosph0*F-this.sinph0*pt*E}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(E=-E),Math.abs(It+this.lat0)<m)return null;a=P-It*.5,a=2*(this.mode===this.S_POLE?Math.cos(a):Math.sin(a)),n=a*Math.sin(mt),a*=E}}else{switch(O=0,W=0,ot=0,E=Math.cos(mt),w=Math.sin(mt),F=Math.sin(It),j=Ve(this.e,F),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(O=j/this.qp,W=Math.sqrt(1-O*O)),this.mode){case this.OBLIQ:ot=1+this.sinb1*O+this.cosb1*W*E;break;case this.EQUIT:ot=1+W*E;break;case this.N_POLE:ot=p+It,j=this.qp-j;break;case this.S_POLE:ot=It-p,j=this.qp+j;break}if(Math.abs(ot)<m)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:ot=Math.sqrt(2/ot),this.mode===this.OBLIQ?a=this.ymf*ot*(this.cosb1*O-this.sinb1*W*E):a=(ot=Math.sqrt(2/(1+W*E)))*O*this.ymf,n=this.xmf*ot*W*w;break;case this.N_POLE:case this.S_POLE:j>=0?(n=(ot=Math.sqrt(j))*w,a=E*(this.mode===this.S_POLE?ot:-ot)):n=a=0;break}}return e.x=this.a*n+this.x0,e.y=this.a*a+this.y0,e}function zn(e){e.x-=this.x0,e.y-=this.y0;var n=e.x/this.a,a=e.y/this.a,E,w,F,j,O,W,ot;if(this.sphere){var pt=0,mt,It=0;if(mt=Math.sqrt(n*n+a*a),w=mt*.5,w>1)return null;switch(w=2*Math.asin(w),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(It=Math.sin(w),pt=Math.cos(w)),this.mode){case this.EQUIT:w=Math.abs(mt)<=m?0:Math.asin(a*It/mt),n*=It,a=pt*mt;break;case this.OBLIQ:w=Math.abs(mt)<=m?this.lat0:Math.asin(pt*this.sinph0+a*It*this.cosph0/mt),n*=It*this.cosph0,a=(pt-Math.sin(w)*this.sinph0)*mt;break;case this.N_POLE:a=-a,w=p-w;break;case this.S_POLE:w-=p;break}E=a===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(n,a)}else{if(ot=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n/=this.dd,a*=this.dd,W=Math.sqrt(n*n+a*a),W<m)return e.x=this.long0,e.y=this.lat0,e;j=2*Math.asin(.5*W/this.rq),F=Math.cos(j),n*=j=Math.sin(j),this.mode===this.OBLIQ?(ot=F*this.sinb1+a*j*this.cosb1/W,O=this.qp*ot,a=W*this.cosb1*F-a*this.sinb1*j):(ot=a*j/W,O=this.qp*ot,a=W*F)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),O=n*n+a*a,!O)return e.x=this.long0,e.y=this.lat0,e;ot=1-O/this.qp,this.mode===this.S_POLE&&(ot=-ot)}E=Math.atan2(n,a),w=Kn(Math.asin(ot),this.apa)}return e.x=Q(this.long0+E),e.y=w,e}var Un=.3333333333333333,Wn=.17222222222222222,Zn=.10257936507936508,Xn=.06388888888888888,Jn=.0664021164021164,Hn=.016415012942191543;function Qn(e){var n,a=[];return a[0]=e*Un,n=e*e,a[0]+=n*Wn,a[1]=n*Xn,n*=e,a[0]+=n*Zn,a[1]+=n*Jn,a[2]=n*Hn,a}function Kn(e,n){var a=e+e;return e+n[0]*Math.sin(a)+n[1]*Math.sin(a+a)+n[2]*Math.sin(a+a+a)}var Yn=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],$n={init:Vn,forward:kn,inverse:zn,names:Yn,S_POLE:bn,N_POLE:Gn,EQUIT:Dn,OBLIQ:Nn};function ke(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function qn(){Math.abs(this.lat1+this.lat2)<m||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=_(this.e3,this.sin_po,this.cos_po),this.qs1=Ve(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=_(this.e3,this.sin_po,this.cos_po),this.qs2=Ve(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ve(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>m?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function _n(e){var n=e.x,a=e.y;this.sin_phi=Math.sin(a),this.cos_phi=Math.cos(a);var E=Ve(this.e3,this.sin_phi),w=this.a*Math.sqrt(this.c-this.ns0*E)/this.ns0,F=this.ns0*Q(n-this.long0),j=w*Math.sin(F)+this.x0,O=this.rh-w*Math.cos(F)+this.y0;return e.x=j,e.y=O,e}function ti(e){var n,a,E,w,F,j;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),E=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),E=-1),w=0,n!==0&&(w=Math.atan2(E*e.x,E*e.y)),E=n*this.ns0/this.a,this.sphere?j=Math.asin((this.c-E*E)/(2*this.ns0)):(a=(this.c-E*E)/this.ns0,j=this.phi1z(this.e3,a)),F=Q(w/this.ns0+this.long0),e.x=F,e.y=j,e}function ei(e,n){var a,E,w,F,j,O=ke(.5*n);if(e<m)return O;for(var W=e*e,ot=1;ot<=25;ot++)if(a=Math.sin(O),E=Math.cos(O),w=e*a,F=1-w*w,j=.5*F*F/E*(n/(1-W)-a/F+.5/e*Math.log((1-w)/(1+w))),O=O+j,Math.abs(j)<=1e-7)return O;return null}var ri=["Albers_Conic_Equal_Area","Albers","aea"],ni={init:qn,forward:_n,inverse:ti,names:ri,phi1z:ei};function ii(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function ai(e){var n,a,E,w,F,j,O,W,ot=e.x,pt=e.y;return E=Q(ot-this.long0),n=Math.sin(pt),a=Math.cos(pt),w=Math.cos(E),j=this.sin_p14*n+this.cos_p14*a*w,F=1,j>0||Math.abs(j)<=m?(O=this.x0+this.a*F*a*Math.sin(E)/j,W=this.y0+this.a*F*(this.cos_p14*n-this.sin_p14*a*w)/j):(O=this.x0+this.infinity_dist*a*Math.sin(E),W=this.y0+this.infinity_dist*(this.cos_p14*n-this.sin_p14*a*w)),e.x=O,e.y=W,e}function si(e){var n,a,E,w,F,j;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(n=Math.sqrt(e.x*e.x+e.y*e.y))?(w=Math.atan2(n,this.rc),a=Math.sin(w),E=Math.cos(w),j=ke(E*this.sin_p14+e.y*a*this.cos_p14/n),F=Math.atan2(e.x*a,n*this.cos_p14*E-e.y*this.sin_p14*a),F=Q(this.long0+F)):(j=this.phic0,F=0),e.x=F,e.y=j,e}var oi=["gnom"],li={init:ii,forward:ai,inverse:si,names:oi};function ui(e,n){var a=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(n)-a)<1e-6)return n<0?-1*p:p;for(var E=Math.asin(.5*n),w,F,j,O,W=0;W<30;W++)if(F=Math.sin(E),j=Math.cos(E),O=e*F,w=Math.pow(1-O*O,2)/(2*j)*(n/(1-e*e)-F/(1-O*O)+.5/e*Math.log((1-O)/(1+O))),E+=w,Math.abs(w)<=1e-10)return E;return NaN}function fi(){this.sphere||(this.k0=_(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function hi(e){var n=e.x,a=e.y,E,w,F=Q(n-this.long0);if(this.sphere)E=this.x0+this.a*F*Math.cos(this.lat_ts),w=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var j=Ve(this.e,Math.sin(a));E=this.x0+this.a*this.k0*F,w=this.y0+this.a*j*.5/this.k0}return e.x=E,e.y=w,e}function ci(e){e.x-=this.x0,e.y-=this.y0;var n,a;return this.sphere?(n=Q(this.long0+e.x/this.a/Math.cos(this.lat_ts)),a=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(a=ui(this.e,2*e.y*this.k0/this.a),n=Q(this.long0+e.x/(this.a*this.k0))),e.x=n,e.y=a,e}var di=["cea"],vi={init:fi,forward:hi,inverse:ci,names:di};function yi(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function gi(e){var n=e.x,a=e.y,E=Q(n-this.long0),w=qe(a-this.lat0);return e.x=this.x0+this.a*E*this.rc,e.y=this.y0+this.a*w,e}function mi(e){var n=e.x,a=e.y;return e.x=Q(this.long0+(n-this.x0)/(this.a*this.rc)),e.y=qe(this.lat0+(a-this.y0)/this.a),e}var xi=["Equirectangular","Equidistant_Cylindrical","eqc"],pi={init:yi,forward:gi,inverse:mi,names:xi},Lr=20;function Mi(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ir(this.es),this.e1=ar(this.es),this.e2=sr(this.es),this.e3=or(this.es),this.ml0=this.a*pe(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Si(e){var n=e.x,a=e.y,E,w,F,j=Q(n-this.long0);if(F=j*Math.sin(a),this.sphere)Math.abs(a)<=m?(E=this.a*j,w=-1*this.a*this.lat0):(E=this.a*Math.sin(F)/Math.tan(a),w=this.a*(qe(a-this.lat0)+(1-Math.cos(F))/Math.tan(a)));else if(Math.abs(a)<=m)E=this.a*j,w=-1*this.ml0;else{var O=$e(this.a,this.e,Math.sin(a))/Math.tan(a);E=O*Math.sin(F),w=this.a*pe(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+O*(1-Math.cos(F))}return e.x=E+this.x0,e.y=w+this.y0,e}function Pi(e){var n,a,E,w,F,j,O,W,ot;if(E=e.x-this.x0,w=e.y-this.y0,this.sphere)if(Math.abs(w+this.a*this.lat0)<=m)n=Q(E/this.a+this.long0),a=0;else{j=this.lat0+w/this.a,O=E*E/this.a/this.a+j*j,W=j;var pt;for(F=Lr;F;--F)if(pt=Math.tan(W),ot=-1*(j*(W*pt+1)-W-.5*(W*W+O)*pt)/((W-j)/pt-1),W+=ot,Math.abs(ot)<=m){a=W;break}n=Q(this.long0+Math.asin(E*Math.tan(W)/this.a)/Math.sin(a))}else if(Math.abs(w+this.ml0)<=m)a=0,n=Q(this.long0+E/this.a);else{j=(this.ml0+w)/this.a,O=E*E/this.a/this.a+j*j,W=j;var mt,It,Ft,Ot,Ct;for(F=Lr;F;--F)if(Ct=this.e*Math.sin(W),mt=Math.sqrt(1-Ct*Ct)*Math.tan(W),It=this.a*pe(this.e0,this.e1,this.e2,this.e3,W),Ft=this.e0-2*this.e1*Math.cos(2*W)+4*this.e2*Math.cos(4*W)-6*this.e3*Math.cos(6*W),Ot=It/this.a,ot=(j*(mt*Ot+1)-Ot-.5*mt*(Ot*Ot+O))/(this.es*Math.sin(2*W)*(Ot*Ot+O-2*j*Ot)/(4*mt)+(j-Ot)*(mt*Ft-2/Math.sin(2*W))-Ft),W-=ot,Math.abs(ot)<=m){a=W;break}mt=Math.sqrt(1-this.es*Math.pow(Math.sin(a),2))*Math.tan(a),n=Q(this.long0+Math.asin(E*mt/this.a)/Math.sin(a))}return e.x=n,e.y=a,e}var Ii=["Polyconic","poly"],Ei={init:Mi,forward:Si,inverse:Pi,names:Ii},Wa=1;function Ti(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function wi(e){var n,a=e.x,E=e.y,w=E-this.lat0,F=a-this.long0,j=w/S*1e-5,O=F,W=1,ot=0;for(n=1;n<=10;n++)W=W*j,ot=ot+this.A[n]*W;var pt=ot,mt=O,It=1,Ft=0,Ot,Ct,Rt=0,Vt=0;for(n=1;n<=6;n++)Ot=It*pt-Ft*mt,Ct=Ft*pt+It*mt,It=Ot,Ft=Ct,Rt=Rt+this.B_re[n]*It-this.B_im[n]*Ft,Vt=Vt+this.B_im[n]*It+this.B_re[n]*Ft;return e.x=Vt*this.a+this.x0,e.y=Rt*this.a+this.y0,e}function Li(e){var n,a=e.x,E=e.y,w=a-this.x0,F=E-this.y0,j=F/this.a,O=w/this.a,W=1,ot=0,pt,mt,It=0,Ft=0;for(n=1;n<=6;n++)pt=W*j-ot*O,mt=ot*j+W*O,W=pt,ot=mt,It=It+this.C_re[n]*W-this.C_im[n]*ot,Ft=Ft+this.C_im[n]*W+this.C_re[n]*ot;for(var Ot=0;Ot<this.iterations;Ot++){var Ct=It,Rt=Ft,Vt,ae,Zt=j,_t=O;for(n=2;n<=6;n++)Vt=Ct*It-Rt*Ft,ae=Rt*It+Ct*Ft,Ct=Vt,Rt=ae,Zt=Zt+(n-1)*(this.B_re[n]*Ct-this.B_im[n]*Rt),_t=_t+(n-1)*(this.B_im[n]*Ct+this.B_re[n]*Rt);Ct=1,Rt=0;var Yt=this.B_re[1],ee=this.B_im[1];for(n=2;n<=6;n++)Vt=Ct*It-Rt*Ft,ae=Rt*It+Ct*Ft,Ct=Vt,Rt=ae,Yt=Yt+n*(this.B_re[n]*Ct-this.B_im[n]*Rt),ee=ee+n*(this.B_im[n]*Ct+this.B_re[n]*Rt);var Le=Yt*Yt+ee*ee;It=(Zt*Yt+_t*ee)/Le,Ft=(_t*Yt-Zt*ee)/Le}var de=It,je=Ft,He=1,Qe=0;for(n=1;n<=9;n++)He=He*de,Qe=Qe+this.D[n]*He;var pr=this.lat0+Qe*S*1e5,Ua=this.long0+je;return e.x=Ua,e.y=pr,e}var Fi=["New_Zealand_Map_Grid","nzmg"],Ci={init:Ti,forward:wi,inverse:Li,names:Fi};function Oi(){}function Ai(e){var n=e.x,a=e.y,E=Q(n-this.long0),w=this.x0+this.a*E,F=this.y0+this.a*Math.log(Math.tan(Math.PI/4+a/2.5))*1.25;return e.x=w,e.y=F,e}function ji(e){e.x-=this.x0,e.y-=this.y0;var n=Q(this.long0+e.x/this.a),a=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=n,e.y=a,e}var Ri=["Miller_Cylindrical","mill"],Bi={init:Oi,forward:Ai,inverse:ji,names:Ri},bi=20;function Gi(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Je(this.es)}function Di(e){var n,a,E=e.x,w=e.y;if(E=Q(E-this.long0),this.sphere){if(!this.m)w=this.n!==1?Math.asin(this.n*Math.sin(w)):w;else for(var F=this.n*Math.sin(w),j=bi;j;--j){var O=(this.m*w+Math.sin(w)-F)/(this.m+Math.cos(w));if(w-=O,Math.abs(O)<m)break}n=this.a*this.C_x*E*(this.m+Math.cos(w)),a=this.a*this.C_y*w}else{var W=Math.sin(w),ot=Math.cos(w);a=this.a*Be(w,W,ot,this.en),n=this.a*E*ot/Math.sqrt(1-this.es*W*W)}return e.x=n,e.y=a,e}function Ni(e){var n,a,E,w;return e.x-=this.x0,E=e.x/this.a,e.y-=this.y0,n=e.y/this.a,this.sphere?(n/=this.C_y,E=E/(this.C_x*(this.m+Math.cos(n))),this.m?n=ke((this.m*n+Math.sin(n))/this.n):this.n!==1&&(n=ke(Math.sin(n)/this.n)),E=Q(E+this.long0),n=qe(n)):(n=Ne(e.y/this.a,this.es,this.en),w=Math.abs(n),w<p?(w=Math.sin(n),a=this.long0+e.x*Math.sqrt(1-this.es*w*w)/(this.a*Math.cos(n)),E=Q(a)):w-m<p&&(E=this.long0)),e.x=E,e.y=n,e}var Vi=["Sinusoidal","sinu"],ki={init:Gi,forward:Di,inverse:Ni,names:Vi};function zi(){}function Ui(e){for(var n=e.x,a=e.y,E=Q(n-this.long0),w=a,F=Math.PI*Math.sin(a);;){var j=-(w+Math.sin(w)-F)/(1+Math.cos(w));if(w+=j,Math.abs(j)<m)break}w/=2,Math.PI/2-Math.abs(a)<m&&(E=0);var O=.900316316158*this.a*E*Math.cos(w)+this.x0,W=1.4142135623731*this.a*Math.sin(w)+this.y0;return e.x=O,e.y=W,e}function Wi(e){var n,a;e.x-=this.x0,e.y-=this.y0,a=e.y/(1.4142135623731*this.a),Math.abs(a)>.999999999999&&(a=.999999999999),n=Math.asin(a);var E=Q(this.long0+e.x/(.900316316158*this.a*Math.cos(n)));E<-Math.PI&&(E=-Math.PI),E>Math.PI&&(E=Math.PI),a=(2*n+Math.sin(2*n))/Math.PI,Math.abs(a)>1&&(a=1);var w=Math.asin(a);return e.x=E,e.y=w,e}var Zi=["Mollweide","moll"],Xi={init:zi,forward:Ui,inverse:Wi,names:Zi};function Ji(){Math.abs(this.lat1+this.lat2)<m||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ir(this.es),this.e1=ar(this.es),this.e2=sr(this.es),this.e3=or(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=_(this.e,this.sinphi,this.cosphi),this.ml1=pe(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=_(this.e,this.sinphi,this.cosphi),this.ml2=pe(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=pe(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Hi(e){var n=e.x,a=e.y,E;if(this.sphere)E=this.a*(this.g-a);else{var w=pe(this.e0,this.e1,this.e2,this.e3,a);E=this.a*(this.g-w)}var F=this.ns*Q(n-this.long0),j=this.x0+E*Math.sin(F),O=this.y0+this.rh-E*Math.cos(F);return e.x=j,e.y=O,e}function Qi(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var n,a,E,w;this.ns>=0?(a=Math.sqrt(e.x*e.x+e.y*e.y),n=1):(a=-Math.sqrt(e.x*e.x+e.y*e.y),n=-1);var F=0;if(a!==0&&(F=Math.atan2(n*e.x,n*e.y)),this.sphere)return w=Q(this.long0+F/this.ns),E=qe(this.g-a/this.a),e.x=w,e.y=E,e;var j=this.g-a/this.a;return E=gr(j,this.e0,this.e1,this.e2,this.e3),w=Q(this.long0+F/this.ns),e.x=w,e.y=E,e}var Ki=["Equidistant_Conic","eqdc"],Yi={init:Ji,forward:Hi,inverse:Qi,names:Ki};function $i(){this.R=this.a}function qi(e){var n=e.x,a=e.y,E=Q(n-this.long0),w,F;Math.abs(a)<=m&&(w=this.x0+this.R*E,F=this.y0);var j=ke(2*Math.abs(a/Math.PI));(Math.abs(E)<=m||Math.abs(Math.abs(a)-p)<=m)&&(w=this.x0,a>=0?F=this.y0+Math.PI*this.R*Math.tan(.5*j):F=this.y0+Math.PI*this.R*-Math.tan(.5*j));var O=.5*Math.abs(Math.PI/E-E/Math.PI),W=O*O,ot=Math.sin(j),pt=Math.cos(j),mt=pt/(ot+pt-1),It=mt*mt,Ft=mt*(2/ot-1),Ot=Ft*Ft,Ct=Math.PI*this.R*(O*(mt-Ot)+Math.sqrt(W*(mt-Ot)*(mt-Ot)-(Ot+W)*(It-Ot)))/(Ot+W);E<0&&(Ct=-Ct),w=this.x0+Ct;var Rt=W+mt;return Ct=Math.PI*this.R*(Ft*Rt-O*Math.sqrt((Ot+W)*(W+1)-Rt*Rt))/(Ot+W),a>=0?F=this.y0+Ct:F=this.y0-Ct,e.x=w,e.y=F,e}function _i(e){var n,a,E,w,F,j,O,W,ot,pt,mt,It,Ft;return e.x-=this.x0,e.y-=this.y0,mt=Math.PI*this.R,E=e.x/mt,w=e.y/mt,F=E*E+w*w,j=-Math.abs(w)*(1+F),O=j-2*w*w+E*E,W=-2*j+1+2*w*w+F*F,Ft=w*w/W+(2*O*O*O/W/W/W-9*j*O/W/W)/27,ot=(j-O*O/3/W)/W,pt=2*Math.sqrt(-ot/3),mt=3*Ft/ot/pt,Math.abs(mt)>1&&(mt>=0?mt=1:mt=-1),It=Math.acos(mt)/3,e.y>=0?a=(-pt*Math.cos(It+Math.PI/3)-O/3/W)*Math.PI:a=-(-pt*Math.cos(It+Math.PI/3)-O/3/W)*Math.PI,Math.abs(E)<m?n=this.long0:n=Q(this.long0+Math.PI*(F-1+Math.sqrt(1+2*(E*E-w*w)+F*F))/2/E),e.x=n,e.y=a,e}var ta=["Van_der_Grinten_I","VanDerGrinten","vandg"],ea={init:$i,forward:qi,inverse:_i,names:ta};function ra(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function na(e){var n=e.x,a=e.y,E=Math.sin(e.y),w=Math.cos(e.y),F=Q(n-this.long0),j,O,W,ot,pt,mt,It,Ft,Ot,Ct,Rt,Vt,ae,Zt,_t,Yt,ee,Le,de,je,He,Qe,pr;return this.sphere?Math.abs(this.sin_p12-1)<=m?(e.x=this.x0+this.a*(p-a)*Math.sin(F),e.y=this.y0-this.a*(p-a)*Math.cos(F),e):Math.abs(this.sin_p12+1)<=m?(e.x=this.x0+this.a*(p+a)*Math.sin(F),e.y=this.y0+this.a*(p+a)*Math.cos(F),e):(Le=this.sin_p12*E+this.cos_p12*w*Math.cos(F),Yt=Math.acos(Le),ee=Yt?Yt/Math.sin(Yt):1,e.x=this.x0+this.a*ee*w*Math.sin(F),e.y=this.y0+this.a*ee*(this.cos_p12*E-this.sin_p12*w*Math.cos(F)),e):(j=ir(this.es),O=ar(this.es),W=sr(this.es),ot=or(this.es),Math.abs(this.sin_p12-1)<=m?(pt=this.a*pe(j,O,W,ot,p),mt=this.a*pe(j,O,W,ot,a),e.x=this.x0+(pt-mt)*Math.sin(F),e.y=this.y0-(pt-mt)*Math.cos(F),e):Math.abs(this.sin_p12+1)<=m?(pt=this.a*pe(j,O,W,ot,p),mt=this.a*pe(j,O,W,ot,a),e.x=this.x0+(pt+mt)*Math.sin(F),e.y=this.y0+(pt+mt)*Math.cos(F),e):(It=E/w,Ft=$e(this.a,this.e,this.sin_p12),Ot=$e(this.a,this.e,E),Ct=Math.atan((1-this.es)*It+this.es*Ft*this.sin_p12/(Ot*w)),Rt=Math.atan2(Math.sin(F),this.cos_p12*Math.tan(Ct)-this.sin_p12*Math.cos(F)),Rt===0?de=Math.asin(this.cos_p12*Math.sin(Ct)-this.sin_p12*Math.cos(Ct)):Math.abs(Math.abs(Rt)-Math.PI)<=m?de=-Math.asin(this.cos_p12*Math.sin(Ct)-this.sin_p12*Math.cos(Ct)):de=Math.asin(Math.sin(F)*Math.cos(Ct)/Math.sin(Rt)),Vt=this.e*this.sin_p12/Math.sqrt(1-this.es),ae=this.e*this.cos_p12*Math.cos(Rt)/Math.sqrt(1-this.es),Zt=Vt*ae,_t=ae*ae,je=de*de,He=je*de,Qe=He*de,pr=Qe*de,Yt=Ft*de*(1-je*_t*(1-_t)/6+He/8*Zt*(1-2*_t)+Qe/120*(_t*(4-7*_t)-3*Vt*Vt*(1-7*_t))-pr/48*Zt),e.x=this.x0+Yt*Math.sin(Rt),e.y=this.y0+Yt*Math.cos(Rt),e))}function ia(e){e.x-=this.x0,e.y-=this.y0;var n,a,E,w,F,j,O,W,ot,pt,mt,It,Ft,Ot,Ct,Rt,Vt,ae,Zt,_t,Yt,ee,Le,de;return this.sphere?(n=Math.sqrt(e.x*e.x+e.y*e.y),n>2*p*this.a?void 0:(a=n/this.a,E=Math.sin(a),w=Math.cos(a),F=this.long0,Math.abs(n)<=m?j=this.lat0:(j=ke(w*this.sin_p12+e.y*E*this.cos_p12/n),O=Math.abs(this.lat0)-p,Math.abs(O)<=m?this.lat0>=0?F=Q(this.long0+Math.atan2(e.x,-e.y)):F=Q(this.long0-Math.atan2(-e.x,e.y)):F=Q(this.long0+Math.atan2(e.x*E,n*this.cos_p12*w-e.y*this.sin_p12*E))),e.x=F,e.y=j,e)):(W=ir(this.es),ot=ar(this.es),pt=sr(this.es),mt=or(this.es),Math.abs(this.sin_p12-1)<=m?(It=this.a*pe(W,ot,pt,mt,p),n=Math.sqrt(e.x*e.x+e.y*e.y),Ft=It-n,j=gr(Ft/this.a,W,ot,pt,mt),F=Q(this.long0+Math.atan2(e.x,-1*e.y)),e.x=F,e.y=j,e):Math.abs(this.sin_p12+1)<=m?(It=this.a*pe(W,ot,pt,mt,p),n=Math.sqrt(e.x*e.x+e.y*e.y),Ft=n-It,j=gr(Ft/this.a,W,ot,pt,mt),F=Q(this.long0+Math.atan2(e.x,e.y)),e.x=F,e.y=j,e):(n=Math.sqrt(e.x*e.x+e.y*e.y),Rt=Math.atan2(e.x,e.y),Ot=$e(this.a,this.e,this.sin_p12),Vt=Math.cos(Rt),ae=this.e*this.cos_p12*Vt,Zt=-ae*ae/(1-this.es),_t=3*this.es*(1-Zt)*this.sin_p12*this.cos_p12*Vt/(1-this.es),Yt=n/Ot,ee=Yt-Zt*(1+Zt)*Math.pow(Yt,3)/6-_t*(1+3*Zt)*Math.pow(Yt,4)/24,Le=1-Zt*ee*ee/2-Yt*ee*ee*ee/6,Ct=Math.asin(this.sin_p12*Math.cos(ee)+this.cos_p12*Math.sin(ee)*Vt),F=Q(this.long0+Math.asin(Math.sin(Rt)*Math.sin(ee)/Math.cos(Ct))),de=Math.sin(Ct),j=Math.atan2((de-this.es*Le*this.sin_p12)*Math.tan(Ct),de*(1-this.es)),e.x=F,e.y=j,e))}var aa=["Azimuthal_Equidistant","aeqd"],sa={init:ra,forward:na,inverse:ia,names:aa};function oa(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function la(e){var n,a,E,w,F,j,O,W,ot=e.x,pt=e.y;return E=Q(ot-this.long0),n=Math.sin(pt),a=Math.cos(pt),w=Math.cos(E),j=this.sin_p14*n+this.cos_p14*a*w,F=1,(j>0||Math.abs(j)<=m)&&(O=this.a*F*a*Math.sin(E),W=this.y0+this.a*F*(this.cos_p14*n-this.sin_p14*a*w)),e.x=O,e.y=W,e}function ua(e){var n,a,E,w,F,j,O;return e.x-=this.x0,e.y-=this.y0,n=Math.sqrt(e.x*e.x+e.y*e.y),a=ke(n/this.a),E=Math.sin(a),w=Math.cos(a),j=this.long0,Math.abs(n)<=m?(O=this.lat0,e.x=j,e.y=O,e):(O=ke(w*this.sin_p14+e.y*E*this.cos_p14/n),F=Math.abs(this.lat0)-p,Math.abs(F)<=m?(this.lat0>=0?j=Q(this.long0+Math.atan2(e.x,-e.y)):j=Q(this.long0-Math.atan2(-e.x,e.y)),e.x=j,e.y=O,e):(j=Q(this.long0+Math.atan2(e.x*E,n*this.cos_p14*w-e.y*this.sin_p14*E)),e.x=j,e.y=O,e))}var fa=["ortho"],ha={init:oa,forward:la,inverse:ua,names:fa},ne={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Kt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function ca(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=p-P/2?this.face=ne.TOP:this.lat0<=-(p-P/2)?this.face=ne.BOTTOM:Math.abs(this.long0)<=P?this.face=ne.FRONT:Math.abs(this.long0)<=p+P?this.face=this.long0>0?ne.RIGHT:ne.LEFT:this.face=ne.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function da(e){var n={x:0,y:0},a,E,w,F,j,O,W={value:0};if(e.x-=this.long0,this.es!==0?a=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):a=e.y,E=e.x,this.face===ne.TOP)F=p-a,E>=P&&E<=p+P?(W.value=Kt.AREA_0,w=E-p):E>p+P||E<=-(p+P)?(W.value=Kt.AREA_1,w=E>0?E-y:E+y):E>-(p+P)&&E<=-P?(W.value=Kt.AREA_2,w=E+p):(W.value=Kt.AREA_3,w=E);else if(this.face===ne.BOTTOM)F=p+a,E>=P&&E<=p+P?(W.value=Kt.AREA_0,w=-E+p):E<P&&E>=-P?(W.value=Kt.AREA_1,w=-E):E<-P&&E>=-(p+P)?(W.value=Kt.AREA_2,w=-E-p):(W.value=Kt.AREA_3,w=E>0?-E+y:-E-y);else{var ot,pt,mt,It,Ft,Ot,Ct;this.face===ne.RIGHT?E=_e(E,+p):this.face===ne.BACK?E=_e(E,+y):this.face===ne.LEFT&&(E=_e(E,-p)),It=Math.sin(a),Ft=Math.cos(a),Ot=Math.sin(E),Ct=Math.cos(E),ot=Ft*Ct,pt=Ft*Ot,mt=It,this.face===ne.FRONT?(F=Math.acos(ot),w=mr(F,mt,pt,W)):this.face===ne.RIGHT?(F=Math.acos(pt),w=mr(F,mt,-ot,W)):this.face===ne.BACK?(F=Math.acos(-ot),w=mr(F,mt,-pt,W)):this.face===ne.LEFT?(F=Math.acos(-pt),w=mr(F,mt,ot,W)):(F=w=0,W.value=Kt.AREA_0)}return O=Math.atan(12/y*(w+Math.acos(Math.sin(w)*Math.cos(P))-p)),j=Math.sqrt((1-Math.cos(F))/(Math.cos(O)*Math.cos(O))/(1-Math.cos(Math.atan(1/Math.cos(w))))),W.value===Kt.AREA_1?O+=p:W.value===Kt.AREA_2?O+=y:W.value===Kt.AREA_3&&(O+=1.5*y),n.x=j*Math.cos(O),n.y=j*Math.sin(O),n.x=n.x*this.a+this.x0,n.y=n.y*this.a+this.y0,e.x=n.x,e.y=n.y,e}function va(e){var n={lam:0,phi:0},a,E,w,F,j,O,W,ot,pt,mt={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,E=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),a=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?mt.value=Kt.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(mt.value=Kt.AREA_1,a-=p):e.x<0&&-e.x>=Math.abs(e.y)?(mt.value=Kt.AREA_2,a=a<0?a+y:a-y):(mt.value=Kt.AREA_3,a+=p),pt=y/12*Math.tan(a),j=Math.sin(pt)/(Math.cos(pt)-1/Math.sqrt(2)),O=Math.atan(j),w=Math.cos(a),F=Math.tan(E),W=1-w*w*F*F*(1-Math.cos(Math.atan(1/Math.cos(O)))),W<-1?W=-1:W>1&&(W=1),this.face===ne.TOP)ot=Math.acos(W),n.phi=p-ot,mt.value===Kt.AREA_0?n.lam=O+p:mt.value===Kt.AREA_1?n.lam=O<0?O+y:O-y:mt.value===Kt.AREA_2?n.lam=O-p:n.lam=O;else if(this.face===ne.BOTTOM)ot=Math.acos(W),n.phi=ot-p,mt.value===Kt.AREA_0?n.lam=-O+p:mt.value===Kt.AREA_1?n.lam=-O:mt.value===Kt.AREA_2?n.lam=-O-p:n.lam=O<0?-O-y:-O+y;else{var It,Ft,Ot;It=W,pt=It*It,pt>=1?Ot=0:Ot=Math.sqrt(1-pt)*Math.sin(O),pt+=Ot*Ot,pt>=1?Ft=0:Ft=Math.sqrt(1-pt),mt.value===Kt.AREA_1?(pt=Ft,Ft=-Ot,Ot=pt):mt.value===Kt.AREA_2?(Ft=-Ft,Ot=-Ot):mt.value===Kt.AREA_3&&(pt=Ft,Ft=Ot,Ot=-pt),this.face===ne.RIGHT?(pt=It,It=-Ft,Ft=pt):this.face===ne.BACK?(It=-It,Ft=-Ft):this.face===ne.LEFT&&(pt=It,It=Ft,Ft=-pt),n.phi=Math.acos(-Ot)-p,n.lam=Math.atan2(Ft,It),this.face===ne.RIGHT?n.lam=_e(n.lam,-p):this.face===ne.BACK?n.lam=_e(n.lam,-y):this.face===ne.LEFT&&(n.lam=_e(n.lam,+p))}if(this.es!==0){var Ct,Rt,Vt;Ct=n.phi<0?1:0,Rt=Math.tan(n.phi),Vt=this.b/Math.sqrt(Rt*Rt+this.one_minus_f_squared),n.phi=Math.atan(Math.sqrt(this.a*this.a-Vt*Vt)/(this.one_minus_f*Vt)),Ct&&(n.phi=-n.phi)}return n.lam+=this.long0,e.x=n.lam,e.y=n.phi,e}function mr(e,n,a,E){var w;return e<m?(E.value=Kt.AREA_0,w=0):(w=Math.atan2(n,a),Math.abs(w)<=P?E.value=Kt.AREA_0:w>P&&w<=p+P?(E.value=Kt.AREA_1,w-=p):w>p+P||w<=-(p+P)?(E.value=Kt.AREA_2,w=w>=0?w-y:w+y):(E.value=Kt.AREA_3,w+=p)),w}function _e(e,n){var a=e+n;return a<-y?a+=l:a>+y&&(a-=l),a}var ya=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],ga={init:ca,forward:da,inverse:va,names:ya},Er=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],lr=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Fr=.8487,Cr=1.3523,Or=M/5,ma=1/Or,tr=18,xr=function(e,n){return e[0]+n*(e[1]+n*(e[2]+n*e[3]))},xa=function(e,n){return e[1]+n*(2*e[2]+n*3*e[3])};function pa(e,n,a,E){for(var w=n;E;--E){var F=e(w);if(w-=F,Math.abs(F)<a)break}return w}function Ma(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Sa(e){var n=Q(e.x-this.long0),a=Math.abs(e.y),E=Math.floor(a*Or);E<0?E=0:E>=tr&&(E=tr-1),a=M*(a-ma*E);var w={x:xr(Er[E],a)*n,y:xr(lr[E],a)};return e.y<0&&(w.y=-w.y),w.x=w.x*this.a*Fr+this.x0,w.y=w.y*this.a*Cr+this.y0,w}function Pa(e){var n={x:(e.x-this.x0)/(this.a*Fr),y:Math.abs(e.y-this.y0)/(this.a*Cr)};if(n.y>=1)n.x/=Er[tr][0],n.y=e.y<0?-p:p;else{var a=Math.floor(n.y*tr);for(a<0?a=0:a>=tr&&(a=tr-1);;)if(lr[a][0]>n.y)--a;else if(lr[a+1][0]<=n.y)++a;else break;var E=lr[a],w=5*(n.y-E[0])/(lr[a+1][0]-E[0]);w=pa(function(F){return(xr(E,F)-n.y)/xa(E,F)},w,m,100),n.x/=xr(Er[a],w),n.y=(5*a+w)*A,e.y<0&&(n.y=-n.y)}return n.x=Q(n.x+this.long0),n}var Ia=["Robinson","robin"],Ea={init:Ma,forward:Sa,inverse:Pa,names:Ia};function Ta(){this.name="geocent"}function wa(e){var n=ue(e,this.es,this.a);return n}function La(e){var n=ge(e,this.es,this.a,this.b);return n}var Fa=["Geocentric","geocentric","geocent","Geocent"],Ca={init:Ta,forward:wa,inverse:La,names:Fa},xe={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ur={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Oa(){if(Object.keys(ur).forEach(function(a){if(typeof this[a]>"u")this[a]=ur[a].def;else{if(ur[a].num&&isNaN(this[a]))throw new Error("Invalid parameter value, must be numeric "+a+" = "+this[a]);ur[a].num&&(this[a]=parseFloat(this[a]))}ur[a].degrees&&(this[a]=this[a]*A)}.bind(this)),Math.abs(Math.abs(this.lat0)-p)<m?this.mode=this.lat0<0?xe.S_POLE:xe.N_POLE:Math.abs(this.lat0)<m?this.mode=xe.EQUIT:(this.mode=xe.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,n=this.azi;this.cg=Math.cos(n),this.sg=Math.sin(n),this.cw=Math.cos(e),this.sw=Math.sin(e)}function Aa(e){e.x-=this.long0;var n=Math.sin(e.y),a=Math.cos(e.y),E=Math.cos(e.x),w,F;switch(this.mode){case xe.OBLIQ:F=this.sinph0*n+this.cosph0*a*E;break;case xe.EQUIT:F=a*E;break;case xe.S_POLE:F=-n;break;case xe.N_POLE:F=n;break}switch(F=this.pn1/(this.p-F),w=F*a*Math.sin(e.x),this.mode){case xe.OBLIQ:F*=this.cosph0*n-this.sinph0*a*E;break;case xe.EQUIT:F*=n;break;case xe.N_POLE:F*=-(a*E);break;case xe.S_POLE:F*=a*E;break}var j,O;return j=F*this.cg+w*this.sg,O=1/(j*this.sw*this.h1+this.cw),w=(w*this.cg-F*this.sg)*this.cw*O,F=j*O,e.x=w*this.a,e.y=F*this.a,e}function ja(e){e.x/=this.a,e.y/=this.a;var n={x:e.x,y:e.y},a,E,w;w=1/(this.pn1-e.y*this.sw),a=this.pn1*e.x*w,E=this.pn1*e.y*this.cw*w,e.x=a*this.cg+E*this.sg,e.y=E*this.cg-a*this.sg;var F=we(e.x,e.y);if(Math.abs(F)<m)n.x=0,n.y=e.y;else{var j,O;switch(O=1-F*F*this.pfact,O=(this.p-Math.sqrt(O))/(this.pn1/F+F/this.pn1),j=Math.sqrt(1-O*O),this.mode){case xe.OBLIQ:n.y=Math.asin(j*this.sinph0+e.y*O*this.cosph0/F),e.y=(j-this.sinph0*Math.sin(n.y))*F,e.x*=O*this.cosph0;break;case xe.EQUIT:n.y=Math.asin(e.y*O/F),e.y=j*F,e.x*=O;break;case xe.N_POLE:n.y=Math.asin(j),e.y=-e.y;break;case xe.S_POLE:n.y=-Math.asin(j);break}n.x=Math.atan2(e.x,e.y)}return e.x=n.x+this.long0,e.y=n.y,e}var Ra=["Tilted_Perspective","tpers"],Ba={init:Oa,forward:Aa,inverse:ja,names:Ra};function ba(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,n=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=n,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Ga(e){var n=e.x,a=e.y,E,w,F,j;if(n=n-this.long0,this.shape==="ellipse"){a=Math.atan(this.radius_p2*Math.tan(a));var O=this.radius_p/we(this.radius_p*Math.cos(a),Math.sin(a));if(w=O*Math.cos(n)*Math.cos(a),F=O*Math.sin(n)*Math.cos(a),j=O*Math.sin(a),(this.radius_g-w)*w-F*F-j*j*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;E=this.radius_g-w,this.flip_axis?(e.x=this.radius_g_1*Math.atan(F/we(j,E)),e.y=this.radius_g_1*Math.atan(j/E)):(e.x=this.radius_g_1*Math.atan(F/E),e.y=this.radius_g_1*Math.atan(j/we(F,E)))}else this.shape==="sphere"&&(E=Math.cos(a),w=Math.cos(n)*E,F=Math.sin(n)*E,j=Math.sin(a),E=this.radius_g-w,this.flip_axis?(e.x=this.radius_g_1*Math.atan(F/we(j,E)),e.y=this.radius_g_1*Math.atan(j/E)):(e.x=this.radius_g_1*Math.atan(F/E),e.y=this.radius_g_1*Math.atan(j/we(F,E))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function Da(e){var n=-1,a=0,E=0,w,F,j,O;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(E=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*we(1,E)):(a=Math.tan(e.x/this.radius_g_1),E=Math.tan(e.y/this.radius_g_1)*we(1,a));var W=E/this.radius_p;if(w=a*a+W*W+n*n,F=2*this.radius_g*n,j=F*F-4*w*this.C,j<0)return e.x=Number.NaN,e.y=Number.NaN,e;O=(-F-Math.sqrt(j))/(2*w),n=this.radius_g+O*n,a*=O,E*=O,e.x=Math.atan2(a,n),e.y=Math.atan(E*Math.cos(e.x)/n),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(E=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+E*E)):(a=Math.tan(e.x/this.radius_g_1),E=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+a*a)),w=a*a+E*E+n*n,F=2*this.radius_g*n,j=F*F-4*w*this.C,j<0)return e.x=Number.NaN,e.y=Number.NaN,e;O=(-F-Math.sqrt(j))/(2*w),n=this.radius_g+O*n,a*=O,E*=O,e.x=Math.atan2(a,n),e.y=Math.atan(E*Math.cos(e.x)/n)}return e.x=e.x+this.long0,e}var Na=["Geostationary Satellite View","Geostationary_Satellite","geos"],Va={init:ba,forward:Ga,inverse:Da,names:Na};function ka(e){e.Proj.projections.add(vr),e.Proj.projections.add(yr),e.Proj.projections.add(Xr),e.Proj.projections.add(en),e.Proj.projections.add(ln),e.Proj.projections.add(dn),e.Proj.projections.add(pn),e.Proj.projections.add(En),e.Proj.projections.add(Cn),e.Proj.projections.add(Bn),e.Proj.projections.add($n),e.Proj.projections.add(ni),e.Proj.projections.add(li),e.Proj.projections.add(vi),e.Proj.projections.add(pi),e.Proj.projections.add(Ei),e.Proj.projections.add(Ci),e.Proj.projections.add(Bi),e.Proj.projections.add(ki),e.Proj.projections.add(Xi),e.Proj.projections.add(Yi),e.Proj.projections.add(ea),e.Proj.projections.add(sa),e.Proj.projections.add(ha),e.Proj.projections.add(ga),e.Proj.projections.add(Ea),e.Proj.projections.add(Ca),e.Proj.projections.add(Ba),e.Proj.projections.add(Va)}bt.defaultDatum="WGS84",bt.Proj=fe,bt.WGS84=new bt.Proj("WGS84"),bt.Point=We,bt.toPoint=Ue,bt.defs=yt,bt.nadgrid=te,bt.transform=Gt,bt.mgrs=me.ZP,bt.version="__VERSION__",ka(bt);var za=bt},603842:function(G,C,t){var u=t(311889).$,g=t(992043),d=Math.PI,h=d*3e3/180,o=C.toGCJ02=u(function(s,T,v){var S=s[v]-.0065,p=s[v+1]-.006,I=Math.sqrt(S*S+p*p)-2e-5*Math.sin(p*h),c=Math.atan2(p,S)-3e-6*Math.cos(S*h);return T[v]=I*Math.cos(c),T[v+1]=I*Math.sin(c),T}),i=C.fromGCJ02=u(function(s,T,v){var S=s[v],p=s[v+1],I=Math.sqrt(S*S+p*p)+2e-5*Math.sin(p*h),c=Math.atan2(p,S)+3e-6*Math.cos(S*h);return T[v]=I*Math.cos(c)+.0065,T[v+1]=I*Math.sin(c)+.006,T});C.toWGS84=function(s,T,v){var S=o(s,T,v);return g.toWGS84(S,S,v)},C.fromWGS84=function(s,T,v){var S=g.fromWGS84(s,T,v);return i(S,S,v)}},992043:function(G,C,t){var u=t(311889).$,g=Math.PI,d=6378245,h=.006693421622965943;function o(v,S){var p=s(v-105,S-35),I=T(v-105,S-35),c=S/180*g,f=Math.sin(c);f=1-h*f*f;var m=Math.sqrt(f);return p=p*180/(d*(1-h)/(f*m)*g),I=I*180/(d/m*Math.cos(c)*g),[I,p]}function i(v,S){return v<72.004||v>137.8347||S<.8293||S>55.8271}function s(v,S){var p=-100+2*v+3*S+.2*S*S+.1*v*S+.2*Math.sqrt(Math.abs(v));return p+=(20*Math.sin(6*v*g)+20*Math.sin(2*v*g))*2/3,p+=(20*Math.sin(S*g)+40*Math.sin(S/3*g))*2/3,p+=(160*Math.sin(S/12*g)+320*Math.sin(S*g/30))*2/3,p}function T(v,S){var p=300+v+2*S+.1*v*v+.1*v*S+.1*Math.sqrt(Math.abs(v));return p+=(20*Math.sin(6*v*g)+20*Math.sin(2*v*g))*2/3,p+=(20*Math.sin(v*g)+40*Math.sin(v/3*g))*2/3,p+=(150*Math.sin(v/12*g)+300*Math.sin(v/30*g))*2/3,p}C.toWGS84=u(function(v,S,p){var I=v[p],c=v[p+1];if(!i(I,c)){var f=o(I,c);I=I-f[0],c=c-f[1]}S[p]=I,S[p+1]=c}),C.fromWGS84=u(function(v,S,p){var I=v[p],c=v[p+1];if(!i(I,c)){var f=o(I,c);I=I+f[0],c=c+f[1]}S[p]=I,S[p+1]=c})},275019:function(G,C,t){C.bd09=t(603842),C.gcj02=t(992043)},905621:function(G,C,t){var u=t(345374),g=t(275019);C.smerc2bmerc=function(d,h,o){var i=u.sphericalMercator.inverse(d,h,o);return i=g.bd09.fromWGS84(i,i,o),u.baiduMercator.forward(i,i,o)},C.bmerc2smerc=function(d,h,o){var i=u.baiduMercator.inverse(d,h,o);return i=g.bd09.toWGS84(i,i,o),u.sphericalMercator.forward(i,i,o)},C.bmerc2ll=function(d,h,o){var i=u.baiduMercator.inverse(d,h,o);return g.bd09.toWGS84(i,i,o)},C.ll2bmerc=function(d,h,o){var i=g.bd09.fromWGS84(d,h,o);return u.baiduMercator.forward(i,i,o)},C.ll2smerc=u.sphericalMercator.forward,C.smerc2ll=u.sphericalMercator.inverse,C.datum=g,C.projection=u},833754:function(G,C,t){var u=t(311889).$,g=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],d=[75,60,45,30,15,0],h=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],o=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function i(v,S,p){return v=Math.max(v,S),v=Math.min(v,p),v}function s(v,S,p){for(var I=p-S;v>p;)v-=I;for(;v<S;)v+=I;return v}function T(v,S,p,I){var c=v[p],f=v[p+1],m=I[0]+I[1]*Math.abs(c),A=Math.abs(f)/I[9],M=I[2]+I[3]*A+I[4]*A*A+I[5]*A*A*A+I[6]*A*A*A*A+I[7]*A*A*A*A*A+I[8]*A*A*A*A*A*A;S[p]=m*(c<0?-1:1),S[p+1]=M*(f<0?-1:1)}C.forward=u(function(v,S,p){var I=s(v[p],-180,180),c=i(v[p+1],-74,74),f=null,m;for(m=0;m<d.length;++m)if(c>=d[m]){f=o[m];break}if(f===null){for(m=d.length-1;m>=0;--m)if(c<=-d[m]){f=o[m];break}}S[p]=I,S[p+1]=c,T(S,S,p,f)}),C.inverse=u(function(v,S,p){for(var I=Math.abs(v[p+1]),c=null,f=0;f<g.length;f++)if(I>=g[f]){c=h[f];break}T(v,S,p,c)})},345374:function(G,C,t){C.baiduMercator=t(833754),C.sphericalMercator=t(999324)},999324:function(G,C,t){var u=t(311889).$,g=6378137,d=85.0511287798,h=Math.PI/180;C.forward=u(function(o,i,s){var T=Math.max(Math.min(d,o[s+1]),-d),v=Math.sin(T*h);i[s]=g*o[s]*h,i[s+1]=g*Math.log((1+v)/(1-v))/2}),C.inverse=u(function(o,i,s){i[s]=o[s]/g/h,i[s+1]=(2*Math.atan(Math.exp(o[s+1]/g))-Math.PI/2)/h})},311889:function(G,C){C.$=function(t){return function(u,g,d){var h=u.length,o=d||2,i;g?i=g:o!==2?i=u.slice():i=new Array(h);for(var s=0;s<h;s+=o)t(u,i,s);return i}}},725308:function(G,C,t){"use strict";G.exports=t(926039)},926039:function(G,C,t){"use strict";var u=C;u.build="minimal",u.Writer=t(816495),u.BufferWriter=t(690396),u.Reader=t(804199),u.BufferReader=t(419242),u.util=t(967032),u.rpc=t(763497),u.roots=t(905473),u.configure=g;function g(){u.util._configure(),u.Writer._configure(u.BufferWriter),u.Reader._configure(u.BufferReader)}g()},804199:function(G,C,t){"use strict";G.exports=i;var u=t(967032),g,d=u.LongBits,h=u.utf8;function o(I,c){return RangeError("index out of range: "+I.pos+" + "+(c||1)+" > "+I.len)}function i(I){this.buf=I,this.pos=0,this.len=I.length}var s=typeof Uint8Array<"u"?function(c){if(c instanceof Uint8Array||Array.isArray(c))return new i(c);throw Error("illegal buffer")}:function(c){if(Array.isArray(c))return new i(c);throw Error("illegal buffer")},T=function(){return u.Buffer?function(f){return(i.create=function(A){return u.Buffer.isBuffer(A)?new g(A):s(A)})(f)}:s};i.create=T(),i.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,i.prototype.uint32=function(){var c=4294967295;return function(){if(c=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(c=(c|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return c;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return c}}(),i.prototype.int32=function(){return this.uint32()|0},i.prototype.sint32=function(){var c=this.uint32();return c>>>1^-(c&1)|0};function v(){var I=new d(0,0),c=0;if(this.len-this.pos>4){for(;c<4;++c)if(I.lo=(I.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return I;if(I.lo=(I.lo|(this.buf[this.pos]&127)<<28)>>>0,I.hi=(I.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return I;c=0}else{for(;c<3;++c){if(this.pos>=this.len)throw o(this);if(I.lo=(I.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return I}return I.lo=(I.lo|(this.buf[this.pos++]&127)<<c*7)>>>0,I}if(this.len-this.pos>4){for(;c<5;++c)if(I.hi=(I.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return I}else for(;c<5;++c){if(this.pos>=this.len)throw o(this);if(I.hi=(I.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return I}throw Error("invalid varint encoding")}i.prototype.bool=function(){return this.uint32()!==0};function S(I,c){return(I[c-4]|I[c-3]<<8|I[c-2]<<16|I[c-1]<<24)>>>0}i.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return S(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return S(this.buf,this.pos+=4)|0};function p(){if(this.pos+8>this.len)throw o(this,8);return new d(S(this.buf,this.pos+=4),S(this.buf,this.pos+=4))}i.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var c=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,c},i.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var c=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,c},i.prototype.bytes=function(){var c=this.uint32(),f=this.pos,m=this.pos+c;if(m>this.len)throw o(this,c);return this.pos+=c,Array.isArray(this.buf)?this.buf.slice(f,m):f===m?new this.buf.constructor(0):this._slice.call(this.buf,f,m)},i.prototype.string=function(){var c=this.bytes();return h.read(c,0,c.length)},i.prototype.skip=function(c){if(typeof c=="number"){if(this.pos+c>this.len)throw o(this,c);this.pos+=c}else do if(this.pos>=this.len)throw o(this);while(this.buf[this.pos++]&128);return this},i.prototype.skipType=function(I){switch(I){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(I=this.uint32()&7)!==4;)this.skipType(I);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+I+" at offset "+this.pos)}return this},i._configure=function(I){g=I,i.create=T(),g._configure();var c=u.Long?"toLong":"toNumber";u.merge(i.prototype,{int64:function(){return v.call(this)[c](!1)},uint64:function(){return v.call(this)[c](!0)},sint64:function(){return v.call(this).zzDecode()[c](!1)},fixed64:function(){return p.call(this)[c](!0)},sfixed64:function(){return p.call(this)[c](!1)}})}},419242:function(G,C,t){"use strict";G.exports=d;var u=t(804199);(d.prototype=Object.create(u.prototype)).constructor=d;var g=t(967032);function d(h){u.call(this,h)}d._configure=function(){g.Buffer&&(d.prototype._slice=g.Buffer.prototype.slice)},d.prototype.string=function(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))},d._configure()},905473:function(G){"use strict";G.exports={}},763497:function(G,C,t){"use strict";var u=C;u.Service=t(206120)},206120:function(G,C,t){"use strict";G.exports=g;var u=t(967032);(g.prototype=Object.create(u.EventEmitter.prototype)).constructor=g;function g(d,h,o){if(typeof d!="function")throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=!!h,this.responseDelimited=!!o}g.prototype.rpcCall=function d(h,o,i,s,T){if(!s)throw TypeError("request must be specified");var v=this;if(!T)return u.asPromise(d,v,h,o,i,s);if(!v.rpcImpl){setTimeout(function(){T(Error("already ended"))},0);return}try{return v.rpcImpl(h,o[v.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(p,I){if(p)return v.emit("error",p,h),T(p);if(I===null){v.end(!0);return}if(!(I instanceof i))try{I=i[v.responseDelimited?"decodeDelimited":"decode"](I)}catch(c){return v.emit("error",c,h),T(c)}return v.emit("data",I,h),T(null,I)})}catch(S){v.emit("error",S,h),setTimeout(function(){T(S)},0);return}},g.prototype.end=function(h){return this.rpcImpl&&(h||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},448215:function(G,C,t){"use strict";G.exports=g;var u=t(967032);function g(i,s){this.lo=i>>>0,this.hi=s>>>0}var d=g.zero=new g(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var h=g.zeroHash="\0\0\0\0\0\0\0\0";g.fromNumber=function(s){if(s===0)return d;var T=s<0;T&&(s=-s);var v=s>>>0,S=(s-v)/4294967296>>>0;return T&&(S=~S>>>0,v=~v>>>0,++v>4294967295&&(v=0,++S>4294967295&&(S=0))),new g(v,S)},g.from=function(s){if(typeof s=="number")return g.fromNumber(s);if(u.isString(s))if(u.Long)s=u.Long.fromString(s);else return g.fromNumber(parseInt(s,10));return s.low||s.high?new g(s.low>>>0,s.high>>>0):d},g.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var T=~this.lo+1>>>0,v=~this.hi>>>0;return T||(v=v+1>>>0),-(T+v*4294967296)}return this.lo+this.hi*4294967296},g.prototype.toLong=function(s){return u.Long?new u.Long(this.lo|0,this.hi|0,!!s):{low:this.lo|0,high:this.hi|0,unsigned:!!s}};var o=String.prototype.charCodeAt;g.fromHash=function(s){return s===h?d:new g((o.call(s,0)|o.call(s,1)<<8|o.call(s,2)<<16|o.call(s,3)<<24)>>>0,(o.call(s,4)|o.call(s,5)<<8|o.call(s,6)<<16|o.call(s,7)<<24)>>>0)},g.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},g.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},g.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},g.prototype.length=function(){var s=this.lo,T=(this.lo>>>28|this.hi<<4)>>>0,v=this.hi>>>24;return v===0?T===0?s<16384?s<128?1:2:s<2097152?3:4:T<16384?T<128?5:6:T<2097152?7:8:v<128?9:10}},967032:function(G,C,t){"use strict";var u=C;u.asPromise=t(545317),u.base64=t(598660),u.EventEmitter=t(823745),u.float=t(319059),u.inquire=t(350491),u.utf8=t(768375),u.pool=t(118601),u.LongBits=t(448215),u.isNode=!!(typeof t.g<"u"&&t.g&&t.g.process&&t.g.process.versions&&t.g.process.versions.node),u.global=u.isNode&&t.g||typeof window<"u"&&window||typeof self<"u"&&self||this,u.emptyArray=Object.freeze?Object.freeze([]):[],u.emptyObject=Object.freeze?Object.freeze({}):{},u.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},u.isString=function(o){return typeof o=="string"||o instanceof String},u.isObject=function(o){return o&&typeof o=="object"},u.isset=u.isSet=function(o,i){var s=o[i];return s!=null&&o.hasOwnProperty(i)?typeof s!="object"||(Array.isArray(s)?s.length:Object.keys(s).length)>0:!1},u.Buffer=function(){try{var h=u.inquire("buffer").Buffer;return h.prototype.utf8Write?h:null}catch{return null}}(),u._Buffer_from=null,u._Buffer_allocUnsafe=null,u.newBuffer=function(o){return typeof o=="number"?u.Buffer?u._Buffer_allocUnsafe(o):new u.Array(o):u.Buffer?u._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},u.Array=typeof Uint8Array<"u"?Uint8Array:Array,u.Long=u.global.dcodeIO&&u.global.dcodeIO.Long||u.global.Long||u.inquire("long"),u.key2Re=/^true|false|0|1$/,u.key32Re=/^-?(?:0|[1-9][0-9]*)$/,u.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,u.longToHash=function(o){return o?u.LongBits.from(o).toHash():u.LongBits.zeroHash},u.longFromHash=function(o,i){var s=u.LongBits.fromHash(o);return u.Long?u.Long.fromBits(s.lo,s.hi,i):s.toNumber(!!i)};function g(h,o,i){for(var s=Object.keys(o),T=0;T<s.length;++T)(h[s[T]]===void 0||!i)&&(h[s[T]]=o[s[T]]);return h}u.merge=g,u.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function d(h){function o(i,s){if(!(this instanceof o))return new o(i,s);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&g(this,s)}return(o.prototype=Object.create(Error.prototype)).constructor=o,Object.defineProperty(o.prototype,"name",{get:function(){return h}}),o.prototype.toString=function(){return this.name+": "+this.message},o}u.newError=d,u.ProtocolError=d("ProtocolError"),u.oneOfGetter=function(o){for(var i={},s=0;s<o.length;++s)i[o[s]]=1;return function(){for(var T=Object.keys(this),v=T.length-1;v>-1;--v)if(i[T[v]]===1&&this[T[v]]!==void 0&&this[T[v]]!==null)return T[v]}},u.oneOfSetter=function(o){return function(i){for(var s=0;s<o.length;++s)o[s]!==i&&delete this[o[s]]}},u.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},u._configure=function(){var h=u.Buffer;if(!h){u._Buffer_from=u._Buffer_allocUnsafe=null;return}u._Buffer_from=h.from!==Uint8Array.from&&h.from||function(i,s){return new h(i,s)},u._Buffer_allocUnsafe=h.allocUnsafe||function(i){return new h(i)}}},816495:function(G,C,t){"use strict";G.exports=v;var u=t(967032),g,d=u.LongBits,h=u.base64,o=u.utf8;function i(M,P,l){this.fn=M,this.len=P,this.next=void 0,this.val=l}function s(){}function T(M){this.head=M.head,this.tail=M.tail,this.len=M.len,this.next=M.states}function v(){this.len=0,this.head=new i(s,0,0),this.tail=this.head,this.states=null}var S=function(){return u.Buffer?function(){return(v.create=function(){return new g})()}:function(){return new v}};v.create=S(),v.alloc=function(P){return new u.Array(P)},u.Array!==Array&&(v.alloc=u.pool(v.alloc,u.Array.prototype.subarray)),v.prototype._push=function(P,l,y){return this.tail=this.tail.next=new i(P,l,y),this.len+=l,this};function p(M,P,l){P[l]=M&255}function I(M,P,l){for(;M>127;)P[l++]=M&127|128,M>>>=7;P[l]=M}function c(M,P){this.len=M,this.next=void 0,this.val=P}c.prototype=Object.create(i.prototype),c.prototype.fn=I,v.prototype.uint32=function(P){return this.len+=(this.tail=this.tail.next=new c((P=P>>>0)<128?1:P<16384?2:P<2097152?3:P<268435456?4:5,P)).len,this},v.prototype.int32=function(P){return P<0?this._push(f,10,d.fromNumber(P)):this.uint32(P)},v.prototype.sint32=function(P){return this.uint32((P<<1^P>>31)>>>0)};function f(M,P,l){for(;M.hi;)P[l++]=M.lo&127|128,M.lo=(M.lo>>>7|M.hi<<25)>>>0,M.hi>>>=7;for(;M.lo>127;)P[l++]=M.lo&127|128,M.lo=M.lo>>>7;P[l++]=M.lo}v.prototype.uint64=function(P){var l=d.from(P);return this._push(f,l.length(),l)},v.prototype.int64=v.prototype.uint64,v.prototype.sint64=function(P){var l=d.from(P).zzEncode();return this._push(f,l.length(),l)},v.prototype.bool=function(P){return this._push(p,1,P?1:0)};function m(M,P,l){P[l]=M&255,P[l+1]=M>>>8&255,P[l+2]=M>>>16&255,P[l+3]=M>>>24}v.prototype.fixed32=function(P){return this._push(m,4,P>>>0)},v.prototype.sfixed32=v.prototype.fixed32,v.prototype.fixed64=function(P){var l=d.from(P);return this._push(m,4,l.lo)._push(m,4,l.hi)},v.prototype.sfixed64=v.prototype.fixed64,v.prototype.float=function(P){return this._push(u.float.writeFloatLE,4,P)},v.prototype.double=function(P){return this._push(u.float.writeDoubleLE,8,P)};var A=u.Array.prototype.set?function(P,l,y){l.set(P,y)}:function(P,l,y){for(var r=0;r<P.length;++r)l[y+r]=P[r]};v.prototype.bytes=function(P){var l=P.length>>>0;if(!l)return this._push(p,1,0);if(u.isString(P)){var y=v.alloc(l=h.length(P));h.decode(P,y,0),P=y}return this.uint32(l)._push(A,l,P)},v.prototype.string=function(P){var l=o.length(P);return l?this.uint32(l)._push(o.write,l,P):this._push(p,1,0)},v.prototype.fork=function(){return this.states=new T(this),this.head=this.tail=new i(s,0,0),this.len=0,this},v.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(s,0,0),this.len=0),this},v.prototype.ldelim=function(){var P=this.head,l=this.tail,y=this.len;return this.reset().uint32(y),y&&(this.tail.next=P.next,this.tail=l,this.len+=y),this},v.prototype.finish=function(){for(var P=this.head.next,l=this.constructor.alloc(this.len),y=0;P;)P.fn(P.val,l,y),y+=P.len,P=P.next;return l},v._configure=function(M){g=M,v.create=S(),g._configure()}},690396:function(G,C,t){"use strict";G.exports=d;var u=t(816495);(d.prototype=Object.create(u.prototype)).constructor=d;var g=t(967032);function d(){u.call(this)}d._configure=function(){d.alloc=g._Buffer_allocUnsafe,d.writeBytesBuffer=g.Buffer&&g.Buffer.prototype instanceof Uint8Array&&g.Buffer.prototype.set.name==="set"?function(i,s,T){s.set(i,T)}:function(i,s,T){if(i.copy)i.copy(s,T,0,i.length);else for(var v=0;v<i.length;)s[T++]=i[v++]}},d.prototype.bytes=function(i){g.isString(i)&&(i=g._Buffer_from(i,"base64"));var s=i.length>>>0;return this.uint32(s),s&&this._push(d.writeBytesBuffer,s,i),this};function h(o,i,s){o.length<40?g.utf8.write(o,i,s):i.utf8Write?i.utf8Write(o,s):i.write(o,s)}d.prototype.string=function(i){var s=g.Buffer.byteLength(i);return this.uint32(s),s&&this._push(h,s,i),this},d._configure()},4151:function(G,C,t){"use strict";const u=t(284127),g=t(462927),d=t(755872).Buffer;G.exports=h;function h(o,i){return new u(function(s,T){const v=g(o,i),S=new XMLHttpRequest;S.open("GET",v,!0),i!=="prj"&&i!=="cpg"&&(S.responseType="arraybuffer"),S.addEventListener("load",function(){return S.status>399?i==="prj"||i==="cpg"?s(!1):T(new Error(S.status)):s(i!=="prj"&&i!=="cpg"?d.from(S.response):S.response)},!1),S.send()})}},161999:function(G,C,t){"use strict";const u=t(4151),g=t(462927),d=t(755872).Buffer;G.exports=async function(o,i){if(!t.g.fetch)return u(o,i);const s=g(o,i),T=i==="prj"||i==="cpg";try{const v=await fetch(s);if(v.status>399)throw new Error(v.statusText);if(T)return v.text();const S=await v.arrayBuffer();return d.from(S)}catch(v){if(T)return!1;throw v}}},462927:function(G,C,t){const u=t.g.URL;G.exports=(g,d)=>{if(!d)return g;const h=new u(g);return h.pathname=`${h.pathname}.${d}`,h.href}},555089:function(G,C,t){"use strict";let u=t(330339);u.default&&(u=u.default);const g=t(315850),d=t(161999),h=t(486673),o=t(209518),i=t(284127),s=t(60309),T=t(755872).Buffer,v=t.g.URL,S=new s({max:20});function p(M){if(!M)throw new Error("forgot to pass buffer");if(T.isBuffer(M))return M;if(M instanceof t.g.ArrayBuffer)return T.from(M);if(M.buffer instanceof t.g.ArrayBuffer)return M.BYTES_PER_ELEMENT===1?T.from(M):T.from(M.buffer)}function I(M,P){return typeof M=="string"&&S.has(M)?i.resolve(S.get(M)):I.getShapefile(M,P).then(function(l){return typeof M=="string"&&S.set(M,l),l})}I.combine=function(M){const P={};P.type="FeatureCollection",P.features=[];let l=0;const y=M[0].length;for(;l<y;)P.features.push({type:"Feature",geometry:M[0][l],properties:M[1][l]}),l++;return P},I.parseZip=async function(M,P){let l;M=p(M);const y=await g(M),r=[];P=P||[];for(l in y)l.indexOf("__MACOSX")===-1&&(l.slice(-3).toLowerCase()==="shp"?(r.push(l.slice(0,-4)),y[l.slice(0,-3)+l.slice(-3).toLowerCase()]=y[l]):l.slice(-3).toLowerCase()==="prj"?y[l.slice(0,-3)+l.slice(-3).toLowerCase()]=u(y[l]):l.slice(-4).toLowerCase()==="json"||P.indexOf(l.split(".").pop())>-1?r.push(l.slice(0,-3)+l.slice(-3).toLowerCase()):(l.slice(-3).toLowerCase()==="dbf"||l.slice(-3).toLowerCase()==="cpg")&&(y[l.slice(0,-3)+l.slice(-3).toLowerCase()]=y[l]));if(!r.length)throw new Error("no layers founds");const x=r.map(function(B){let N,b;const at=B.lastIndexOf(".");return at>-1&&B.slice(at).indexOf("json")>-1?(N=JSON.parse(y[B]),N.fileName=B.slice(0,at)):P.indexOf(B.slice(at+1))>-1?(N=y[B],N.fileName=B):(y[B+".dbf"]&&(b=o(y[B+".dbf"],y[B+".cpg"])),N=I.combine([h(y[B+".shp"],y[B+".prj"]),b]),N.fileName=B),N});return x.length===1?x[0]:x};async function c(M,P){const l=await d(M);return I.parseZip(l,P)}const f=async M=>{const P=await i.all([d(M,"shp"),d(M,"prj")]);let l=!1;try{P[1]&&(l=u(P[1]))}catch{l=!1}return h(P[0],l)},m=async M=>{const[P,l]=await i.all([d(M,"dbf"),d(M,"cpg")]);return o(P,l)},A=(M,P)=>new v(M).pathname.slice(-4).toLowerCase()===P;I.getShapefile=async function(M,P){if(typeof M!="string")return I.parseZip(M);if(A(M,".zip"))return c(M,P);const l=await i.all([f(M),m(M)]);return I.combine(l)},I.parseShp=function(M,P){if(M=p(M),T.isBuffer(P)&&(P=P.toString()),typeof P=="string")try{P=u(P)}catch{P=!1}return h(M,P)},I.parseDbf=function(M,P){return M=p(M),o(M,P)},G.exports=I},486673:function(G){"use strict";function C(h){let o=0,i=1;const s=h.length;let T,v;for(;i<s;)T=v||h[0],v=h[i],o+=(v[0]-T[0])*(v[1]+T[1]),i++;return o>0}function t(h,o){return C(o)||!h.length?h.push([o]):h[h.length-1].push(o),h}d.prototype.parsePoint=function(h){return{type:"Point",coordinates:this.parseCoord(h,0)}},d.prototype.parseZPoint=function(h){const o=this.parsePoint(h);return o.coordinates.push(h.readDoubleLE(16)),o},d.prototype.parsePointArray=function(h,o,i){const s=[];let T=0;for(;T<i;)s.push(this.parseCoord(h,o)),o+=16,T++;return s},d.prototype.parseZPointArray=function(h,o,i,s){let T=0;for(;T<i;)s[T].push(h.readDoubleLE(o)),T++,o+=8;return s},d.prototype.parseArrayGroup=function(h,o,i,s,T){const v=[];let S=0,p,I=0,c;for(;S<s;)S++,i+=4,p=I,S===s?I=T:I=h.readInt32LE(i),c=I-p,c&&(v.push(this.parsePointArray(h,o,c)),o+=c<<4);return v},d.prototype.parseZArrayGroup=function(h,o,i,s){let T=0;for(;T<i;)s[T]=this.parseZPointArray(h,o,s[T].length,s[T]),o+=s[T].length<<3,T++;return s},d.prototype.parseMultiPoint=function(h){const o={},i=this.parseCoord(h,0),s=this.parseCoord(h,16);o.bbox=[i[0],i[1],s[0],s[1]];const T=h.readInt32LE(32,!0),v=36;return T===1?(o.type="Point",o.coordinates=this.parseCoord(h,v)):(o.type="MultiPoint",o.coordinates=this.parsePointArray(h,v,T)),o},d.prototype.parseZMultiPoint=function(h){const o=this.parseMultiPoint(h);let i;if(o.type==="Point")return o.coordinates.push(h.readDoubleLE(72)),o;i=o.coordinates.length;const s=52+(i<<4);return o.coordinates=this.parseZPointArray(h,s,i,o.coordinates),o},d.prototype.parsePolyline=function(h){const o={},i=this.parseCoord(h,0),s=this.parseCoord(h,16);o.bbox=[i[0],i[1],s[0],s[1]];const T=h.readInt32LE(32),v=h.readInt32LE(36);let S,p;return T===1?(o.type="LineString",S=44,o.coordinates=this.parsePointArray(h,S,v)):(o.type="MultiLineString",S=40+(T<<2),p=40,o.coordinates=this.parseArrayGroup(h,S,p,T,v)),o},d.prototype.parseZPolyline=function(h){const o=this.parsePolyline(h),i=o.coordinates.length;let s;return o.type==="LineString"?(s=60+(i<<4),o.coordinates=this.parseZPointArray(h,s,i,o.coordinates),o):(s=56+(o.coordinates.reduce(function(v,S){return v+S.length},0)<<4)+(i<<2),o.coordinates=this.parseZArrayGroup(h,s,i,o.coordinates),o)},d.prototype.polyFuncs=function(h){return h.type==="LineString"?(h.type="Polygon",h.coordinates=[h.coordinates],h):(h.coordinates=h.coordinates.reduce(t,[]),h.coordinates.length===1?(h.type="Polygon",h.coordinates=h.coordinates[0],h):(h.type="MultiPolygon",h))},d.prototype.parsePolygon=function(h){return this.polyFuncs(this.parsePolyline(h))},d.prototype.parseZPolygon=function(h){return this.polyFuncs(this.parseZPolyline(h))};const u={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function g(h){return h?function(o,i){return h.inverse([o.readDoubleLE(i),o.readDoubleLE(i+8)])}:function(o,i){return[o.readDoubleLE(i),o.readDoubleLE(i+8)]}}function d(h,o){if(!(this instanceof d))return new d(h,o);this.buffer=h,this.headers=this.parseHeader(),this.headers.length<this.buffer.byteLength&&(this.buffer=this.buffer.slice(0,this.headers.length)),this.shpFuncs(o),this.rows=this.getRows()}d.prototype.shpFuncs=function(h){let o=this.headers.shpCode;if(o>20&&(o-=20),!(o in u))throw new Error("I don't know that shp type");this.parseFunc=this[u[o]],this.parseCoord=g(h)},d.prototype.getShpCode=function(){return this.parseHeader().shpCode},d.prototype.parseHeader=function(){const h=this.buffer.slice(0,100);return{length:h.readInt32BE(24)<<1,version:h.readInt32LE(28),shpCode:h.readInt32LE(32),bbox:[h.readDoubleLE(36),h.readDoubleLE(44),h.readDoubleLE(52),h.readDoubleLE(52)]}},d.prototype.getRows=function(){let h=100;const o=this.buffer.byteLength,i=[];let s;for(;h<o&&(s=this.getRow(h),!!s);)h+=8,h+=s.len,s.type?i.push(this.parseFunc(s.data)):i.push(null);return i},d.prototype.getRow=function(h){const o=this.buffer.slice(h,h+12),i=o.readInt32BE(4)<<1,s=o.readInt32BE(0);return i===0?{id:s,len:i,type:0}:{id:s,len:i,data:this.buffer.slice(h+12,h+i+8),type:o.readInt32LE(8)}},G.exports=function(h,o){return new d(h,o).rows}},315850:function(G,C,t){"use strict";const u=t(629597);G.exports=async g=>{const d=new u;await d.loadAsync(g);const h=d.file(/.+/),o={};return await Promise.all(h.map(async i=>{let s;i.name.slice(-3).toLowerCase()==="shp"||i.name.slice(-3).toLowerCase()==="dbf"?s=await i.async("nodebuffer"):s=await i.async("text"),o[i.name]=s})),o}},77332:function(G,C,t){G.exports=t(634785)},634785:function(G,C,t){var u=t(149500);(function(g){"use strict";G.exports&&!g["encoding-indexes"]&&t(714653);function d(R,Z,X){return Z<=R&&R<=X}function h(R,Z){return R.indexOf(Z)!==-1}var o=Math.floor;function i(R){if(R===void 0)return{};if(R===Object(R))return R;throw TypeError("Could not convert argument to dictionary")}function s(R){for(var Z=String(R),X=Z.length,U=0,J=[];U<X;){var Y=Z.charCodeAt(U);if(Y<55296||Y>57343)J.push(Y);else if(56320<=Y&&Y<=57343)J.push(65533);else if(55296<=Y&&Y<=56319)if(U===X-1)J.push(65533);else{var vt=Z.charCodeAt(U+1);if(56320<=vt&&vt<=57343){var dt=Y&1023,Mt=vt&1023;J.push(65536+(dt<<10)+Mt),U+=1}else J.push(65533)}U+=1}return J}function T(R){for(var Z="",X=0;X<R.length;++X){var U=R[X];U<=65535?Z+=String.fromCharCode(U):(U-=65536,Z+=String.fromCharCode((U>>10)+55296,(U&1023)+56320))}return Z}function v(R){return 0<=R&&R<=127}var S=v,p=-1;function I(R){this.tokens=[].slice.call(R),this.tokens.reverse()}I.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():p},prepend:function(R){if(Array.isArray(R))for(var Z=R;Z.length;)this.tokens.push(Z.pop());else this.tokens.push(R)},push:function(R){if(Array.isArray(R))for(var Z=R;Z.length;)this.tokens.unshift(Z.shift());else this.tokens.unshift(R)}};var c=-1;function f(R,Z){if(R)throw TypeError("Decoder error");return Z||65533}function m(R){throw TypeError("The code point "+R+" could not be encoded.")}function A(){}A.prototype={handler:function(R,Z){}};function M(){}M.prototype={handler:function(R,Z){}};function P(R){return R=String(R).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(y,R)?y[R]:null}var l=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],y={};l.forEach(function(R){R.encodings.forEach(function(Z){Z.labels.forEach(function(X){y[X]=Z})})});var r={},x={};function B(R,Z){return Z&&Z[R]||null}function N(R,Z){var X=Z.indexOf(R);return X===-1?null:X}function b(R){if(!("encoding-indexes"in g))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return g["encoding-indexes"][R]}function at(R){if(R>39419&&R<189e3||R>1237575)return null;if(R===7457)return 59335;var Z=0,X=0,U=b("gb18030-ranges"),J;for(J=0;J<U.length;++J){var Y=U[J];if(Y[0]<=R)Z=Y[0],X=Y[1];else break}return X+R-Z}function st(R){if(R===59335)return 7457;var Z=0,X=0,U=b("gb18030-ranges"),J;for(J=0;J<U.length;++J){var Y=U[J];if(Y[1]<=R)Z=Y[1],X=Y[0];else break}return X+R-Z}function K(R){yt=yt||b("jis0208").map(function(X,U){return d(U,8272,8835)?null:X});var Z=yt;return Z.indexOf(R)}var yt;function tt(R){lt=lt||b("big5").map(function(X,U){return U<(161-129)*157?null:X});var Z=lt;return R===9552||R===9566||R===9569||R===9578||R===21313||R===21317?Z.lastIndexOf(R):N(R,Z)}var lt,ct="utf-8";function nt(R,Z){if(!(this instanceof nt))throw TypeError("Called as a function. Did you forget 'new'?");R=R!==void 0?String(R):ct,Z=i(Z),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var X=P(R);if(X===null||X.name==="replacement")throw RangeError("Unknown encoding: "+R);if(!x[X.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var U=this;return U._encoding=X,Z.fatal&&(U._error_mode="fatal"),Z.ignoreBOM&&(U._ignoreBOM=!0),Object.defineProperty||(this.encoding=U._encoding.name.toLowerCase(),this.fatal=U._error_mode==="fatal",this.ignoreBOM=U._ignoreBOM),U}Object.defineProperty&&(Object.defineProperty(nt.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(nt.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(nt.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),nt.prototype.decode=function(Z,X){var U;typeof Z=="object"&&Z instanceof ArrayBuffer?U=new Uint8Array(Z):typeof Z=="object"&&"buffer"in Z&&Z.buffer instanceof ArrayBuffer?U=new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength):U=new Uint8Array(0),X=i(X),this._do_not_flush||(this._decoder=x[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!X.stream;for(var J=new I(U),Y=[],vt;;){var dt=J.read();if(dt===p||(vt=this._decoder.handler(J,dt),vt===c))break;vt!==null&&(Array.isArray(vt)?Y.push.apply(Y,vt):Y.push(vt))}if(!this._do_not_flush){do{if(vt=this._decoder.handler(J,J.read()),vt===c)break;vt!==null&&(Array.isArray(vt)?Y.push.apply(Y,vt):Y.push(vt))}while(!J.endOfStream());this._decoder=null}function Mt(H){return h(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(H.length>0&&H[0]===65279?(this._BOMseen=!0,H.shift()):H.length>0&&(this._BOMseen=!0)),T(H)}return Mt.call(this,Y)};function gt(R,Z){if(!(this instanceof gt))throw TypeError("Called as a function. Did you forget 'new'?");Z=i(Z),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Z.fatal?"fatal":"replacement";var X=this;if(Z.NONSTANDARD_allowLegacyEncoding){R=R!==void 0?String(R):ct;var U=P(R);if(U===null||U.name==="replacement")throw RangeError("Unknown encoding: "+R);if(!r[U.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");X._encoding=U}else X._encoding=P("utf-8"),R!==void 0&&"console"in g&&u.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=X._encoding.name.toLowerCase()),X}Object.defineProperty&&Object.defineProperty(gt.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),gt.prototype.encode=function(Z,X){Z=Z===void 0?"":String(Z),X=i(X),this._do_not_flush||(this._encoder=r[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!X.stream;for(var U=new I(s(Z)),J=[],Y;;){var vt=U.read();if(vt===p||(Y=this._encoder.handler(U,vt),Y===c))break;Array.isArray(Y)?J.push.apply(J,Y):J.push(Y)}if(!this._do_not_flush){for(;Y=this._encoder.handler(U,U.read()),Y!==c;)Array.isArray(Y)?J.push.apply(J,Y):J.push(Y);this._encoder=null}return new Uint8Array(J)};function Pt(R){var Z=R.fatal,X=0,U=0,J=0,Y=128,vt=191;this.handler=function(dt,Mt){if(Mt===p&&J!==0)return J=0,f(Z);if(Mt===p)return c;if(J===0){if(d(Mt,0,127))return Mt;if(d(Mt,194,223))J=1,X=Mt&31;else if(d(Mt,224,239))Mt===224&&(Y=160),Mt===237&&(vt=159),J=2,X=Mt&15;else if(d(Mt,240,244))Mt===240&&(Y=144),Mt===244&&(vt=143),J=3,X=Mt&7;else return f(Z);return null}if(!d(Mt,Y,vt))return X=J=U=0,Y=128,vt=191,dt.prepend(Mt),f(Z);if(Y=128,vt=191,X=X<<6|Mt&63,U+=1,U!==J)return null;var H=X;return X=J=U=0,H}}function ft(R){var Z=R.fatal;this.handler=function(X,U){if(U===p)return c;if(S(U))return U;var J,Y;d(U,128,2047)?(J=1,Y=192):d(U,2048,65535)?(J=2,Y=224):d(U,65536,1114111)&&(J=3,Y=240);for(var vt=[(U>>6*J)+Y];J>0;){var dt=U>>6*(J-1);vt.push(128|dt&63),J-=1}return vt}}r["UTF-8"]=function(R){return new ft(R)},x["UTF-8"]=function(R){return new Pt(R)};function St(R,Z){var X=Z.fatal;this.handler=function(U,J){if(J===p)return c;if(v(J))return J;var Y=R[J-128];return Y===null?f(X):Y}}function At(R,Z){var X=Z.fatal;this.handler=function(U,J){if(J===p)return c;if(S(J))return J;var Y=N(J,R);return Y===null&&m(J),Y+128}}(function(){"encoding-indexes"in g&&l.forEach(function(R){R.heading==="Legacy single-byte encodings"&&R.encodings.forEach(function(Z){var X=Z.name,U=b(X.toLowerCase());x[X]=function(J){return new St(U,J)},r[X]=function(J){return new At(U,J)}})})})(),x.GBK=function(R){return new Et(R)},r.GBK=function(R){return new Tt(R,!0)};function Et(R){var Z=R.fatal,X=0,U=0,J=0;this.handler=function(Y,vt){if(vt===p&&X===0&&U===0&&J===0)return c;vt===p&&(X!==0||U!==0||J!==0)&&(X=0,U=0,J=0,f(Z));var dt;if(J!==0){dt=null,d(vt,48,57)&&(dt=at((((X-129)*10+U-48)*126+J-129)*10+vt-48));var Mt=[U,J,vt];return X=0,U=0,J=0,dt===null?(Y.prepend(Mt),f(Z)):dt}if(U!==0)return d(vt,129,254)?(J=vt,null):(Y.prepend([U,vt]),X=0,U=0,f(Z));if(X!==0){if(d(vt,48,57))return U=vt,null;var H=X,wt=null;X=0;var jt=vt<127?64:65;return(d(vt,64,126)||d(vt,128,254))&&(wt=(H-129)*190+(vt-jt)),dt=wt===null?null:B(wt,b("gb18030")),dt===null&&v(vt)&&Y.prepend(vt),dt===null?f(Z):dt}return v(vt)?vt:vt===128?8364:d(vt,129,254)?(X=vt,null):f(Z)}}function Tt(R,Z){var X=R.fatal;this.handler=function(U,J){if(J===p)return c;if(S(J))return J;if(J===58853)return m(J);if(Z&&J===8364)return 128;var Y=N(J,b("gb18030"));if(Y!==null){var vt=o(Y/190)+129,dt=Y%190,Mt=dt<63?64:65;return[vt,dt+Mt]}if(Z)return m(J);Y=st(J);var H=o(Y/10/126/10);Y=Y-H*10*126*10;var wt=o(Y/10/126);Y=Y-wt*10*126;var jt=o(Y/10),zt=Y-jt*10;return[H+129,wt+48,jt+129,zt+48]}}r.gb18030=function(R){return new Tt(R)},x.gb18030=function(R){return new Et(R)};function _(R){var Z=R.fatal,X=0;this.handler=function(U,J){if(J===p&&X!==0)return X=0,f(Z);if(J===p&&X===0)return c;if(X!==0){var Y=X,vt=null;X=0;var dt=J<127?64:98;switch((d(J,64,126)||d(J,161,254))&&(vt=(Y-129)*157+(J-dt)),vt){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var Mt=vt===null?null:B(vt,b("big5"));return Mt===null&&v(J)&&U.prepend(J),Mt===null?f(Z):Mt}return v(J)?J:d(J,129,254)?(X=J,null):f(Z)}}function rt(R){var Z=R.fatal;this.handler=function(X,U){if(U===p)return c;if(S(U))return U;var J=tt(U);if(J===null)return m(U);var Y=o(J/157)+129;if(Y<161)return m(U);var vt=J%157,dt=vt<63?64:98;return[Y,vt+dt]}}r.Big5=function(R){return new rt(R)},x.Big5=function(R){return new _(R)};function Q(R){var Z=R.fatal,X=!1,U=0;this.handler=function(J,Y){if(Y===p&&U!==0)return U=0,f(Z);if(Y===p&&U===0)return c;if(U===142&&d(Y,161,223))return U=0,65377-161+Y;if(U===143&&d(Y,161,254))return X=!0,U=Y,null;if(U!==0){var vt=U;U=0;var dt=null;return d(vt,161,254)&&d(Y,161,254)&&(dt=B((vt-161)*94+(Y-161),b(X?"jis0212":"jis0208"))),X=!1,d(Y,161,254)||J.prepend(Y),dt===null?f(Z):dt}return v(Y)?Y:Y===142||Y===143||d(Y,161,254)?(U=Y,null):f(Z)}}function et(R){var Z=R.fatal;this.handler=function(X,U){if(U===p)return c;if(S(U))return U;if(U===165)return 92;if(U===8254)return 126;if(d(U,65377,65439))return[142,U-65377+161];U===8722&&(U=65293);var J=N(U,b("jis0208"));if(J===null)return m(U);var Y=o(J/94)+161,vt=J%94+161;return[Y,vt]}}r["EUC-JP"]=function(R){return new et(R)},x["EUC-JP"]=function(R){return new Q(R)};function xt(R){var Z=R.fatal,X={ASCII:0,Roman:1,Katakana:2,LeadByte:3,TrailByte:4,EscapeStart:5,Escape:6},U=X.ASCII,J=X.ASCII,Y=0,vt=!1;this.handler=function(dt,Mt){switch(U){default:case X.ASCII:return Mt===27?(U=X.EscapeStart,null):d(Mt,0,127)&&Mt!==14&&Mt!==15&&Mt!==27?(vt=!1,Mt):Mt===p?c:(vt=!1,f(Z));case X.Roman:return Mt===27?(U=X.EscapeStart,null):Mt===92?(vt=!1,165):Mt===126?(vt=!1,8254):d(Mt,0,127)&&Mt!==14&&Mt!==15&&Mt!==27&&Mt!==92&&Mt!==126?(vt=!1,Mt):Mt===p?c:(vt=!1,f(Z));case X.Katakana:return Mt===27?(U=X.EscapeStart,null):d(Mt,33,95)?(vt=!1,65377-33+Mt):Mt===p?c:(vt=!1,f(Z));case X.LeadByte:return Mt===27?(U=X.EscapeStart,null):d(Mt,33,126)?(vt=!1,Y=Mt,U=X.TrailByte,null):Mt===p?c:(vt=!1,f(Z));case X.TrailByte:if(Mt===27)return U=X.EscapeStart,f(Z);if(d(Mt,33,126)){U=X.LeadByte;var H=(Y-33)*94+Mt-33,wt=B(H,b("jis0208"));return wt===null?f(Z):wt}return Mt===p?(U=X.LeadByte,dt.prepend(Mt),f(Z)):(U=X.LeadByte,f(Z));case X.EscapeStart:return Mt===36||Mt===40?(Y=Mt,U=X.Escape,null):(dt.prepend(Mt),vt=!1,U=J,f(Z));case X.Escape:var jt=Y;Y=0;var zt=null;if(jt===40&&Mt===66&&(zt=X.ASCII),jt===40&&Mt===74&&(zt=X.Roman),jt===40&&Mt===73&&(zt=X.Katakana),jt===36&&(Mt===64||Mt===66)&&(zt=X.LeadByte),zt!==null){U=U=zt;var $t=vt;return vt=!0,$t?f(Z):null}return dt.prepend([jt,Mt]),vt=!1,U=J,f(Z)}}}function ut(R){var Z=R.fatal,X={ASCII:0,Roman:1,jis0208:2},U=X.ASCII;this.handler=function(J,Y){if(Y===p&&U!==X.ASCII)return J.prepend(Y),U=X.ASCII,[27,40,66];if(Y===p&&U===X.ASCII)return c;if((U===X.ASCII||U===X.Roman)&&(Y===14||Y===15||Y===27))return m(65533);if(U===X.ASCII&&S(Y))return Y;if(U===X.Roman&&(S(Y)&&Y!==92&&Y!==126||Y==165||Y==8254)){if(S(Y))return Y;if(Y===165)return 92;if(Y===8254)return 126}if(S(Y)&&U!==X.ASCII)return J.prepend(Y),U=X.ASCII,[27,40,66];if((Y===165||Y===8254)&&U!==X.Roman)return J.prepend(Y),U=X.Roman,[27,40,74];Y===8722&&(Y=65293);var vt=N(Y,b("jis0208"));if(vt===null)return m(Y);if(U!==X.jis0208)return J.prepend(Y),U=X.jis0208,[27,36,66];var dt=o(vt/94)+33,Mt=vt%94+33;return[dt,Mt]}}r["ISO-2022-JP"]=function(R){return new ut(R)},x["ISO-2022-JP"]=function(R){return new xt(R)};function it(R){var Z=R.fatal,X=0;this.handler=function(U,J){if(J===p&&X!==0)return X=0,f(Z);if(J===p&&X===0)return c;if(X!==0){var Y=X,vt=null;X=0;var dt=J<127?64:65,Mt=Y<160?129:193;if((d(J,64,126)||d(J,128,252))&&(vt=(Y-Mt)*188+J-dt),d(vt,8836,10715))return 57344-8836+vt;var H=vt===null?null:B(vt,b("jis0208"));return H===null&&v(J)&&U.prepend(J),H===null?f(Z):H}return v(J)||J===128?J:d(J,161,223)?65377-161+J:d(J,129,159)||d(J,224,252)?(X=J,null):f(Z)}}function z(R){var Z=R.fatal;this.handler=function(X,U){if(U===p)return c;if(S(U)||U===128)return U;if(U===165)return 92;if(U===8254)return 126;if(d(U,65377,65439))return U-65377+161;U===8722&&(U=65293);var J=K(U);if(J===null)return m(U);var Y=o(J/188),vt=Y<31?129:193,dt=J%188,Mt=dt<63?64:65;return[Y+vt,dt+Mt]}}r.Shift_JIS=function(R){return new z(R)},x.Shift_JIS=function(R){return new it(R)};function D(R){var Z=R.fatal,X=0;this.handler=function(U,J){if(J===p&&X!==0)return X=0,f(Z);if(J===p&&X===0)return c;if(X!==0){var Y=X,vt=null;X=0,d(J,65,254)&&(vt=(Y-129)*190+(J-65));var dt=vt===null?null:B(vt,b("euc-kr"));return vt===null&&v(J)&&U.prepend(J),dt===null?f(Z):dt}return v(J)?J:d(J,129,254)?(X=J,null):f(Z)}}function L(R){var Z=R.fatal;this.handler=function(X,U){if(U===p)return c;if(S(U))return U;var J=N(U,b("euc-kr"));if(J===null)return m(U);var Y=o(J/190)+129,vt=J%190+65;return[Y,vt]}}r["EUC-KR"]=function(R){return new L(R)},x["EUC-KR"]=function(R){return new D(R)};function V(R,Z){var X=R>>8,U=R&255;return Z?[X,U]:[U,X]}function k(R,Z){var X=Z.fatal,U=null,J=null;this.handler=function(Y,vt){if(vt===p&&(U!==null||J!==null))return f(X);if(vt===p&&U===null&&J===null)return c;if(U===null)return U=vt,null;var dt;if(R?dt=(U<<8)+vt:dt=(vt<<8)+U,U=null,J!==null){var Mt=J;return J=null,d(dt,56320,57343)?65536+(Mt-55296)*1024+(dt-56320):(Y.prepend(V(dt,R)),f(X))}return d(dt,55296,56319)?(J=dt,null):d(dt,56320,57343)?f(X):dt}}function $(R,Z){var X=Z.fatal;this.handler=function(U,J){if(J===p)return c;if(d(J,0,65535))return V(J,R);var Y=V((J-65536>>10)+55296,R),vt=V((J-65536&1023)+56320,R);return Y.concat(vt)}}r["UTF-16BE"]=function(R){return new $(!0,R)},x["UTF-16BE"]=function(R){return new k(!0,R)},r["UTF-16LE"]=function(R){return new $(!1,R)},x["UTF-16LE"]=function(R){return new k(!1,R)};function ht(R){var Z=R.fatal;this.handler=function(X,U){return U===p?c:v(U)?U:63360+U-128}}function q(R){var Z=R.fatal;this.handler=function(X,U){return U===p?c:S(U)?U:d(U,63360,63487)?U-63360+128:m(U)}}r["x-user-defined"]=function(R){return new q(R)},x["x-user-defined"]=function(R){return new ht(R)},g.TextEncoder||(g.TextEncoder=gt),g.TextDecoder||(g.TextDecoder=nt),G.exports&&(G.exports={TextEncoder:g.TextEncoder,TextDecoder:g.TextDecoder,EncodingIndexes:g["encoding-indexes"]})})(this||{})},413890:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(326541)),d=u(t(828866)),h=u(t(638006)),o=u(t(342579)),i=u(t(122777)),s=u(t(42762)),T=u(t(202692)),v=function(){function p(I){(0,i.default)(this,p),this.interactions=[],this.map=I,this.currentInteraction={}}return(0,s.default)(p,[{key:"openInteraction",value:function(c,f,m){var A,M=this;this.currentInteraction=void 0;var P=(0,g.default)(A=this.interactions).call(A,function(l){return(0,o.default)(this,M),l.name===c}.bind(this));return P<0&&this.addInteraction(f),this.interactions.forEach(function(l){(0,o.default)(this,M),l.name===c?this.currentInteraction=l:l.setActive(![])}.bind(this)),this.currentInteraction&&!this.currentInteraction.active&&(m?this.currentInteraction.setActive(!![],m):this.currentInteraction.setActive(!![],f),(0,T.default)((0,d.default)(this).getViewport()).on("pointerdown",this.mapMouseEvent.bind(this))),this.currentInteraction}},{key:"closeInteraction",value:function(){var c=this;this.currentInteraction=void 0,this.interactions.forEach(function(f){(0,o.default)(this,c),f.setActive(![])}.bind(this))}},{key:"addInteraction",value:function(c){this.interactions.push(c)}},{key:"mapMouseEvent",value:function(c){var f=c.button;f===2&&this.currentInteraction.setActive(![])}},{key:"getInteractionByName",value:function(c){for(var f=0,m=this.interactions.length;f<m;f++)if(this.interactions[f].name===c)return this.interactions[f]}}],[{key:"getInstance",value:function(c){!p.instanceMap&&(p.instanceMap=new h.default);var f=c.mapid;if(!p.instanceMap.get(f)){var m=new p(c);p.instanceMap.set(f,m)}return p.instanceMap.get(f)}}]),p}(),S=v;C.default=S},391968:function(G,C,t){"use strict";var u=t(149500),g=t(452909),d=t(520314),h=t(426352),o=t(230551),i=t(43586),s=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var T=s(t(828866)),v=s(t(578756)),S=s(t(985208)),p=s(t(35700)),I=s(t(196802)),c=s(t(342579)),f=s(t(122777)),m=s(t(42762)),A=t(972233),M=t(17527),P=t(365094),l=t(397054),y=t(867040),r=s(t(860031)),x=s(t(233964)),B=s(t(463206)),N=s(t(383266)),b=s(t(966016)),at=t(296529),st=t(830149),K=t(221401),yt=s(t(726988)),tt=t(692086),lt=s(t(991488)),ct=t(481534),nt=t(242584),gt=t(542422),Pt=s(t(217655)),ft=s(t(835569)),St=s(t(515126)),At=s(t(124758)),Et=s(t(377597)),Tt=s(t(695459)),_=t(197149),rt=s(t(853071)),Q=s(t(42553)),et=s(t(873925)),xt=s(t(920736)),ut=s(t(23032)),it=s(t(93235)),z=t(972233),D=s(t(367625)),L=s(t(919112)),V=s(t(849917)),k=s(t(839600)),$=s(t(18094)),ht=s(t(683841)),q=s(t(978221)),R=s(t(297152)),Z=s(t(588095));function X(dt,Mt){var H=typeof o<"u"&&i(dt)||dt["@@iterator"];if(!H){if(Array.isArray(dt)||(H=U(dt))||Mt&&dt&&typeof dt.length=="number"){H&&(dt=H);var wt=0,jt=function(){};return{s:jt,n:function(){return wt>=dt.length?{done:!![]}:{done:![],value:dt[wt++]}},e:function(te){throw te},f:jt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zt=!![],$t=![],Jt;return{s:function(){H=H.call(dt)},n:function(){var te=H.next();return zt=te.done,te},e:function(te){$t=!![],Jt=te},f:function(){try{!zt&&H.return!=null&&H.return()}finally{if($t)throw Jt}}}}function U(dt,Mt){var H;if(dt){if(typeof dt=="string")return J(dt,Mt);var wt=d(H=Object.prototype.toString.call(dt)).call(H,8,-1);if(wt==="Object"&&dt.constructor&&(wt=dt.constructor.name),wt==="Map"||wt==="Set")return h(dt);if(wt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wt))return J(dt,Mt)}}function J(dt,Mt){(Mt==null||Mt>dt.length)&&(Mt=dt.length);for(var H=0,wt=new Array(Mt);H<Mt;H++)wt[H]=dt[H];return wt}var Y=function(){function dt(Mt){(0,f.default)(this,dt),this.map=Mt}return(0,m.default)(dt,[{key:"generate",value:function(H,wt){var jt,zt=this;return H.type==="tiled"?new R.default(H,wt):H.type==="geoserver-vectorTiled"?new Tt.default((0,T.default)(this),H,wt):H.type==="geoway_tile"?new Z.default((0,T.default)(this),H,wt):H.type==="tms"?this.createGeoServerTMSLayer(H,wt):H.type==="wms"?new St.default(H,wt):H.type==="geoserver-wms"?new St.default(H,wt):H.type==="tdt"?this.createTDTLayer(H,wt):H.type==="ckytdt"?new rt.default().generate(H):H.type==="tdt-sd"?new L.default(H,wt):H.type==="dynamic"?new ft.default(H,wt):H.type==="feature"?new it.default((0,T.default)(this),H,wt):H.type==="feature-zj"?new At.default((0,T.default)(this)).generate(H,wt):H.type==="geoserver-wfs"?new D.default((0,T.default)(this),H,wt):H.type==="geoserver-wmts"?new Et.default((0,T.default)(this),H,wt):H.type==="wmts"||H.type==="arcgis-wmts"?this.createArcGISWMTSLayer(H,wt):H.type==="vectorTiled"?new ut.default((0,T.default)(this),H,wt):H.type==="feature-pbf"?new xt.default((0,T.default)(this),H,wt):H.type==="arcgis-wfs"||H.type==="wfs"?this.createArcGISWFSLayer(H,wt):H.type==="gaode"?new $.default((0,T.default)(this),H):H.type==="baidu"?new ht.default((0,T.default)(this),H):H.type==="baidu_vector"?this.createBaiDuVectorLayer(H):H.type==="baidu_image"?this.createBaiDuImageLayer(H):H.type==="baidu_road"?this.createBaiDuRoadLayer(H):H.type==="offline"?new Q.default(H):((jt=H.type)===null||jt===void 0?void 0:jt.toLowerCase())==="geojson"?new k.default((0,T.default)(this),H,wt):H.type==="arcgis-wmts-gd"?new et.default(H,wt):H.type==="xyz"?new M.Tile({id:H.id,info:H,layerTag:H.layerTag,opacity:H.opacity,zIndex:H.mapIndex,isFit:typeof H.isFit=="boolean"?H.isFit:![],source:new P.XYZ({zDirection:H.zDirection,crossOrigin:"anonymous",url:H.url})}):new v.default(function($t,Jt){(0,c.default)(this,zt),Jt(new Error('\u56FE\u5C42"'+H.label+'"\u52A0\u8F7D\u5931\u8D25,\u6CA1\u6709\u5339\u914D\u7684\u7C7B\u578B!'))}.bind(this))}},{key:"createGeoServerTMSLayer",value:function(H,wt){var jt=(0,y.appendPath)(H.url,wt.extUrl);H.authkey&&(jt=(0,y.addParamToUrl)(jt,"authkey",H.authkey));var zt=new M.Tile({id:H.id,info:H,layerTag:H.layerTag,opacity:H.opacity,zIndex:H.mapIndex,initExtent:wt.initExtent,minResolution:H.minResolution,maxResolution:H.maxResolution?H.maxResolution:wt.resolutions[0]*2,isFit:typeof H.isFit=="boolean"?H.isFit:![],source:new P.XYZ({crossOrigin:"anonymous",declutter:!![],url:jt})});return zt}},{key:"createGeoServerVectorTileLayer",value:function(H,wt){this.idProp=H.idProp,(0,ct.registerProj)(wt.projCode);var jt=H.url+wt.extUrl;H.authkey&&(jt=(0,y.addParamToUrl)(jt,"authkey",H.authkey));var zt=new x.default({id:H.id,info:H,layerTag:H.layerTag,opacity:H.opacity,zIndex:H.mapIndex,initExtent:wt.initExtent,minResolution:H.minResolution,maxResolution:H.maxResolution?H.maxResolution:wt.resolutions[0]*2,isFit:typeof H.isFit=="boolean"?H.isFit:![],declutter:!![],source:new B.default({projection:wt.projCode,crossOrigin:"anonymous",format:new yt.default,tileGrid:new N.default({extent:wt.extent,origin:wt.origin,resolutions:wt.resolutions,tileSize:wt.tileSize}),url:jt})});return zt}},{key:"createTDTLayer",value:function(H,wt){var jt=this,zt=(0,_.replaceWktProj)(wt.CapabilitiesXml),$t=[],Jt=new r.default,Wt=Jt.read(zt),te=Wt.Contents.Layer,oe=g(gt)(te,function(Bt){return H.visibleLayers&&H.visibleLayers.length>0&&Bt.Identifier===H.visibleLayers[0]?H.visibleLayers[0]:H.name});$t=oe.WGS84BoundingBox;var ve=oe.Identifier,Ht=Wt.Contents.TileMatrixSet[0].SupportedCRS.replace("urn:ogc:def:crs:","").replace("::",":");(0,ct.registerProj)(Ht);var Dt;try{Dt=(0,l.optionsFromCapabilities)(Wt,{layer:ve,matrixSet:H.matrixSet,requestEncoding:"KVP"})}catch{try{var le=Wt.Contents.TileMatrixSet[0].Identifier;Dt=(0,l.optionsFromCapabilities)(Wt,{layer:ve,matrixSet:le,requestEncoding:"KVP"})}catch(Lt){throw u.error("\u56FE\u5C42"+H.label+"\u5207\u7247\u65B9\u6848\u6709\u8BEF:"+Lt),new Error("\u56FE\u5C42"+H.label+"\u5207\u7247\u65B9\u6848\u6709\u8BEF")}}Dt.crossOrigin="anonymous",Dt.wrapX=!![];for(var Me=0;Me<Dt.tileGrid.origins_.length;Me++)Dt.tileGrid.origins_[Me].reverse();if(Dt.urls[0]=H.url,H.isUseTdt){for(var Xt=[],Se=[],re=18,kt=0;kt<=re;++kt)Xt[kt]=(0,tt.getWidth)([-180,-90,180,90])/256/Math.pow(2,kt),Se[kt]=kt,Dt.tileGrid.origins_[kt]=[-180,90],Dt.tileGrid.tileSizes_[kt]=[256,256];Dt.tileGrid.extent_=$t,Dt.tileGrid.resolutions_=Xt,Dt.tileGrid.matrixIds_=Se,Dt.tileGrid.fullTileRanges_=[],Dt.tileGrid.maxZoom=re}else if(H.url.indexOf("?tk=")>-1){var ie=Math.floor(Math.random()*4);H.url=H.url.replace(/t[0-9]./,"t"+ie+".");for(var fe=[],qt=[],ue=18,ge=0;ge<=ue;++ge)fe[ge]=(0,tt.getWidth)($t)/Dt.tileGrid.tileSizes_[0]/Math.pow(2,ge),qt[ge]=ge,Dt.tileGrid.origins_[ge]=Dt.tileGrid.origins_[0],Dt.tileGrid.tileSizes_[ge]=Dt.tileGrid.tileSizes_[0];Dt.tileGrid.extent_=$t,Dt.tileGrid.resolutions_=fe,Dt.tileGrid.matrixIds_=qt,Dt.tileGrid.maxZoom=ue,Dt.urls[0]=H.url}else{var er=(0,_.getTdtTileGride)(Dt.projection.code_);Dt.tileGrid=er}H.authkey&&(Dt.urls[0]=(0,y.addParamToUrl)(Dt.urls[0],"authkey",H.authkey));var be=H.mapIndex?H.mapIndex:-1;if(be<0&&(be=H.zIndex?H.zIndex:-1),H.resolutions){var Ie=(0,S.default)(H.resolutions);if(Ie&&Ie.length>0){for(var Ce=Ie[0],Ke=Number(Ce),ze=H.resolutions[Ce]*Math.pow(2,Ke),Re=[],Ge=[],Ee=1;Ee<19;++Ee)Re[Ee]=ze/Math.pow(2,Ee),Ge[Ee]=Ee;Dt.tileGrid.resolutions_=Re,Dt.tileGrid.matrixIds_=Ge}}H.isOverLimt&&(Dt.tileGrid.fullTileRanges_=[]);var Ue=new V.default;(H.theme==="dark"||H.theme==="blue")&&(Dt.tileLoadFunction=function(Bt,Lt){var Gt=this;(0,c.default)(this,jt);var Ut=V.default[H.theme],Nt=new Image;Nt.crossOrigin="anonymous",Nt.src=Lt,Nt.width=256,Nt.height=256,Nt.onload=function(){(0,c.default)(this,Gt);var ye=Ue.filterImage(Ut,Nt);Bt.setImage(ye)}.bind(this)}.bind(this));var Pe=new M.Tile({id:H.id,info:H,layerTag:H.layerTag,opacity:1,initExtent:wt.initExtent,minResolution:H.minResolution,maxResolution:H.maxResolution,isFit:typeof H.isFit=="boolean"?H.isFit:![],source:new P.WMTS(Dt)});return be>-1&&Pe.setZIndex(be),Pe}},{key:"createArcGISWMTSLayer",value:function(H,wt){var jt=new r.default,zt=jt.read(wt.CapabilitiesXml),$t=zt.Contents.TileMatrixSet[0],Jt=$t.SupportedCRS.replace("urn:ogc:def:crs:","").replace("::",":");(0,ct.registerProj)(Jt);var Wt=wt.WMTSSourceOptions,te=(0,A.get)(Wt.projection.code_),oe=[];try{var ve=zt.Contents.Layer,Ht=g(gt)(ve,function(Xt){return H.visibleLayers&&H.visibleLayers.length>0&&Xt.Identifier===H.visibleLayers[0]?H.visibleLayers[0]:H.name});oe=(0,z.transformExtent)(Ht.WGS84BoundingBox,"EPSG:4326",Wt.projection.code_)}catch{oe=Wt.tileGrid.extent_}var Dt=Wt.tileGrid.origins_[0];H.origin?Dt=H.origin:Dt[0]===90&&Dt[1]===-180&&(Dt=[Dt[1],Dt[0]]);var le=new P.WMTS({urls:Wt.urls,requestEncoding:Wt.requestEncoding,layer:Wt.layer,tileLoadFunction:function(Se,re){var kt=(0,y.getUrlParams)(H.url);if(kt?.length>0){var ie=X(kt),fe;try{for(ie.s();!(fe=ie.n()).done;){var qt=fe.value;re=(0,y.addParamToUrl)(re,qt.name,qt.value)}}catch(ge){ie.e(ge)}finally{ie.f()}}var ue=re.indexOf("jsp?");ue!==-1&&re.indexOf("token")===-1&&re.indexOf("tk")===-1?Se.getImage().src=re.replace("&","?"):Se.getImage().src=re},matrixSet:Wt.matrixSet,format:Wt.format,projection:te,tileGrid:new b.default({origin:Dt,resolutions:H.resolutions?H.resolutions:Wt.tileGrid.resolutions_,matrixIds:H.matrixIds?H.matrixIds:Wt.tileGrid.matrixIds_,extent:oe}),style:Wt.style,wrapX:!![]}),Me=new M.Tile({id:H.id,info:H,layerTag:H.layerTag,opacity:H.opacity,zIndex:H.mapIndex,source:le,isFit:typeof H.isFit=="boolean"?H.isFit:![],initExtent:(0,z.transformExtent)(oe,te,"EPSG:4326")});return Me.projection=Jt,Me}},{key:"createArcGISWFSLayer",value:function(H,wt){var jt=this,zt=new M.Vector({id:H.id,info:H,layerTag:H.layerTag,opacity:H.opacity,zIndex:H.mapIndex,initExtent:wt.initExtent,minResolution:H.minResolution,maxResolution:H.maxResolution,isFit:typeof H.isFit=="boolean"?H.isFit:![],source:new P.Vector({format:new lt.default,url:function(Jt){return(0,c.default)(this,jt),H.url+"?service=WFS&version=1.1.0&request=GetFeature&typename="+H.visibleLayers+"&outputFormat=gml3&srsname="+(0,T.default)(this).getView().getProjection().getCode()+"&bbox="+Jt.join(",")}.bind(this),strategy:nt.bbox})});return this.styleManager=new q.default((0,T.default)(this)),this.styleManager.bindLayer(zt),zt}},{key:"createBaiDuLayer",value:function(){for(var H=[],wt=18,jt=0;jt<=wt+1;jt++)H[jt]=Math.pow(2,wt-jt);var zt=new N.default({origin:[0,0],resolutions:H}),$t=new Pt.default({tileGrid:zt,tileUrlFunction:function(te){var oe=te[0],ve=te[1],Ht=te[2];return ve<0&&(ve="M"+-ve),Ht<0&&(Ht="M"+-Ht),"http://online"+Number(Math.random()*10)+".map.bdimg.com/onlinelabel/?qt=tile&x="+ve+"&y="+Ht+"&z="+oe+"&styles=pl&udt=20170620&scaler=1&p=1"}}),Jt=new M.Tile({source:$t});return Jt}},{key:"scientificNotationToString",value:function(H){var wt=String(H),jt=/e/.test(wt);if(!jt)return H;var zt=!![];/e-/.test(wt)&&(zt=![]);var $t=Number(wt.match(/\d+$/)[0]),Jt=wt.match(/^[\d.]+/)[0].replace(/\./,"");return zt?(0,p.default)(Jt).call(Jt,$t+1,0):(0,I.default)(Jt).call(Jt,$t+Jt.length,0).replace(/^0/,"0.")}},{key:"createBaiDuVectorLayer",value:function(){var H=(0,at.BaiduVector)({});return H}},{key:"createBaiDuImageLayer",value:function(){var H=(0,st.BaiduImage)({});return H}},{key:"createBaiDuRoadLayer",value:function(){var H=(0,K.BaiduRoad)({});return H}}]),dt}(),vt=Y;C.default=vt},401865:function(G,C,t){"use strict";var u=t(149500),g=t(465557),d=t(520314),h=t(426352),o=t(230551),i=t(43586),s=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=C.LayerManagerEvent=void 0;var T=s(t(638006)),v=s(t(578756)),S=s(t(270515)),p=s(t(669033)),I=s(t(828866)),c=s(t(22466)),f=s(t(282793)),m=s(t(342579)),A=s(t(42762)),M=s(t(122777)),P=s(t(330044)),l=s(t(299085)),y=s(t(234009)),r=t(17527),x=s(t(233964)),B=s(t(391968)),N=t(972233),b=s(t(627482)),at=s(t(407165)),st=s(t(12207)),K=t(692086),yt=t(632002),tt=t(59269),lt=t(101117),ct=t(17527),nt=s(t(418187)),gt=s(t(173081));function Pt(et,xt){var ut=typeof o<"u"&&i(et)||et["@@iterator"];if(!ut){if(Array.isArray(et)||(ut=ft(et))||xt&&et&&typeof et.length=="number"){ut&&(et=ut);var it=0,z=function(){};return{s:z,n:function(){return it>=et.length?{done:!![]}:{done:![],value:et[it++]}},e:function($){throw $},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=!![],L=![],V;return{s:function(){ut=ut.call(et)},n:function(){var $=ut.next();return D=$.done,$},e:function($){L=!![],V=$},f:function(){try{!D&&ut.return!=null&&ut.return()}finally{if(L)throw V}}}}function ft(et,xt){var ut;if(et){if(typeof et=="string")return St(et,xt);var it=d(ut=Object.prototype.toString.call(et)).call(ut,8,-1);if(it==="Object"&&et.constructor&&(it=et.constructor.name),it==="Map"||it==="Set")return h(et);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return St(et,xt)}}function St(et,xt){(xt==null||xt>et.length)&&(xt=et.length);for(var ut=0,it=new Array(xt);ut<xt;ut++)it[ut]=et[ut];return it}function At(et){var xt=Et();return function(){var it=(0,y.default)(et),z;if(xt){var D=(0,y.default)(this).constructor;z=g(it,arguments,D)}else z=it.apply(this,arguments);return(0,l.default)(this,z)}}function Et(){if(typeof Reflect>"u"||!g)return![];if(g.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!![]}catch{return![]}}var Tt={BEFOREADDLAYER:"beforeAddLayer",AFTERADDLAYER:"afterAddLayer",BEFOREREMOVELAYER:"beforeRemoveLayer",AFTERREMOVELAYER:"afterRemoveLayer",ADDLAYERERROR:"addLayerError"},_=function(et){(0,P.default)(ut,et);var xt=At(ut);function ut(it,z,D){var L;return(0,M.default)(this,ut),L=xt.call(this,it),L.layer=z,L.payload=D,L}return(0,A.default)(ut)}(st.default);C.LayerManagerEvent=_;var rt=function(et){(0,P.default)(ut,et);var xt=At(ut);function ut(it){var z;return(0,M.default)(this,ut),z=xt.call(this),z.map=it,z.checkedLayers=[],z.isAutoTop=![],z.tocData=[],z.checkedLayers=[],z.dataMap=new T.default,z.promiseMap=new T.default,z.editLayer=void 0,z.layerContexts=[],z.layerGenerater=new B.default(it),z}return(0,A.default)(ut,[{key:"setMap",value:function(z){this.map=z}},{key:"getCheckedLayers",value:function(){return this.checkedLayers}},{key:"getEditLayer",value:function(){if(this.editLayer&&this.editLayer.metadata&&this.editLayer.metadata.editing)return this.editLayer}},{key:"setEditLayerById",value:function(z){var D=this.getLayerById(z.id);return D?(D.metadata=D.values_.info,this.getEditLayer()&&(this.getEditLayer().metadata.editing=![]),this.setEditLayer(D),D.metadata.editing=!![],!![]):![]}},{key:"setEditLayer",value:function(z){this.editLayer=z}},{key:"setTocData",value:function(z){this.tocData=z}},{key:"addLayer",value:function(z){var D=this;return this.beforeAddOperation&&(z=this.beforeAddOperation(z)),new v.default(function(L,V){var k=this;(0,m.default)(this,D),(0,gt.default)(z).then(function($){var ht=this;(0,m.default)(this,k),z._options=$;var q=(0,yt.cloneDeep)(z);if(z.isProxy){var R=q.proxyPath?q.proxyPath:"/gisqBI/api/gis/proxy?";q.url=(0,S.default)(R).call(R,"?")?R+q.url:R+"?"+q.url}var Z=this.layerGenerater.generate(q,$);Z instanceof v.default?Z.then(function(X){(0,m.default)(this,ht),this.addLayerToMap(X),L(X)}.bind(this)):(this.addLayerToMap(Z),L(Z))}.bind(this)).catch(function($){(0,m.default)(this,k),$.name==="DeveloperError"||$.stack.indexOf("earth-core")>-1||$.stack.indexOf("ImageryProvider")>-1?u.error("\u4E09\u7EF4",$):(u.error($),this.dispatchEvent(new _(Tt.ADDLAYERERROR,z,$)),this.removeCheckedLayers(z),V("\u52A0\u8F7D'".concat(z.label,"'\u56FE\u5C42\u670D\u52A1\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5730\u5740\u548C\u8FD0\u7EF4\u7AEF\u914D\u7F6E\u9879\u662F\u5426\u6B63\u786E\u3002")))}.bind(this))}.bind(this))}},{key:"addCheckedLayers",value:function(z){if(this.checkedLayers.length===0)this.checkedLayers.push(z);else{var D=Pt(this.checkedLayers),L;try{for(D.s();!(L=D.n()).done;){var V=L.value;if(V.id===z.id)return v.default.reject(new Error("\u5730\u56FE\u4E2D\u5DF2\u52A0\u8F7Did\u4E3A".concat(z.id,"\u56FE\u5C42")))}}catch(q){D.e(q)}finally{D.f()}for(var k=0,$=this.checkedLayers.length;k<$;k++){if(z.mapIndex>=this.checkedLayers[k].mapIndex){var ht;(0,p.default)(ht=this.checkedLayers).call(ht,k,0,z);break}k===this.checkedLayers.length-1&&this.checkedLayers.push(z)}}return this.addLayer(z)}},{key:"removeCheckedLayers",value:function(z){for(var D=this.getCheckedLayers(),L=0,V=D.length;L<V;L++)if(D[L].id===z.id){(0,p.default)(D).call(D,L,1),this.removeLayer(z);break}this.checkedLayers=D}},{key:"indexOfCheckedLayers",value:function(z){for(var D=this.getCheckedLayers(),L=0,V=D.length;L<V;L++)if(D[L].id===z.id)return L;return-1}},{key:"removeLayer",value:function(z){this.clearSelectFeaturesByTag(z.layerTag);var D=z.id?z.id:z.get("id"),L=this.getAllLayerById(D),V=Pt(L),k;try{for(V.s();!(k=V.n()).done;){var $=k.value;this.dispatchEvent(new _(Tt.BEFOREREMOVELAYER,$)),(0,I.default)(this).removeLayer($),this.dispatchEvent(new _(Tt.AFTERREMOVELAYER,$))}}catch(ht){V.e(ht)}finally{V.f()}}},{key:"addLayerToMap",value:function(z){var D=this;this.checkedLayers.some(function(L){return(0,m.default)(this,D),L.id===z.get("id")}.bind(this))&&((0,I.default)(this).mask&&z.addFilter((0,I.default)(this).mask),this.dispatchEvent(new _(Tt.BEFOREADDLAYER,z,z.values_.info)),(0,I.default)(this).addLayer(z),this.dispatchEvent(new _(Tt.AFTERADDLAYER,z,z.values_.info)),z.get("isFit")&&z.get("initExtent")&&this.fitToLayer(z),z.on("postrender",function(L){(0,m.default)(this,D),this.layerContexts.push(L)}.bind(this)),this.initFilter(z))}},{key:"initFilter",value:function(z){var D=this,L=(0,I.default)(this).get("params");z.getSource&&z.getSource().updateParams&&L&&(0,c.default)(L)&&(0,c.default)(L).forEach(function(V){(0,m.default)(this,D),z.values_.layerTag===V.layerTag&&z.getSource().updateParams({CQL_FILTER:V.where})}.bind(this))}},{key:"fitToLayer",value:function(z){if(!z.get("initExtent")){u.warn("\u8BE5\u56FE\u5C42\u4E0D\u5B58\u5728\u521D\u59CB\u8303\u56F4");return}if(z instanceof r.Tile||z instanceof x.default){var D=(0,N.transformExtent)(z.get("initExtent"),"EPSG:4326",(0,I.default)(this).getView().getProjection().getCode());(0,I.default)(this).getView().fit(D,(0,I.default)(this).getSize()),z.getMaxResolution()!==1/0&&(0,I.default)(this).getView().getResolutionForExtent(z.get("initExtent")>z.getMaxResolution()/2)&&(0,I.default)(this).getView().setResolution(z.getMaxResolution()/2)}else(0,I.default)(this).getView().fit((0,N.transformExtent)(z.get("initExtent"),"EPSG:4326",(0,I.default)(this).getView().getProjection().getCode()),(0,I.default)(this).getSize())}},{key:"setMinAndMaxZoom",value:function(z,D){if((0,I.default)(this).getView().getResolution()){var L=(0,I.default)(this).options?(0,I.default)(this).options.minZoom:![],V=(0,I.default)(this).options?(0,I.default)(this).options.maxZoom:![];(!L||(0,I.default)(this).getView().getMinZoom()>z)&&((0,I.default)(this).getView().getResolution()[z]===void 0&&(z=z+1),(0,I.default)(this).getView().setMinZoom(z)),(!V||(0,I.default)(this).getView().getMaxZoom()<D)&&(0,I.default)(this).getView().setMaxZoom(D)}}},{key:"changeLayerOpacity",value:function(z){(0,I.default)(this).getLayerById(z.id)&&(0,I.default)(this).getLayerById(z.id).setOpacity(z.opacity)}},{key:"getLayerById",value:function(z){for(var D,L=(0,I.default)(this).getLayers().getArray(),V=0;V<L.length;V++){var k=L[V].get("id");if(k===z){D=L[V];break}}return D}},{key:"getAllLayerById",value:function(z){for(var D=[],L=(0,I.default)(this).getLayers().getArray(),V=0;V<L.length;V++){var k=L[V].get("id");k===z&&D.push(L[V])}return D}},{key:"getLayerDataById",value:function(z){var D=Pt(this.tocData),L;try{for(D.s();!(L=D.n()).done;){var V=L.value;if(V.children&&V.children.length>0){var k=this.queryTocData(V,"id",z);if(k)return k}else if(V.url&&V.url!==""&&V.id===z)return V}}catch($){D.e($)}finally{D.f()}}},{key:"getLayerDataByLayerTag",value:function(z){var D=Pt(this.tocData),L;try{for(D.s();!(L=D.n()).done;){var V=L.value;if(V.children&&V.children.length>0){var k=this.queryTocData(V,"layerTag",z);if(k)return k}else if(V.url&&V.url!==""&&V.layerTag===z)return V}}catch($){D.e($)}finally{D.f()}}},{key:"queryTocData",value:function(z,D,L){if(z.children&&z.children.length>0){var V=Pt(z.children),k;try{for(V.s();!(k=V.n()).done;){var $=k.value;if($.children&&$.children.length>0){var ht=this.queryTocData($,D,L);if(ht)return ht}else if($[D]===L)return $}}catch(q){V.e(q)}finally{V.f()}}}},{key:"getLayerOpacity",value:function(z){var D=this.getLayerById(z);return D?D.getOpacity():-1}},{key:"setLayerOpacity",value:function(z,D){var L=this.getLayerById(z);if(L){if(L instanceof b.default){var V=L.getLayers().getArray(),k=Pt(V),$;try{for(k.s();!($=k.n()).done;){var ht=$.value;ht.setOpacity(D/100)}}catch(q){k.e(q)}finally{k.f()}}L.setOpacity(D/100)}}},{key:"setLayerTop",value:function(z){var D=this,L=this.getLayerById(z);if(L){var V=0,k=(0,I.default)(this).getLayers().getArray();k.forEach(function($){var ht,q;(0,m.default)(this,D);var R=(ht=$.values_)===null||ht===void 0||(q=ht.info)===null||q===void 0?void 0:q.group;if(R){var Z=$.getZIndex()||0;V=Math.max(V,Z)}}.bind(this)),L.setZIndex(V+1)}}},{key:"zoomToLayer",value:function(z){var D=this.getLayerById(z);D&&this.fitToLayer(D)}},{key:"zoomToLayers",value:function(z){var D,L=Pt(z),V;try{for(L.s();!(V=L.n()).done;){var k=V.value,$=this.getLayerById(k.id);if($){var ht=(0,N.transformExtent)($.get("initExtent"),"EPSG:4326",(0,I.default)(this).getView().getProjection().getCode());D?D=(0,K.extend)(D,ht):D=ht}}}catch(q){L.e(q)}finally{L.f()}D&&(0,I.default)(this).getView().fit(D,(0,I.default)(this).getSize())}},{key:"setLayerIndex",value:function(z,D){var L=this.getLayerById(z);if(L instanceof b.default){var V=L.getLayers().getArray();L.setZIndex(D);var k=Pt(V),$;try{for(k.s();!($=k.n()).done;){var ht=$.value;!(0,f.default)(ht.values_.info.mapIndex)&&(D=D-.001),this._changeLayerZoom(ht,D)}}catch(q){k.e(q)}finally{k.f()}}else this._changeLayerZoom(L,D)}},{key:"_changeLayerZoom",value:function(z,D){z.setZIndex(D)}},{key:"setData",value:function(z){this.dataMap.set(z.id,z)}},{key:"setBeforeAddOperation",value:function(z){this.beforeAddOperation=z}},{key:"clearSelectFeaturesByTag",value:function(z){var D=(0,I.default)(this).getSelectFeatures(),L=(0,I.default)(this).getLayerById(tt.BASE_DRAWLAYER_ID).getSource(),V=Pt(D),k;try{for(V.s();!(k=V.n()).done;){var $=k.value;$.values_.layerTag===z&&L.removeFeature($)}}catch(ht){V.e(ht)}finally{V.f()}}},{key:"createDrawLayer",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=z.drawLayerType,L=D===void 0?tt.BASE_DRAWLAYER_TYPE:D,V=z.id,k=V===void 0?(0,lt.v4)():V,$=z.label,ht=$===void 0?tt.BASE_DRAWLAYER_ID:$,q=z.layerTag,R=z.isPop,Z=R===void 0?![]:R,X=z.mapIndex,U=X===void 0?99999:X,J;return(0,I.default)(this).getLayerById(k)?J=(0,I.default)(this).getLayerById(k):(J=new ct.Vector({id:k,drawLayerType:L,layerTag:q,label:ht,isPop:Z,zIndex:U,source:new nt.default}),(0,I.default)(this).addLayer(J)),J}},{key:"updateLayer",value:function(z){if(z.id&&(0,I.default)(this).getLayerById(z.id)){var D=(0,I.default)(this).getLayerById(z.id);D&&D.setProperties(z)}}},{key:"getAllDrawLayer",value:function(){var z=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt.BASE_DRAWLAYER_TYPE,L=[],V=(0,I.default)(this).getLayers().getArray();return V.forEach(function(k){(0,m.default)(this,z);var $=k.get("drawLayerType");$&&D===$&&L.push(k)}.bind(this)),L}}]),ut}(at.default),Q=rt;C.default=Q},444175:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(611323)),d=u(t(578756)),h=u(t(828866)),o=u(t(638006)),i=u(t(53267)),s=u(t(342579)),T=u(t(934749)),v=u(t(122777)),S=u(t(42762)),p=u(t(349162)),I=u(t(637318)),c=t(91873),f=u(t(477384)),m=function(){function M(P){(0,v.default)(this,M),this.map=P,this.mask=null}return(0,S.default)(M,[{key:"addMask",value:function(){var P=(0,T.default)(g.default.mark(function y(r){var x=this,B;return g.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:B=this,r&&(this.maskOptions=r),this.maskPromise=new d.default(function(at){var st=this;(0,s.default)(this,x),(0,f.default)((0,h.default)(this).getView().getProjection().getCode(),this.maskOptions).then(function(K){var yt=this;(0,s.default)(this,st);var tt=new p.default().readFeature(K);if(tt!=null){var lt=new I.default({feature:tt,inner:![],fill:new c.Fill({color:[255,255,255,1]})});B.mask=lt,(0,h.default)(B).mask=B.mask}(0,h.default)(B).getLayers().forEach(function(ct){(0,s.default)(this,yt),tt!=null&&ct.addFilter(B.mask)}.bind(this)),at()}.bind(this))}.bind(this));case 3:case"end":return b.stop()}},y,this)}));function l(y){return P.apply(this,arguments)}return l}()},{key:"refresh",value:function(){var l=this;this.maskOptions&&this.maskPromise&&this.maskPromise.then(function(){(0,s.default)(this,l),this.clear(),this.addMask(this.maskOptions)}.bind(this))}},{key:"clear",value:function(){var l=this;this.mask&&((0,h.default)(this).getLayers().forEach(function(y){(0,s.default)(this,l),y.removeFilter(this.mask)}.bind(this)),(0,h.default)(this).mask=void 0)}}],[{key:"getInstance",value:function(l){if(!M.instanceMap&&(M.instanceMap=new o.default),l){var y=l.mapid;if(!M.instanceMap.get(y)){var r=new M(l);M.instanceMap.set(y,r)}return M.instanceMap.get(y)}else{var x;return(0,i.default)(x=M.instanceMap).call(x).next().value}}}]),M}(),A=m;C.default=A},427604:function(G,C,t){"use strict";var u=t(149500),g=t(520314),d=t(426352),h=t(230551),o=t(43586),i=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var s=i(t(828866)),T=i(t(705146)),v=i(t(22466)),S=i(t(181360)),p=i(t(638006)),I=i(t(342579)),c=i(t(122777)),f=i(t(42762)),m=i(t(641739)),A=i(t(202692)),M=t(692086),P=i(t(136001)),l=i(t(494401)),y=t(505775),r=i(t(339211)),x=i(t(137107)),B=i(t(286220)),N=i(t(724497)),b=i(t(167026)),at=i(t(394770)),st=t(972233),K=i(t(867642)),yt=i(t(647598)),tt=i(t(349162)),lt=t(197149),ct=t(110563),nt=t(59269);function gt(Et,Tt){var _=typeof h<"u"&&o(Et)||Et["@@iterator"];if(!_){if(Array.isArray(Et)||(_=Pt(Et))||Tt&&Et&&typeof Et.length=="number"){_&&(Et=_);var rt=0,Q=function(){};return{s:Q,n:function(){return rt>=Et.length?{done:!![]}:{done:![],value:Et[rt++]}},e:function(z){throw z},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var et=!![],xt=![],ut;return{s:function(){_=_.call(Et)},n:function(){var z=_.next();return et=z.done,z},e:function(z){xt=!![],ut=z},f:function(){try{!et&&_.return!=null&&_.return()}finally{if(xt)throw ut}}}}function Pt(Et,Tt){var _;if(Et){if(typeof Et=="string")return ft(Et,Tt);var rt=g(_=Object.prototype.toString.call(Et)).call(_,8,-1);if(rt==="Object"&&Et.constructor&&(rt=Et.constructor.name),rt==="Map"||rt==="Set")return d(Et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return ft(Et,Tt)}}function ft(Et,Tt){(Tt==null||Tt>Et.length)&&(Tt=Et.length);for(var _=0,rt=new Array(Tt);_<Tt;_++)rt[_]=Et[_];return rt}var St=function(){function Et(Tt){(0,c.default)(this,Et),this.map=Tt,this.mapid=Tt.mapid,this.tocData=[],this.transform=st.transform,this.customFeatues=[],this.parames=new K.default,this.mapSource=(0,s.default)(this).getLayerById(nt.BASE_DRAWLAYER_ID)}return(0,f.default)(Et,[{key:"setMap",value:function(_){this.map=_}},{key:"setTocData",value:function(_){var rt;this.tocData=(0,T.default)(rt=this.tocData).call(rt,_)}},{key:"search",value:function(_,rt){var Q=this;Q.callback=rt,Q.clickObj={},Q.tableName="",Q.isStopFlashHlight=![],Q.isLocate=!![];var et=!![];if(!_.isStayFeature&&this.mapSource.getSource().clear(),_.express)try{_.express=decodeURIComponent(_.express)}catch(L){u.warn(L)}(!_.tag||!_.express)&&alert("\u7F3A\u5C11\u56FE\u5C42\u6807\u8BC6\u6216\u8005\u67E5\u8BE2\u6761\u4EF6"),Q.optionStyle=_.flashStyle,Q.mapLayers=(0,s.default)(Q).layerManager.getCheckedLayers();var xt=A.default.grep(Q.mapLayers,function(L){return L.layerTag===_.tag});if(xt.length<1&&(et=![],this.tocData&&this.tocData.length>0)){xt=[];var ut=gt(this.tocData),it;try{for(ut.s();!(it=ut.n()).done;){var z=it.value;if(z.children&&z.children.length>0){var D=this.queryTocData(z,"layerTag",_.tag);D&&xt.push(D)}else z.url&&z.url!==""&&z.layerTag===_.tag&&xt.push(z)}}catch(L){ut.e(L)}finally{ut.f()}}Q.searchAndLocate(xt,_,et)}},{key:"searchAndLocate",value:function(_,rt,Q){var et=this,xt=this;if(_.length>0){var ut=_[0];xt.layerTag=ut.layerTag,ut.layerTable&&ut.layerTable!==""&&(rt.table=rt.table?rt.table:ut.layerTable),xt.isStopFlashHlight=rt.isStopFlashHlight,rt.isLocate!==void 0&&(xt.isLocate=rt.isLocate),rt.isSelect===void 0&&(rt.isSelect=!![]),xt.option=rt,xt.label=ut.label;var it=rt.isAddLayer===void 0,z=0;!Q&&it&&(m.default.$emit("setLayerChecked",ut.id,!![],null,(0,s.default)(this).mapid),z=500);var D=(0,ct.setIntervalCount)(function(){if((0,I.default)(this,et),(0,v.default)(rt)===!![]){var L=A.default.grep((0,s.default)(xt).getLayers().getArray(),function(V){return V.get("id")===ut.id});L&&L.length>0&&(clearInterval(D),L[0].values_.info._filter=rt.express,L[0].getSource().updateParams({cql_filter:rt.express}))}else clearInterval(D)}.bind(this),z,10);setTimeout(function(){(0,I.default)(this,et);var L=ut.type;xt.customFeatues=[],L.indexOf("geoserver")!==-1||ut.url.indexOf("geoserver")!==-1?(!rt.table&&xt.queryCallback(![],ut.label+":\u8BF7\u914D\u7F6E\u6570\u636E\u6E90"),xt.tableName=rt.table,xt._geoserverHandle(ut,rt)):(L.indexOf("dynamic")!==-1||ut.url.indexOf("arcgis")!==-1)&&xt._arcgisServerHandle(ut,rt)}.bind(this),z),m.default.$emit("mapSearch",![])}else alert("\u627E\u4E0D\u5230\u5B9A\u4F4D\u56FE\u5C42!")}},{key:"searchFromLayer",value:function(_,rt){var Q=this;_.layerTable&&_.layerTable!==""&&(rt.table=_.layerTable),Q.label=_.label;var et=_.type;et.indexOf("geoserver")!==-1||_.url.indexOf("geoserver")!==-1?(!rt.table&&Q.queryCallback(![],_.label+":\u8BF7\u914D\u7F6E\u6570\u636E\u6E90"),Q.tableName=rt.table,Q._geoserverHandle(_,rt)):(et.indexOf("dynamic")!==-1||_.url.indexOf("arcgis")!==-1)&&Q._arcgisServerHandle(_,rt)}},{key:"_geoserverQueryPromise",value:function(_,rt){var Q,et=this,xt=_.visibleLayers;if(xt.length<1){alert("\u672A\u914D\u7F6E\u53EF\u89C1\u56FE\u5C42");return}if(et.parames.where=(0,S.default)(Q=rt.express).call(Q),rt.table)if(rt.table.split(":").length===1){var ut;if(_.visibleLayers[0].split(":").length>1)ut=_.visibleLayers[0].split(":")[0];else{var it=_.url.split("/");ut=it[it.length-2]}et.parames.tableName=ut+":"+rt.table}else et.parames.tableName=rt.table;et.parames.srsName=(0,s.default)(et).getView().getProjection().getCode(),et.parames.token=rt.token;var z=new P.default(_);z.execute(et.parames).then(function(D){D=D.headers?D.data:D,D&&D.features&&D.features.length>0?et._geoserverResponse(D,rt.popTag,rt):et.queryCallback(![],"\u5730\u56FE\u5B9A\u4F4D\u672A\u67E5\u8BE2\u5230\u6570\u636E")})}},{key:"_geoserverHandle",value:function(_,rt){var Q,et=this,xt=_.visibleLayers;if(xt.length<1){alert("\u672A\u914D\u7F6E\u53EF\u89C1\u56FE\u5C42");return}if(et.parames.where=(0,S.default)(Q=rt.express).call(Q),rt.table)if(rt.table.split(":").length===1){var ut;if(_.visibleLayers[0].split(":").length>1)ut=_.visibleLayers[0].split(":")[0];else{var it=_.url.split("/");ut=it[it.length-2]}et.parames.tableName=ut+":"+rt.table}else et.parames.tableName=rt.table;et.parames.srsName=(0,s.default)(et).getView().getProjection().getCode(),et.parames.propertyName=rt.propertyName,et.parames.token=rt.token;var z=new P.default(_);z.execute(et.parames).then(function(D){D=D.headers?D.data:D,D&&D.features&&D.features.length>0?et._geoserverResponse(D,rt.popTag,rt):et.queryCallback(![],"\u5730\u56FE\u5B9A\u4F4D\u672A\u67E5\u8BE2\u5230\u6570\u636E")})}},{key:"_geoserverResponse",value:function(_,rt,Q){var et=this;if(_&&_.features&&_.features.length>0){var xt=_.features,ut=[],it=null,z="";if(Q.propertyName)ut=xt,et.queryCallback(!![],ut,!![]);else if(xt.length>0){for(var D=0;D<xt.length;D++){var L=xt[D].geometry,V=L.type,k=null,$=[],ht=[];if(V==="Point")$=L.coordinates;else if(V==="MultiPoint")$=L.coordinates;else if(V==="MultiPolygon")for(var q=0;q<L.coordinates.length;q++)for(var R=0;R<L.coordinates[q].length;R++){var Z=A.default.grep(L.coordinates[q][R],function(le){return le[0]>0&&le[1]>0});ht=[Z],$.push(ht)}else $=L.coordinates;z=V,V==="MultiPolygon"?k=new y.MultiPolygon($):V==="Polygon"?k=new y.Polygon($):V==="LineString"?k=new y.LineString($):V==="MultiLineString"?k=new y.MultiLineString($):V==="Point"?k=new y.Point($):V==="MultiPoint"?k=new y.MultiPoint($):V==="GeometryCollection"&&(k=new tt.default().readGeometryFromObject(L));var X=new yt.default(k);X.setProperties(xt[D].properties),X.set("isSelected",!!et.option.isSelect),X.set("isQuery",!![]),X.set("layerTag",et.layerTag),X.set("id",xt[D].properties.id),et.flashGeometry(X),ut.push(X),it===null?V!=="Point"&&V!=="MultiPoint"&&(it=k.getExtent()):V!=="Point"&&V!=="MultiPoint"&&(it=(0,M.extend)(it,k.getExtent()))}if(z!=="Point"&&z!=="MultiPoint"){var U=(0,s.default)(et).getView().getResolutionForExtent(it)*2;this.animateMap((0,M.getCenter)(it),U)}else{var J=[],Y=gt(xt),vt;try{for(Y.s();!(vt=Y.n()).done;){var dt=vt.value,Mt=dt.geometry.coordinates;if(dt.geometry.type==="MultiPoint"&&(Mt=Mt[0]),J.push(Mt),Q.drawBuffer===!![]){var H=new jsts.io.OL3Parser;H.inject(y.Point,y.LineString,y.LinearRing,y.Polygon,y.MultiPoint,y.MultiLineString,y.MultiPolygon);var wt=new yt.default,jt=new y.Point([Mt[0],Mt[1]]),zt=H.read(jt),$t=(0,s.default)(et).getView().getProjection(),Jt=$t.getUnits(),Wt=new jsts.operation.buffer.BufferOp(zt),te=parseInt(Q.bufferWidth,10);Jt.toString()==="degrees"&&(te=te/(2*Math.PI*6371004)*360);var oe=Wt.getResultGeometry(te);wt.setGeometry(H.write(oe)),(0,s.default)(et).getLayerById(nt.BASE_DRAWLAYER_ID).getSource().addFeatures([wt])}}}catch(le){Y.e(le)}finally{Y.f()}if(J.length===1){var ve=(0,s.default)(et).getView().getResolutionForZoom((0,s.default)(et).getView().getMaxZoom()-3);this.animateMap(J[0],ve)}else{var Ht=new y.MultiPoint(J).getExtent(),Dt=(0,s.default)(et).getView().getResolutionForExtent(Ht)*2;this.animateMap((0,M.getCenter)(Ht),Dt)}}et.queryCallback(!![],ut)}}else et.queryCallback(![],"\u5730\u56FE\u5B9A\u4F4D\u672A\u67E5\u8BE2\u5230\u6570\u636E")}},{key:"_loacteCurrentGraphical",value:function(_){var rt=this;if(rt.isLocate){if(!_||_.length===0){rt.queryCallback(![],"\u5730\u56FE\u5B9A\u4F4D\u672A\u67E5\u8BE2\u5230\u6570\u636E");return}var Q=rt._getMaxMinXY(_);Q.maxX===Q.minX&&Q.maxY===Q.minY&&(Q=rt._setPointBuffer([Q.maxX,Q.maxY],8e3));var et=[];et.push([Q.maxX,Q.maxY]),et.push([Q.maxX,Q.minY]),et.push([Q.minX,Q.maxY]),et.push([Q.minX,Q.minY]),et.push([Q.maxX,Q.maxY]);var xt=new y.Polygon([et]),ut=(0,s.default)(rt).getView().getResolutionForExtent(xt.getExtent())*2;this.animateMap(this._getAnchorOrigin(xt),ut)}}},{key:"_getAnchorOrigin",value:function(_){var rt=this,Q=_.getExtent(),et=(0,M.getCenter)(Q);if(rt.option.anchorOrigin)switch(rt.option.anchorOrigin){case"top-left":{et=[Q[0],Q[3]];break}case"top-right":{et=[Q[2],Q[3]];break}case"bottom-left":{et=[Q[0],Q[1]];break}case"bottom-right":{et=[Q[2],Q[1]];break}default:break}return et}},{key:"_setPointBuffer",value:function(_,rt){var Q,et=this,xt=(0,s.default)(et).getView().getProjection().getCode(),ut="EPSG:3857",it=[],z=[],D=[],L=et.transform(_,xt,ut);z.push(L[0]+rt),z.push(L[1]+rt),D.push(L[0]-rt),D.push(L[1]-rt);var V=et.transform(z,ut,xt),k=et.transform(D,ut,xt);it=(0,T.default)(Q=(0,T.default)(it).call(it,V)).call(Q,k);var $={};return $.maxX=it[0],$.maxY=it[1],$.minX=it[2],$.minY=it[3],$}},{key:"_getMultiPolygonArr",value:function(_,rt,Q){var et=this,xt=[],ut=new yt.default({geometry:_,id:rt,isQuery:!![],layerTag:et.layerTag});et.flashGeometry(ut),et.customFeatues.push(ut);var it=et._coordVerteHandle(_);xt=(0,T.default)(xt).call(xt,it);var z=[];z.push((it[0]+it[2])/2),z.push((it[1]+it[3])/2);var D=et._setSymbol(z,rt);return et.clickObj[ut.olUid]={label:et.label,newGeometry:_,id:rt,properties:Q,iconFeature:D,centerPoint:z},(_ instanceof y.Polygon||_ instanceof y.MultiPolygon)&&(et.mapSource.getSource().addFeature(D),et.customFeatues.push(D)),xt}},{key:"featureFlash",value:function(_,rt,Q){this.mapSource.getSource().addFeature(_),this.optionStyle&&this.optionStyle.fillColor&&(rt=this.optionStyle.fillColor),this.optionStyle&&this.optionStyle.strokeColor&&(Q=this.optionStyle.strokeColor);var et=this,xt=0,ut=new r.default({fill:new N.default({color:"rgba(0,0,0,0)"}),stroke:""}),it=function(){_.setStyle(ut),setTimeout(z,300)},z=function(){var L=_.getGeometry();L instanceof y.Point?_.setStyle(et._getStyle(rt,Q,xt*2+3)):_.setStyle(et._getStyle(rt,Q)),xt++,xt<4?setTimeout(it,300):!et.option.isShow&&(_.setStyle(ut),et.mapSource.getSource().removeFeature(_))};it()}},{key:"_getStyle",value:function(_,rt,Q){var et=[255,0,0,0],xt=[255,0,0,.3],ut=5;_&&(et=_),rt&&(xt=rt),Q&&(ut=Q);var it=new N.default({color:et}),z=new b.default({color:xt,width:2}),D=new r.default({image:new at.default({fill:it,stroke:z,radius:ut}),fill:it,stroke:z});return D}},{key:"_setSymbol",value:function(_,rt){var Q=this,et=new y.Point(_),xt=new yt.default({geometry:et,id:rt,isQuery:!![],layerTag:Q.layerTag});return xt.setStyle(Q.setIcon(rt)),xt}},{key:"_mapClick",value:function(){var _=this;_.clickObj={},(0,s.default)(_).on("click",function(rt){var Q=![];if(Q){var et=(0,s.default)(_).getEventPixel(rt.originalEvent),xt=(0,s.default)(_).getFeaturesAtPixel(et);if(xt)for(var ut=0;ut<xt.length;ut++){var it=xt[ut],z=it.olUid,D=_.clickObj[z];if(D){_.label=D.label,_.setOverLay(D);break}}}})}},{key:"setIcon",value:function(_){return new r.default({image:new x.default({anchor:[.5,.1],anchorOrigin:"bottom-left",anchorXUnits:"fraction",anchorYUnits:"fraction",offsetOrigin:"top-right",opacity:.75,src:"images/location.png"}),text:new B.default({textAlign:"center",offsetX:0,offsetY:-16,textBaseline:"middle",font:"normal 12px \u5FAE\u8F6F\u96C5\u9ED1",text:_+"",fill:new N.default({color:"#ffffff"})})})}},{key:"_coordVerteHandle",value:function(_){var rt=[],Q=_.getExtent();return rt.push(Q[2]),rt.push(Q[3]),rt.push(Q[0]),rt.push(Q[1]),rt}},{key:"_getMaxMinXY",value:function(_){for(var rt=-1/0,Q=1/0,et=-1/0,xt=1/0,ut=0;ut<_.length;ut++){var it=_[ut];ut%2===0?(it>rt&&(rt=it),it<Q&&(Q=it)):(it>et&&(et=it),it<xt&&(xt=it))}var z={maxX:rt,minX:Q,maxY:et,minY:xt};return z}},{key:"animateMap",value:function(_,rt){if(this.isLocate){var Q=this.option.resolution?this.option.resolution:rt;Q=this.option.zoom?(0,s.default)(this).getView().getResolutionForZoom(this.option.zoom):Q,this.option.isShowFullFeature?rt=rt>Q?rt:Q:rt=Q,this.option.zoomScale&&(rt=rt*this.option.zoomScale),(0,lt.getMapScale)((0,s.default)(this),rt)<550&&(rt=(0,lt.getResolutionFromScale)((0,s.default)(this),550));var et=(0,s.default)(this).getView().getResolutionForZoom((0,s.default)(this).getView().getMaxZoom());rt=rt>et?rt:et,(0,s.default)(this).getView().animate({center:_,resolution:rt})}}},{key:"flashGeometry",value:function(_){var rt=this;_.set("isSelected",!!rt.option.isSelect),_.set("isQuery",!![]),_.set("layerTag",rt.layerTag);var Q=_.getGeometry(),et=null,xt="#00FFFF";rt.isStopFlashHlight?rt.option.isShow&&(this.mapSource.getSource().addFeature(_),this.optionStyle&&this.optionStyle.fillColor&&(et=this.optionStyle.fillColor),this.optionStyle&&this.optionStyle.strokeColor&&(xt=this.optionStyle.strokeColor),_.setStyle(rt._getStyle(et,xt))):Q instanceof y.LineString||Q instanceof y.MultiLineString?(_.setStyle(rt._getStyle(et,xt)),rt.featureFlash(_,et,xt)):Q instanceof y.Point||Q instanceof y.MultiPoint?rt.featureFlash(_,et,xt):(Q instanceof y.Polygon||Q instanceof y.MultiPolygon,_.setStyle(rt._getStyle(et,xt)),rt.featureFlash(_,et,xt))}},{key:"_arcgisServerHandle",value:function(_,rt){var Q,et=(0,s.default)(this).getView().getProjection().getCode(),xt=new l.default(_.url+"/"+rt.subLayerId,{outSR:et,returnGeometry:!![],where:(0,S.default)(Q=rt.express).call(Q),envelope:rt.envelope,outFields:"*",returnZ:![],returnM:![]}),ut=this;xt.run(function(it,z){var D=this,L=z.features,V=[];L.forEach(function(k){(0,I.default)(this,D),k.set("isSelected",!!ut.option.isSelect),k.set("isQuery",!![]),ut.flashGeometry(k);var $=ut._coordVerteHandle(k.getGeometry());V=(0,T.default)(V).call(V,$)}.bind(this)),ut._loacteCurrentGraphical(V),ut.queryCallback(!![],L)},this)}},{key:"queryTocData",value:function(_,rt,Q){if(_.children&&_.children.length>0){var et=gt(_.children),xt;try{for(et.s();!(xt=et.n()).done;){var ut=xt.value;if(ut.children&&ut.children.length>0){var it=this.queryTocData(ut,rt,Q);if(it)return it}else if(ut[rt]===Q)return ut}}catch(z){et.e(z)}finally{et.f()}}}},{key:"queryCallback",value:function(_,rt,Q){if(this.callback){var et=!_||Q?rt:(0,s.default)(this).transformGeo(rt);this.callback(_,et,rt.length)}_?this.option.success&&this.option.success(rt):(u.error(rt),this.option.failed&&this.option.failed(rt))}}],[{key:"getInstance",value:function(_){!Et.instanceMap&&(Et.instanceMap=new p.default);var rt=_.mapid;if(!Et.instanceMap.get(rt)){var Q=new Et(_);Et.instanceMap.set(rt,Q)}return Et.instanceMap.get(rt)}}]),Et}(),At=St;C.default=At},199096:function(G,C,t){"use strict";var u=t(465557),g=t(520314),d=t(426352),h=t(230551),o=t(43586),i=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=C.ShineMapEventType=C.MapLinkEvent=void 0;var s=i(t(985208)),T=i(t(452909)),v=i(t(66273)),S=i(t(342579)),p=i(t(387507)),I=i(t(553144)),c=i(t(42762)),f=i(t(122777)),m=i(t(330044)),A=i(t(299085)),M=i(t(234009)),P=i(t(932132)),l=t(612768),y=i(t(641739)),r=i(t(413890)),x=i(t(401865)),B=i(t(427604)),N=i(t(444175)),b=t(197149),at=t(481534),st=i(t(349162)),K=i(t(31694)),yt=t(972233),tt=t(692086),lt=t(505775),ct=i(t(919830)),nt=t(846769),gt=i(t(59037)),Pt=i(t(12207)),ft=t(59269);function St(ut,it){var z=typeof h<"u"&&o(ut)||ut["@@iterator"];if(!z){if(Array.isArray(ut)||(z=At(ut))||it&&ut&&typeof ut.length=="number"){z&&(ut=z);var D=0,L=function(){};return{s:L,n:function(){return D>=ut.length?{done:!![]}:{done:![],value:ut[D++]}},e:function(q){throw q},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V=!![],k=![],$;return{s:function(){z=z.call(ut)},n:function(){var q=z.next();return V=q.done,q},e:function(q){k=!![],$=q},f:function(){try{!V&&z.return!=null&&z.return()}finally{if(k)throw $}}}}function At(ut,it){var z;if(ut){if(typeof ut=="string")return Et(ut,it);var D=g(z=Object.prototype.toString.call(ut)).call(z,8,-1);if(D==="Object"&&ut.constructor&&(D=ut.constructor.name),D==="Map"||D==="Set")return d(ut);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return Et(ut,it)}}function Et(ut,it){(it==null||it>ut.length)&&(it=ut.length);for(var z=0,D=new Array(it);z<it;z++)D[z]=ut[z];return D}function Tt(ut){var it=_();return function(){var D=(0,M.default)(ut),L;if(it){var V=(0,M.default)(this).constructor;L=u(D,arguments,V)}else L=D.apply(this,arguments);return(0,A.default)(this,L)}}function _(){if(typeof Reflect>"u"||!u)return![];if(u.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!![]}catch{return![]}}var rt={AFTERADDMAPLINK:"afterAddMapLink",AFTERREMOVEMAPLINK:"afterRemoveMapLink"};C.ShineMapEventType=rt;var Q=function(ut){(0,m.default)(z,ut);var it=Tt(z);function z(D,L){var V;return(0,f.default)(this,z),V=it.call(this,D),V.element=L,V}return(0,c.default)(z)}(Pt.default);C.MapLinkEvent=Q;var et=function(ut){(0,m.default)(z,ut);var it=Tt(z);function z(D){var L;return(0,f.default)(this,z),L=it.call(this,D),L._selectFeatures=[],L._checkedLayers=[],L.linkMap=[],L._currentEditLayer=void 0,L.animateEnable=!![],L.mapid=D.mapid,L.layerManager=new x.default((0,p.default)(L)),L.interactionManager=new r.default((0,p.default)(L)),L.queryManager=B.default.getInstance((0,p.default)(L)),L.maskManager=N.default.getInstance(L.$map),L.transformProjection=D.transformProjection,L}return(0,c.default)(z,[{key:"setStatus",value:function(L){var V=this;(0,s.default)(L).forEach(function(k){var $=this;switch((0,S.default)(this,V),typeof L[k]=="boolean"&&(this[k]=L[k]),k){case"mouseWheelZoomEnable":{var ht,q=(0,T.default)(ht=this.getInteractions().getArray()).call(ht,function(J){return(0,S.default)(this,$),J instanceof l.MouseWheelZoom}.bind(this));q?.setActive(L[k]);break}case"doubleClickZoomEnable":{var R,Z=(0,T.default)(R=this.getInteractions().getArray()).call(R,function(J){return(0,S.default)(this,$),J instanceof l.DoubleClickZoom}.bind(this));Z?.setActive(L[k]);break}case"dragPanEnable":{var X,U=(0,T.default)(X=this.getInteractions().getArray()).call(X,function(J){return(0,S.default)(this,$),J instanceof l.DragPan}.bind(this));U?.setActive(L[k]);break}}}.bind(this))}},{key:"setTransformProjection",value:function(L){(0,at.registerProj)(L),this.transformProjection=L}},{key:"getLayerById",value:function(L){for(var V,k=this.getLayers().getArray(),$=0;$<k.length;$++){var ht=k[$].get("id");if(ht===L){V=k[$];break}}return V}},{key:"getLayerByLayerTag",value:function(L){for(var V,k=this.getLayers().getArray(),$=0;$<k.length;$++){var ht=k[$].get("layerTag");if(ht===L){V=k[$];break}}return V}},{key:"clearSelectFeatures",value:function(){var L=this.getSelectFeatures(),V=this.getLayerById(ft.BASE_DRAWLAYER_ID).getSource(),k=St(L),$;try{for(k.s();!($=k.n()).done;){var ht=$.value;V.removeFeature(ht)}}catch(q){k.e(q)}finally{k.f()}this._selectFeatures=[]}},{key:"getSelectFeatures",value:function(){var L=this,V=[],k,$=this.getLayers().getArray();return $.forEach(function(ht){var q=this;(0,S.default)(this,L),ht.get("id")===ft.BASE_DRAWLAYER_ID&&(k=ht.getSource().getFeatures(),k.forEach(function(R){(0,S.default)(this,q),(R.get("tempSelected")||R.get("isSelected"))&&V.push(R)}.bind(this)))}.bind(this)),V}},{key:"getSelectGeoJson",value:function(L,V){var k=this.getSelectFeatures(),$={};if(L){V&&(0,at.registerProj)(V);var ht=this.getView().getProjection().getCode();V=V||this.transformProjection,$={dataProjection:V,featureProjection:ht}}return V=V||this.getView().getProjection().getCode(),(0,b.addCrsToGeojson)(new st.default($).writeFeatures(k),V)}},{key:"getSelectWkt",value:function(L,V){var k=this.getSelectFeatures(),$={};if(L){V&&(0,at.registerProj)(V);var ht=this.getView().getProjection().getCode();V=V||this.transformProjection,$={dataProjection:V,featureProjection:ht}}var q="",R=St(k),Z;try{for(R.s();!(Z=R.n()).done;){var X=Z.value;q+=new K.default($).writeFeatures([X],$)+";"}}catch(U){R.e(U)}finally{R.f()}return q.substring(0,q.length-1)}},{key:"setSelectFeatures",value:function(L){this._selectFeatures=L}},{key:"getCheckedLayers",value:function(){return this._checkedLayers}},{key:"getCurrentEditLayer",value:function(){return this._currentEditLayer}},{key:"setCurrentEditLayer",value:function(L){this._currentEditLayer=L}},{key:"clearCurrentEditLayer",value:function(){this._currentEditLayer=void 0}},{key:"linkWithMap",value:function(L){L.setView(this.getView())}},{key:"updateMapSize",value:function(){this.updateSize()}},{key:"search",value:function(L,V){var k=B.default.getInstance(this),$=new B.default(this);$.setTocData(k.tocData),$.search(L,V),y.default.$emit("mapSearch",!![])}},{key:"findLayer",value:function(){}},{key:"locateGeoJson",value:function(L){return(0,b.locateGeoJson)(this,L,this.transformProjection)}},{key:"addGeoJson",value:function(L){return(0,b.addGeoJson)(this,L,this.transformProjection)}},{key:"flashFeatures",value:function(L,V){(0,b.flashFeatures)(this,L,V)}},{key:"locateTempGraphic",value:function(L){(0,b.locateTempGraphic)(this,L)}},{key:"getMapScale",value:function(){return(0,b.getMapScale)(this)}},{key:"setMapScale",value:function(L){(0,b.setScale)(this,L)}},{key:"getResolutionFromScale",value:function(L){return(0,b.getResolutionFromScale)(this,L)}},{key:"drawGraphic",value:function(L){var V=L.wktCRS?L.wktCRS:this.transformProjection;return L.wktCRS=V,(0,b.drawGraphic)(this,L)}},{key:"deleteGraphic",value:function(L){return(0,b.deleteGraphic)(this,L)}},{key:"locateGraphic",value:function(L){return(0,b.locateGraphic)(this,L)}},{key:"zoomTo",value:function(L,V,k){k&&(0,at.registerProj)(k),k=k||this.transformProjection,(0,b.zoomTo)(this,k,L,V)}},{key:"setCenter",value:function(L,V){var k=L;V&&((0,at.registerProj)(V),k=(0,yt.transform)(k,V,this.getView().getProjection())),this.animateEnable?this.getView().animate({center:k,duration:2e3}):this.getView().setCenter(k)}},{key:"setZoom",value:function(L){this.animateEnable?this.getView().animate({zoom:L,duration:2e3}):this.getView().setZoom(L)}},{key:"setZoomAndCenter",value:function(L,V,k){var $=V;k&&((0,at.registerProj)(k),$=(0,yt.transform)($,k,this.getView().getProjection())),this.animateEnable?this.getView().animate({center:$,zoom:L,duration:2e3}):(this.getView().setCenter($),this.getView().setZoom(L))}},{key:"animate",value:function(L){L.inCrs&&(0,at.registerProj)(L.inCrs),L.inCrs=L.inCrs?L.inCrs:this.transformProjection,(0,b.animate)(this,L)}},{key:"transformGeo",value:function(L,V,k){return k&&(0,at.registerProj)(k),V=V||this.getView().getProjection().getCode(),k=k||this.transformProjection,k=k||V,(0,b.transformGeo)(this,L,V,k)}},{key:"transformPoint",value:function(L,V,k){return k&&(0,at.registerProj)(k),V&&(0,at.registerProj)(V),V=V||this.getView().getProjection().getCode(),k=k||this.transformProjection,(0,b.transformPoint)(this,L,V,k)}},{key:"setLocate",value:function(L){L&&(!L.src&&(L.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADN0lEQVRYR8WWTWwNURTH/+e+Sr15lIXGR1g3VERY0BmiFV+JBfHxpm0aIWzsfFYiEWUh8dGKnY02mkbfPBEWFlgg6ZuhGxJRiVhYEITYtH0zqt4cmeervDsz9z2L3uX7n/M/v3vOvfcNYZIXTXJ9lAWwMpNflhAJHfCbAKqD7y8obkCINwC/BMSDgl9wHjennqhuTBnAsLwzAB8CUB1jPgZQl20mj6tAKAEYlvsUwFIVw98xhOt2WkvH5cQCGFb+I0C1cUZSXQEiEsDIulkwdlZU/FdSDEQogGG5BwF0/VfxP8mHbFO7KPOSAqzo45rEFG+IgPmhAET3wP7Lok6iDswbwmIZeFsYT9YPttHwvzFSgAZrdKOAuBNq6PMppyXVMVHXLe8kgf/6baLuw9/0yJx2VwlA7893kKCTUgBGu92snZdpRsY9CsI5mcYS6GLzpEZZrwfMu2WaoET9QLr6hUxbnR1b5HNhSA7OV+zm1D6lDhhZ9wEYjSVGREN2Ork46mAaWe85mOtLC9HdnJncpASgW+41AlokhbyRseHaZ7vm5GUQS3o/pKZX13wCkJQUyuRMrcRTOgLdci8QcFg6S+CYY2rSOeuW207A2ZC8TsfUjih1oMHKbxWgm2GtFlXJeQPb6f1EffUNnut/896F5RBhWy6tlXhKO7Chl1P5au8tgJlRV1EIKr4Dvs91obcmOOkMJ9esGTKvqJcweLkORB04dY1222byalkAK/o+11RNSd4HsFy9UGkkg7sdM7U3dDRR5nr2y2Zi/3alAEx4VfiKtYNtWjBO6Yr9O15luWcZaK8EgoDWnKn1R+XGAjT2vJ46rs0ORtFQHgRfts3U/ricWIDAwMh+WQ/278WZ/daZh4TQmgbSFDxKkUsJoAhx3TsNn0/EGQY6AzscU7uhEqsMgI4OoS9sv0/AmihjJlxy0pry9VUHCLqQcVcy8R0CzQg50oMYya+399aOqOw+iCkLIEjQM6N7iES3pECB/MK6XMv0h6rFKwIIkmRXk4AjOVPrLKd4xQA/boZ7C4wtPw9dv2NqreUW/y+AxmvDs8YTVT++G0fzTeXMfSJo2Wegkl1G5Uw6wHeXphEwQy3ECAAAAABJRU5ErkJggg=="),L.id=L.id?L.id:"locate-marker",this.addMarker(L))}},{key:"addMarker",value:function(L){if(L=JSON.parse((0,v.default)(L)),L){var V=L.point,k=L.inCrs,$=this.transformPoint(V,k,this.getView().getProjection().getCode());L.point=$,(0,b.addMarker)(this,L),L.flashSrc&&this.flashMarker(L),L.isLocate&&this.animate({center:$,zoom:L.zoom,inCrs:k})}}},{key:"flashMarker",value:function(L){var V=this;this.lastMarkerOptions&&(clearInterval(this.markerFlashTimer),(0,b.getMarkerById)(this,this.lastMarkerOptions.id)&&(0,b.addMarker)(this,this.lastMarkerOptions)),L=JSON.parse((0,v.default)(L)),this.lastMarkerOptions=JSON.parse((0,v.default)(L));var k=L.src,$=L.flashCount?L.flashCount*2:8,ht=0;this.markerFlashTimer=setInterval(function(){(0,S.default)(this,V),ht<$?(ht%2===0?L.src=L.flashSrc:L.src=k,ht++):(L.src=L.flashSrc,clearInterval(this.markerFlashTimer)),(0,b.addMarker)(this,L)}.bind(this),300)}},{key:"addMarkers",value:function(L){if(L&&L.data&&L.data.length>0){var V=St(L.data),k;try{for(V.s();!(k=V.n()).done;){var $=k.value;$.inCrs=L.inCrs,this.addMarker($)}}catch(dt){V.e(dt)}finally{V.f()}if(L.isLocate){var ht=65565,q=65565,R=0,Z=0,X=St(L.data),U;try{for(X.s();!(U=X.n()).done;){var J=U.value,Y=J.point;ht=Math.min(ht,Y[0]),R=Math.max(R,Y[0]),q=Math.min(q,Y[1]),Z=Math.max(Z,Y[1])}}catch(dt){X.e(dt)}finally{X.f()}var vt=[ht,q,R,Z];L.inCrs&&((0,at.registerProj)(L.inCrs),vt=(0,yt.transformExtent)(vt,L.inCrs,this.getView().getProjection().getCode())),this.getView().fit(vt,this.getSize())}}}},{key:"removeMarker",value:function(L){var V=this.getLayerById("locateLayer").getSource(),k=V.getFeatureById(L);V.removeFeature(k)}},{key:"clearMarker",value:function(){this.markerFlashTimer&&clearInterval(this.markerFlashTimer);var L=this.getLayerById("locateLayer").getSource();L.clear()}},{key:"markerClick",value:function(L,V){var k=this,$=this.getLayerById("locateLayer").getSource();this.on("click",function(ht){(0,S.default)(this,k);var q=this.getCoordinateFromPixel(ht.pixel),R=V||36,Z=[R,R],X=(0,tt.getForViewAndSize)(q,this.getView().getResolution(),0,Z),U=$.getFeaturesInExtent(X);L(U)}.bind(this))}},{key:"getExtent",value:function(){var L=this.getCoordinateFromPixel([0,0]),V=this.getCoordinateFromPixel(this.getSize());return[L[0],V[1],V[0],L[1]]}},{key:"filterLayer",value:function(L,V,k){(0,b.filterLayer)(this,L,V,k)}},{key:"getCenter",value:function(L){return(0,b.getCenterOfMass)(L)}},{key:"refresh",value:function(){var L=this.getView().getResolution();this.getView().setResolution(L-1e-11)}},{key:"parseWktArray",value:function(L,V){var k=new K.default,$=[],ht=St(L),q;try{for(ht.s();!(q=ht.n()).done;){var R=q.value,Z=k.readFeature(R);$.push(Z)}}catch(U){ht.e(U)}finally{ht.f()}var X=new st.default().writeFeatures($);return V&&(X=(0,b.addCrsToGeojson)(X,V)),X}},{key:"unionFeature",value:function(L){var V=this,k;return L.forEach(function($){(0,S.default)(this,V);var ht=$.getGeometry(),q=ht.getCoordinates(),R=null;ht instanceof lt.MultiPolygon?R=(0,nt.multiPolygon)(q):R=(0,nt.polygon)(q),k?k=(0,gt.default)(k,R):k=R}.bind(this)),new st.default().readFeature(k.geometry)}},{key:"getFeatureByWkt",value:function(L,V){var k=new K.default,$;return V&&((0,at.registerProj)(V),$={dataProjection:V,featureProjection:this.getView().getProjection().getCode()}),k.readFeature(L,$)}},{key:"unionFeatureFromWktArray",value:function(L,V){if(L&&L.length>0){var k=[],$=St(L),ht;try{for($.s();!(ht=$.n()).done;){var q=ht.value;k.push(this.getFeatureByWkt(q,V))}}catch(R){$.e(R)}finally{$.f()}return this.unionFeature(k)}}},{key:"parseWkt",value:function(L,V){var k=new K.default,$=k.readFeature(L),ht=new st.default().writeFeature($);return V&&(ht=(0,b.addCrsToGeojson)(ht,V)),ht}},{key:"convertWkt",value:function(L){!L.type&&(L=JSON.parse(L));var V=new st.default().readFeatures(L),k=new K.default,$=[],ht=St(V),q;try{for(ht.s();!(q=ht.n()).done;){var R=q.value,Z=k.writeFeature(R);$.push(Z)}}catch(J){ht.e(J)}finally{ht.f()}var X=L.crs,U;return X&&(U=X.properties.name.replace("urn:ogc:def:crs:","").replace("::",":")),{wkt:$,inCrs:U}}},{key:"writeFeatureToWkt",value:function(L,V){var k={};if(V){(0,at.registerProj)(V);var $=this.getView().getProjection().getCode();k={dataProjection:V,featureProjection:$}}if(L instanceof Array)if(L.length>0){var ht=this.unionFeature(L);return new K.default(k).writeFeature(ht,k)}else return"";else return new K.default(k).writeFeature(L,k)}},{key:"getFeatureById",value:function(L){return(0,b.getFeatureById)(this,L)}},{key:"updateFeatureById",value:function(L){return(0,b.updateFeatureById)(this,L)}},{key:"clearTempFeature",value:function(){var L=this.getLayerById(ft.BASE_DRAWLAYER_ID);L&&L.getSource().clear();var V=this.getLayerById("popTempLayer");V&&V.getSource().clear()}},{key:"nearestPointOnGeometry",value:function(L,V){return(0,b.nearestPointOnGeometry)(L,V)}},{key:"addTrail",value:function(L){(0,b.addTrail)(this,L)}},{key:"getFullFigure",value:function(){var L=this.initFullFigureConfig(),V=[],k="";if(L.isShow)V[0]=L.minCoordinateX,V[1]=L.minCoordinateY,V[2]=L.maxCoordinateX,V[3]=L.maxCoordinateY;else{k=L.layerName;var $=this.getLayers().getArray(),ht=St($),q;try{for(ht.s();!(q=ht.n()).done;){var R=q.value;R.values_.layerTag===k&&(V=R.values_.initExtent)}}catch(Z){ht.e(Z)}finally{ht.f()}}this.getView().fit(V,this.getSize())}},{key:"clearConver",value:function(){this.maskManager.clear()}},{key:"addConver",value:function(L){this.maskManager.addMask(L)}},{key:"addLayer",value:function(L){L instanceof ct.default?(0,I.default)((0,M.default)(z.prototype),"addLayer",this).call(this,L):this.layerManager.addLayer(L)}},{key:"removeLayer",value:function(L){L instanceof ct.default?(0,I.default)((0,M.default)(z.prototype),"removeLayer",this).call(this,L):this.layerManager.removeLayer(L)}},{key:"setLayerIndex",value:function(L,V){this.layerManager.setLayerIndex(L,V)}},{key:"setLayerTop",value:function(L){this.layerManager.setLayerTop(L)}},{key:"setLayerOpacity",value:function(L,V){this.layerManager.setLayerOpacity(L,V)}},{key:"addTargetLayer",value:function(L){var V=L.layerTag,k=L.layerFilter,$=this.layerManager.getLayerDataById(V);!$&&($=this.layerManager.getLayerDataByLayerTag(V)),$&&($.filter=k,$=JSON.parse((0,v.default)($)),$.isFit=!!L.isZoom,y.default.$emit("setLayerChecked",$,!![],null,this.mapid))}},{key:"registerProj",value:function(L){(0,at.registerProj)(L)}}]),z}(P.default),xt=et;C.default=xt},978221:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(638006)),d=u(t(828866)),h=u(t(122777)),o=u(t(42762)),i=t(91873),s=t(403206),T=t(172413),v=function(){function S(p){(0,h.default)(this,S),this.map=p,this.defaultSymbol={type:"polygon",styleOptions:{fill:!![],color:"rgb(255, 255, 255)",opacity:.2,outline:!![],outlineColor:"rgb(1, 191, 255)",outlineWidth:1,outlineOpacity:1}}}return(0,o.default)(S,[{key:"bindLayer",value:function(I){var c,f,m=this;this.keyField=I==null||(c=I.values_)===null||c===void 0||(f=c.info)===null||f===void 0?void 0:f.keyField,I.setLayerStyle=function(A){if(A){I.symbol=A;var M=m.getLayerStyle(I.symbol);M&&I.setStyle(M)}else I.setStyle(new i.Style({fill:new i.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new i.Stroke({color:"rgb(1, 191, 255)",width:1}),image:new i.Circle({radius:3,fill:new i.Fill({color:"rgb(1, 191, 255)"}),stroke:new i.Stroke({color:"#FED976",width:1})})}))},I.getLayerStyle=function(){return I.symbol?I.symbol:m.defaultSymbol},I.setLayerStyle()}},{key:"getLayerStyle",value:function(I){var c=this,f=new g.default,m=new g.default;return I?function(A,M){var P=A.getProperties(),l=c.keyField?P[c.keyField]:null,y;l&&m.get(l)?y=m.get(l):(y=(0,T.getRealSymbol)(I,P),l&&y&&m.set(l,y));var r=y.symbol,x=y.filedIndex;if(x&&!c.isDynamicStyle(r)&&f.get(x))return f.get(x);var B=(0,s.getStyle)(I.type,r,A,M,(0,d.default)(c));return x&&f.set(x,B),B}:(0,s.getStyle)("polygon",this.defaultSymbol)}},{key:"isDynamicStyle",value:function(I){return I.distanceDisplayCondition_far||I.distanceDisplayCondition_near?!![]:I.label&&(I.label.distanceDisplayCondition_far||I.label.distanceDisplayCondition_near)?!![]:![]}}]),S}();C.default=v},853071:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(122777)),d=u(t(42762)),h=t(692086),o=u(t(966016)),i=t(365094),s=u(t(361483)),T=t(972233),v=function(){function p(){(0,g.default)(this,p)}return(0,d.default)(p,[{key:"generate",value:function(c){for(var f=(0,T.get)("EPSG:4490"),m=f.getExtent(),A=m?(0,h.getTopLeft)(m):[-180,90],M=(0,T.getTransform)("EPSG:4326",f),P=m?(0,h.getWidth)(m):(0,h.getWidth)((0,h.applyTransform)([-180,-90,180,90],M)),l=[],y=[],r=1;r<19;r++)l[r]=P/(256*Math.pow(2,r)),y[r]=r;var x=new o.default({origin:A,resolutions:l,matrixIds:y}),B=new i.XYZ({crossOrigin:"anonymous",projection:"EPSG:4490",tileGrid:x,url:c.url+"?x={x}&y={y}&l={z}&styleId="+c.visibleLayers[0]+"&tilesize=256",wrapX:!![]}),N=new s.default({id:c.id,info:c,layerTag:c.layerTag,opacity:1,zIndex:c.mapIndex,isFit:typeof c.isFit=="boolean"?c.isFit:![],source:B});return N}}]),p}(),S=v;C.default=S},297152:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(99245)),d=u(t(122777)),h=u(t(42762)),o=t(17527),i=t(365094),s=t(867040),T=u(t(383266)),v=function(){function p(I,c){return(0,d.default)(this,p),this.createArcGISTileLayer(I,c)}return(0,h.default)(p,[{key:"createArcGISTileLayer",value:function(c,f){var m=this,A=(0,s.appendPath)(c.url,f.extUrl);c.authkey&&(A=(0,s.addParamToUrl)(A,"authkey",c.authkey));var M;f.zDirection>0&&(M=function(y,r){var x=m.extractXYZFromURL(r),B=x.x,N=x.y,b=x.z;b=Number(b)+f.zDirection,y.getImage().src=y.key.replace("{x}",B).replace("{y}",N).replace("{z}",b)});var P=new o.Tile({id:c.id,info:c,layerTag:c.layerTag,opacity:c.opacity,zIndex:c.mapIndex,initExtent:f.initExtent,minZoom:c.minZoom,maxZoom:c.maxZoom,minResolution:c.minResolution,maxResolution:c.maxResolution?c.maxResolution:f.resolutions[0]*2,isFit:typeof c.isFit=="boolean"?c.isFit:![],source:new i.XYZ({projection:f.projection,crossOrigin:"anonymous",declutter:!![],tileGrid:new T.default({extent:f.extent,origin:f.origin,resolutions:f.resolutions,tileSize:f.tileSize}),url:A,tileLoadFunction:M})});return P}},{key:"extractXYZFromURL",value:function(c){var f=/\/(\d+)\/(\d+)\/(\d+)$/,m=c.match(f);if(m){var A=(0,g.default)(m,4),M=A[1],P=A[2],l=A[3];return{x:l,y:P,z:M}}return null}}]),p}(),S=v;C.default=S},835569:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(66273)),d=u(t(122777)),h=u(t(42762)),o=t(17527),i=t(365094),s=t(867040),T=t(344537),v=function(){function p(I,c){return(0,d.default)(this,p),this.createArcGISDynamicLayer(I,c)}return(0,h.default)(p,[{key:"createArcGISDynamicLayer",value:function(c,f){var m={LAYERS:"show:"+c.visibleLayers.join(",")};c.layerDefs&&(m.layerDefs=typeof c.layerDefs=="string"?c.layerDefs:(0,g.default)(c.layerDefs)),c.authkey&&(m.authkey=c.authkey);var A=typeof c.isFit=="boolean"?c.isFit:![];i.ImageArcGISRest.prototype.getRequestUrl_=function(P,l,y,r,x){var B=r.getCode().split(/:(?=\d+$)/).pop();x.SIZE=l[0]+","+l[1],x.BBOX=P.join(","),x.BBOXSR=B,x.IMAGESR=B,x.DPI=Math.round(90*y);var N=this.url_,b=N.indexOf("ImageServer")>-1?"exportImage":"export",at=(0,s.appendPath)(N,b);return(0,T.appendParams)(at,x)};var M=new o.Image({id:c.id,layerTag:c.layerTag,opacity:c.opacity,zIndex:c.mapIndex,info:c,initExtent:f.initExtent,minZoom:c.minZoom,maxZoom:c.maxZoom,minResolution:c.minResolution,maxResolution:c.maxResolution,isFit:A,source:new i.ImageArcGISRest({crossOrigin:"anonymous",ratio:1,imageLoadFunction:function(l,y){y.indexOf("jsp?")!==-1?l.getImage().src=y.replace("&","?"):l.getImage().src=y},url:c.url,params:m})});return M}}]),p}(),S=v;C.default=S},93235:function(G,C,t){"use strict";var u=t(149500),g=t(520314),d=t(426352),h=t(230551),o=t(43586),i=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var s=i(t(828866)),T=i(t(669033)),v=i(t(705146)),S=i(t(342579)),p=i(t(122777)),I=i(t(42762)),c=t(17527),f=t(365094),m=i(t(627482)),A=i(t(615550)),M=i(t(202692)),P=t(242584),l=t(315398),y=i(t(978221)),r=i(t(59037)),x=t(846769),B=i(t(860075)),N=i(t(390698));function b(lt,ct){var nt=typeof h<"u"&&o(lt)||lt["@@iterator"];if(!nt){if(Array.isArray(lt)||(nt=at(lt))||ct&&lt&&typeof lt.length=="number"){nt&&(lt=nt);var gt=0,Pt=function(){};return{s:Pt,n:function(){return gt>=lt.length?{done:!![]}:{done:![],value:lt[gt++]}},e:function(Tt){throw Tt},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft=!![],St=![],At;return{s:function(){nt=nt.call(lt)},n:function(){var Tt=nt.next();return ft=Tt.done,Tt},e:function(Tt){St=!![],At=Tt},f:function(){try{!ft&&nt.return!=null&&nt.return()}finally{if(St)throw At}}}}function at(lt,ct){var nt;if(lt){if(typeof lt=="string")return st(lt,ct);var gt=g(nt=Object.prototype.toString.call(lt)).call(nt,8,-1);if(gt==="Object"&&lt.constructor&&(gt=lt.constructor.name),gt==="Map"||gt==="Set")return d(lt);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return st(lt,ct)}}function st(lt,ct){(ct==null||ct>lt.length)&&(ct=lt.length);for(var nt=0,gt=new Array(ct);nt<ct;nt++)gt[nt]=lt[nt];return gt}var K=0,yt=function(){function lt(ct,nt,gt){(0,p.default)(this,lt),this.map=ct,this.styleManager=new y.default((0,s.default)(this));var Pt=[],ft=b(nt.visibleLayers),St;try{for(ft.s();!(St=ft.n()).done;){var At=St.value,Et=this.createArcGISFeatureLayer(nt,At,gt);Pt.push(Et)}}catch(_){ft.e(_)}finally{ft.f()}var Tt=new m.default({id:nt.id,info:nt,layerTag:nt.layerTag,opacity:nt.opacity,zIndex:nt.mapIndex,initExtent:gt.initExtent,minResolution:nt.minResolution,maxResolution:nt.maxResolution,isFit:typeof nt.isFit=="boolean"?nt.isFit:![],layers:Pt});return Tt}return(0,I.default)(lt,[{key:"createArcGISFeatureLayer",value:function(nt,gt,Pt){var ft=this,St=this,At=new A.default,Et=(0,s.default)(this).getView().getProjection().getCode(),Tt=Et.split(":")[1],_=[],rt;(0,s.default)(this).on("moveend",function(){if((0,S.default)(this,ft),_.length>0)for(var ut=_.length-1;ut>=0;ut--){var it=_[ut];if((0,s.default)(this).getView().getResolution()>=it.resolution)return;if((0,T.default)(_).call(_,ut,1),rt){var z=this.createTurfPolygonFromExtent(it.extent),D=(0,B.default)(rt,z);if(D&&(0,N.default)(D)===(0,N.default)(D))continue}var L=b(it.features),V;try{for(L.s();!(V=L.n()).done;){var k=V.value;et.removeFeature(k)}}catch($){L.e($)}finally{L.f()}et.removeLoadedExtent(it.extent)}}.bind(this));var Q=(0,s.default)(this).getView().getMaxResolution(),et=new f.Vector({loader:function(it,z,D,L,V){var k=nt.layerDefs;if(k){var $=typeof k=="string"?JSON.parse(k):k;this.where=$[gt]}var ht=this.where?this.where:"1=1",q=nt.url+"/"+gt+"/query/?f=json&where="+encodeURIComponent(ht)+"&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent('{"xmin":'+it[0]+',"ymin":'+it[1]+',"xmax":'+it[2]+',"ymax":'+it[3]+',"spatialReference":{"wkid":'+Tt+"}}")+"&geometryType=esriGeometryEnvelope&inSR="+Tt+"&outFields=*&outSR="+Tt;nt.authkey&&(q+="&authkey="+nt.authkey),M.default.ajax({url:q,dataType:"jsonp",success:function(Z){var X=this,U=et.where?et.where:"1=1";if(ht===U)if(Z.error)L([]),u.error(Z.error.message+`
`+Z.error.details.join(`
`));else{var J=At.readFeatures(Z,{featureProjection:D});if(L(),J.length>0&&(et.addFeatures((0,s.default)(J).call(J,function(Y){var vt,dt;(0,S.default)(this,X);var Mt=(vt=Y.get(nt.keyField))!==null&&vt!==void 0?vt:K++;return Y.setId((0,v.default)(dt="".concat(gt,".")).call(dt,Mt)),Y}.bind(this))),J.length===Pt.maxRecordCount)){_.push({extent:it,resolution:z,features:J});return}rt=St.unionFeature(rt,it)}},error:function(){et.removeLoadedExtent(it),V()}})},strategy:(0,P.tile)((0,l.createXYZ)({maxResolution:Q,tileSize:512}))});et.updateParams=function(ut){var it=ut.layerDefs,z=JSON.parse(it);this.where=z[gt],this.refresh()};var xt=new c.Vector({id:nt.id,info:nt,layerTag:nt.layerTag,zIndex:nt.mapIndex,initExtent:Pt.initExtent,minZoom:nt.minZoom,maxZoom:nt.maxZoom,minResolution:nt.minResolution,maxResolution:nt.maxResolution,isFit:typeof nt.isFit=="boolean"?nt.isFit:![],source:et});return this.styleManager.bindLayer(xt),nt.symbol&&xt.setLayerStyle(nt.symbol),xt}},{key:"unionFeature",value:function(nt,gt){return nt?(0,r.default)(nt,this.createTurfPolygonFromExtent(gt)):this.createTurfPolygonFromExtent(gt)}},{key:"createTurfPolygonFromExtent",value:function(nt){var gt=[];return gt.push([nt[0],nt[1]]),gt.push([nt[0],nt[3]]),gt.push([nt[2],nt[3]]),gt.push([nt[2],nt[1]]),gt.push([nt[0],nt[1]]),(0,x.polygon)([gt])}}]),lt}(),tt=yt;C.default=tt},873925:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(122777)),d=u(t(42762)),h=t(17527),o=t(481534),i=t(972233),s=t(365094),T=t(110563),v=u(t(860031)),S=t(397054),p=u(t(966016)),I=function(){function f(m,A){return(0,g.default)(this,f),this.createArcGISWMTSLayer(m,A)}return(0,d.default)(f,[{key:"createArcGISWMTSLayer",value:function(A,M){var P=new v.default,l=P.read(M.xml),y=l.Contents.TileMatrixSet[0];y.SupportedCRS="EPSG:454700";var r=y.SupportedCRS;(0,o.registerProj)(r);var x=(0,S.optionsFromCapabilities)(l,{layer:A.visibleLayers[0]}),B=[];if(x.tileGrid.extent_&&x.tileGrid.extent_.length>0)B=x.tileGrid.extent_;else try{var N=(0,T.LoadXmlText)(N),b=N.getElementsByTagName("ows:LowerCorner")[0].textContent.split(" "),at=N.getElementsByTagName("ows:UpperCorner")[0].textContent.split(" ");B=[b[0]*1,b[1]*1,at[0]*1,at[1]*1]}catch{}var st=(0,i.get)(x.projection.code_);st.setExtent(B),x.format="image/png",x.crossOrigin="anonymous";var K=new s.WMTS({urls:x.urls,requestEncoding:x.requestEncoding,layer:x.layer,tileLoadFunction:function(lt,ct){ct.indexOf("jsp?")!==-1&&ct.indexOf("token")===-1&&ct.indexOf("tk")===-1?lt.getImage().src=ct.replace("&","?"):lt.getImage().src=ct},matrixSet:x.matrixSet,format:x.format,crossOrigin:x.crossOrigin,projection:st,tileGrid:new p.default({origin:A.origin?A.origin:x.tileGrid.origins_[0],resolutions:A.resolutions?A.resolutions:x.tileGrid.resolutions_,matrixIds:A.matrixIds?A.matrixIds:x.tileGrid.matrixIds_,extent:B}),style:x.style,wrapX:!![]}),yt=new h.Tile({id:A.id,info:A,layerTag:A.layerTag,opacity:A.opacity,zIndex:A.mapIndex,source:K,isFit:typeof A.isFit=="boolean"?A.isFit:![],initExtent:B});return yt.projection=r,yt}}]),f}(),c=I;C.default=c},920736:function(G,C,t){"use strict";var u=t(520314),g=t(426352),d=t(230551),h=t(43586),o=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var i=o(t(828866)),s=o(t(705146)),T=o(t(985208)),v=o(t(22466)),S=o(t(342579)),p=o(t(122777)),I=o(t(42762)),c=o(t(463206)),f=t(629615),m=o(t(978221)),A=o(t(627482)),M=t(223278),P=o(t(182293));function l(b,at){var st=typeof d<"u"&&h(b)||b["@@iterator"];if(!st){if(Array.isArray(b)||(st=y(b))||at&&b&&typeof b.length=="number"){st&&(b=st);var K=0,yt=function(){};return{s:yt,n:function(){return K>=b.length?{done:!![]}:{done:![],value:b[K++]}},e:function(gt){throw gt},f:yt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tt=!![],lt=![],ct;return{s:function(){st=st.call(b)},n:function(){var gt=st.next();return tt=gt.done,gt},e:function(gt){lt=!![],ct=gt},f:function(){try{!tt&&st.return!=null&&st.return()}finally{if(lt)throw ct}}}}function y(b,at){var st;if(b){if(typeof b=="string")return r(b,at);var K=u(st=Object.prototype.toString.call(b)).call(st,8,-1);if(K==="Object"&&b.constructor&&(K=b.constructor.name),K==="Map"||K==="Set")return g(b);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return r(b,at)}}function r(b,at){(at==null||at>b.length)&&(at=b.length);for(var st=0,K=new Array(at);st<at;st++)K[st]=b[st];return K}var x=0,B=function(){function b(at,st,K){(0,p.default)(this,b),this.map=at,this.styleManager=new m.default((0,i.default)(this));var yt=[],tt=l(st.visibleLayers),lt;try{for(tt.s();!(lt=tt.n()).done;){var ct=lt.value,nt=this.createPbfFeatureLayer(st,ct,K);yt.push(nt)}}catch(Pt){tt.e(Pt)}finally{tt.f()}var gt=new A.default({id:st.id,info:st,layerTag:st.layerTag,opacity:st.opacity,zIndex:st.mapIndex,initExtent:K.initExtent,isFit:typeof st.isFit=="boolean"?st.isFit:![],layers:yt});return gt}return(0,I.default)(b,[{key:"createPbfFeatureLayer",value:function(st,K,yt){var tt=yt.initExtent,lt=(0,i.default)(this).getView().getMaxResolution();st.maxResolution?lt=st.maxResolution:st.maxScale&&(lt=(0,i.default)(this).getResolutionFromScale(st.maxScale));var ct=new c.default({projection:(0,i.default)(this).getView().getProjection(),tileSize:[256,256],crossOrigin:"anonymous",wrapX:!![],url:st.url+"{x}{y}{z}",maxResolution:lt,tileLoadFunction:function(Pt){var ft=ct.where?ct.where:"1=1";st.where=ft,Pt.setLoader(function(St,At,Et){var Tt=this;(0,f.queryFeatureByPbf)({data:st,visibleLayer:K,f:st.supportedQueryFormat?st.supportedQueryFormat:"json",extent:St,geometry:St,resolution:At,projection:Et,returnExceededLimitFeatures:![]}).then(function(_){var rt=this;(0,S.default)(this,Tt);var Q=st.layerDefs;if(Q){var et=typeof Q=="string"?JSON.parse(Q):Q;ct.where=et[K]}var xt=ct.where?ct.where:"1=1";if(ft!==xt){Pt.setFeatures([]);return}var ut=[];if(_ instanceof Array){var it=l(_),z;try{for(it.s();!(z=it.n()).done;){var D=z.value,L=new M.GeoJSON().readFeatures(D);ut=(0,s.default)(ut).call(ut,L)}}catch(k){it.e(k)}finally{it.f()}}else ut=new M.GeoJSON().readFeatures(_);if(ut&&ut.length>0){if(!nt.get("attrKeys")){var V=(0,T.default)(ut[0].getProperties());V=(0,v.default)(V).call(V,function(k){return(0,S.default)(this,rt),!(k==="geometry"||k==="shape"||k==="shape_leng"||k==="SHAPE__Length"||k==="SHAPE__Area")}.bind(this)),nt.set("attrKeys",V)}Pt.setFeatures((0,i.default)(ut).call(ut,function(k){var $,ht;(0,S.default)(this,rt);var q=($=k.get(st.keyField))!==null&&$!==void 0?$:x++;return k.setId((0,s.default)(ht="".concat(K,".")).call(ht,q)),k}.bind(this)))}else Pt.setFeatures([])}.bind(this))})}});ct.updateParams=function(gt){var Pt=gt.layerDefs,ft=JSON.parse(Pt);this.where=ft[K],this.refresh()};var nt=new P.default({id:st.id,info:st,layerTag:st.layerTag,zIndex:st.mapIndex,initExtent:tt,minZoom:st.minZoom,maxZoom:st.maxZoom,isFit:typeof st.isFit=="boolean"?st.isFit:![],declutter:!![],updateWhileInteracting:!![],source:ct});return this.styleManager.bindLayer(nt),st.symbol&&nt.setLayerStyle(st.symbol),nt.set("initExtent",tt),nt}}]),b}(),N=B;C.default=N},23032:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(828866)),d=u(t(122777)),h=u(t(42762)),o=t(867040),i=u(t(383266)),s=u(t(233964)),T=u(t(463206)),v=u(t(726988)),S=u(t(978221)),p=function(){function c(f,m,A){return(0,d.default)(this,c),this.map=f,this.styleManager=new S.default((0,g.default)(this)),this.createArcGISVectorTiledLayer(m,A)}return(0,h.default)(c,[{key:"createArcGISVectorTiledLayer",value:function(m,A){var M=(0,o.appendPath)(m.url,A.extUrl);m.authkey&&(M=(0,o.addParamToUrl)(M,"authkey",m.authkey));var P=new s.default({id:m.id,info:m,layerTag:m.layerTag,opacity:m.opacity,zIndex:m.mapIndex,initExtent:A.initExtent,minZoom:m.minZoom,maxZoom:m.maxZoom,minResolution:m.minResolution,maxResolution:m.maxResolution?m.maxResolution:A.resolutions[0]*2,isFit:typeof m.isFit=="boolean"?m.isFit:![],source:new T.default({projection:A.projection,format:new v.default,crossOrigin:"anonymous",tileGrid:new i.default({extent:A.extent,origin:A.origin,resolutions:A.resolutions,tileSize:A.tileSize}),url:M})});return this.styleManager.bindLayer(P),m.symbol&&P.setLayerStyle(m.symbol),P}}]),c}(),I=p;C.default=I},124758:function(G,C,t){"use strict";var u=t(149500),g=t(520314),d=t(426352),h=t(230551),o=t(43586),i=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var s=i(t(578756)),T=i(t(66273)),v=i(t(828866)),S=i(t(705146)),p=i(t(638006)),I=i(t(342579)),c=i(t(122777)),f=i(t(42762)),m=t(17527),A=i(t(627482)),M=i(t(615550)),P=t(365094),l=i(t(202692)),y=t(265816),r=i(t(401865)),x=i(t(835569));function B(K,yt){var tt=typeof h<"u"&&o(K)||K["@@iterator"];if(!tt){if(Array.isArray(K)||(tt=N(K))||yt&&K&&typeof K.length=="number"){tt&&(K=tt);var lt=0,ct=function(){};return{s:ct,n:function(){return lt>=K.length?{done:!![]}:{done:![],value:K[lt++]}},e:function(St){throw St},f:ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt=!![],gt=![],Pt;return{s:function(){tt=tt.call(K)},n:function(){var St=tt.next();return nt=St.done,St},e:function(St){gt=!![],Pt=St},f:function(){try{!nt&&tt.return!=null&&tt.return()}finally{if(gt)throw Pt}}}}function N(K,yt){var tt;if(K){if(typeof K=="string")return b(K,yt);var lt=g(tt=Object.prototype.toString.call(K)).call(tt,8,-1);if(lt==="Object"&&K.constructor&&(lt=K.constructor.name),lt==="Map"||lt==="Set")return d(K);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return b(K,yt)}}function b(K,yt){(yt==null||yt>K.length)&&(yt=K.length);for(var tt=0,lt=new Array(yt);tt<yt;tt++)lt[tt]=K[tt];return lt}var at=function(){function K(yt){(0,c.default)(this,K),this.map=yt}return(0,f.default)(K,[{key:"generate",value:function(tt,lt){var ct=this,nt=this;return new s.default(function(gt){var Pt=this;if((0,I.default)(this,ct),tt.visibleLayers&&tt.visibleLayers.length>0){var ft=[],St=[],At=B(tt.visibleLayers),Et;try{for(At.s();!(Et=At.n()).done;){var Tt=Et.value,_=this.createArcGISFeatureLayer(tt,Tt,lt);St.push(_)}}catch(et){At.e(et)}finally{At.f()}var rt=JSON.parse((0,T.default)(tt));rt.mapIndex=rt.mapIndex-.1;var Q=new x.default((0,v.default)(this)).generate(rt);St.push(Q),s.default.all(St).then(function(et){var xt=this;if((0,I.default)(this,Pt),et&&et.length>0){et.forEach(function(z){(0,I.default)(this,xt),ft=(0,S.default)(ft).call(ft,z)}.bind(this));var ut=tt.isZoomToLayer?tt.isZoomToLayer:![],it=new A.default({id:tt.id,info:tt,layerTag:tt.layerTag,opacity:tt.opacity,zIndex:tt.mapIndex,initExtent:lt.initExtent,minResolution:tt.minResolution,maxResolution:tt.maxResolution,isFit:ut,layers:ft,updateParams:function(D,L){(0,I.default)(this,xt),nt.updateParams(tt,D,L)}.bind(this)});gt(it)}}.bind(this)).catch(function(et){(0,I.default)(this,Pt),u.error(et)}.bind(this))}}.bind(this))}},{key:"createArcGISFeatureLayer",value:function(tt,lt,ct){var nt=this;return new s.default(function(gt){(0,I.default)(this,nt);var Pt=this,ft=[],St=new p.default,At=new M.default,Et=(0,v.default)(this).getView().getProjection().getCode(),Tt=Et.split(":")[1],_=ct.initExtent,rt=tt.zjFilter?tt.zjFilter:"1=1",Q=typeof tt.isFit=="boolean"?tt.isFit:![],et=tt.url+"/"+lt+"/query/?f=json&where="+encodeURIComponent(rt)+"&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent('{"xmin":'+_[0]+',"ymin":'+_[1]+',"xmax":'+_[2]+',"ymax":'+_[3]+',"spatialReference":{"wkid":4326}}')+"&geometryType=esriGeometryEnvelope&inSR=4326&outFields=*&outSR="+Tt;tt.authkey&&(et+="&authkey="+tt.authkey),l.default.ajax({url:et,dataType:"jsonp",success:function(ut){var it=this;if(ut.error)u.error(ut.error.message+`
`+ut.error.details.join(`
`));else{var z=At.readFeatures(ut,{featureProjection:Et});z.length>0&&(z.forEach(function(D){(0,I.default)(this,it);var L=D.getProperties(),V=L.fscale?L.fscale:L.FSCALE,k=L.xzqmc?L.xzqmc:L.XZQMC,$=L.name?L.name:L.NAME;if(k=k||$,!St.get(V)){var ht=new P.Vector,q=new m.Vector({id:tt.id,layerTag:tt.layerTag,opacity:tt.opacity,zIndex:tt.mapIndex,info:tt,initExtent:ct.initExtent,minResolution:tt.minResolution,maxResolution:tt.maxResolution,isFit:Q,source:ht});ft.push(q),St.set(V,q)}var R=(0,y.getLabelStyle)(tt.zjOptions,k);D.setStyle(R),tt.translate&&tt.translate[k]&&D.getGeometry().setCoordinates(tt.translate[k]),St.get(V).getSource().addFeature(D)}.bind(this)),Pt.changeVisible(St),(0,v.default)(Pt).on("moveend",function(){Pt.changeVisible(St)}))}gt(ft)},error:function(){gt(ft)}})}.bind(this))}},{key:"changeVisible",value:function(tt){var lt=(0,v.default)(this).getView().getZoom();tt.forEach(function(ct,nt){nt?lt>=nt?ct.setVisible(!![]):ct.setVisible(![]):ct.setVisible(!![])})}},{key:"updateParams",value:function(tt,lt,ct){tt.zjFilter=lt,tt.filter=ct;var nt=r.default.getInstance((0,v.default)(this));nt.removeLayer(tt),nt.addLayer(tt)}}]),K}(),st=at;C.default=st},265816:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.getLabelStyle=void 0;var g=u(t(342579)),d=t(91873),h=u(t(286220)),o=void 0,i=function(T,v){(0,g.default)(this,o);var S=T&&T.fontSize?T.fontSize:18,p=T&&T.fontColor?T.fontColor:"#333",I=T&&T.strokeColor?T.strokeColor:"#fff",c=new d.Style({text:new h.default({font:S+"px serif",text:v,fill:new d.Fill({color:p}),stroke:new d.Stroke({color:I,width:3}),offsetY:-(S/2+8)})});return c}.bind(void 0);C.getLabelStyle=i},830149:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.BaiduImage=s;var g=u(t(361483)),d=u(t(528715)),h=u(t(383266)),o=t(972233),i=u(t(905621));function s(){var T=[-2003772637e-2,-1247410417e-2,2003772637e-2,1247410417e-2],v=new o.Projection({code:"baidu",extent:T,units:"m"});(0,o.addProjection)(v),(0,o.addCoordinateTransforms)("EPSG:4326",v,i.default.ll2bmerc,i.default.bmerc2ll),(0,o.addCoordinateTransforms)("EPSG:3857",v,i.default.smerc2bmerc,i.default.bmerc2smerc);for(var S=new Array(19),p=0;p<19;++p)S[p]=Math.pow(2,18-p);var I=new g.default({source:new d.default({projection:"baidu",maxZoom:18,wrapX:!![],tileUrlFunction:function(f){var m=f[1],A=-f[2]-1,M=f[0];return m<0&&(m="M"+-m),A<0&&(A="M"+-A),"http://shangetu"+parseInt(Math.random()*10)+".map.bdimg.com/it/u=x="+m+";y="+A+";z="+M+";v=009;type=sate&fm=46&udt=20170606"},tileGrid:new h.default({resolutions:S,origin:[0,0]})})});return I}},221401:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.BaiduRoad=T;var g=u(t(828866)),d=u(t(361483)),h=u(t(528715)),o=u(t(383266)),i=t(972233),s=u(t(905621));function T(){var v,S=[-2003772637e-2,-1247410417e-2,2003772637e-2,1247410417e-2],p=new i.Projection({code:"baidu",extent:S,units:"m"});(0,i.addProjection)(p),(0,i.addCoordinateTransforms)("EPSG:4326",p,s.default.ll2bmerc,s.default.bmerc2ll),(0,i.addCoordinateTransforms)("EPSG:3857",p,s.default.smerc2bmerc,s.default.bmerc2smerc);for(var I=new Array(19),c=0;c<19;++c)I[c]=Math.pow(2,18-c);var f=(0,g.default)(v=[0,1,2,3]).call(v,function(A){return"http://maponline"+A+".bdimg.com/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=sl&showtext=1&v=083&udt=20191119"}),m=new d.default({source:new h.default({projection:"baidu",maxZoom:18,wrapX:!![],tileUrlFunction:function(M){var P=M[1],l=-M[2]-1,y=M[0],r=(P<<y)+l,x=r%f.length;return x=x<0?x+f.length:x,P<0&&(P="M"+-P),l<0&&(l="M"+-l),f[x].replace("{x}",P).replace("{y}",l).replace("{z}",y)},tileGrid:new o.default({resolutions:I,origin:[0,0]})})});return m}},296529:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.BaiduVector=T;var g=u(t(828866)),d=u(t(361483)),h=u(t(528715)),o=u(t(383266)),i=t(972233),s=u(t(905621));function T(){var v,S=[-2003772637e-2,-1247410417e-2,2003772637e-2,1247410417e-2],p=new i.Projection({code:"baidu",extent:S,units:"m"});(0,i.addProjection)(p),(0,i.addCoordinateTransforms)("EPSG:4326",p,s.default.ll2bmerc,s.default.bmerc2ll),(0,i.addCoordinateTransforms)("EPSG:3857",p,s.default.smerc2bmerc,s.default.bmerc2smerc);for(var I=new Array(19),c=0;c<19;++c)I[c]=Math.pow(2,18-c);var f=(0,g.default)(v=[0,1,2,3]).call(v,function(A){return"http://maponline"+A+".bdimg.com/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=pl&scaler=1&udt=20191119"}),m=new d.default({source:new h.default({projection:"baidu",maxZoom:18,wrapX:!![],tileUrlFunction:function(M){var P=M[1],l=-M[2]-1,y=M[0],r=(P<<y)+l,x=r%f.length;return x=x<0?x+f.length:x,P<0&&(P="M"+-P),l<0&&(l="M"+-l),f[x].replace("{x}",P).replace("{y}",l).replace("{z}",y)},tileGrid:new o.default({resolutions:I,origin:[0,0]})})});return m}},695459:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(828866)),d=u(t(122777)),h=u(t(42762)),o=u(t(463206)),i=u(t(726988)),s=u(t(383266)),T=u(t(978221)),v=u(t(182293)),S=function(){function I(c,f,m){return(0,d.default)(this,I),this.map=c,this.styleManager=new T.default((0,g.default)(this)),this.createVectorTiledLayer(f,m)}return(0,h.default)(I,[{key:"createVectorTiledLayer",value:function(f,m){var A=m.WMTSSourceOptions,M=[],P=new v.default({id:f.id,info:f,layerTag:f.layerTag,opacity:f.opacity,zIndex:f.mapIndex,minZoom:f.minZoom,maxZoom:f.maxZoom,initExtent:m.initExtent,isFit:typeof f.isFit=="boolean"?f.isFit:![],source:new o.default({projection:(0,g.default)(this).getView().getProjection().getCode(),crossOrigin:"anonymous",format:new i.default,wrapX:!![],extent:A.tileGrid.extent_,tileGrid:new s.default({tileSize:A.tileGrid.tileSizes_[0],origin:A.tileGrid.origins_[0],resolutions:A.tileGrid.resolutions_,matrixIds:A.tileGrid.matrixIds_}),url:m.requestUrl})});return m.initExtent?M=m.initExtent:A.tileGrid.extent_&&(M=A.tileGrid.extent_),this.styleManager.bindLayer(P),f.symbol&&P.setLayerStyle(f.symbol),P.set("initExtent",M),P}}]),I}(),p=S;C.default=p},367625:function(G,C,t){"use strict";var u=t(149500),g=t(29870),d=t(787879),h=t(183393),o=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var i=o(t(828866)),s=o(t(22466)),T=o(t(342579)),v=o(t(122777)),S=o(t(42762)),p=t(17527),I=t(365094),c=o(t(51462)),f=o(t(349162)),m=o(t(978221)),A=t(242584),M=y(t(419026)),P=o(t(683605));function l(B){if(typeof d!="function")return null;var N=new d,b=new d;return(l=function(st){return st?b:N})(B)}function y(B,N){if(!N&&B&&B.__esModule)return B;if(B===null||g(B)!=="object"&&typeof B!="function")return{default:B};var b=l(N);if(b&&b.has(B))return b.get(B);var at={},st=Object.defineProperty&&h;for(var K in B)if(K!=="default"&&Object.prototype.hasOwnProperty.call(B,K)){var yt=st?h(B,K):null;yt&&(yt.get||yt.set)?Object.defineProperty(at,K,yt):at[K]=B[K]}return at.default=B,b&&b.set(B,at),at}var r=function(){function B(N,b,at){return(0,v.default)(this,B),this.map=N,this.styleManager=new m.default((0,i.default)(this)),this.createGeoServerWFSLayer(b,at)}return(0,S.default)(B,[{key:"createGeoServerWFSLayer",value:function(b,at){var st=this,K=new I.Vector({format:new f.default,loader:function(lt,ct,nt,gt,Pt){var ft=this;(0,T.default)(this,st);var St=(0,s.default)(K)?(0,s.default)(K):(0,s.default)(b)?(0,s.default)(b):null,At={srsName:nt.getCode(),featureTypes:b.visibleLayers,bbox:lt,geometryName:b.geoStr||"the_geom",outputFormat:"application/json"};St&&(typeof St=="string"?At.filter=new P.default().read(St):At.filter=this.parseFilter(St));var Et=new c.default().writeGetFeature(At),Tt=b.url;b.authkey&&(Tt=Tt+"?authkey="+b.authkey),fetch(Tt,{method:"POST",body:new XMLSerializer().serializeToString(Et)}).then(function(_){return(0,T.default)(this,ft),_.json()}.bind(this)).then(function(_){(0,T.default)(this,ft);var rt=(0,s.default)(K)?(0,s.default)(K):(0,s.default)(b)?(0,s.default)(b):null;if(St===rt){var Q=new f.default().readFeatures(_);K.addFeatures(Q),gt(Q)}}.bind(this)).catch(function(){(0,T.default)(this,ft),K.removeLoadedExtent(lt),Pt()}.bind(this))}.bind(this),strategy:A.bbox});K.updateParams=function(tt){this.filter=tt.CQL_FILTER,this.refresh()};var yt=new p.Vector({id:b.id,info:b,layerTag:b.layerTag,opacity:b.opacity,zIndex:b.mapIndex,initExtent:at.initExtent,minZoom:b.minZoom,maxZoom:b.maxZoom,minResolution:b.minResolution,maxResolution:b.maxResolution,isFit:typeof b.isFit=="boolean"?b.isFit:![],source:K});return this.styleManager.bindLayer(yt),b.symbol&&yt.setLayerStyle(b.symbol),yt}},{key:"parseFilter",value:function(b){if(!b.type){u.warn("type\u5B57\u6BB5\u4E0D\u5B58\u5728");return}if(!b.param){u.warn("param\u5B57\u6BB5\u4E0D\u5B58\u5728");return}var at=[];switch(b.type.toLowerCase()){case"and":for(var st=0;st<b.param.length;st++){var K=this.parseFilter(b.param[st]);at.push(K)}return M.and.apply(null,at);case"or":for(var yt=0;yt<b.param.length;yt++){var tt=this.parseFilter(b.param[yt]);at.push(tt)}return M.or.apply(null,at);case"not":for(var lt=0;lt<b.param.length;lt++){var ct=this.parseFilter(b.param[lt]);at.push(ct)}return M.not.apply(null,at);case"=":return M.equalTo(b.param[0],b.param[1]);case"!==":return M.notEqualTo(b.param[0],b.param[1]);case">":return M.greaterThan(b.param[0],b.param[1]);case"<":return M.lessThan(b.param[0],b.param[1]);case">=":return M.greaterThanOrEqualTo(b.param[0],b.param[1]);case"<=":return M.lessThanOrEqualTo(b.param[0],b.param[1]);case"between":return M.between(b.param[0],b.param[1],b.param[2])}}}]),B}(),x=r;C.default=x},515126:function(G,C,t){"use strict";var u=t(520314),g=t(426352),d=t(230551),h=t(43586),o=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var i=o(t(22466)),s=o(t(342579)),T=o(t(122777)),v=o(t(42762)),S=t(17527),p=o(t(377019)),I=t(365094),c=t(110563);function f(l,y){var r=typeof d<"u"&&h(l)||l["@@iterator"];if(!r){if(Array.isArray(l)||(r=m(l))||y&&l&&typeof l.length=="number"){r&&(l=r);var x=0,B=function(){};return{s:B,n:function(){return x>=l.length?{done:!![]}:{done:![],value:l[x++]}},e:function(K){throw K},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N=!![],b=![],at;return{s:function(){r=r.call(l)},n:function(){var K=r.next();return N=K.done,K},e:function(K){b=!![],at=K},f:function(){try{!N&&r.return!=null&&r.return()}finally{if(b)throw at}}}}function m(l,y){var r;if(l){if(typeof l=="string")return A(l,y);var x=u(r=Object.prototype.toString.call(l)).call(r,8,-1);if(x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set")return g(l);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return A(l,y)}}function A(l,y){(y==null||y>l.length)&&(y=l.length);for(var r=0,x=new Array(y);r<y;r++)x[r]=l[r];return x}var M=function(){function l(y,r){return(0,T.default)(this,l),this.createImageWMSLayer(y,r)}return(0,v.default)(l,[{key:"createImageWMSLayer",value:function(r,x){var B=this,N=x||{},b=N.groupinfo,at;if(r.url.indexOf("?")>-1)at=r.url;else{var st=r.url.lastIndexOf("/");at=r.url.substring(0,st);var K=r.url.substring(st+1,r.url.length).split(":")[0];at=at+"/"+K+"/wms"}var yt={LAYERS:r.visibleLayers,VERSION:"1.1.0"};(0,i.default)(r)&&(yt.CQL_FILTER=(0,i.default)(r)),r.authkey&&(yt.authkey=r.authkey);var tt=new S.Image({id:r.id,info:r,groupinfo:b,layerTag:r.layerTag,opacity:r.opacity,zIndex:r.mapIndex,initExtent:x.initExtent,minZoom:r.minZoom,maxZoom:r.maxZoom,minResolution:r.minResolution,maxResolution:r.maxResolution,isFit:typeof r.isFit=="boolean"?r.isFit:![],source:new I.ImageWMS({crossOrigin:"anonymous",url:at,params:yt})});if(!r.geoStr){var lt={typeName:r.selectLayer?r.selectLayer:r.visibleLayers[0],service:"wfs",Request:"DescribeFeatureType",authkey:r.authkey};p.default.get(r.url,{params:lt,timeout:5e3,headers:{"content-type":"application/xml"}}).then(function(ct){(0,s.default)(this,B);var nt;try{nt=(0,c.LoadXmlText)(ct.headers?ct.data:ct)}catch{return}var gt=nt.getElementsByTagName("xsd:sequence")[0].children,Pt=f(gt),ft;try{for(Pt.s();!(ft=Pt.n()).done;){var St,At=ft.value;((St=At.getAttribute("type"))===null||St===void 0?void 0:St.indexOf("gml"))>-1&&(r.geoStr=At.getAttribute("name"))}}catch(Et){Pt.e(Et)}finally{Pt.f()}}.bind(this))}return tt}}]),l}(),P=M;C.default=P},377597:function(G,C,t){"use strict";var u=t(452909),g=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var d=g(t(452909)),h=g(t(122777)),o=g(t(42762)),i=t(17527),s=t(365094),T=t(542422),v=g(t(860031)),S=g(t(202692)),p=t(972233),I=function(){function f(m,A,M){return(0,h.default)(this,f),this.map=m,this.createWMTSLayer(A,M)}return(0,o.default)(f,[{key:"createWMTSLayer",value:function(A,M){var P=[],l=new v.default,y;try{y=l.read(M.CapabilitiesXml)}catch{throw new Error("\u5F53\u524D\u7528\u6237\u6CA1\u6743\u9650,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458")}var r=new i.Tile({id:A.id,info:A,layerTag:A.layerTag,opacity:A.opacity,zIndex:A.mapIndex,minZoom:A.minZoom,maxZoom:A.maxZoom,minResolution:A.minResolution,maxResolution:A.maxResolution,isFit:typeof A.isFit=="boolean"?A.isFit:![],source:new s.WMTS(M.WMTSSourceOptions)});if(M.WGS84BoundingBox)P=(0,p.transformExtent)(M.WGS84BoundingBox,"EPSG:4326",M.projection);else if(r.getSource().getTileGrid().extent_)P=r.getSource().getTileGrid().extent_;else{for(var x,B=new DOMParser().parseFromString(M.CapabilitiesXml,"text/xml"),N=(0,d.default)(x=(0,S.default)(B)).call(x,"Layer"),b,at=0;at<N.length&&((0,S.default)(N[at]).children("ows\\:Identifier")[0].innerHTML.toString()===A.visibleLayers[0].toString()&&(b=(0,S.default)(N[at]).children("TileMatrixSetLink").children("TileMatrixSet")[0].innerHTML),!b);at++);var st=r.getSource().getTileGrid().origins_[0],K=r.getSource().getTileGrid().resolutions_[0],yt=y.Contents.TileMatrixSet,tt=u(T)(yt,function(Pt){return Pt.Identifier===b}),lt=tt.TileMatrix[0].MatrixHeight,ct=tt.TileMatrix[0].MatrixWidth,nt=tt.TileMatrix[0].TileWidth,gt=tt.TileMatrix[0].TileHeight;P=[st[0],st[1]-K*lt*gt,st[0]+K*ct*nt,st[1]]}return r.getSource().urls.length>0&&(r.getSource().urls[0].indexOf("apikey")!==-1||r.getSource().urls[0].indexOf("newmap")!==-1)&&(P=[117.6,35.54,120.87,37.48]),r.set("initExtent",(0,p.transformExtent)(P,M.projection,"EPSG:4326")),r}}]),f}(),c=I;C.default=c},883567:function(G,C,t){"use strict";var u=t(465557),g=t(520314),d=t(426352),h=t(230551),o=t(43586),i=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=C.LegendEvent=void 0;var s=i(t(828866)),T=i(t(638006)),v=i(t(578756)),S=i(t(705146)),p=i(t(867038)),I=i(t(22466)),c=i(t(342579)),f=i(t(42762)),m=i(t(122777)),A=i(t(330044)),M=i(t(299085)),P=i(t(234009)),l=i(t(10299)),y=i(t(12207));function r(K,yt){var tt=typeof h<"u"&&o(K)||K["@@iterator"];if(!tt){if(Array.isArray(K)||(tt=x(K))||yt&&K&&typeof K.length=="number"){tt&&(K=tt);var lt=0,ct=function(){};return{s:ct,n:function(){return lt>=K.length?{done:!![]}:{done:![],value:K[lt++]}},e:function(St){throw St},f:ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt=!![],gt=![],Pt;return{s:function(){tt=tt.call(K)},n:function(){var St=tt.next();return nt=St.done,St},e:function(St){gt=!![],Pt=St},f:function(){try{!nt&&tt.return!=null&&tt.return()}finally{if(gt)throw Pt}}}}function x(K,yt){var tt;if(K){if(typeof K=="string")return B(K,yt);var lt=g(tt=Object.prototype.toString.call(K)).call(tt,8,-1);if(lt==="Object"&&K.constructor&&(lt=K.constructor.name),lt==="Map"||lt==="Set")return d(K);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return B(K,yt)}}function B(K,yt){(yt==null||yt>K.length)&&(yt=K.length);for(var tt=0,lt=new Array(yt);tt<yt;tt++)lt[tt]=K[tt];return lt}function N(K){var yt=b();return function(){var lt=(0,P.default)(K),ct;if(yt){var nt=(0,P.default)(this).constructor;ct=u(lt,arguments,nt)}else ct=lt.apply(this,arguments);return(0,M.default)(this,ct)}}function b(){if(typeof Reflect>"u"||!u)return![];if(u.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!![]}catch{return![]}}var at=function(K){(0,A.default)(tt,K);var yt=N(tt);function tt(lt,ct){var nt;return(0,m.default)(this,tt),nt=yt.call(this,lt),nt.legend=ct,nt}return(0,f.default)(tt)}(y.default);C.LegendEvent=at;var st=function(){function K(yt){var tt=(0,s.default)(yt),lt=yt.layer,ct=yt.data;(0,m.default)(this,K),this.map=tt,this.layer=lt,this.data=ct,this.lastZoom=-1,!this.layer.legendMap&&(this.layer.legendMap=new T.default)}return(0,f.default)(K,[{key:"addLegendChangeListener",value:function(){var tt=this;this.layer.on("prerender",function(){var lt=this;(0,c.default)(this,tt);var ct=Math.round((0,s.default)(this).getView().getZoom());ct!==this.lastZoom&&(this.lastZoom=ct,this.layer.legendMap.get(ct)?this.layer.dispatchEvent(new at("changeLegend",this.layer.legendMap.get(ct))):this.getLegend(ct).then(function(nt){(0,c.default)(this,lt),this.layer.legendMap.set(ct,nt),this.layer.dispatchEvent(new at("changeLegend",nt))}.bind(this)))}.bind(this))}},{key:"getLegend",value:function(tt){var lt=this,ct=this.data.geowayInfo;return new v.default(function(nt){var gt,Pt,ft,St=this;(0,c.default)(this,lt);var At=(0,S.default)(gt=(0,S.default)(Pt=(0,S.default)(ft="".concat(ct.hostUrl,"/styleInfo/")).call(ft,ct.serverName,"/")).call(Pt,ct.styleId,"/")).call(gt,tt,"/legend.json");l.default.get(At).then(function(Et){var Tt,_=this;(0,c.default)(this,St);var rt=Et==null||(Tt=Et.data)===null||Tt===void 0?void 0:Tt.legends,Q=[];if(rt){var et=new T.default,xt=r(rt),ut;try{for(xt.s();!(ut=xt.n()).done;){var it,z=ut.value,D=void 0;if(z.query){var L=/AND \/?$/.exec(z.query);D=L?z.query.substring(0,L.index):z.query}!et.get(z.layerId)&&et.set(z.layerId,[]);var V={id:z.id,pid:z.pid,path:z.path,label:z.name,filter:D,imageData:(it=z.ico)===null||it===void 0?void 0:it.replace("data:image/png;base64,",""),contentType:"image/png",height:20,width:20};et.get(z.layerId).push(V)}}catch(U){xt.e(U)}finally{xt.f()}var k=r((0,p.default)(et).call(et)),$;try{for(k.s();!($=k.n()).done;){var ht=$.value;if(this.data.visibleLayers&&this.data.visibleLayers.indexOf(ht)===-1)return;var q=et.get(ht),R=void 0;q.length>1?(q=(0,I.default)(q).call(q,function(U){return(0,c.default)(this,_),(0,I.default)(U)}.bind(this)),R=!![]):R=![];var Z={layerId:ht,isSingleLegend:et.get(ht).length===1,isExistFilter:R,layerName:ht,legend:q};Q.push(Z)}}catch(U){k.e(U)}finally{k.f()}}var X={isShow:!![],title:this.data.label,layers:Q,type:"arcgis",info:this.data,id:this.data.id,isShowChildFilter:!![]};nt(X)}.bind(this))}.bind(this))}}]),K}();C.default=st},588095:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(828866)),d=u(t(122777)),h=u(t(42762)),o=t(17527),i=t(365094),s=t(867040),T=u(t(883567)),v=function(){function p(I,c,f){return(0,d.default)(this,p),this.map=I,this.createLayer(c,f)}return(0,h.default)(p,[{key:"createLayer",value:function(c,f){var m=f||{},A=m.requestUrl,M=f.geowayInfo||{},P=M.typeName,l=new o.Tile({id:c.id,info:c,layerTag:c.layerTag,initExtent:c.initExtent,opacity:c.opacity,zIndex:c.mapIndex,isFit:typeof c.isFit=="boolean"?c.isFit:![],source:new i.XYZ({crossOrigin:"anonymous",declutter:!![],url:A,projection:"EPSG:4490"})});return l.filter=function(y){A=(0,s.addParamToUrl)(A,"control",y),this.getSource().setUrl(A),this.getSource().refresh()},P==="vmap"&&new T.default({map:(0,g.default)(this),layer:l,data:c}).addLegendChangeListener(),l}}]),p}(),S=v;C.default=S},42553:function(G,C,t){"use strict";var u=t(520314),g=t(426352),d=t(230551),h=t(43586),o=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var i=o(t(122777)),s=o(t(42762)),T=t(481534),v=t(411154);function S(m,A){var M=typeof d<"u"&&h(m)||m["@@iterator"];if(!M){if(Array.isArray(m)||(M=p(m))||A&&m&&typeof m.length=="number"){M&&(m=M);var P=0,l=function(){};return{s:l,n:function(){return P>=m.length?{done:!![]}:{done:![],value:m[P++]}},e:function(N){throw N},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!![],r=![],x;return{s:function(){M=M.call(m)},n:function(){var N=M.next();return y=N.done,N},e:function(N){r=!![],x=N},f:function(){try{!y&&M.return!=null&&M.return()}finally{if(r)throw x}}}}function p(m,A){var M;if(m){if(typeof m=="string")return I(m,A);var P=u(M=Object.prototype.toString.call(m)).call(M,8,-1);if(P==="Object"&&m.constructor&&(P=m.constructor.name),P==="Map"||P==="Set")return g(m);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return I(m,A)}}function I(m,A){(A==null||A>m.length)&&(A=m.length);for(var M=0,P=new Array(A);M<A;M++)P[M]=m[M];return P}var c=function(){function m(A){return(0,i.default)(this,m),this.generate(A)}return(0,s.default)(m,[{key:"generate",value:function(M){var P=M.url,l=v.GisqOfflineMbTilesLayer.getMedata(P);typeof l=="string"&&(l=JSON.parse(l)),(0,T.registerProj)(l.srs);var y=(0,T.getProj)(l.srs),r=l.origin.split(","),x=l.bounds.split(","),B=l.resolution.split(";"),N=[],b=S(B),at;try{for(b.s();!(at=b.n()).done;){var st=at.value;if(st&&st.length>0){var K=parseFloat(st.split("_")[0]);N.push(K)}}}catch(nt){b.e(nt)}finally{b.f()}for(var yt in r)r[yt]=parseFloat(r[yt]);for(var tt in x)x[tt]=parseFloat(x[tt]);var lt=new v.GisqOfflineMbTilesLayer({path:P,projection:y,resolutions:N,origin:r,tileType:"arcgis"}),ct=lt.getLayer();return ct.set("id",M.id),ct.set("info",M),ct.set("layerTag",M.layerTag),ct.setOpacity(M.opacity),ct.setZIndex(M.mapIndex),ct.set("isFit",M.isFit),ct.set("initExtent",x),ct}}]),m}(),f=c;C.default=f},182293:function(G,C,t){"use strict";var u=t(465557),g=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var d=g(t(122777)),h=g(t(42762)),o=g(t(330044)),i=g(t(299085)),s=g(t(234009)),T=g(t(233964)),v=g(t(566054));function S(f){var m=p();return function(){var M=(0,s.default)(f),P;if(m){var l=(0,s.default)(this).constructor;P=u(M,arguments,l)}else P=M.apply(this,arguments);return(0,i.default)(this,P)}}function p(){if(typeof Reflect>"u"||!u)return![];if(u.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!![]}catch{return![]}}var I=function(f){(0,o.default)(A,f);var m=S(A);function A(M){(0,d.default)(this,A);var P=M||{};return m.call(this,P)}return(0,h.default)(A,[{key:"createRenderer",value:function(){return new v.default(this)}}]),A}(T.default),c=I;C.default=c},566054:function(G,C,t){"use strict";var u=t(465557),g=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var d=g(t(122777)),h=g(t(42762)),o=g(t(330044)),i=g(t(299085)),s=g(t(234009)),T=g(t(612697)),v=t(875907),S=t(808530),p=g(t(156646));function I(M){var P=c();return function(){var y=(0,s.default)(M),r;if(P){var x=(0,s.default)(this).constructor;r=u(y,arguments,x)}else r=y.apply(this,arguments);return(0,i.default)(this,r)}}function c(){if(typeof Reflect>"u"||!u)return![];if(u.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!![]}catch{return![]}}var f={image:[p.default.POLYGON,p.default.CIRCLE,p.default.LINE_STRING,p.default.IMAGE,p.default.TEXT],hybrid:[p.default.POLYGON,p.default.LINE_STRING],vector:[]},m=function(M){(0,o.default)(l,M);var P=I(l);function l(y){return(0,d.default)(this,l),P.call(this,y)}return(0,h.default)(l,[{key:"renderTileImage_",value:function(r,x){var B=this.getLayer(),N=r.getReplayState(B),b=B.getRevision(),at=r.executorGroups[(0,v.getUid)(B)];N.renderedTileRevision=b;var st=r.wrappedTileCoord,K=st[0],yt=B.getSource(),tt=x.pixelRatio,lt=x.viewState,ct=lt.projection,nt=yt.getTileGridForProjection(ct),gt=nt.getResolution(r.tileCoord[0]),Pt=x.pixelRatio/r.wantedResolution*gt,ft=nt.getResolution(K),St=r.getContext(B);tt=Math.max(tt,Pt/tt);var At=yt.getTilePixelSize(K,tt,ct);St.canvas.width=At[0],St.canvas.height=At[1];var Et=tt/Pt;if(Et!==1){var Tt=(0,S.reset)(this.tmpTransform_);(0,S.scale)(Tt,Et,Et),St.setTransform.apply(St,Tt)}var _=nt.getTileCoordExtent(st,this.tmpExtent),rt=Pt/ft,Q=(0,S.reset)(this.tmpTransform_);(0,S.scale)(Q,rt,-rt),(0,S.translate)(Q,-_[0],-_[3]);for(var et=0,xt=at.length;et<xt;++et){var ut=at[et];ut.execute(St,Et,Q,0,!![],f[B.getRenderMode()])}N.renderedTileResolution=r.wantedResolution}}]),l}(T.default),A=m;C.default=A},418187:function(G,C,t){"use strict";var u=t(465557),g=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var d=g(t(122777)),h=g(t(42762)),o=g(t(553144)),i=g(t(330044)),s=g(t(299085)),T=g(t(234009)),v=t(365094),S=t(875907),p=g(t(10257));function I(m){var A=c();return function(){var P=(0,T.default)(m),l;if(A){var y=(0,T.default)(this).constructor;l=u(P,arguments,y)}else l=P.apply(this,arguments);return(0,s.default)(this,l)}}function c(){if(typeof Reflect>"u"||!u)return![];if(u.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!![]}catch{return![]}}var f=function(m){(0,i.default)(M,m);var A=I(M);function M(P){var l;(0,d.default)(this,M);var y=P||{};return l=A.call(this,y),l.hideFeatureCollection_=new p.default,l.hideIdIndex_={},l}return(0,h.default)(M,[{key:"setFeatureVisible",value:function(l,y){if(y){var x=this.hideIdIndex_[l.toString()];x&&(this.addFeature(x),this.hideFeatureCollection_.remove(x),delete this.hideIdIndex_[l.toString()])}else{var r=this.getFeatureById(l);r&&(this.hideFeatureCollection_.push(r),this.hideIdIndex_[l.toString()]=r,this.removeFeature(r))}}},{key:"removeFeatureById",value:function(l){var y=this.getFeatureById(l);y&&(0,o.default)((0,T.default)(M.prototype),"removeFeature",this).call(this,y)}},{key:"getResolutions",value:function(){return(0,S.abstract)()}}]),M}(v.Vector);C.default=f},683841:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(122777)),d=u(t(42762)),h=t(17527),o=t(365094),i=t(972233),s=t(905621),T=t(692086),v=u(t(383266)),S=function(){function I(c,f){return(0,g.default)(this,I),this.map=c,this.generate(f)}return(0,d.default)(I,[{key:"generate",value:function(f){var m=[72.004,.8293,137.8347,55.8271];m=(0,T.applyTransform)(m,s.ll2bmerc);var A=new i.Projection({code:"baidu",extent:m,units:"m"});(0,i.addProjection)(A),(0,i.addCoordinateTransforms)("EPSG:4490",A,s.ll2bmerc,s.bmerc2ll),(0,i.addCoordinateTransforms)("EPSG:4326",A,s.ll2bmerc,s.bmerc2ll),(0,i.addCoordinateTransforms)("EPSG:3857",A,s.smerc2bmerc,s.bmerc2smerc);for(var M=[],P=0;P<=18;P++)M[P]=Math.pow(2,18-P);var l=new v.default({origin:[0,0],resolutions:M}),y=new o.TileImage({projection:A,tileGrid:l,tileUrlFunction:function(B){var N=Math.floor(Math.random()*4),b=B[0],at=B[1],st=-B[2]-1;at<0&&(at="M"+-at),st<0&&(st="M"+-st);var K=f.url.replace("{s}",N).replace("{x}",at).replace("{y}",st).replace("{z}",b);return K}}),r=new h.Tile({id:f.id,info:f,layerTag:f.layerTag,initExtent:m,opacity:f.opacity,zIndex:f.mapIndex,isFit:typeof f.isFit=="boolean"?f.isFit:![],source:y});return r.set("initExtent",m),r}}]),I}(),p=S;C.default=p},18094:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var g=u(t(122777)),d=u(t(42762)),h=t(17527),o=t(365094),i=t(972233),s=t(905621),T=function(){function S(p,I){return(0,g.default)(this,S),this.map=p,this.generate(I)}return(0,d.default)(S,[{key:"generate",value:function(I){var c=[-20037508342789244e-9,-20037508342789244e-9,20037508342789244e-9,20037508342789244e-9],f=new i.Projection({code:"GCJ-02",extent:c,units:"m"});(0,i.addProjection)(f),(0,i.addCoordinateTransforms)("EPSG:4490",f,this.ll2gmerc,this.gmerc2ll),(0,i.addCoordinateTransforms)("EPSG:4326",f,this.ll2gmerc,this.gmerc2ll),(0,i.addCoordinateTransforms)("EPSG:3857",f,this.smerc2gmerc,this.gmerc2smerc);var m=new h.Tile({id:I.id,info:I,layerTag:I.layerTag,initExtent:c,opacity:I.opacity,zIndex:I.mapIndex,isFit:typeof I.isFit=="boolean"?I.isFit:![],source:new o.XYZ({crossOrigin:"anonymous",projection:f,url:I.url})}),A=m.getSource().getTileGrid().getExtent();return m.set("initExtent",A),m}},{key:"ll2gmerc",value:function(I,c,f){var m=s.datum.gcj02.fromWGS84(I,c,f);return(0,s.ll2smerc)(m,m,f)}},{key:"gmerc2ll",value:function(I,c,f){var m=(0,s.smerc2ll)(I,I,f);return s.datum.gcj02.toWGS84(m,c,f)}},{key:"smerc2gmerc",value:function(I,c,f){var m=(0,s.smerc2ll)(I,I,f);return m=s.datum.gcj02.fromWGS84(m,m,f),(0,s.ll2smerc)(m,m,f)}},{key:"gmerc2smerc",value:function(I,c,f){var m=(0,s.smerc2ll)(I,I,f);return m=s.datum.gcj02.toWGS84(m,m,f),(0,s.ll2smerc)(m,m,f)}}]),S}(),v=T;C.default=v},839600:function(G,C,t){"use strict";var u=t(520314),g=t(426352),d=t(230551),h=t(43586),o=t(985208),i=t(659791),s=t(22466),T=t(183393),v=t(105077),S=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var p=S(t(828866)),I=S(t(66273)),c=S(t(518853)),f=S(t(869257)),m=S(t(543389)),A=S(t(122777)),M=S(t(42762)),P=t(17527),l=t(365094),y=S(t(349162)),r=t(505775),x=S(t(627482)),B=S(t(647598)),N=t(91873),b=S(t(122305)),at=t(91873);function st(gt,Pt){var ft=o(gt);if(i){var St=i(gt);Pt&&(St=s(St).call(St,function(At){return T(gt,At).enumerable})),ft.push.apply(ft,St)}return ft}function K(gt){for(var Pt=1;Pt<arguments.length;Pt++){var ft=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?st(Object(ft),!0).forEach(function(St){(0,m.default)(gt,St,ft[St])}):v?Object.defineProperties(gt,v(ft)):st(Object(ft)).forEach(function(St){Object.defineProperty(gt,St,T(ft,St))})}return gt}function yt(gt,Pt){var ft=typeof d<"u"&&h(gt)||gt["@@iterator"];if(!ft){if(Array.isArray(gt)||(ft=tt(gt))||Pt&&gt&&typeof gt.length=="number"){ft&&(gt=ft);var St=0,At=function(){};return{s:At,n:function(){return St>=gt.length?{done:!![]}:{done:![],value:gt[St++]}},e:function(Q){throw Q},f:At}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Et=!![],Tt=![],_;return{s:function(){ft=ft.call(gt)},n:function(){var Q=ft.next();return Et=Q.done,Q},e:function(Q){Tt=!![],_=Q},f:function(){try{!Et&&ft.return!=null&&ft.return()}finally{if(Tt)throw _}}}}function tt(gt,Pt){var ft;if(gt){if(typeof gt=="string")return lt(gt,Pt);var St=u(ft=Object.prototype.toString.call(gt)).call(ft,8,-1);if(St==="Object"&&gt.constructor&&(St=gt.constructor.name),St==="Map"||St==="Set")return g(gt);if(St==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(St))return lt(gt,Pt)}}function lt(gt,Pt){(Pt==null||Pt>gt.length)&&(Pt=gt.length);for(var ft=0,St=new Array(Pt);ft<Pt;ft++)St[ft]=gt[ft];return St}var ct=function(){function gt(Pt,ft,St){return(0,A.default)(this,gt),this.map=Pt,this.generate(ft,St)}return(0,M.default)(gt,[{key:"generate",value:function(ft,St){var At,Et,Tt,_,rt,Q,et=St.geojson,xt=(0,p.default)(this).getView().getProjection().getCode(),ut={featureProjection:xt},it=new y.default(ut).readFeatures(et),z=[],D=yt(it),L;try{for(D.s();!(L=D.n()).done;){var V=L.value;if(V.getGeometry()instanceof r.Point){var k=V.getProperties();z.push(new B.default(k))}else{var $=(0,p.default)(this).getCenter(V),ht=V.getProperties();ht.geometry=new r.Point($),z.push(new B.default(ht))}}}catch(ue){D.e(ue)}finally{D.f()}var q={id:ft.id,info:ft,layerTag:ft.layerTag,zIndex:ft.mapIndex,minResolution:ft.minResolution,maxResolution:ft.maxResolution,isFit:typeof ft.isFit=="boolean"?ft.isFit:![]},R=new l.Vector,Z=new P.Vector(K(K({},q),{},{zIndex:ft.mapIndex+.1,source:R})),X=new l.Vector,U=new P.Vector(K(K({},q),{},{source:X})),J=[U,Z],Y=new x.default(K(K({},q),{},{layers:J}));if(it&&it.length>0){var vt=JSON.parse((0,I.default)(it[0].getGeometry().getExtent())),dt=yt(it),Mt;try{for(dt.s();!(Mt=dt.n()).done;){var H=Mt.value,wt=H.getGeometry().getExtent();vt[0]=Math.min(vt[0],wt[0]),vt[1]=Math.min(vt[1],wt[1]),vt[2]=Math.max(vt[2],wt[2]),vt[3]=Math.max(vt[3],wt[3])}}catch(ue){dt.e(ue)}finally{dt.f()}Y.set("initExtent",vt)}if(R.addFeatures(z),X.addFeatures(it),(At=ft.symbol)!==null&&At!==void 0&&(Et=At.styleOptions)!==null&&Et!==void 0&&(Tt=Et.label)!==null&&Tt!==void 0&&Tt.distanceDisplayCondition){var jt=ft.symbol.styleOptions.label,zt=this.getLevel(jt.distanceDisplayCondition_near),$t=this.getLevel(jt.distanceDisplayCondition_far);Z.setMaxZoom(zt),Z.setMinZoom($t)}if((_=ft.symbol)!==null&&_!==void 0&&(rt=_.styleOptions)!==null&&rt!==void 0&&rt.distanceDisplayCondition){var Jt=ft.symbol.styleOptions,Wt=this.getLevel(Jt.distanceDisplayCondition_near),te=this.getLevel(Jt.distanceDisplayCondition_far);U.setMaxZoom(Wt),U.setMinZoom(te)}var oe=new N.Style({fill:this.getFill("rgba(230,255,0,0.4)"),stroke:new N.Stroke({color:"rgba(255, 255, 0, 1)",width:5})});U.setStyle(oe);var ve=new N.Style({image:new at.Circle({fill:this.getFill("#00000000"),stroke:new N.Stroke({color:"#00000000"})})});if(Z.setStyle(ve),(Q=ft.symbol)!==null&&Q!==void 0&&Q.styleOptions){var Ht=yt(z),Dt;try{for(Ht.s();!(Dt=Ht.n()).done;){var le=Dt.value,Me=this.getStyle(ft.symbol,le.getProperties()),Xt=Me.label;if(Xt){var Se=Xt.field?Xt.field:Xt.text?Xt.text.replace("{","").replace("}",""):"";le.setStyle(new N.Style({text:new N.Text({text:le.getProperties()[Se]?le.getProperties()[Se]:Se,font:Xt.font_size+"px sans-serif",offsetX:Xt.pixelOffset?Xt.pixelOffset[0]:0,offsetY:Xt.pixelOffset?Xt.pixelOffset[1]:0,fill:new N.Fill({color:this.getColor(Xt.color,Xt.opacity)}),stroke:Xt.border?new N.Stroke({color:this.getColor(Xt.border_color,Xt.opacity)}):null,backgroundFill:Xt.background?this.getFill(this.getColor(Xt.background_color,Xt.background_opacity)):null}),image:Xt.image?new N.Icon({src:Xt.image}):null}))}}}catch(ue){Ht.e(ue)}finally{Ht.f()}var re=yt(it),kt;try{for(re.s();!(kt=re.n()).done;){var ie=kt.value,fe=void 0,qt=this.getStyle(ft.symbol,ie.getProperties());switch(ie.getGeometry().getType()){case"Point":case"MultiPoint":fe=new N.Style({image:qt.image?new N.Icon({src:qt.image}):null});break;case"LineString":case"MultiLineString":fe=new N.Style({stroke:new N.Stroke({color:qt.color?this.getColor(qt.color,qt.opacity):"rgba(255, 255, 0, 1)",width:qt.width?qt.width:5,lineDash:qt.lineType==="dash"?[5,10]:null})});break;case"Polygon":case"MultiPolygon":fe=new N.Style({stroke:new N.Stroke({color:qt.outline?this.getColor(qt.outlineColor,qt.opacity):"rgba(255, 255, 0, 1)",width:qt.outlineWidth?qt.outlineWidth:5}),fill:new N.Fill({color:(0,c.default)(qt)?this.getColor(qt.color,qt.opacity):"rgba(255, 255, 0, 0.4)"})});break}ie.setStyle(fe)}}catch(ue){re.e(ue)}finally{re.f()}}return Y}},{key:"getStyle",value:function(ft,St){if(ft.styleFieldOptions&&ft.styleField){var At=St[ft.styleField];if(ft.styleFieldOptions[At]){var Et=(0,f.default)(JSON.parse((0,I.default)(ft.styleOptions)),ft.styleFieldOptions[At]);return Et.label=(0,f.default)(JSON.parse((0,I.default)(ft.styleOptions.label)),ft.styleFieldOptions[At].label),Et}}return ft.styleOptions}},{key:"getFill",value:function(ft){return new N.Fill({color:ft})}},{key:"getColor",value:function(ft,St){return(0,b.default)(ft).alpha(St??1).hexa()}},{key:"getLevel",value:function(ft){return ft>48e6?0:ft>24e6?1:ft>12e6?2:ft>6e6?3:ft>3e6?4:ft>15e5?5:ft>75e4?6:ft>375e3?7:ft>187500?8:ft>93750?9:ft>46875?10:ft>23437.5?11:ft>11718.75?12:ft>5859.38?13:ft>2929.69?14:ft>1464.84?15:ft>732.42?16:ft>366.21?17:20}}]),gt}(),nt=ct;C.default=nt},919112:function(G,C,t){"use strict";var u=t(149500),g=t(452909),d=t(419534);Object.defineProperty(C,"__esModule",{value:!![]}),C.default=void 0;var h=d(t(122777)),o=d(t(42762)),i=t(17527),s=t(365094),T=t(542422),v=d(t(860031)),S=t(397054),p=t(692086),I=function(){function f(m,A){return(0,h.default)(this,f),this.createTDTLayer(m,A)}return(0,o.default)(f,[{key:"createTDTLayer",value:function(A,M){var P=[],l=new v.default,y=l.read(M.CapabilitiesXml),r=y.Contents.Layer,x=g(T)(r,function(nt){return A.visibleLayers&&A.visibleLayers.length>0&&nt.Identifier===A.visibleLayers[0]?A.visibleLayers[0]:A.name});P=x.WGS84BoundingBox;var B;try{var N=t(906278),b=l.read(N.default);B=(0,S.optionsFromCapabilities)(b,{layer:"vec",matrixSet:A.matrixSet,requestEncoding:"KVP"})}catch(nt){throw u.error(nt),new Error("\u56FE\u5C42"+A.label+"\u5207\u7247\u65B9\u6848\u6709\u8BEF")}B.crossOrigin="anonymous";for(var at=0;at<B.tileGrid.origins_.length;at++)B.tileGrid.origins_[at].reverse();B.urls[0]=A.url;for(var st=[],K=[],yt=18,tt=0;tt<=yt;++tt)st[tt]=(0,p.getWidth)([-180,-90,180,90])/256/Math.pow(2,tt),K[tt]=tt,B.tileGrid.origins_[tt]=B.tileGrid.origins_[0],B.tileGrid.tileSizes_[tt]=[256,256];B.tileGrid.extent_=P,B.tileGrid.resolutions_=st,B.tileGrid.matrixIds_=K,B.layer=A.visibleLayers[0],B.matrixSet=y.Contents.TileMatrixSet[0].Identifier,A.authkey&&(B.urls[0].indexOf("?")!==-1?B.urls[0]=B.urls[0]+"&authkey="+A.authkey:B.urls[0]=B.urls[0]+"?authkey="+A.authkey);var lt=A.mapIndex?A.mapIndex:-1;lt<0&&(lt=A.zIndex?A.zIndex:-1),A.isOverLimt&&(B.tileGrid.fullTileRanges_=[]);var ct=new i.Tile({id:A.id,info:A,layerTag:A.layerTag,opacity:1,initExtent:P,minResolution:A.minResolution,maxResolution:A.maxResolution,isFit:typeof A.isFit=="boolean"?A.isFit:![],source:new s.WMTS(B)});return lt>-1&&ct.setZIndex(lt),ct}}]),f}(),c=I;C.default=c},403206:function(G,C,t){"use strict";Object.defineProperty(C,"__esModule",{value:!![]}),C.defaultSymbol=void 0,C.getPolylineStyle=s,C.getStyle=i;var u=t(904778),g=t(536443),d=t(603262),h=t(91873),o={type:"polygon",styleOptions:{fill:!![],color:"rgb(255, 255, 255)",opacity:.2,outline:!![],outlineColor:"rgb(1, 191, 255)",outlineWidth:1,outlineOpacity:1}};C.defaultSymbol=o;function i(T,v,S,p,I){!v&&(v=o);var c=v.label,f;if(c){var m=c.field?c.field:c.text?c.text.replace("{","").replace("}",""):"";f=S.get(m)}switch(T){case"polygon":return(0,d.getPolygonStyle)(v,f,p,I);case"polyline":return s(v,f,p,I);case"point":return(0,g.getPointStyle)(v,f,p,I);default:return(0,d.getPolygonStyle)(v,f,p,I)}}function s(T,v,S,p){return new h.Style({stroke:new h.Stroke({color:(0,u.getColor)(T.color,T.opacity),width:T.width}),text:(0,u.createTextStyle)(T.label,v,S,p),zIndex:T.zIndex})}},849917:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var g=u(t(122777)),d=u(t(42762)),h=function(){function i(){(0,g.default)(this,i)}return(0,d.default)(i,[{key:"getCanvas",value:function(T,v){var S=document.createElement("canvas");return S.width=T,S.height=v,S}},{key:"getPixels",value:function(T){var v=this.getCanvas(T.width,T.height),S=v.getContext("2d");return S.drawImage(T,0,0),S.getImageData(0,0,v.width,v.height)}},{key:"filterImage",value:function(T,v){for(var S=[this.getPixels(v)],p=2;p<arguments.length;p++)S.push(arguments[p]);var I=T.apply(this,S),c=this.getCanvas(v.width,v.height),f=c.getContext("2d");return f.putImageData(I,0,0),c}}],[{key:"dark",value:function(T){for(var v=T.data,S=0;S<v.length;S+=4){var p=v[S],I=v[S+1],c=v[S+2],f=.2126*p+.7152*I+.0722*c;v[S]=v[S+1]=v[S+2]=f}for(var m=0;m<v.length;m+=4)v[m]=255-v[m]+20,v[m+1]=255-v[m+1]+20,v[m+2]=255-v[m+2]+20;return T}},{key:"blue",value:function(T){for(var v=T.data,S=0;S<v.length;S+=4){var p=v[S],I=v[S+1],c=v[S+2],f=.2126*p+.7152*I+.0722*c;v[S]=v[S+1]=v[S+2]=f,v[S]=55-v[S],v[S+1]=255-v[S+1],v[S+2]=305-v[S+2]}return T}}]),i}(),o=h;C.default=o},612989:function(G,C,t){"use strict";var u=t(419534);Object.defineProperty(C,"__esModule",{value:!0}),C.default=h;var g=u(t(615550)),d=u(t(349162));function h(o){var i="urn:ogc:def:crs:EPSG::"+o.spatialReference.wkid,s={type:"FeatureCollection",features:[],crs:{type:"name",properties:{name:i}}};if(o.features)for(var T=o.features.length,v=0;v<T;v++){var S=o.features[v],p=new g.default().readFeature(S),I=new d.default().writeFeature(p);s.features.push(JSON.parse(I))}return{featureCollection:s,exceededTransferLimit:o.exceededTransferLimit}}},2417:function(G,C,t){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=g;var u=t(247409);function g(f){var m;try{m=u.esriPBuffer.FeatureCollectionPBuffer.decode(new Uint8Array(f))}catch{throw new Error("arcgis-pbf\u89E3\u6790\u9519\u8BEF")}for(var A=m.queryResult.featureResult,M=A.transform,P=A.geometryType,l=A.objectIdFieldName,y=A.fields,r=0;r<y.length;r++){var x=y[r];x.keyName=p(x)}for(var B="urn:ogc:def:crs:EPSG::"+A.spatialReference.wkid,N={type:"FeatureCollection",features:[],crs:{type:"name",properties:{name:B}}},b=d(P),at=A.features.length,st=0;st<at;st++){var K=A.features[st];N.features.push({type:"Feature",id:S(y,K.attributes,l),properties:v(y,K.attributes),geometry:b(K,M)})}return{featureCollection:N,exceededTransferLimit:A.exceededTransferLimit}}function d(f){switch(f){case 3:return i;case 2:return o;case 0:return h;default:return i}}function h(f,m){return{type:"Point",coordinates:I(f.geometry.coords,m)}}function o(f,m){return{type:"LineString",coordinates:T(f.geometry.coords,m,0,f.geometry.lengths[0]*2)}}function i(f,m){var A=f.geometry.lengths.length,M={type:"Polygon",coordinates:[]};if(A===1)M.coordinates.push(T(f.geometry.coords,m,0,f.geometry.lengths[0]*2));else{M.type="MultiPolygon";for(var P=0,l=0;l<A;l++){var y=P+f.geometry.lengths[l]*2,r=T(f.geometry.coords,m,P,y);s(r)?M.coordinates.push([r]):M.coordinates.length>0&&M.coordinates[M.coordinates.length-1].push(r),P=y}}return M}function s(f){var m=0,A=0,M=f.length,P=f[A],l;for(A;A<M-1;A++)l=f[A+1],m+=(l[0]-P[0])*(l[1]+P[1]),P=l;return m>=0}function T(f,m,A,M){var P=[];if(f.length===0)return P;var l=f[A],y=f[A+1];P.push(I([l,y],m));for(var r=l,x=y,B=A+2;B<M;B=B+2){var N=c(r,f[B]),b=c(x,f[B+1]),at=I([N,b],m);P.push(at),r=N,x=b}return P}function v(f,m){for(var A={},M=0;M<f.length;M++){var P=f[M];m[M][m[M].valueType]?A[P.name]=m[M][m[M].valueType]:A[P.name]=null}return A}function S(f,m,A){for(var M=0;M<f.length;M++){var P=f[M];if(P.name===A)return m[M][m[M].valueType]}return null}function p(f){switch(f.fieldType){case 1:return"sintValue";case 2:return"floatValue";case 3:return"doubleValue";case 4:return"stringValue";case 5:return"sint64Value";case 6:return"uintValue";default:return null}}function I(f,m){var A=f[0],M=f[1],P=f[2]?f[2]:void 0;m.scale&&(A*=m.scale.xScale,M*=-m.scale.yScale,P!==void 0&&(P*=m.scale.zScale)),m.translate&&(A+=m.translate.xTranslate,M+=m.translate.yTranslate,P!==void 0&&(P+=m.translate.zTranslate));var l=[A,M];return P!==void 0&&l.push(P),l}function c(f,m){return f+m}},247409:function(G,C,t){"use strict";var u=t(29870),g=t(787879),d=t(183393),h=t(419534);Object.defineProperty(C,"__esModule",{value:!0}),C.esriPBuffer=C.default=void 0;var o=h(t(985208)),i=h(t(53267)),s=h(t(29870)),T=h(t(342579)),v=I(t(725308)),S=void 0;function p(M){if(typeof g!="function")return null;var P=new g,l=new g;return(p=function(r){return r?l:P})(M)}function I(M,P){if(!P&&M&&M.__esModule)return M;if(M===null||u(M)!=="object"&&typeof M!="function")return{default:M};var l=p(P);if(l&&l.has(M))return l.get(M);var y={},r=Object.defineProperty&&d;for(var x in M)if(x!=="default"&&Object.prototype.hasOwnProperty.call(M,x)){var B=r?d(M,x):null;B&&(B.get||B.set)?Object.defineProperty(y,x,B):y[x]=M[x]}return y.default=M,l&&l.set(M,y),y}var c=v.Reader,f=v.util,m=v.roots.default||(v.roots.default={});C.default=m;var A=m.esriPBuffer=function(){(0,T.default)(this,S);var M={};return M.FeatureCollectionPBuffer=function(){function P(l){if(l)for(var y=(0,o.default)(l),r=0;r<y.length;++r)l[y[r]]!=null&&(this[y[r]]=l[y[r]])}return P.prototype.version="",P.prototype.queryResult=null,P.decode=function(y,r){y instanceof c||(y=c.create(y));for(var x=r===void 0?y.len:y.pos+r,B=new m.esriPBuffer.FeatureCollectionPBuffer;y.pos<x;){var N=y.uint32();switch(N>>>3){case 1:B.version=y.string();break;case 2:B.queryResult=m.esriPBuffer.FeatureCollectionPBuffer.QueryResult.decode(y,y.uint32());break;default:y.skipType(N&7);break}}return B},P.verify=function(y){if((0,s.default)(y)!=="object"||y===null)return"object expected";if(y.version!=null&&y.hasOwnProperty("version")&&!f.isString(y.version))return"version: string expected";if(y.queryResult!=null&&y.hasOwnProperty("queryResult")){var r=m.esriPBuffer.FeatureCollectionPBuffer.QueryResult.verify(y.queryResult);if(r)return"queryResult."+r}return null},P.GeometryType=function(){var l={},y=Object.create(l);return y[l[0]="esriGeometryTypePoint"]=0,y[l[1]="esriGeometryTypeMultipoint"]=1,y[l[2]="esriGeometryTypePolyline"]=2,y[l[3]="esriGeometryTypePolygon"]=3,y[l[4]="esriGeometryTypeMultipatch"]=4,y[l[127]="esriGeometryTypeNone"]=127,y}(),P.FieldType=function(){var l={},y=Object.create(l);return y[l[0]="esriFieldTypeSmallInteger"]=0,y[l[1]="esriFieldTypeInteger"]=1,y[l[2]="esriFieldTypeSingle"]=2,y[l[3]="esriFieldTypeDouble"]=3,y[l[4]="esriFieldTypeString"]=4,y[l[5]="esriFieldTypeDate"]=5,y[l[6]="esriFieldTypeOID"]=6,y[l[7]="esriFieldTypeGeometry"]=7,y[l[8]="esriFieldTypeBlob"]=8,y[l[9]="esriFieldTypeRaster"]=9,y[l[10]="esriFieldTypeGUID"]=10,y[l[11]="esriFieldTypeGlobalID"]=11,y[l[12]="esriFieldTypeXML"]=12,y}(),P.SQLType=function(){var l={},y=Object.create(l);return y[l[0]="sqlTypeBigInt"]=0,y[l[1]="sqlTypeBinary"]=1,y[l[2]="sqlTypeBit"]=2,y[l[3]="sqlTypeChar"]=3,y[l[4]="sqlTypeDate"]=4,y[l[5]="sqlTypeDecimal"]=5,y[l[6]="sqlTypeDouble"]=6,y[l[7]="sqlTypeFloat"]=7,y[l[8]="sqlTypeGeometry"]=8,y[l[9]="sqlTypeGUID"]=9,y[l[10]="sqlTypeInteger"]=10,y[l[11]="sqlTypeLongNVarchar"]=11,y[l[12]="sqlTypeLongVarbinary"]=12,y[l[13]="sqlTypeLongVarchar"]=13,y[l[14]="sqlTypeNChar"]=14,y[l[15]="sqlTypeNVarchar"]=15,y[l[16]="sqlTypeOther"]=16,y[l[17]="sqlTypeReal"]=17,y[l[18]="sqlTypeSmallInt"]=18,y[l[19]="sqlTypeSqlXml"]=19,y[l[20]="sqlTypeTime"]=20,y[l[21]="sqlTypeTimestamp"]=21,y[l[22]="sqlTypeTimestamp2"]=22,y[l[23]="sqlTypeTinyInt"]=23,y[l[24]="sqlTypeVarbinary"]=24,y[l[25]="sqlTypeVarchar"]=25,y}(),P.QuantizeOriginPostion=function(){var l={},y=Object.create(l);return y[l[0]="upperLeft"]=0,y[l[1]="lowerLeft"]=1,y}(),P.SpatialReference=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.wkid=0,l.prototype.lastestWkid=0,l.prototype.vcsWkid=0,l.prototype.latestVcsWkid=0,l.prototype.wkt="",l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.SpatialReference;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.wkid=r.uint32();break;case 2:N.lastestWkid=r.uint32();break;case 3:N.vcsWkid=r.uint32();break;case 4:N.latestVcsWkid=r.uint32();break;case 5:N.wkt=r.string();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.wkid!=null&&r.hasOwnProperty("wkid")&&!f.isInteger(r.wkid)?"wkid: integer expected":r.lastestWkid!=null&&r.hasOwnProperty("lastestWkid")&&!f.isInteger(r.lastestWkid)?"lastestWkid: integer expected":r.vcsWkid!=null&&r.hasOwnProperty("vcsWkid")&&!f.isInteger(r.vcsWkid)?"vcsWkid: integer expected":r.latestVcsWkid!=null&&r.hasOwnProperty("latestVcsWkid")&&!f.isInteger(r.latestVcsWkid)?"latestVcsWkid: integer expected":r.wkt!=null&&r.hasOwnProperty("wkt")&&!f.isString(r.wkt)?"wkt: string expected":null},l}(),P.Field=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.name="",l.prototype.fieldType=0,l.prototype.alias="",l.prototype.sqlType=0,l.prototype.domain="",l.prototype.defaultValue="",l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.Field;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.name=r.string();break;case 2:N.fieldType=r.int32();break;case 3:N.alias=r.string();break;case 4:N.sqlType=r.int32();break;case 5:N.domain=r.string();break;case 6:N.defaultValue=r.string();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){if((0,s.default)(r)!=="object"||r===null)return"object expected";if(r.name!=null&&r.hasOwnProperty("name")&&!f.isString(r.name))return"name: string expected";if(r.fieldType!=null&&r.hasOwnProperty("fieldType"))switch(r.fieldType){default:return"fieldType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:break}if(r.alias!=null&&r.hasOwnProperty("alias")&&!f.isString(r.alias))return"alias: string expected";if(r.sqlType!=null&&r.hasOwnProperty("sqlType"))switch(r.sqlType){default:return"sqlType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:break}return r.domain!=null&&r.hasOwnProperty("domain")&&!f.isString(r.domain)?"domain: string expected":r.defaultValue!=null&&r.hasOwnProperty("defaultValue")&&!f.isString(r.defaultValue)?"defaultValue: string expected":null},l}(),P.Value=function(){function l(r){if(r)for(var x=(0,o.default)(r),B=0;B<x.length;++B)r[x[B]]!=null&&(this[x[B]]=r[x[B]])}l.prototype.stringValue=null,l.prototype.floatValue=null,l.prototype.doubleValue=null,l.prototype.sintValue=null,l.prototype.uintValue=null,l.prototype.int64Value=null,l.prototype.uint64Value=null,l.prototype.sint64Value=null,l.prototype.boolValue=null;var y;return Object.defineProperty(l.prototype,"valueType",{get:f.oneOfGetter(y=["stringValue","floatValue","doubleValue","sintValue","uintValue","int64Value","uint64Value","sint64Value","boolValue"]),set:f.oneOfSetter(y)}),l.decode=function(x,B){x instanceof c||(x=c.create(x));for(var N=B===void 0?x.len:x.pos+B,b=new m.esriPBuffer.FeatureCollectionPBuffer.Value;x.pos<N;){var at=x.uint32();switch(at>>>3){case 1:b.stringValue=x.string();break;case 2:b.floatValue=x.float();break;case 3:b.doubleValue=x.double();break;case 4:b.sintValue=x.sint32();break;case 5:b.uintValue=x.uint32();break;case 6:b.int64Value=x.int64();break;case 7:b.uint64Value=x.uint64();break;case 8:b.sint64Value=x.sint64();break;case 9:b.boolValue=x.bool();break;default:x.skipType(at&7);break}}return b},l.verify=function(x){if((0,s.default)(x)!=="object"||x===null)return"object expected";var B={};if(x.stringValue!=null&&x.hasOwnProperty("stringValue")&&(B.valueType=1,!f.isString(x.stringValue)))return"stringValue: string expected";if(x.floatValue!=null&&x.hasOwnProperty("floatValue")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,typeof x.floatValue!="number")return"floatValue: number expected"}if(x.doubleValue!=null&&x.hasOwnProperty("doubleValue")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,typeof x.doubleValue!="number")return"doubleValue: number expected"}if(x.sintValue!=null&&x.hasOwnProperty("sintValue")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,!f.isInteger(x.sintValue))return"sintValue: integer expected"}if(x.uintValue!=null&&x.hasOwnProperty("uintValue")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,!f.isInteger(x.uintValue))return"uintValue: integer expected"}if(x.int64Value!=null&&x.hasOwnProperty("int64Value")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,!f.isInteger(x.int64Value)&&!(x.int64Value&&f.isInteger(x.int64Value.low)&&f.isInteger(x.int64Value.high)))return"int64Value: integer|Long expected"}if(x.uint64Value!=null&&x.hasOwnProperty("uint64Value")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,!f.isInteger(x.uint64Value)&&!(x.uint64Value&&f.isInteger(x.uint64Value.low)&&f.isInteger(x.uint64Value.high)))return"uint64Value: integer|Long expected"}if(x.sint64Value!=null&&x.hasOwnProperty("sint64Value")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,!f.isInteger(x.sint64Value)&&!(x.sint64Value&&f.isInteger(x.sint64Value.low)&&f.isInteger(x.sint64Value.high)))return"sint64Value: integer|Long expected"}if(x.boolValue!=null&&x.hasOwnProperty("boolValue")){if(B.valueType===1)return"valueType: multiple values";if(B.valueType=1,typeof x.boolValue!="boolean")return"boolValue: boolean expected"}return null},l}(),P.Geometry=function(){function l(y){if(this.lengths=[],this.coords=[],y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.lengths=f.emptyArray,l.prototype.coords=f.emptyArray,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.Geometry;r.pos<B;){var b=r.uint32();switch(b>>>3){case 2:if(N.lengths&&N.lengths.length||(N.lengths=[]),(b&7)===2)for(var at=r.uint32()+r.pos;r.pos<at;)N.lengths.push(r.uint32());else N.lengths.push(r.uint32());break;case 3:if(N.coords&&N.coords.length||(N.coords=[]),(b&7)===2)for(var st=r.uint32()+r.pos;r.pos<st;)N.coords.push(r.sint64());else N.coords.push(r.sint64());break;default:r.skipType(b&7);break}}return N},l.verify=function(r){if((0,s.default)(r)!=="object"||r===null)return"object expected";if(r.lengths!=null&&r.hasOwnProperty("lengths")){if(!Array.isArray(r.lengths))return"lengths: array expected";for(var x=0;x<r.lengths.length;++x)if(!f.isInteger(r.lengths[x]))return"lengths: integer[] expected"}if(r.coords!=null&&r.hasOwnProperty("coords")){if(!Array.isArray(r.coords))return"coords: array expected";for(var B=0;B<r.coords.length;++B)if(!f.isInteger(r.coords[B])&&!(r.coords[B]&&f.isInteger(r.coords[B].low)&&f.isInteger(r.coords[B].high)))return"coords: integer|Long[] expected"}return null},l}(),P.EsriShapeBuffer=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.bytes=f.newBuffer([]),l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.EsriShapeBuffer;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.bytes=r.bytes();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.bytes!=null&&r.hasOwnProperty("bytes")&&!(r.bytes&&typeof r.bytes.length=="number"||f.isString(r.bytes))?"bytes: buffer expected":null},l}(),P.Feature=function(){function l(r){if(this.attributes=[],r)for(var x=(0,o.default)(r),B=0;B<x.length;++B)r[x[B]]!=null&&(this[x[B]]=r[x[B]])}l.prototype.attributes=f.emptyArray,l.prototype.geometry=null,l.prototype.shapeBuffer=null,l.prototype.centroid=null;var y;return Object.defineProperty(l.prototype,"compressedGeometry",{get:f.oneOfGetter(y=["geometry","shapeBuffer"]),set:f.oneOfSetter(y)}),l.decode=function(x,B){x instanceof c||(x=c.create(x));for(var N=B===void 0?x.len:x.pos+B,b=new m.esriPBuffer.FeatureCollectionPBuffer.Feature;x.pos<N;){var at=x.uint32();switch(at>>>3){case 1:b.attributes&&b.attributes.length||(b.attributes=[]),b.attributes.push(m.esriPBuffer.FeatureCollectionPBuffer.Value.decode(x,x.uint32()));break;case 2:b.geometry=m.esriPBuffer.FeatureCollectionPBuffer.Geometry.decode(x,x.uint32());break;case 3:b.shapeBuffer=m.esriPBuffer.FeatureCollectionPBuffer.EsriShapeBuffer.decode(x,x.uint32());break;case 4:b.centroid=m.esriPBuffer.FeatureCollectionPBuffer.Geometry.decode(x,x.uint32());break;default:x.skipType(at&7);break}}return b},l.verify=function(x){if((0,s.default)(x)!=="object"||x===null)return"object expected";var B={};if(x.attributes!=null&&x.hasOwnProperty("attributes")){if(!Array.isArray(x.attributes))return"attributes: array expected";for(var N=0;N<x.attributes.length;++N){var b=m.esriPBuffer.FeatureCollectionPBuffer.Value.verify(x.attributes[N]);if(b)return"attributes."+b}}if(x.geometry!=null&&x.hasOwnProperty("geometry")){B.compressedGeometry=1;{var at=m.esriPBuffer.FeatureCollectionPBuffer.Geometry.verify(x.geometry);if(at)return"geometry."+at}}if(x.shapeBuffer!=null&&x.hasOwnProperty("shapeBuffer")){if(B.compressedGeometry===1)return"compressedGeometry: multiple values";B.compressedGeometry=1;{var st=m.esriPBuffer.FeatureCollectionPBuffer.EsriShapeBuffer.verify(x.shapeBuffer);if(st)return"shapeBuffer."+st}}if(x.centroid!=null&&x.hasOwnProperty("centroid")){var K=m.esriPBuffer.FeatureCollectionPBuffer.Geometry.verify(x.centroid);if(K)return"centroid."+K}return null},l}(),P.UniqueIdField=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.name="",l.prototype.isSystemMaintained=!1,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.UniqueIdField;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.name=r.string();break;case 2:N.isSystemMaintained=r.bool();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.name!=null&&r.hasOwnProperty("name")&&!f.isString(r.name)?"name: string expected":r.isSystemMaintained!=null&&r.hasOwnProperty("isSystemMaintained")&&typeof r.isSystemMaintained!="boolean"?"isSystemMaintained: boolean expected":null},l}(),P.GeometryProperties=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.shapeAreaFieldName="",l.prototype.shapeLengthFieldName="",l.prototype.units="",l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.GeometryProperties;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.shapeAreaFieldName=r.string();break;case 2:N.shapeLengthFieldName=r.string();break;case 3:N.units=r.string();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.shapeAreaFieldName!=null&&r.hasOwnProperty("shapeAreaFieldName")&&!f.isString(r.shapeAreaFieldName)?"shapeAreaFieldName: string expected":r.shapeLengthFieldName!=null&&r.hasOwnProperty("shapeLengthFieldName")&&!f.isString(r.shapeLengthFieldName)?"shapeLengthFieldName: string expected":r.units!=null&&r.hasOwnProperty("units")&&!f.isString(r.units)?"units: string expected":null},l}(),P.ServerGens=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.minServerGen=f.Long?f.Long.fromBits(0,0,!0):0,l.prototype.serverGen=f.Long?f.Long.fromBits(0,0,!0):0,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.ServerGens;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.minServerGen=r.uint64();break;case 2:N.serverGen=r.uint64();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.minServerGen!=null&&r.hasOwnProperty("minServerGen")&&!f.isInteger(r.minServerGen)&&!(r.minServerGen&&f.isInteger(r.minServerGen.low)&&f.isInteger(r.minServerGen.high))?"minServerGen: integer|Long expected":r.serverGen!=null&&r.hasOwnProperty("serverGen")&&!f.isInteger(r.serverGen)&&!(r.serverGen&&f.isInteger(r.serverGen.low)&&f.isInteger(r.serverGen.high))?"serverGen: integer|Long expected":null},l}(),P.Scale=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.xScale=0,l.prototype.yScale=0,l.prototype.mScale=0,l.prototype.zScale=0,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.Scale;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.xScale=r.double();break;case 2:N.yScale=r.double();break;case 3:N.mScale=r.double();break;case 4:N.zScale=r.double();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.xScale!=null&&r.hasOwnProperty("xScale")&&typeof r.xScale!="number"?"xScale: number expected":r.yScale!=null&&r.hasOwnProperty("yScale")&&typeof r.yScale!="number"?"yScale: number expected":r.mScale!=null&&r.hasOwnProperty("mScale")&&typeof r.mScale!="number"?"mScale: number expected":r.zScale!=null&&r.hasOwnProperty("zScale")&&typeof r.zScale!="number"?"zScale: number expected":null},l}(),P.Translate=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.xTranslate=0,l.prototype.yTranslate=0,l.prototype.mTranslate=0,l.prototype.zTranslate=0,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.Translate;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.xTranslate=r.double();break;case 2:N.yTranslate=r.double();break;case 3:N.mTranslate=r.double();break;case 4:N.zTranslate=r.double();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.xTranslate!=null&&r.hasOwnProperty("xTranslate")&&typeof r.xTranslate!="number"?"xTranslate: number expected":r.yTranslate!=null&&r.hasOwnProperty("yTranslate")&&typeof r.yTranslate!="number"?"yTranslate: number expected":r.mTranslate!=null&&r.hasOwnProperty("mTranslate")&&typeof r.mTranslate!="number"?"mTranslate: number expected":r.zTranslate!=null&&r.hasOwnProperty("zTranslate")&&typeof r.zTranslate!="number"?"zTranslate: number expected":null},l}(),P.Transform=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.quantizeOriginPostion=0,l.prototype.scale=null,l.prototype.translate=null,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.Transform;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.quantizeOriginPostion=r.int32();break;case 2:N.scale=m.esriPBuffer.FeatureCollectionPBuffer.Scale.decode(r,r.uint32());break;case 3:N.translate=m.esriPBuffer.FeatureCollectionPBuffer.Translate.decode(r,r.uint32());break;default:r.skipType(b&7);break}}return N},l.verify=function(r){if((0,s.default)(r)!=="object"||r===null)return"object expected";if(r.quantizeOriginPostion!=null&&r.hasOwnProperty("quantizeOriginPostion"))switch(r.quantizeOriginPostion){default:return"quantizeOriginPostion: enum value expected";case 0:case 1:break}if(r.scale!=null&&r.hasOwnProperty("scale")){var x=m.esriPBuffer.FeatureCollectionPBuffer.Scale.verify(r.scale);if(x)return"scale."+x}if(r.translate!=null&&r.hasOwnProperty("translate")){var B=m.esriPBuffer.FeatureCollectionPBuffer.Translate.verify(r.translate);if(B)return"translate."+B}return null},l}(),P.FeatureResult=function(){function l(y){if(this.fields=[],this.values=[],this.features=[],y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.objectIdFieldName="",l.prototype.uniqueIdField=null,l.prototype.globalIdFieldName="",l.prototype.geohashFieldName="",l.prototype.geometryProperties=null,l.prototype.serverGens=null,l.prototype.geometryType=0,l.prototype.spatialReference=null,l.prototype.exceededTransferLimit=!1,l.prototype.hasZ=!1,l.prototype.hasM=!1,l.prototype.transform=null,l.prototype.fields=f.emptyArray,l.prototype.values=f.emptyArray,l.prototype.features=f.emptyArray,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.FeatureResult;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.objectIdFieldName=r.string();break;case 2:N.uniqueIdField=m.esriPBuffer.FeatureCollectionPBuffer.UniqueIdField.decode(r,r.uint32());break;case 3:N.globalIdFieldName=r.string();break;case 4:N.geohashFieldName=r.string();break;case 5:N.geometryProperties=m.esriPBuffer.FeatureCollectionPBuffer.GeometryProperties.decode(r,r.uint32());break;case 6:N.serverGens=m.esriPBuffer.FeatureCollectionPBuffer.ServerGens.decode(r,r.uint32());break;case 7:N.geometryType=r.int32();break;case 8:N.spatialReference=m.esriPBuffer.FeatureCollectionPBuffer.SpatialReference.decode(r,r.uint32());break;case 9:N.exceededTransferLimit=r.bool();break;case 10:N.hasZ=r.bool();break;case 11:N.hasM=r.bool();break;case 12:N.transform=m.esriPBuffer.FeatureCollectionPBuffer.Transform.decode(r,r.uint32());break;case 13:N.fields&&N.fields.length||(N.fields=[]),N.fields.push(m.esriPBuffer.FeatureCollectionPBuffer.Field.decode(r,r.uint32()));break;case 14:(0,i.default)(N)&&(0,i.default)(N).length||(N.values=[]),(0,i.default)(N).push(m.esriPBuffer.FeatureCollectionPBuffer.Value.decode(r,r.uint32()));break;case 15:N.features&&N.features.length||(N.features=[]),N.features.push(m.esriPBuffer.FeatureCollectionPBuffer.Feature.decode(r,r.uint32()));break;default:r.skipType(b&7);break}}return N},l.verify=function(r){if((0,s.default)(r)!=="object"||r===null)return"object expected";if(r.objectIdFieldName!=null&&r.hasOwnProperty("objectIdFieldName")&&!f.isString(r.objectIdFieldName))return"objectIdFieldName: string expected";if(r.uniqueIdField!=null&&r.hasOwnProperty("uniqueIdField")){var x=m.esriPBuffer.FeatureCollectionPBuffer.UniqueIdField.verify(r.uniqueIdField);if(x)return"uniqueIdField."+x}if(r.globalIdFieldName!=null&&r.hasOwnProperty("globalIdFieldName")&&!f.isString(r.globalIdFieldName))return"globalIdFieldName: string expected";if(r.geohashFieldName!=null&&r.hasOwnProperty("geohashFieldName")&&!f.isString(r.geohashFieldName))return"geohashFieldName: string expected";if(r.geometryProperties!=null&&r.hasOwnProperty("geometryProperties")){var B=m.esriPBuffer.FeatureCollectionPBuffer.GeometryProperties.verify(r.geometryProperties);if(B)return"geometryProperties."+B}if(r.serverGens!=null&&r.hasOwnProperty("serverGens")){var N=m.esriPBuffer.FeatureCollectionPBuffer.ServerGens.verify(r.serverGens);if(N)return"serverGens."+N}if(r.geometryType!=null&&r.hasOwnProperty("geometryType"))switch(r.geometryType){default:return"geometryType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 127:break}if(r.spatialReference!=null&&r.hasOwnProperty("spatialReference")){var b=m.esriPBuffer.FeatureCollectionPBuffer.SpatialReference.verify(r.spatialReference);if(b)return"spatialReference."+b}if(r.exceededTransferLimit!=null&&r.hasOwnProperty("exceededTransferLimit")&&typeof r.exceededTransferLimit!="boolean")return"exceededTransferLimit: boolean expected";if(r.hasZ!=null&&r.hasOwnProperty("hasZ")&&typeof r.hasZ!="boolean")return"hasZ: boolean expected";if(r.hasM!=null&&r.hasOwnProperty("hasM")&&typeof r.hasM!="boolean")return"hasM: boolean expected";if(r.transform!=null&&r.hasOwnProperty("transform")){var at=m.esriPBuffer.FeatureCollectionPBuffer.Transform.verify(r.transform);if(at)return"transform."+at}if(r.fields!=null&&r.hasOwnProperty("fields")){if(!Array.isArray(r.fields))return"fields: array expected";for(var st=0;st<r.fields.length;++st){var K=m.esriPBuffer.FeatureCollectionPBuffer.Field.verify(r.fields[st]);if(K)return"fields."+K}}if((0,i.default)(r)!=null&&r.hasOwnProperty("values")){if(!Array.isArray((0,i.default)(r)))return"values: array expected";for(var yt=0;yt<(0,i.default)(r).length;++yt){var tt=m.esriPBuffer.FeatureCollectionPBuffer.Value.verify((0,i.default)(r)[yt]);if(tt)return"values."+tt}}if(r.features!=null&&r.hasOwnProperty("features")){if(!Array.isArray(r.features))return"features: array expected";for(var lt=0;lt<r.features.length;++lt){var ct=m.esriPBuffer.FeatureCollectionPBuffer.Feature.verify(r.features[lt]);if(ct)return"features."+ct}}return null},l}(),P.CountResult=function(){function l(y){if(y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.count=f.Long?f.Long.fromBits(0,0,!0):0,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.CountResult;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.count=r.uint64();break;default:r.skipType(b&7);break}}return N},l.verify=function(r){return(0,s.default)(r)!=="object"||r===null?"object expected":r.count!=null&&r.hasOwnProperty("count")&&!f.isInteger(r.count)&&!(r.count&&f.isInteger(r.count.low)&&f.isInteger(r.count.high))?"count: integer|Long expected":null},l}(),P.ObjectIdsResult=function(){function l(y){if(this.objectIds=[],y)for(var r=(0,o.default)(y),x=0;x<r.length;++x)y[r[x]]!=null&&(this[r[x]]=y[r[x]])}return l.prototype.objectIdFieldName="",l.prototype.serverGens=null,l.prototype.objectIds=f.emptyArray,l.decode=function(r,x){r instanceof c||(r=c.create(r));for(var B=x===void 0?r.len:r.pos+x,N=new m.esriPBuffer.FeatureCollectionPBuffer.ObjectIdsResult;r.pos<B;){var b=r.uint32();switch(b>>>3){case 1:N.objectIdFieldName=r.string();break;case 2:N.serverGens=m.esriPBuffer.FeatureCollectionPBuffer.ServerGens.decode(r,r.uint32());break;case 3:if(N.objectIds&&N.objectIds.length||(N.objectIds=[]),(b&7)===2)for(var at=r.uint32()+r.pos;r.pos<at;)N.objectIds.push(r.uint64());else N.objectIds.push(r.uint64());break;default:r.skipType(b&7);break}}return N},l.verify=function(r){if((0,s.default)(r)!=="object"||r===null)return"object expected";if(r.objectIdFieldName!=null&&r.hasOwnProperty("objectIdFieldName")&&!f.isString(r.objectIdFieldName))return"objectIdFieldName: string expected";if(r.serverGens!=null&&r.hasOwnProperty("serverGens")){var x=m.esriPBuffer.FeatureCollectionPBuffer.ServerGens.verify(r.serverGens);if(x)return"serverGens."+x}if(r.objectIds!=null&&r.hasOwnProperty("objectIds")){if(!Array.isArray(r.objectIds))return"objectIds: array expected";for(var B=0;B<r.objectIds.length;++B)if(!f.isInteger(r.objectIds[B])&&!(r.objectIds[B]&&f.isInteger(r.objectIds[B].low)&&f.isInteger(r.objectIds[B].high)))return"objectIds: integer|Long[] expected"}return null},l}(),P.QueryResult=function(){function l(r){if(r)for(var x=(0,o.default)(r),B=0;B<x.length;++B)r[x[B]]!=null&&(this[x[B]]=r[x[B]])}l.prototype.featureResult=null,l.prototype.countResult=null,l.prototype.idsResult=null;var y;return Object.defineProperty(l.prototype,"Results",{get:f.oneOfGetter(y=["featureResult","countResult","idsResult"]),set:f.oneOfSetter(y)}),l.decode=function(x,B){x instanceof c||(x=c.create(x));for(var N=B===void 0?x.len:x.pos+B,b=new m.esriPBuffer.FeatureCollectionPBuffer.QueryResult;x.pos<N;){var at=x.uint32();switch(at>>>3){case 1:b.featureResult=m.esriPBuffer.FeatureCollectionPBuffer.FeatureResult.decode(x,x.uint32());break;case 2:b.countResult=m.esriPBuffer.FeatureCollectionPBuffer.CountResult.decode(x,x.uint32());break;case 3:b.idsResult=m.esriPBuffer.FeatureCollectionPBuffer.ObjectIdsResult.decode(x,x.uint32());break;default:x.skipType(at&7);break}}return b},l.verify=function(x){if((0,s.default)(x)!=="object"||x===null)return"object expected";var B={};if(x.featureResult!=null&&x.hasOwnProperty("featureResult")){B.Results=1;{var N=m.esriPBuffer.FeatureCollectionPBuffer.FeatureResult.verify(x.featureResult);if(N)return"featureResult."+N}}if(x.countResult!=null&&x.hasOwnProperty("countResult")){if(B.Results===1)return"Results: multiple values";B.Results=1;{var b=m.esriPBuffer.FeatureCollectionPBuffer.CountResult.verify(x.countResult);if(b)return"countResult."+b}}if(x.idsResult!=null&&x.hasOwnProperty("idsResult")){if(B.Results===1)return"Results: multiple values";B.Results=1;{var at=m.esriPBuffer.FeatureCollectionPBuffer.ObjectIdsResult.verify(x.idsResult);if(at)return"idsResult."+at}}return null},l}(),P}(),M}.bind(void 0)();C.esriPBuffer=A},629615:function(G,C,t){"use strict";var u=t(520314),g=t(426352),d=t(230551),h=t(43586),o=t(419534);Object.defineProperty(C,"__esModule",{value:!0}),C.queryFeatureByPbf=A;var i=o(t(29870)),s=o(t(342579)),T=o(t(578756)),v=o(t(66273)),S=o(t(520314)),p=o(t(2417)),I=o(t(612989));function c(P,l){var y=typeof d<"u"&&h(P)||P["@@iterator"];if(!y){if(Array.isArray(P)||(y=f(P))||l&&P&&typeof P.length=="number"){y&&(P=y);var r=0,x=function(){};return{s:x,n:function(){return r>=P.length?{done:!0}:{done:!1,value:P[r++]}},e:function(st){throw st},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=!0,N=!1,b;return{s:function(){y=y.call(P)},n:function(){var st=y.next();return B=st.done,st},e:function(st){N=!0,b=st},f:function(){try{!B&&y.return!=null&&y.return()}finally{if(N)throw b}}}}function f(P,l){var y;if(P){if(typeof P=="string")return m(P,l);var r=u(y=Object.prototype.toString.call(P)).call(y,8,-1);if(r==="Object"&&P.constructor&&(r=P.constructor.name),r==="Map"||r==="Set")return g(P);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(P,l)}}function m(P,l){(l==null||l>P.length)&&(l=P.length);for(var y=0,r=new Array(l);y<l;y++)r[y]=P[y];return r}function A(P){var l=this,y=P.data,r=P.visibleLayer,x=P.f,B=P.extent,N=P.geometry,b=P.resolution,at=P.projection,st=P.returnExceededLimitFeatures;return new T.default(function(K){(0,s.default)(this,l);var yt=at.getCode().split(":")[1],tt=x==="pbf"?{mode:"view",originPosition:"upperLeft",tolerance:b,extent:{xmin:B[0],ymin:B[1],xmax:B[2],ymax:B[3],spatialReference:{wkid:yt}}}:"",lt={f:x,returnGeometry:!0,spatialRel:"esriSpatialRelIntersects",where:y.where,geometry:{xmin:N[0],ymin:N[1],xmax:N[2],ymax:N[3],spatialReference:{wkid:yt}},geometryType:"esriGeometryEnvelope",inSR:yt,outFields:"*",returnCentroid:"false",returnExceededLimitFeatures:st,outSR:yt,resultType:"tile",quantizationParameters:tt};y.authkey&&(lt.authkey=y.authkey);var ct=y.url+"/"+r+"/query?";for(var nt in lt)(0,i.default)(lt[nt])==="object"&&(lt[nt]=encodeURIComponent((0,v.default)(lt[nt]))),ct=ct+nt+"="+lt[nt]+"&";ct=(0,S.default)(ct).call(ct,0,-1);var gt=new XMLHttpRequest;gt.responseType=x==="pbf"?"arraybuffer":"json",gt.open("GET",ct),gt.onload=function(){var Pt=this;if(gt.status===200){var ft=x==="pbf"?(0,p.default)(gt.response):(0,I.default)(gt.response);if(ft.exceededTransferLimit&&!st){var St=M(B),At=[],Et=c(St),Tt;try{for(Et.s();!(Tt=Et.n()).done;){var _=Tt.value;At.push(A({data:y,visibleLayer:r,f:x,extent:B,geometry:_,resolution:b,projection:at,returnExceededLimitFeatures:!0}))}}catch(rt){Et.e(rt)}finally{Et.f()}T.default.all(At).then(function(rt){(0,s.default)(this,Pt);var Q=[],et=c(rt),xt;try{for(et.s();!(xt=et.n()).done;){var ut=xt.value;Q.push(ut)}}catch(it){et.e(it)}finally{et.f()}K(Q)}.bind(this))}else K(ft.featureCollection)}},gt.send()}.bind(this))}function M(P){for(var l=P[0],y=P[1],r=P[2],x=P[3],B=(r-l)/3,N=(x-y)/3,b=[],at=0;at<3;at++)for(var st=0;st<3;st++){var K=l+at*B,yt=y+st*N,tt=l+(at+1)*B,lt=y+(st+1)*N;b.push([K,yt,tt,lt])}return b}},714653:function(){},867038:function(G,C,t){G.exports=t(68035)},35700:function(G,C,t){G.exports=t(260090)},196802:function(G,C,t){G.exports=t(989020)},282793:function(G,C,t){G.exports=t(235858)},362389:function(G,C,t){"use strict";t(207189),t(51732);var u=t(318893);G.exports=u("Array","keys")},57138:function(G,C,t){"use strict";var u=t(832242),g=t(398825),d=String.prototype;G.exports=function(h){var o=h.padEnd;return typeof h=="string"||h===d||u(d,h)&&o===d.padEnd?g:o}},901609:function(G,C,t){"use strict";var u=t(832242),g=t(277435),d=String.prototype;G.exports=function(h){var o=h.padStart;return typeof h=="string"||h===d||u(d,h)&&o===d.padStart?g:o}},793473:function(G,C,t){"use strict";t(111113);var u=t(594388);G.exports=u.Number.isInteger},398825:function(G,C,t){"use strict";t(628488);var u=t(318893);G.exports=u("String","padEnd")},277435:function(G,C,t){"use strict";t(115453);var u=t(318893);G.exports=u("String","padStart")},14640:function(G,C,t){"use strict";var u=t(942660),g=Math.floor;G.exports=Number.isInteger||function(h){return!u(h)&&isFinite(h)&&g(h)===h}},457475:function(G,C,t){"use strict";var u=t(574906);G.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(u)},920922:function(G,C,t){"use strict";var u=t(636021),g=t(9505),d=t(847482),h=t(840922),o=t(464734),i=u(h),s=u("".slice),T=Math.ceil,v=function(S){return function(p,I,c){var f=d(o(p)),m=g(I),A=f.length,M=c===void 0?" ":d(c),P,l;return m<=A||M===""?f:(P=m-A,l=i(M,T(P/M.length)),l.length>P&&(l=s(l,0,P)),S?f+l:l+f)}};G.exports={start:v(!1),end:v(!0)}},111113:function(G,C,t){"use strict";var u=t(190434),g=t(14640);u({target:"Number",stat:!0},{isInteger:g})},628488:function(G,C,t){"use strict";var u=t(190434),g=t(920922).end,d=t(457475);u({target:"String",proto:!0,forced:d},{padEnd:function(o){return g(this,o,arguments.length>1?arguments[1]:void 0)}})},115453:function(G,C,t){"use strict";var u=t(190434),g=t(920922).start,d=t(457475);u({target:"String",proto:!0,forced:d},{padStart:function(o){return g(this,o,arguments.length>1?arguments[1]:void 0)}})},161858:function(G,C,t){"use strict";var u=t(362389);G.exports=u},68035:function(G,C,t){"use strict";t(290469);var u=t(836220),g=t(979489),d=t(832242),h=t(161858),o=Array.prototype,i={DOMTokenList:!0,NodeList:!0};G.exports=function(s){var T=s.keys;return s===o||d(o,s)&&T===o.keys||g(i,u(s))?h:T}},260090:function(G,C,t){"use strict";var u=t(57138);G.exports=u},989020:function(G,C,t){"use strict";var u=t(901609);G.exports=u},235858:function(G,C,t){"use strict";var u=t(793473);G.exports=u},15130:function(G,C,t){"use strict";var u=t(166583),g=t(89663),d=t(545059),h=function(){var i=function(s,T){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var p in S)Object.prototype.hasOwnProperty.call(S,p)&&(v[p]=S[p])},i(s,T)};return function(s,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");i(s,T);function v(){this.constructor=s}s.prototype=T===null?Object.create(T):(v.prototype=T.prototype,new v)}}(),o=function(i){h(s,i);function s(T){var v=this,S=T||{},p=(0,d.f0)({},S);return delete p.preload,delete p.useInterimTilesOnError,v=i.call(this,p)||this,v.on,v.once,v.un,v.setPreload(S.preload!==void 0?S.preload:0),v.setUseInterimTilesOnError(S.useInterimTilesOnError!==void 0?S.useInterimTilesOnError:!0),v}return s.prototype.getPreload=function(){return this.get(g.Z.PRELOAD)},s.prototype.setPreload=function(T){this.set(g.Z.PRELOAD,T)},s.prototype.getUseInterimTilesOnError=function(){return this.get(g.Z.USE_INTERIM_TILES_ON_ERROR)},s.prototype.setUseInterimTilesOnError=function(T){this.set(g.Z.USE_INTERIM_TILES_ON_ERROR,T)},s.prototype.getData=function(T){return i.prototype.getData.call(this,T)},s}(u.Z);C.Z=o},313927:function(G,C,t){"use strict";t.r(C);var u=t(15130),g=t(727464),d=function(){var o=function(i,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,v){T.__proto__=v}||function(T,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(T[S]=v[S])},o(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");o(i,s);function T(){this.constructor=i}i.prototype=s===null?Object.create(s):(T.prototype=s.prototype,new T)}}(),h=function(o){d(i,o);function i(s){return o.call(this,s)||this}return i.prototype.createRenderer=function(){return new g.Z(this)},i}(u.Z);C.default=h},222276:function(G,C,t){"use strict";t.r(C),t.d(C,{register:function(){return o}});var u=t(967170),g=t(816658),d=t(390583),h=t(984362);function o(i){var s=Object.keys(i.defs),T=s.length,v,S;for(v=0;v<T;++v){var p=s[v];if(!(0,d.get)(p)){var I=i.defs(p),c=I.units;!c&&I.projName==="longlat"&&(c=g.ZP.DEGREES),(0,d.addProjection)(new u.default({code:p,axisOrientation:I.axis,metersPerUnit:I.to_meter,units:c}))}}for(v=0;v<T;++v){var f=s[v],m=(0,d.get)(f);for(S=0;S<T;++S){var A=s[S],M=(0,d.get)(A);if(!(0,h.U2)(f,A))if(i.defs[f]===i.defs[A])(0,d.addEquivalentProjections)([m,M]);else{var P=i(f,A);(0,d.addCoordinateTransforms)(m,M,(0,d.createSafeCoordinateTransform)(m,M,P.forward),(0,d.createSafeCoordinateTransform)(M,m,P.inverse))}}}}},72966:function(G,C,t){"use strict";t.r(C),t.d(C,{Circle:function(){return u.Z},Fill:function(){return g.Z},Icon:function(){return d.Z},IconImage:function(){return h.Z},Image:function(){return o.Z},RegularShape:function(){return i.Z},Stroke:function(){return s.Z},Style:function(){return T.ZP},Text:function(){return v.Z}});var u=t(505689),g=t(568640),d=t(660316),h=t(699072),o=t(522452),i=t(96825),s=t(23230),T=t(682571),v=t(195659)}}]);
