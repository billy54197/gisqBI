"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[56711],{256711:function(w,c,l){l.r(c),l.d(c,{default:function(){return S}});var f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bubble-setting"},[t("el-collapse",[t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title"},[e._v("\u7EC4\u4EF6\u8BBE\u7F6E")])]),t("vue-lazy-component",[t("el-form",{nativeOn:{submit:function(n){n.preventDefault()}}},[t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title bubbles"},[t("span",[e._v("\u884C\u653F\u533A\u8BBE\u7F6E")])])]),t("el-form-item",{attrs:{label:"\u663E\u793A\u8FB9\u754C"}},[t("el-switch",{on:{change:function(n){return e.changeStatus(e.currentWidget.config.isShowXzq)}},model:{value:e.currentWidget.config.isShowXzq,callback:function(n){e.$set(e.currentWidget.config,"isShowXzq",n)},expression:"currentWidget.config.isShowXzq"}})],1),t("el-form-item",{attrs:{label:"\u4EE3\u7801\u5B57\u6BB5"}},[t("el-input",{staticStyle:{width:"195px"},model:{value:e.currentWidget.config.xzqdm_field,callback:function(n){e.$set(e.currentWidget.config,"xzqdm_field",n)},expression:"currentWidget.config.xzqdm_field"}})],1),t("el-form-item",{attrs:{label:"\u4EE3\u7801\u540D\u79F0"}},[t("el-input",{staticStyle:{width:"195px"},model:{value:e.currentWidget.config.xzqmc_field,callback:function(n){e.$set(e.currentWidget.config,"xzqmc_field",n)},expression:"currentWidget.config.xzqmc_field"}})],1),e.currentWidget.config.isShowXzq?t("div",[e.isVectorColor?t("el-form-item",{attrs:{label:"\u586B\u5145\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u586B\u5145\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.fillColor,callback:function(n){e.$set(e.currentWidget.config,"fillColor",n)},expression:"currentWidget.config.fillColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:function(n){return e.changePicker("fillColor",e.currentWidget.config.fillColor)}},model:{value:e.currentWidget.config.fillColor,callback:function(n){e.$set(e.currentWidget.config,"fillColor",n)},expression:"currentWidget.config.fillColor"}})],1)],1)],1):e._e(),e.isVectorColor?t("el-form-item",{attrs:{label:"\u8FB9\u754C\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u8FB9\u754C\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.borderColor,callback:function(n){e.$set(e.currentWidget.config,"borderColor",n)},expression:"currentWidget.config.borderColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:function(n){return e.changePicker("borderColor",e.currentWidget.config.borderColor)}},model:{value:e.currentWidget.config.borderColor,callback:function(n){e.$set(e.currentWidget.config,"borderColor",n)},expression:"currentWidget.config.borderColor"}})],1)],1)],1):e._e(),e.isVectorColor?t("el-form-item",{attrs:{label:"\u7F29\u653E\u6BD4\u4F8B"}},[t("el-input-number",{attrs:{step:.02,min:.5,max:5,label:""},on:{change:function(n){return e.cahngeCounter("zoomRatio",e.currentWidget.config.zoomRatio)}},model:{value:e.currentWidget.config.zoomRatio,callback:function(n){e.$set(e.currentWidget.config,"zoomRatio",n)},expression:"currentWidget.config.zoomRatio"}})],1):e._e(),t("el-form-item",{attrs:{label:"\u663E\u793A\u540D\u79F0"}},[t("el-switch",{on:{change:function(n){return e.changeStatus(e.currentWidget.config.isShowXzqName)}},model:{value:e.currentWidget.config.isShowXzqName,callback:function(n){e.$set(e.currentWidget.config,"isShowXzqName",n)},expression:"currentWidget.config.isShowXzqName"}})],1),e.currentWidget.config.isShowXzqName?t("el-form-item",{attrs:{label:"\u540D\u79F0\u5B57\u6BB5"}},[t("el-input",{staticStyle:{width:"200px"},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.xzqmc_field,callback:function(n){e.$set(e.currentWidget.config,"xzqmc_field",n)},expression:"currentWidget.config.xzqmc_field"}})],1):e._e(),e.currentWidget.config.isShowXzqName?t("el-form-item",{attrs:{label:"\u540D\u79F0\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u586B\u5145\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.XzqNameColor,callback:function(n){e.$set(e.currentWidget.config,"XzqNameColor",n)},expression:"currentWidget.config.XzqNameColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:function(n){return e.changePicker("XzqNameColor",e.currentWidget.config.XzqNameColor)}},model:{value:e.currentWidget.config.XzqNameColor,callback:function(n){e.$set(e.currentWidget.config,"XzqNameColor",n)},expression:"currentWidget.config.XzqNameColor"}})],1)],1)],1):e._e()],1):e._e()],2),t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title",staticStyle:{"margin-top":"12px"}},[e._v("\u6C14\u6CE1\u6700\u5927/\u5C0F\u534A\u5F84\u8BBE\u7F6E")])]),t("el-form",{nativeOn:{submit:function(n){n.preventDefault()}}},[t("el-form-item",{attrs:{label:"MaxR"}},[t("el-input-number",{attrs:{label:"",min:1},on:{change:function(n){return e.cahngeCounter("bubbleMaxR",e.currentWidget.config.bubbleMaxR)}},model:{value:e.currentWidget.config.bubbleMaxR,callback:function(n){e.$set(e.currentWidget.config,"bubbleMaxR",n)},expression:"currentWidget.config.bubbleMaxR"}})],1),t("el-form-item",{attrs:{label:"MinR"}},[t("el-input-number",{attrs:{label:"",min:1},on:{change:function(n){return e.cahngeCounter("bubbleMinR",e.currentWidget.config.bubbleMinR)}},model:{value:e.currentWidget.config.bubbleMinR,callback:function(n){e.$set(e.currentWidget.config,"bubbleMinR",n)},expression:"currentWidget.config.bubbleMinR"}})],1)],1)],2),t("div",{staticClass:"bubble-type"},[t("span",[e._v("\u6C14\u6CE1\u7C7B\u578B")]),e._l(e.radios,function(n,a){return t("el-radio",{key:a,attrs:{label:n.label},on:{change:e.changeBubbleType},model:{value:e.currentWidget.config.isBubbleImage,callback:function(i){e.$set(e.currentWidget.config,"isBubbleImage",i)},expression:"currentWidget.config.isBubbleImage"}},[e._v(e._s(n.text)+" ")])})],2),e.currentWidget.config.isBubbleImage?e._e():t("el-form-item",{staticClass:"shadow-size",staticStyle:{"padding-left":"10px"},attrs:{label:"\u9634\u5F71\u5927\u5C0F"}},[t("el-input-number",{attrs:{min:0},on:{change:function(n){return e.cahngeCounter("boxShadowSize",e.currentWidget.config.boxShadowSize)}},model:{value:e.currentWidget.config.boxShadowSize,callback:function(n){e.$set(e.currentWidget.config,"boxShadowSize",n)},expression:"currentWidget.config.boxShadowSize"}})],1),t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title",staticStyle:{"margin-top":"12px"}},[e._v("\u56FE\u4F8B\u8BBE\u7F6E")])]),t("el-form",{nativeOn:{submit:function(n){n.preventDefault()}}},[t("el-form-item",{attrs:{label:"\u663E\u793A\u56FE\u4F8B"}},[t("el-switch",{on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.legendConfig.isShow,callback:function(n){e.$set(e.currentWidget.config.legendConfig,"isShow",n)},expression:"currentWidget.config.legendConfig.isShow"}})],1),t("el-form-item",{attrs:{label:"\u9690\u85CF\u6807\u9898"}},[t("el-switch",{on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.legendConfig.hideTitle,callback:function(n){e.$set(e.currentWidget.config.legendConfig,"hideTitle",n)},expression:"currentWidget.config.legendConfig.hideTitle"}})],1),t("el-form-item",{attrs:{label:"\u900F\u660E\u5EA6"}},[t("el-input-number",{attrs:{step:.1,min:0,max:1},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.legendConfig.opacity,callback:function(n){e.$set(e.currentWidget.config.legendConfig,"opacity",n)},expression:"currentWidget.config.legendConfig.opacity"}})],1),t("el-form-item",{attrs:{label:"\u56FE\u4F8B\u6837\u5F0F"}},[t("el-input",{staticStyle:{width:"200px"},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.legendConfig.style,callback:function(n){e.$set(e.currentWidget.config.legendConfig,"style",n)},expression:"currentWidget.config.legendConfig.style"}})],1)],1)],2),t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title",staticStyle:{"margin-top":"12px"}},[e._v("\u5B57\u4F53\u8BBE\u7F6E")])]),t("el-form",{nativeOn:{submit:function(n){n.preventDefault()}}},[t("el-form-item",{attrs:{label:"\u5B57\u4F53\u5927\u5C0F"}},[t("el-input-number",{attrs:{min:1},on:{change:function(n){return e.cahngeCounter("fontSize",e.currentWidget.config.fontSize)}},model:{value:e.currentWidget.config.fontSize,callback:function(n){e.$set(e.currentWidget.config,"fontSize",n)},expression:"currentWidget.config.fontSize"}})],1),t("el-form-item",{attrs:{label:"\u5B57\u4F53"}},[t("el-select",{attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5B57\u4F53"},on:{change:e.manageGetBoardConfigData},model:{value:e.currentWidget.config.fontFamily,callback:function(n){e.$set(e.currentWidget.config,"fontFamily",n)},expression:"currentWidget.config.fontFamily"}},e._l(e.$$global_editor.fontFamily,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}),1)],1),e.currentWidget.config.isBubbleImage?t("el-form-item",{attrs:{label:"\u5B57\u4F53\u95F4\u8DDD"}},[e._v(` " :min="0" @change="cahngeCounter('bubbleNumTwoPadding', currentWidget.config.bubbleNumTwoPadding)">`)]):e._e(),e.currentWidget.config.isBubbleImage?t("el-form-item",{attrs:{label:"\u5B57\u4F53\u4E0A\u79FB"}},[t("el-input-number",{attrs:{min:0},on:{change:function(n){return e.cahngeCounter("bubbleNumTop",e.currentWidget.config.bubbleNumTop)}},model:{value:e.currentWidget.config.bubbleNumTop,callback:function(n){e.$set(e.currentWidget.config,"bubbleNumTop",n)},expression:"currentWidget.config.bubbleNumTop"}})],1):e._e(),e.currentWidget.config.isBubbleImage?t("el-form-item",{attrs:{label:"\u5B57\u4F53\u5DE6\u79FB"}},[t("el-input-number",{attrs:{min:0},on:{change:function(n){return e.cahngeCounter("bubbleNumLeft",e.currentWidget.config.bubbleNumLeft)}},model:{value:e.currentWidget.config.bubbleNumLeft,callback:function(n){e.$set(e.currentWidget.config,"bubbleNumLeft",n)},expression:"currentWidget.config.bubbleNumLeft"}})],1):e._e()],1)],2),t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title bubbles"},[t("span",[e._v("\u6C14\u6CE1\u8BBE\u7F6E")])])]),e._l(e.currentWidget.config.fontConfig,function(n,a){return t("el-collapse-item",{key:a},[t("template",{slot:"title"},[t("div",{staticClass:"my-title bubbles",staticStyle:{"margin-top":"12px"}},[t("span",[e._v("\u6C14\u6CE1"+e._s(a+1))])])]),t("el-form",{nativeOn:{submit:function(i){i.preventDefault()}}},[t("el-form-item",{attrs:{label:e.bubbleName}},[t("el-input",{staticStyle:{width:"195px"},on:{change:e.manageGetBoardConfigData},model:{value:n.name,callback:function(i){e.$set(n,"name",i)},expression:"v.name"}})],1)],1),t("el-form-item",{attrs:{label:"\u7EDF\u8BA1\u5B57\u6BB5"}},[t("el-input",{staticStyle:{width:"195px"},attrs:{disabled:!0},model:{value:n.staticField,callback:function(i){e.$set(n,"staticField",i)},expression:"v.staticField"}})],1),e.currentWidget.config.isBubbleImage?t("el-form-item",{attrs:{label:"\u56FE\u7247\u9009\u62E9"}},[t("select-img",{attrs:{image:n.imgBI},on:{openSelectImage:function(i){return e.openSelectImage(n)},clearSelectImage:function(i){return e.clearSelectImage(n)},change:e.manageGetBoardConfigData}})],1):e._e(),t("el-form-item",{attrs:{label:"\u5B57\u4F53\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u5B57\u4F53\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:n.color,callback:function(i){e.$set(n,"color",i)},expression:"v.color"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","vertical-align":"center"},attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:function(i){return e.changePicker("color",e.currentWidget.config.color)}},model:{value:n.color,callback:function(i){e.$set(n,"color",i)},expression:"v.color"}})],1)],1)],1),t("el-form-item",{attrs:{label:"\u6570\u636E\u5355\u4F4D"}},[t("el-input",{staticStyle:{width:"195px"},model:{value:e.currentWidget.config.unit,callback:function(i){e.$set(e.currentWidget.config,"unit",i)},expression:"currentWidget.config.unit"}})],1),t("el-form-item",{attrs:{label:"\u6570\u636E\u5B57\u4F53"}},[t("el-input-number",{attrs:{min:1},on:{change:function(i){return e.cahngeCounter("numFontSize",e.currentWidget.config.numFontSize)}},model:{value:e.currentWidget.config.numFontSize,callback:function(i){e.$set(e.currentWidget.config,"numFontSize",i)},expression:"currentWidget.config.numFontSize"}})],1),t("el-form-item",{attrs:{label:"\u6570\u5B57\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:n.numFontColor,callback:function(i){e.$set(n,"numFontColor",i)},expression:"v.numFontColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","vertical-align":"center"},attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:function(i){return e.changePicker("numFontColor",e.currentWidget.config.numFontColor)}},model:{value:n.numFontColor,callback:function(i){e.$set(n,"numFontColor",i)},expression:"v.numFontColor"}})],1)],1)],1),t("el-form-item",{attrs:{label:"\u6C14\u6CE1\u4F4D\u7F6E"}},[t("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u4F4D\u7F6E"},on:{change:e.changePosition},model:{value:n.position,callback:function(i){e.$set(n,"position",i)},expression:"v.position"}},e._l(e.currentWidget.config.positions,function(i){return t("el-option",{key:i.key,attrs:{label:i.key,value:i.key}})}),1)],1),t("el-form-item",{attrs:{label:"\u6C14\u6CE1\u65B9\u4F4D"}},[t("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u4F4D\u7F6E"},on:{change:e.changePositioning},model:{value:n.positioning,callback:function(i){e.$set(n,"positioning",i)},expression:"v.positioning"}},e._l(e.currentWidget.config.positionings,function(i){return t("el-option",{key:i.key,attrs:{label:i.key,value:i.value}})}),1)],1),e.currentWidget.config.isBubbleImage?e._e():t("el-form-item",{attrs:{label:"\u6C14\u6CE1\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u6C14\u6CE1\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:n.bubbleColor,callback:function(i){e.$set(n,"bubbleColor",i)},expression:"v.bubbleColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","vertical-align":"center"},attrs:{"show-alpha":"",predefine:e.config.predefineColors},on:{change:function(i){return e.changePicker("bubbleColor",e.currentWidget.config.bubbleColor)}},model:{value:n.bubbleColor,callback:function(i){e.$set(n,"bubbleColor",i)},expression:"v.bubbleColor"}})],1)],1)],1),e.currentWidget.config.isBubbleImage?e._e():t("el-form-item",{attrs:{label:"\u9634\u5F71\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:13}},[t("el-input",{attrs:{placeholder:"\u9634\u5F71\u989C\u8272"},on:{change:e.manageGetBoardConfigData},model:{value:n.bubbleShadowColor,callback:function(i){e.$set(n,"bubbleShadowColor",i)},expression:"v.bubbleShadowColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","vertical-align":"center"},attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:function(i){return e.changePicker("bubbleShadowColor",e.currentWidget.config.bubbleShadowColor)}},model:{value:n.bubbleShadowColor,callback:function(i){e.$set(n,"bubbleShadowColor",i)},expression:"v.bubbleShadowColor"}})],1)],1)],1)],2)})],2),t("el-form-item",{attrs:{label:"\u6C14\u6CE1\u4E0B\u94BB"}},[t("el-switch",{on:{change:function(n){return e.changeStatus(e.currentWidget.config.isDrill)}},model:{value:e.currentWidget.config.isDrill,callback:function(n){e.$set(e.currentWidget.config,"isDrill",n)},expression:"currentWidget.config.isDrill"}})],1),t("el-form-item",{attrs:{label:"\u6C14\u6CE1\u6D6E\u52A8"}},[t("el-switch",{on:{change:function(n){return e.changeStatus(e.currentWidget.config.bubbleFloat)}},model:{value:e.currentWidget.config.bubbleFloat,callback:function(n){e.$set(e.currentWidget.config,"bubbleFloat",n)},expression:"currentWidget.config.bubbleFloat"}})],1),t("el-form-item",{attrs:{label:"\u663E\u793A\u6807\u9898"}},[t("el-switch",{on:{change:function(n){return e.changeStatus(e.currentWidget.config.isShowTitle)}},model:{value:e.currentWidget.config.isShowTitle,callback:function(n){e.$set(e.currentWidget.config,"isShowTitle",n)},expression:"currentWidget.config.isShowTitle"}})],1),t("el-form-item",{attrs:{label:"\u81EA\u52A8\u7F29\u653E"}},[t("el-switch",{on:{change:function(n){return e.changeStatus(e.currentWidget.config.isFit)}},model:{value:e.currentWidget.config.isFit,callback:function(n){e.$set(e.currentWidget.config,"isFit",n)},expression:"currentWidget.config.isFit"}})],1)],1)],1)],2)],1),t("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,"close-on-click-modal":!1,visible:e.dialogVisible,width:e.dialogWidth},on:{"update:visible":function(n){e.dialogVisible=n}}},[t("div",[t("image-manage",{ref:"imageMange",attrs:{"is-dialog":!0,type:["image"]}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("\u53D6 \u6D88")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getImage}},[e._v("\u786E \u5B9A")])],1)])],1)},d=[],b=l(723400),m=l(721829),p=l(582333),s=l(555616),h=l(321300),W=l(42160),C={name:"GisThemeBubbleStyle",components:{ImageManage:p.default,selectImg:m.Z},mixins:[b.j],props:["currentWidget"],data(){return{basemap:null,config:null,layerType:this.currentWidget.config.layerType,dialogVisible:!1,selectBubbleName:null,bubbleName:"\u6C14\u6CE1\u540D\u79F0",dialogWidth:"89%",imgBubbleCopy:[],selectdPosition:null,position:null,predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)"],radios:[{label:!0,text:"\u56FE\u7247"},{label:!1,text:"\u81EA\u5B9A\u4E49"}]}},computed:{isImgBubble(){return this.config.isBubbleImage==="1"||this.config.isBubbleImage===!0},isDataTab(){return this.layerType.slice(0,3)==="geo"},isVectorColor(){return!this.layerType||this.layerType==="geoserver-wfs"||this.layerType==="dynamic"}},created(){let o=this.currentWidget.config;this.imgBubbleCopy=JSON.parse(JSON.stringify(o.fontConfig)),this.config=JSON.parse(JSON.stringify(o))},mounted(){this.initTotalData()},methods:{addBubble(){let o={name:"\u65B0\u589E\u6C14\u6CE11",color:"rgba(199, 21, 133, 1)",bubbleColor:"rgba(210, 203, 76, 0.9)",bubbleShadowColor:"rgba(162, 235, 16, 1)"};this.config.fontConfig.push(o),this.currentWidget.config.fontConfig=this.config.fontConfig},delBubble(o){this.config.fontConfig.splice(o,1),this.currentWidget.config.fontConfig=this.config.fontConfig},clearSelectImage(o){o.imgUrl="",o.imgBI="",this.manageGetBoardConfigData()},getImage(){let o=this.$refs.imageMange.getSelectImage();if(o!=null){if(this.$$global.fileType.image.indexOf(o.imageFileType)==-1){s.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}this.dialogVisible=!1;let e=this,t=-1;this.currentWidget.config.fontConfig.filter((a,i)=>(a.name==e.selectBubbleName&&(t=i),a.name==e.selectBubbleName)),this.currentWidget.config.fontConfig[t].imgBI=o.fileUrlPath;let n=h.appendImageBaseURL(o.fileUrlPath);this.currentWidget.config.fontConfig[t].imgUrl=n,this.manageGetBoardConfigData()}else s.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},manageGetBoardConfigData(){setTimeout(this.getConfigData(),500)},cancelEidt(){this.dialogVisible=!1},openSelectImage(o){let e=this;this.dialogVisible=!0,setTimeout(function(){e.$refs.imageMange.getImageList(null),e.$refs.imageMange.setSelectImage(o.imgUrl),e.selectBubbleName=o.name},500)},changeBubbleType(o){o?this.bubbleName="\u6C14\u6CE1\u540D\u79F0":this.bubbleName="\u6C14\u6CE1\u6807\u9898",this.manageGetBoardConfigData()},cahngeCounter(){this.manageGetBoardConfigData()},changeStaticField(){this.currentWidget.config=this.config,this.manageGetBoardConfigData()},changePicker(){this.manageGetBoardConfigData()},changeOption(){this.manageGetBoardConfigData()},onLayerChange(o){o.url?(this.currentWidget.config.layerid=o.id,this.currentWidget.config.layerUrl=o.url,this.currentWidget.config.layerType=o.type,this.layerType=o.type,this.currentWidget.config.layerName=o.visibleLayers[0]):(this.currentWidget.config.layerid="",this.currentWidget.config.layerUrl=""),this.manageGetBoardConfigData()},changeStatus(o){o=!o,this.manageGetBoardConfigData()},initTotalData(){this.currentWidget.config.totaldata={};let o=this;o.currentWidget.dataset[o.currentWidget.dataset.type].source.forEach((e,t)=>{let n=[];o.currentWidget.config.fontConfig.forEach((i,B)=>{let $=o.currentWidget.dataset[o.currentWidget.dataset.type].dimensions.indexOf(i.staticField),g=null,u=null;i.name=i.name||i.staticField,o.currentWidget.config.positions.forEach((r,z)=>{if(r.key===i.position)return g=r.points[0][e[0]],u=r.wkid,!1});let k={value:e[$],positionPoint:g,wkid:u};n.push(k)});let a=e[0].toString();W.default.set(o.currentWidget.config.totaldata,a,n)})},changePosition(o){this.initTotalData(),this.manageGetBoardConfigData()},changePositioning(o){this.currentWidget.config.positioning=o,this.manageGetBoardConfigData()}}},v=C,x=l(768141),y=(0,x.Z)(v,f,d,!1,null,"5a3eaa56",null),S=y.exports}}]);
