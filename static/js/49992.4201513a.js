"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[49992],{49992:function(W,r,c){c.r(r),c.d(r,{default:function(){return m}});var l=function(){var e=this,i=e._self._c;return i("div",{staticClass:"my-div"},[i("el-form",{ref:"form",attrs:{size:"mini","label-width":"90px","label-position":"right",model:e.currentWidget.dataset}},[i("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[i("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:e.changeDatasetType},model:{value:e.currentWidget.dataset.type,callback:function(a){e.$set(e.currentWidget.dataset,"type",a)},expression:"currentWidget.dataset.type"}},e._l(this.$$global_editor.dataSourcTypeList3,function(a){return i("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1),i("el-form-item",{attrs:{label:"x\u8F74"}},[i("el-select",{attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9X\u8F74\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.changeX},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.x,callback:function(a){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"x",a)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.x"}},e._l(this.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(a){return i("el-option",{key:a.name,attrs:{label:a.alias!=""?a.alias:a.name,value:a.name}})}),1)],1),i("el-divider",{attrs:{"content-position":"left"}},[e._v("y\u8F74\uFF08\u5DE6\u4FA7\uFF09")]),i("el-form-item",[i("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"150px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.addY(0)}}})],1)],1),e.currentWidget.dataset.type==="static"?i("div",e._l(e.seriesListStatic0,function(a,n){return i("el-form-item",{key:"dynamic0"+n,attrs:{label:"\u67F1\u5B50/\u6298\u7EBF"+(n+1)}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u67F1\u5B50/\u6298\u7EBF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:a.encode.static.y,callback:function(t){e.$set(a.encode.static,"y",t)},expression:"ser.encode.static.y"}},e._l(e.currentWidget.dataset.static.dimensionsAlias,function(t){return i("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),i("el-tooltip",{attrs:{content:"\u79FB\u9664\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteY(n,0)}}})],1)],1)}),1):e._e(),e.currentWidget.dataset.type==="dynamic"?i("div",e._l(e.seriesListDynamic0,function(a,n){return i("el-form-item",{key:"dynamic0"+n,attrs:{label:"\u67F1\u5B50/\u6298\u7EBF"+(n+1)}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u67F1\u5B50/\u6298\u7EBF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:a.encode.dynamic.y,callback:function(t){e.$set(a.encode.dynamic,"y",t)},expression:"ser.encode.dynamic.y"}},e._l(e.currentWidget.dataset.dynamic.dimensionsAlias,function(t){return i("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),i("el-tooltip",{attrs:{content:"\u79FB\u9664\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteY(n,0)}}})],1)],1)}),1):e._e(),e.currentWidget.dataset.type==="local"?i("div",e._l(e.seriesListLocal0,function(a,n){return i("el-form-item",{key:"dynamic0"+n,attrs:{label:"\u67F1\u5B50/\u6298\u7EBF"+(n+1)}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u67F1\u5B50/\u6298\u7EBF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:a.encode.local.y,callback:function(t){e.$set(a.encode.local,"y",t)},expression:"ser.encode.local.y"}},e._l(e.currentWidget.dataset.local.dimensionsAlias,function(t){return i("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),i("el-tooltip",{attrs:{content:"\u79FB\u9664\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteY(n,0)}}})],1)],1)}),1):e._e(),i("el-divider",{attrs:{"content-position":"left"}},[e._v("y\u8F74\uFF08\u53F3\u4FA7\uFF09")]),i("el-form-item",[i("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"150px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.addY(1)}}})],1)],1),e.currentWidget.dataset.type==="static"?i("div",e._l(e.seriesListStatic1,function(a,n){return i("el-form-item",{key:"dynamic1"+n,attrs:{label:"\u67F1\u5B50/\u6298\u7EBF"+(n+1)}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u67F1\u5B50/\u6298\u7EBF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:a.encode.static.y,callback:function(t){e.$set(a.encode.static,"y",t)},expression:"ser.encode.static.y"}},e._l(e.currentWidget.dataset.static.dimensionsAlias,function(t){return i("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),i("el-tooltip",{attrs:{content:"\u79FB\u9664\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteY(n,1)}}})],1)],1)}),1):e._e(),e.currentWidget.dataset.type==="dynamic"?i("div",e._l(e.seriesListDynamic1,function(a,n){return i("el-form-item",{key:"dynamic1"+n,attrs:{label:"\u67F1\u5B50/\u6298\u7EBF"+(n+1)}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u67F1\u5B50/\u6298\u7EBF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:a.encode.dynamic.y,callback:function(t){e.$set(a.encode.dynamic,"y",t)},expression:"ser.encode.dynamic.y"}},e._l(e.currentWidget.dataset.dynamic.dimensionsAlias,function(t){return i("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),i("el-tooltip",{attrs:{content:"\u79FB\u9664\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteY(n,1)}}})],1)],1)}),1):e._e(),e.currentWidget.dataset.type==="local"?i("div",e._l(e.seriesListLocal1,function(a,n){return i("el-form-item",{key:"dynamic1"+n,attrs:{label:"\u67F1\u5B50/\u6298\u7EBF"+(n+1)}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u67F1\u5B50/\u6298\u7EBF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:a.encode.local.y,callback:function(t){e.$set(a.encode.local,"y",t)},expression:"ser.encode.local.y"}},e._l(e.currentWidget.dataset.local.dimensionsAlias,function(t){return i("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),i("el-tooltip",{attrs:{content:"\u79FB\u9664\u67F1\u5B50/\u6298\u7EBF",effect:"dark",placement:"top"}},[i("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteY(n,1)}}})],1)],1)}),1):e._e(),i("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:e.currentWidget},on:{getDataSetData:e.getConfigData,clearDynamicEncode:e.clearDynamicEncode}})],1)],1)},o=[],d=c(589908),u=c(846577),g=c(723400),h={name:"pictorial-bar-line-mix-data",props:["currentWidget"],components:{SettingDataset:d.Z},mixins:[g.j],computed:{seriesListStatic0:function(){return this.getSeriesList(this.currentWidget.config.series,0)},seriesListStatic1:function(){return this.getSeriesList(this.currentWidget.config.series,1)},seriesListDynamic0:function(){return this.getSeriesList(this.currentWidget.config.series,0)},seriesListDynamic1:function(){return this.getSeriesList(this.currentWidget.config.series,1)},seriesListLocal0:function(){return this.getSeriesList(this.currentWidget.config.series,0)},seriesListLocal1:function(){return this.getSeriesList(this.currentWidget.config.series,1)}},methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.dataset.dynamic.encode.x="",this.currentWidget.dataset.dynamic.encode.y={0:[],1:[]},this.$$lib__.each(this.currentWidget.config.series,s=>{s.encode.dynamic.x="",s.encode.dynamic.y=""})},addY(s){let e=JSON.parse(JSON.stringify(u.Z.charts.pictorial.pictorial_bar_line_mix.config.series[0]));e.encode.static={x:"",y:""},e.encode.dynamic={x:"",y:""},e.encode.local={x:"",y:""},e.yAxisIndex=s,this.currentWidget.dataset[this.currentWidget.dataset.type].encode.x&&(e.encode[this.currentWidget.dataset.type].x=this.currentWidget.dataset[this.currentWidget.dataset.type].encode.x),this.currentWidget.dataset[this.currentWidget.dataset.type].encode.y[s].push(""),this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.static.code?s==0?this.seriesListStatic0.push(JSON.parse(JSON.stringify(e))):s==1&&this.seriesListStatic1.push(JSON.parse(JSON.stringify(e))):this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.dynamic.code?s==0?this.seriesListDynamic0.push(JSON.parse(JSON.stringify(e))):s==1&&this.seriesListDynamic1.push(JSON.parse(JSON.stringify(e))):this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.local.code&&(s==0?this.seriesListLocal0.push(JSON.parse(JSON.stringify(e))):s==1&&this.seriesListLocal1.push(JSON.parse(JSON.stringify(e)))),this.currentWidget.config.series.push(JSON.parse(JSON.stringify(e))),this.getConfigData()},deleteY(s,e){let i=[],a=-1,n;if(this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.static.code){e==0?this.seriesListStatic0.splice(s,1):e==1&&this.seriesListStatic1.splice(s,1),n=this.currentWidget.config.series.length;for(let t=0;t<n;t++)if(a=this.currentWidget.config.series[t].yAxisIndex==e?a+1:a,a==s){this.currentWidget.config.series.splice(t,1);break}i=this.currentWidget.dataset.static.encode.y[e],i.splice(s,1),this.currentWidget.dataset.static.encode.y[e]=i}else if(this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.dynamic.code){this.currentWidget.dataset.dynamic.encode.y[e].splice(s,1),e==0?this.seriesListDynamic0.splice(s,1):e==1&&this.seriesListDynamic1.splice(s,1),n=this.currentWidget.config.series.length;for(let t=0;t<n;t++)if(a=this.currentWidget.config.series[t].yAxisIndex==e?a+1:a,a==s){this.currentWidget.config.series.splice(t,1);break}i=this.currentWidget.dataset.dynamic.encode.y[e],i.splice(s,1),this.currentWidget.dataset.dynamic.encode.y[e]=i}else if(this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.local.code){this.currentWidget.dataset.local.encode.y[e].splice(s,1),e==0?this.seriesListLocal0.splice(s,1):e==1&&this.seriesListLocal1.splice(s,1),n=this.currentWidget.config.series.length;for(let t=0;t<n;t++)if(a=this.currentWidget.config.series[t].yAxisIndex==e?a+1:a,a==s){this.currentWidget.config.series.splice(t,1);break}i=this.currentWidget.dataset.local.encode.y[e],i.splice(s,1),this.currentWidget.dataset.local.encode.y[e]=i}this.getConfigData()},changeX(){this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.static.code?(this.$$lib__.each(this.seriesListStatic0,s=>{s.encode.static.x=this.currentWidget.dataset.static.encode.x}),this.$$lib__.each(this.seriesListStatic1,s=>{s.encode.static.x=this.currentWidget.dataset.static.encode.x})):this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.dynamic.code?(this.$$lib__.each(this.seriesListDynamic0,s=>{s.encode.dynamic.x=this.currentWidget.dataset.dynamic.encode.x}),this.$$lib__.each(this.seriesListDynamic1,s=>{s.encode.dynamic.x=this.currentWidget.dataset.dynamic.encode.x})):this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.local.code&&(this.$$lib__.each(this.seriesListLocal0,s=>{s.encode.local.x=this.currentWidget.dataset.local.encode.x}),this.$$lib__.each(this.seriesListDynamic1,s=>{s.encode.local.x=this.currentWidget.dataset.local.encode.x})),this.getConfigData()},getSeriesList(s,e){let i=[];return this.$$lib__.each(s,a=>{a.yAxisIndex==e&&i.push(JSON.parse(JSON.stringify(a)))}),i},setSeriesList(){this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.static.code?(this.currentWidget.config.series=this.$$lib__.union(this.seriesListStatic0,this.seriesListStatic1),this.currentWidget.dataset.static.encode.y[0]=[],this.currentWidget.dataset.static.encode.y[1]=[],this.currentWidget.config.series.forEach(s=>{s.yAxisIndex==0?this.currentWidget.dataset.static.encode.y[0].push(s.encode.static.y):s.yAxisIndex==1&&this.currentWidget.dataset.static.encode.y[1].push(s.encode.static.y)})):this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.dynamic.code?(this.currentWidget.config.series=this.$$lib__.union(this.seriesListDynamic0,this.seriesListDynamic1),this.currentWidget.dataset.dynamic.encode.y[0]=[],this.currentWidget.dataset.dynamic.encode.y[1]=[],this.currentWidget.config.series.forEach(s=>{s.yAxisIndex==0?this.currentWidget.dataset.dynamic.encode.y[0].push(s.encode.dynamic.y):s.yAxisIndex==1&&this.currentWidget.dataset.dynamic.encode.y[1].push(s.encode.dynamic.y)})):this.currentWidget.dataset.type==this.$$global_editor.dataSourcType.local.code&&(this.currentWidget.config.series=this.$$lib__.union(this.seriesListLocal0,this.seriesListLocal1),this.currentWidget.dataset.local.encode.y[0]=[],this.currentWidget.dataset.local.encode.y[1]=[],this.currentWidget.config.series.forEach(s=>{s.yAxisIndex==0?this.currentWidget.dataset.local.encode.y[0].push(s.encode.local.y):s.yAxisIndex==1&&this.currentWidget.dataset.local.encode.y[1].push(s.encode.local.y)}))}}},y=h,p=c(768141),f=(0,p.Z)(y,l,o,!1,null,"0a9ed271",null),m=f.exports}}]);
