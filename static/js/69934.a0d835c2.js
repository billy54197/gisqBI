"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[69934],{969934:function(f,s,o){o.r(s),o.d(s,{default:function(){return d}});var r=function(){var e=this,a=e._self._c;return a("div",[a("el-collapse",[a("el-collapse-item",{attrs:{title:e.title}},[a("el-form",{ref:"form",attrs:{size:"mini",model:e.markLine,"label-width":"70px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{width:"200px"},attrs:{label:"\u54CD\u5E94\u9F20\u6807"}},[a("el-switch",{on:{change:e.getConfigData},model:{value:e.noSilent,callback:function(t){e.noSilent=t},expression:"noSilent"}})],1),a("el-collapse-item",{attrs:{title:"\u6807\u7EBF\u6570\u636E"}},[a("el-form-item",{attrs:{label:"\u6DFB\u52A0\u6807\u7EBF"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6807\u7EBF\u4F4D\u7F6E"},on:{change:e.getConfigData},model:{value:e.xyAxis,callback:function(t){e.xyAxis=t},expression:"xyAxis"}},e._l(e.xyAxisList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u6807\u7EBF",effect:"dark",placement:"top"}},[a("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.addMarkLine()}}})],1)],1),e._l(e.markLine.data,function(t,n){return a("el-collapse-item",{key:n,attrs:{title:!Array.isArray(t)&&t.axisName?"\u6807\u7EBF : \u5355\u7EF4\u5EA6-"+t.axisName:"\u6807\u7EBF : \u591A\u7EF4\u5EA6-\u5750\u6807\u7CFB"}},[Array.isArray(t)?e._e():a("el-form-item",{attrs:{label:"\u7EBF\u7684\u7C7B\u578B"}},[t.dateType=="xAxis"?a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u7EBF\u7684\u7C7B\u578B"},on:{change:function(l){return e.typeChange(n)}},model:{value:t.typeAxios,callback:function(l){e.$set(t,"typeAxios",l)},expression:"dt.typeAxios"}},e._l(e.dataTypeXList,function(l){return a("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1):a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u7EBF\u7684\u7C7B\u578B"},on:{change:function(l){return e.typeChange(n)}},model:{value:t.typeAxios,callback:function(l){e.$set(t,"typeAxios",l)},expression:"dt.typeAxios"}},e._l(e.dataTypeList,function(l){return a("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1),a("el-tooltip",{attrs:{content:"\u79FB\u9664\u6807\u7EBF",effect:"dark",placement:"top"}},[a("el-button",{staticStyle:{color:"#f6061b","margin-left":"1px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(l){return e.removeMarkLine(n)}}})],1)],1),t.typeAxios=="axios"&&t.dateType=="xAxis"?a("el-form-item",{attrs:{label:"X\u8F74\u6570\u503C"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8F93\u5165X\u8F74\u4E0A\u7684\u6570\u503C"},on:{change:e.getConfigData,input:e.inputChange},model:{value:t.xAxis,callback:function(l){e.$set(t,"xAxis",l)},expression:"dt.xAxis"}})],1):e._e(),t.typeAxios=="axios"&&t.dateType=="yAxis"?a("el-form-item",{attrs:{label:"Y\u8F74\u6570\u503C"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8F93\u5165Y\u8F74\u4E0A\u7684\u6570\u503C"},on:{change:e.getConfigData,input:e.inputChange},model:{value:t.yAxis,callback:function(l){e.$set(t,"yAxis",l)},expression:"dt.yAxis"}})],1):e._e(),Array.isArray(t)?a("el-form-item",{attrs:{label:"\u7EBF\u7684\u7C7B\u578B"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u7EBF\u7684\u7C7B\u578B"},on:{change:function(l){return e.coordTypeChange(n)}},model:{value:t[2].type,callback:function(l){e.$set(t[2],"type",l)},expression:"dt[2].type"}},e._l(e.lineTypeList,function(l){return a("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1),a("el-tooltip",{attrs:{content:"\u79FB\u9664\u6807\u7EBF",effect:"dark",placement:"top"}},[a("el-button",{staticStyle:{color:"#f6061b","margin-left":"1px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(l){return e.removeMarkLine(n)}}})],1)],1):e._e(),Array.isArray(t)&&t[2].type=="coord"?a("div",[a("el-form-item",{attrs:{label:"\u8D77\u70B9\u5750\u6807"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8F93\u5165X\u8F74\u4E0A\u7684\u6570\u503C"},on:{change:e.getConfigData,input:e.inputChange},model:{value:t[0].coord[0],callback:function(l){e.$set(t[0].coord,0,l)},expression:"dt[0].coord[0]"}}),a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8F93\u5165y\u8F74\u4E0A\u7684\u6570\u503C"},on:{change:e.getConfigData,input:e.inputChange},model:{value:t[0].coord[1],callback:function(l){e.$set(t[0].coord,1,l)},expression:"dt[0].coord[1]"}})],1),a("el-form-item",{attrs:{label:"\u7EC8\u70B9\u5750\u6807"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8F93\u5165X\u8F74\u4E0A\u7684\u6570\u503C"},on:{change:e.getConfigData,input:e.inputChange},model:{value:t[1].coord[0],callback:function(l){e.$set(t[1].coord,0,l)},expression:"dt[1].coord[0]"}}),a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8F93\u5165y\u8F74\u4E0A\u7684\u6570\u503C"},on:{change:e.getConfigData,input:e.inputChange},model:{value:t[1].coord[1],callback:function(l){e.$set(t[1].coord,1,l)},expression:"dt[1].coord[1]"}})],1)],1):e._e()],1)})],2),a("el-form-item",{attrs:{label:"\u6807\u8BB0\u56FE\u5F62"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u6807\u8BB0\u56FE\u5F62"},on:{change:e.getConfigData},model:{value:e.markLine.symbol,callback:function(t){e.$set(e.markLine,"symbol",t)},expression:"markLine.symbol"}},e._l(e.globalEditor.symbolList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"\u6807\u8BB0\u5927\u5C0F"}},[a("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6807\u8BB0\u5927\u5C0F","controls-position":"right",step:1,min:0},on:{change:e.getConfigData},model:{value:e.markLine.symbolSize,callback:function(t){e.$set(e.markLine,"symbolSize",t)},expression:"markLine.symbolSize"}})],1),a("el-collapse-item",{attrs:{title:"\u6807\u7EBF\u6837\u5F0F"}},[a("el-form-item",{attrs:{label:"\u6807\u7EBF\u989C\u8272"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"\u6807\u7EBF\u989C\u8272"},on:{change:e.getConfigData},model:{value:e.markLine.lineStyle.color,callback:function(t){e.$set(e.markLine.lineStyle,"color",t)},expression:"markLine.lineStyle.color"}})],1),a("el-col",{attrs:{span:6}},[a("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:this.$$global_editor.predefineColors},on:{change:e.getConfigData},model:{value:e.markLine.lineStyle.color,callback:function(t){e.$set(e.markLine.lineStyle,"color",t)},expression:"markLine.lineStyle.color"}})],1)],1)],1),a("el-form-item",{attrs:{label:"\u6807\u7EBF\u7EBF\u5BBD"}},[a("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6807\u7EBF\u7EBF\u5BBD","controls-position":"right",step:.5},on:{change:e.getConfigData},model:{value:e.markLine.lineStyle.width,callback:function(t){e.$set(e.markLine.lineStyle,"width",t)},expression:"markLine.lineStyle.width"}})],1),a("el-form-item",{attrs:{label:"\u6807\u7EBF\u7C7B\u578B"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u6807\u7EBF\u7C7B\u578B"},on:{change:e.getConfigData},model:{value:e.markLine.lineStyle.type,callback:function(t){e.$set(e.markLine.lineStyle,"type",t)},expression:"markLine.lineStyle.type"}},e._l(e.typeList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a("el-collapse-item",{attrs:{title:"\u6807\u7EBF\u6587\u672C"}},[a("el-form-item",{attrs:{label:"\u6587\u672C\u6807\u7B7E"}},[a("el-switch",{on:{change:e.getConfigData},model:{value:e.markLine.label.show,callback:function(t){e.$set(e.markLine.label,"show",t)},expression:"markLine.label.show"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.markLine.label.show,expression:"markLine.label.show"}]},[a("el-form-item",{attrs:{label:"\u6807\u7B7E\u4F4D\u7F6E"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E\u4F4D\u7F6E"},on:{change:e.getConfigData},model:{value:e.markLine.label.position,callback:function(t){e.$set(e.markLine.label,"position",t)},expression:"markLine.label.position"}},e._l(e.positionList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"\u56FE\u5F62\u8DDD\u79BB"}},[a("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u56FE\u5F62\u5143\u7D20\u7684\u8DDD\u79BB","controls-position":"right",step:1},on:{change:e.getConfigData},model:{value:e.markLine.label.distance,callback:function(t){e.$set(e.markLine.label,"distance",t)},expression:"markLine.label.distance"}})],1),a("formatter",{attrs:{formatter:e.markLine.label.formatter,title:"\u6807\u7B7E\u6A21\u677F"},on:{formatterChange:e.formatterChange}})],1)],1)],1)],1)],1)],1)},c=[],p={name:"mark-line2",components:{Formatter:()=>o.e(39888).then(o.bind(o,539888))},props:{markLine:{},title:{type:String,default:"\u56FE\u8868\u6807\u7EBF"},currentWidget:{}},data(){return{globalEditor:this.$$global_editor,xyAxisList:[{value:"xAxis",label:"\u5355\u7EF4\u5EA6-X\u8F74"},{value:"yAxis",label:"\u5355\u7EF4\u5EA6-Y\u8F74"},{value:"axis",label:"\u591A\u7EF4\u5EA6-\u5750\u6807\u7CFB"}],typeList:[{value:"solid",label:"\u5B9E\u7EBF"},{value:"dashed",label:"\u865A\u7EBF"},{value:"dotted",label:"\u70B9\u72B6"}],positionList:[{value:"start",label:"\u7EBF\u7684\u8D77\u59CB\u70B9"},{value:"middle",label:"\u7EBF\u7684\u4E2D\u70B9"},{value:"end",label:"\u7EBF\u7684\u7ED3\u675F\u70B9"}],dataTypeXList:[{value:"axios",label:"\u624B\u52A8\u8F93\u5165"}],dataTypeList:[{value:"min",label:"\u6700\u5C0F\u503C"},{value:"max",label:"\u6700\u5927\u503C"},{value:"average",label:"\u5E73\u5747\u503C"},{value:"axios",label:"\u624B\u52A8\u8F93\u5165"}],lineTypeList:[{value:"minToMax",label:"\u6700\u5C0F\u503C\u5230\u6700\u5927\u503C"},{value:"coord",label:"\u81EA\u5B9A\u4E49\u5750\u6807\u70B9"}],xyAxis:"yAxis",noSilent:!this.markLine.silent}},methods:{getConfigData(){this.markLine.silent=!this.noSilent,this.$emit("markLineChange",this.markLine)},formatterChange(i){this.markLine.label.formatter=i,this.getConfigData()},coordTypeChange(i){this.markLine.data[i][2].type=="coord"?(this.markLine.data[i][0]={coord:["10","5"]},this.markLine.data[i][1]={coord:["25","30"]}):(this.markLine.data[i][0]={name:"\u6700\u5C0F\u503C\u5230\u6700\u5927\u503C",type:"min"},this.markLine.data[i][1]={type:"max"}),this.getConfigData()},typeChange(i){let e=this.markLine.data[i];e.typeAxios!="axios"&&(e.type=e.typeAxios,e.xAxis=null,e.yAxis=null,this.getConfigData())},addMarkLine(){let i;if(this.xyAxis=="axis")i=[{name:"\u6700\u5C0F\u503C\u5230\u6700\u5927\u503C",type:"min"},{type:"max"},{type:"minToMax"}];else{let e="21";if(this.currentWidget){let a=this.currentWidget.dataset[this.currentWidget.dataset.type].encode,t=this.currentWidget.dataset[this.currentWidget.dataset.type].dimensions,n=this.currentWidget.dataset[this.currentWidget.dataset.type].source,l=-1;this.$$lib__.each(t,(y,x)=>{y==a.x&&(l=x)}),e=n[0][l],typeof e=="number"&&(e=e.toString())}i={type:"average",axisName:this.xyAxis=="xAxis"?"x\u8F74":"y\u8F74",dateType:this.xyAxis,valueIndex:this.xyAxis=="xAxis"?0:1,valueDim:this.xyAxis=="xAxis"?"x":"y",xAxis:this.xyAxis=="xAxis"?e:null,yAxis:this.xyAxis=="xAxis"?null:1}}this.markLine.data.push(i),this.getConfigData()},removeMarkLine(i){this.markLine.data.splice(i,1),this.getConfigData()},inputChange(){this.$forceUpdate()}}},u=p,m=o(768141),h=(0,m.Z)(u,r,c,!1,null,"4d7e85ee",null),d=h.exports}}]);
