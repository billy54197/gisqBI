"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[824],{60824:function(v,a,s){s.r(a),s.d(a,{default:function(){return I}});var d=function(){var t=this,o=t._self._c;return o("div",{staticClass:"task-query-class",style:{width:t.widgetInfo.attr.w+"px",height:t.widgetInfo.attr.hh+"px",overflow:"hidden"}},[o("hide-button",{attrs:{attr:t.widgetInfo.attr}}),t.init?o("GisqTaskComponent",{ref:"GisqTaskSuspend",attrs:{compConfig:t.componentConfig},on:{getButtonList:t.getButtonList,getTableColumnList:t.getTableColumnList,getTableSearchList:t.getTableSearchList}}):t._e()],1)},g=[],u=s(28658),c=s(56279),h=s(80989),r=s(48836),f=s(31954),n=s(21300),i=s(27966),p=s(44513),l={name:"task-suspend",mixins:[u.u,c.P],components:{GisqTaskComponent:h.GisqTaskComponent,HideButton:p.Z},props:["widgetInfo"],computed:{...(0,r.Se)(["editorAppId","viewAppId"])},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},data(){return{componentConfig:{},currentWidgetInfo:{},init:!1}},methods:{...(0,r.nv)(["updateCurrentWidget","setCurrentWidget"]),loadInfo(e){this.setTaskWaitConfig(e),this.lifecycleAfterLoad()},setTaskWaitConfig(e){this.componentConfig=JSON.parse(JSON.stringify(e.config)),this.componentConfig.service=f.Z.baseConfig.domain;const t=JSON.parse(n.getStoreUserInfo());t.access_token=n.getStoreToken(),this.componentConfig.userInfo=t,this.componentConfig.urlPathNameBi=n.isView()?"view":"editor",this.componentConfig.subGuid=this.editorAppId||this.viewAppId,this.componentConfig.isUseAppObject=f.Z.baseConfig.isUseAppObject,this.init=!0},getButtonList(e){this.currentWidgetInfo=JSON.parse(JSON.stringify(this.widgetInfo)),this.currentWidgetInfo.config.tableButtonList=JSON.parse(JSON.stringify(e)),this.updateCurrentWidget(JSON.parse(JSON.stringify(this.currentWidgetInfo)))},getTableColumnList(e){this.currentWidgetInfo=JSON.parse(JSON.stringify(this.widgetInfo)),this.currentWidgetInfo.config.tableColumnList=JSON.parse(JSON.stringify(e)),this.updateCurrentWidget(JSON.parse(JSON.stringify(this.currentWidgetInfo)))},getTableSearchList(e){this.currentWidgetInfo=JSON.parse(JSON.stringify(this.widgetInfo)),this.currentWidgetInfo.config.tableSearchList=JSON.parse(JSON.stringify(e)),this.updateCurrentWidget(JSON.parse(JSON.stringify(this.currentWidgetInfo)))},reLoadInfo(e){this.loadInfo(e)}},mounted(){this.loadInfo(this.widgetInfo);let e=this;window.onmessage=function(t){t.data.cmd&&t.data.cmd==="refresh"&&e.$refs.GisqTaskSuspend.refreshTableData()},i.Z.$on("clickedSearchSetting",()=>{this.$refs.GisqTaskSuspend&&this.$refs.GisqTaskSuspend.showSearchSetting()}),i.Z.$on("clickedButtonSetting",()=>{this.$refs.GisqTaskSuspend&&this.$refs.GisqTaskSuspend.showButtonSetting()}),i.Z.$on("clickedColumnSetting",()=>{this.$refs.GisqTaskSuspend&&this.$refs.GisqTaskSuspend.showColumnSetting()})},beforeDestroy(){i.Z.$off("clickedSearchSetting"),i.Z.$off("clickedButtonSetting"),i.Z.$off("clickedColumnSetting")}},S=l,m=s(68141),C=(0,m.Z)(S,d,g,!1,null,"42eb9c65",null),I=C.exports}}]);
