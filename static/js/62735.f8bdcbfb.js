"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[62735],{957720:function(O,P){P.Z={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},762735:function(O,P,f){var y=f(521136),I=f(957720),M=f(671482),C=f(776094),v=f(24918),g=f(587586),T=function(){var d=function(n,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},d(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");d(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),o={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},N=function(d){T(n,d);function n(t){var e=d.call(this)||this;e.on,e.once,e.un,e.options=t,e.id=t.id,e.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,e.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,e.element=document.createElement("div"),e.element.className=t.className!==void 0?t.className:"ol-overlay-container "+M.$A,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=i||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addChangeListener(o.ELEMENT,e.handleElementChanged),e.addChangeListener(o.MAP,e.handleMapChanged),e.addChangeListener(o.OFFSET,e.handleOffsetChanged),e.addChangeListener(o.POSITION,e.handlePositionChanged),e.addChangeListener(o.POSITIONING,e.handlePositioningChanged),t.element!==void 0&&e.setElement(t.element),e.setOffset(t.offset!==void 0?t.offset:[0,0]),e.setPositioning(t.positioning||"top-left"),t.position!==void 0&&e.setPosition(t.position),e}return n.prototype.getElement=function(){return this.get(o.ELEMENT)},n.prototype.getId=function(){return this.id},n.prototype.getMap=function(){return this.get(o.MAP)||null},n.prototype.getOffset=function(){return this.get(o.OFFSET)},n.prototype.getPosition=function(){return this.get(o.POSITION)},n.prototype.getPositioning=function(){return this.get(o.POSITIONING)},n.prototype.handleElementChanged=function(){(0,g.ep)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},n.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,g.ZF)(this.element),(0,v.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,v.oL)(t,I.Z.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},n.prototype.render=function(){this.updatePixelPosition()},n.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},n.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},n.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},n.prototype.setElement=function(t){this.set(o.ELEMENT,t)},n.prototype.setMap=function(t){this.set(o.MAP,t)},n.prototype.setOffset=function(t){this.set(o.OFFSET,t)},n.prototype.setPosition=function(t){this.set(o.POSITION,t)},n.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},n.prototype.panIntoView=function(t){var e=this.getMap();if(!(!e||!e.getTargetElement()||!this.get(o.POSITION))){var i=this.getRect(e.getTargetElement(),e.getSize()),a=this.getElement(),r=this.getRect(a,[(0,g.iO)(a),(0,g.Pb)(a)]),c=t||{},l=c.margin===void 0?20:c.margin;if(!(0,C.containsExtent)(i,r)){var u=r[0]-i[0],h=i[2]-r[2],p=r[1]-i[1],_=i[3]-r[3],s=[0,0];if(u<0?s[0]=u-l:h<0&&(s[0]=Math.abs(h)+l),p<0?s[1]=p-l:_<0&&(s[1]=Math.abs(_)+l),s[0]!==0||s[1]!==0){var S=e.getView().getCenterInternal(),m=e.getPixelFromCoordinateInternal(S);if(!m)return;var L=[m[0]+s[0],m[1]+s[1]],E=c.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(L),duration:E.duration,easing:E.easing})}}}},n.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),a=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[a,r,a+e[0],r+e[1]]},n.prototype.setPositioning=function(t){this.set(o.POSITIONING,t)},n.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},n.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(e),a=t.getSize();this.updateRenderedPosition(i,a)},n.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,a=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var c=Math.round(t[0]+a[0])+"px",l=Math.round(t[1]+a[1])+"px",u="0%",h="0%";r=="bottom-right"||r=="center-right"||r=="top-right"?u="-100%":(r=="bottom-center"||r=="center-center"||r=="top-center")&&(u="-50%"),r=="bottom-left"||r=="bottom-center"||r=="bottom-right"?h="-100%":(r=="center-left"||r=="center-center"||r=="center-right")&&(h="-50%");var p="translate(".concat(u,", ").concat(h,") translate(").concat(c,", ").concat(l,")");this.rendered.transform_!=p&&(this.rendered.transform_=p,i.transform=p,i.msTransform=p)},n.prototype.getOptions=function(){return this.options},n}(y.Z);P.Z=N}}]);
