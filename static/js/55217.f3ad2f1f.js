"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[55217],{355217:function(ot,n,t){var M=t(29870),p=t(985208),J=t(659791),z=t(22466),U=t(183393),H=t(105077),$=t(787879),B=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.createPlot=d,n.createPlotByJson=v,n.getPlotCount=E,n.getStyle=y;var K=B(t(543389)),f=T(t(351502)),F=T(t(575171)),A=t(439705),k=t(505775),w=t(91873),D=B(t(122305)),h=B(t(289517)),S=t(536443),I=t(603262);function L(s){if(typeof $!="function")return null;var a=new $,l=new $;return(L=function(g){return g?l:a})(s)}function T(s,a){if(!a&&s&&s.__esModule)return s;if(s===null||M(s)!=="object"&&typeof s!="function")return{default:s};var l=L(a);if(l&&l.has(s))return l.get(s);var c={},g=Object.defineProperty&&U;for(var R in s)if(R!=="default"&&Object.prototype.hasOwnProperty.call(s,R)){var N=g?U(s,R):null;N&&(N.get||N.set)?Object.defineProperty(c,R,N):c[R]=s[R]}return c.default=s,l&&l.set(s,c),c}function C(s,a){var l=p(s);if(J){var c=J(s);a&&(c=z(c).call(c,function(g){return U(s,g).enumerable})),l.push.apply(l,c)}return l}function o(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?C(Object(l),!0).forEach(function(c){(0,K.default)(s,c,l[c])}):H?Object.defineProperties(s,H(l)):C(Object(l)).forEach(function(c){Object.defineProperty(s,c,U(l,c))})}return s}var e={color:"#3388ff",fill:!![],opacity:.6,outline:!![],outlineColor:"#ffffff",outlineOpacity:.6,outlineWidth:2};function d(s,a,l){var c=h.default[s],g=l||{};switch(c){case f.POINT:return new F.Point([],a,g);case f.POLYLINE:return new F.Polyline([],a,g);case f.CIRCLE:return new F.Circle([],a,g);case f.CURVE:return new F.Curve([],a,g);case f.RECTANGLE:return new F.RectAngle([],a,g);case f.ELLIPSE:return new F.Ellipse([],a,g);case f.ELLIPSOID:return new F.Ellipsoid([],a,g);case f.SURFACE_CLOSED:return new F.ClosedCurve([],a,g);case f.POLYGON:return new F.Polygon([],a,g);case f.ARROW_ATTACK:return new F.AttackArrow([],a,g);case f.ARROW_PINCERLIKE:return new F.DoubleArrow([],a,g);case f.ARROW:return new F.FineArrow([],a,g);case f.ASSEMBLY_SITE:return new F.GatheringPlace([],a,g)}}function v(s){var a=s.type,l=s.geojson,c=s.style,g=h.default[a],R;switch(g){case f.POINT:R=new F.Point;break;case f.POLYLINE:R=new F.Polyline;break;case f.CIRCLE:R=new F.Circle;break;case f.CURVE:R=new F.Curve;break;case f.RECTANGLE:R=new F.RectAngle;break;case f.ELLIPSE:R=new F.Ellipse;break;case f.ELLIPSOID:R=new F.Ellipsoid;break;case f.SURFACE_CLOSED:R=new F.ClosedCurve;break;case f.POLYGON:R=new F.Polygon;break;case f.ARROW_ATTACK:R=new F.AttackArrow;break;case f.ARROW_PINCERLIKE:R=new F.DoubleArrow;break;case f.ARROW:R=new F.FineArrow;break;case f.ASSEMBLY_SITE:R=new F.GatheringPlace;break}if(R){var N=(0,A.getFeaturesFromGeoJson)(l);if(N&&N.length>0){var j=N[0].getGeometry();if(R.setGeometry)R.setGeometry(j,c);else{var m;j instanceof k.Point?m=[j.getCoordinates()]:(j instanceof k.MultiPoint||j instanceof k.LineString)&&(m=j.getCoordinates()),R.setPoints(m)}return R}}}function E(s){s=h.default[s];var a={};switch(s){case f.CIRCLE:a={fixPointCount:2,minPointCount:1};break;case f.CURVE:a={fixPointCount:Number.MAX_VALUE,minPointCount:1};break;case f.RECTANGLE:a={fixPointCount:2,minPointCount:1};break;case f.ELLIPSE:case f.ELLIPSOID:a={fixPointCount:3,minPointCount:1};break;case f.SURFACE_CLOSED:a={fixPointCount:Number.MAX_VALUE,minPointCount:2};break;case f.ARROW_ATTACK:a={fixPointCount:Number.MAX_VALUE,minPointCount:2};break;case f.ARROW_PINCERLIKE:a={fixPointCount:4,minPointCount:2};break;case f.ARROW:a={fixPointCount:2,minPointCount:1};break;case f.ASSEMBLY_SITE:a={fixPointCount:3,minPointCount:1};break}return a}function y(s,a,l){var c=h.default[s];switch(a=o(o({},e),a),c){case f.POINT:return function(g,R){return(0,S.getPointSingleStyle)(s,a,R,l)};case f.POLYLINE:case f.CURVE:return new w.Style({stroke:u(!![],a.color,a.opacity,a.width)});case f.CIRCLE:case f.RECTANGLE:case f.ELLIPSE:case f.ELLIPSOID:case f.SURFACE_CLOSED:case f.POLYGON:case f.ARROW_ATTACK:case f.ARROW_PINCERLIKE:case f.ARROW:case f.ASSEMBLY_SITE:return(0,I.getPolygonStyle)(a)}}function u(s,a,l,c){return s?new w.Stroke({color:r(a,l),width:c||2}):null}function r(s,a){return(0,D.default)(s).alpha(a??1).hexa()}},158435:function(ot,n){Object.defineProperty(n,"__esModule",{value:!![]}),n.TOP=n.RIGHT=n.LEFT=n.BOTTOM=void 0;var t="top";n.TOP=t;var M="bottom";n.BOTTOM=M;var p="left";n.LEFT=p;var J="right";n.RIGHT=J},354970:function(ot,n,t){var M=t(149500),p=t(29870),J=t(465557),z=t(787879),U=t(183393),H=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var $=H(t(705146)),B=H(t(520314)),K=H(t(122777)),f=H(t(42762)),F=H(t(330044)),A=H(t(299085)),k=H(t(234009)),w=H(t(218729)),D=t(351502),h=T(t(363839)),S=T(t(894722)),I=T(t(158435));function L(v){if(typeof z!="function")return null;var E=new z,y=new z;return(L=function(r){return r?y:E})(v)}function T(v,E){if(!E&&v&&v.__esModule)return v;if(v===null||p(v)!=="object"&&typeof v!="function")return{default:v};var y=L(E);if(y&&y.has(v))return y.get(v);var u={},r=Object.defineProperty&&U;for(var s in v)if(s!=="default"&&Object.prototype.hasOwnProperty.call(v,s)){var a=r?U(v,s):null;a&&(a.get||a.set)?Object.defineProperty(u,s,a):u[s]=v[s]}return u.default=v,y&&y.set(v,u),u}function C(v){var E=o();return function(){var u=(0,k.default)(v),r;if(E){var s=(0,k.default)(this).constructor;r=J(u,arguments,s)}else r=u.apply(this,arguments);return(0,A.default)(this,r)}}function o(){if(typeof Reflect>"u"||!J)return![];if(J.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(J(Boolean,[],function(){})),!![]}catch{return![]}}var e=function(v){(0,F.default)(y,v);var E=C(y);function y(u,r,s){var a;return(0,K.default)(this,y),a=E.call(this,[]),a.type=D.ARROW_ATTACK,a.headHeightFactor=.18,a.headWidthFactor=.3,a.neckHeightFactor=.85,a.neckWidthFactor=.15,a.headTailFactor=.8,a.arrowType=I.RIGHT,a.set("params",s),r&&r.length>0?a.setPoints(r):u&&u.length>0&&a.setCoordinates(u),a}return(0,f.default)(y,[{key:"generate",value:function(){try{var r=this.getPointCount();if(r<2)return![];if(r===2)this.setCoordinates([this.points]);else{var s,a,l,c=this.getPoints(),g=[c[0],c[1]],R=g[0],N=g[1];h.isClockWise(c[0],c[1],c[2])&&(R=c[1],N=c[0]),Math.abs(R[0]-N[0])>Math.abs(R[1]-N[1])?c[2][1]-R[1]>0?this.arrowType=I.TOP:this.arrowType=I.BOTTOM:c[2][0]-R[0]>0?this.arrowType=I.RIGHT:this.arrowType=I.LEFT;var j=h.Mid(R,N),m=(0,$.default)(s=[j]).call(s,(0,B.default)(c).call(c,2)),G=this.getArrowHeadPoints(m,R,N),x=[G[0],G[4]],Z=x[0],_=x[1],et=h.MathDistance(R,N)/h.getBaseLength(m),it=this.getArrowBodyPoints(m,Z,_,et),st=it.length,at=(0,$.default)(a=[R]).call(a,(0,B.default)(it).call(it,0,st/2));at.push(Z);var Y=(0,$.default)(l=[N]).call(l,(0,B.default)(it).call(it,st/2,st));Y.push(_),at=h.getQBSplinePoints(at),Y=h.getQBSplinePoints(Y),this.setCoordinates([(0,$.default)(at).call(at,G,Y.reverse())])}}catch(i){M.warn(i)}}},{key:"getArrowPoints",value:function(r,s,a,l){var c=h.Mid(r,s),g=h.MathDistance(c,a),R=h.getThirdPoint(a,c,0,g*.3,!![]),N=h.getThirdPoint(a,c,0,g*.5,!![]);R=h.getThirdPoint(c,R,S.HALF_PI,g/5,l),N=h.getThirdPoint(c,N,S.HALF_PI,g/4,l);var j=[c,R,N,a],m=this.getArrowHeadPoints(j);if(m&&Array.isArray(m)&&m.length>0){var G=[m[0],m[4]],x=G[0],Z=G[1],_=h.MathDistance(r,s)/h.getBaseLength(j)/2,et=this.getArrowBodyPoints(j,x,Z,_);if(et){var it,st=et.length,at=(0,B.default)(et).call(et,0,st/2),Y=(0,B.default)(et).call(et,st/2,st);return at.push(x),Y.push(Z),at=at.reverse(),at.push(s),Y=Y.reverse(),Y.push(r),(0,$.default)(it=at.reverse()).call(it,m,Y)}}else throw new Error("\u63D2\u503C\u51FA\u9519")}},{key:"getArrowHeadPoints",value:function(r,s,a){try{var l=h.getBaseLength(r),c=l*this.headHeightFactor,g=r[r.length-1];l=h.MathDistance(g,r[r.length-2]);var R=h.MathDistance(s,a);c>R*this.headTailFactor&&(c=R*this.headTailFactor);var N=c*this.headWidthFactor,j=c*this.neckWidthFactor;c=c>l?l:c;var m=c*this.neckHeightFactor,G=h.getThirdPoint(r[r.length-2],g,0,c,!![]),x=h.getThirdPoint(r[r.length-2],g,0,m,!![]),Z=h.getThirdPoint(g,G,S.HALF_PI,N,![]),_=h.getThirdPoint(g,G,S.HALF_PI,N,!![]),et=h.getThirdPoint(g,x,S.HALF_PI,j,![]),it=h.getThirdPoint(g,x,S.HALF_PI,j,!![]);return[et,Z,g,_,it]}catch(st){M.warn(st)}}},{key:"getArrowBodyPoints",value:function(r,s,a,l){for(var c=h.wholeDistance(r),g=h.getBaseLength(r),R=g*l,N=h.MathDistance(s,a),j=(R-N)/2,m=0,G=[],x=[],Z=1;Z<r.length-1;Z++){var _=h.getAngleOfThreePoints(r[Z-1],r[Z],r[Z+1])/2;m+=h.MathDistance(r[Z-1],r[Z]);var et=(R/2-m/c*j)/Math.sin(_),it=h.getThirdPoint(r[Z-1],r[Z],Math.PI-_,et,!![]),st=h.getThirdPoint(r[Z-1],r[Z],_,et,![]);G.push(it),x.push(st)}return(0,$.default)(G).call(G,x)}},{key:"getTempPoint4",value:function(r,s,a){try{var l=h.Mid(r,s),c=h.MathDistance(l,a),g=h.getAngleOfThreePoints(r,l,a),R=void 0,N=void 0,j=void 0,m=void 0;return g<S.HALF_PI?(N=c*Math.sin(g),j=c*Math.cos(g),m=h.getThirdPoint(r,l,S.HALF_PI,N,![]),R=h.getThirdPoint(l,m,S.HALF_PI,j,!![])):g>=S.HALF_PI&&g<Math.PI?(N=c*Math.sin(Math.PI-g),j=c*Math.cos(Math.PI-g),m=h.getThirdPoint(r,l,S.HALF_PI,N,![]),R=h.getThirdPoint(l,m,S.HALF_PI,j,![])):g>=Math.PI&&g<Math.PI*1.5?(N=c*Math.sin(g-Math.PI),j=c*Math.cos(g-Math.PI),m=h.getThirdPoint(r,l,S.HALF_PI,N,!![]),R=h.getThirdPoint(l,m,S.HALF_PI,j,!![])):(N=c*Math.sin(Math.PI*2-g),j=c*Math.cos(Math.PI*2-g),m=h.getThirdPoint(r,l,S.HALF_PI,N,!![]),R=h.getThirdPoint(l,m,S.HALF_PI,j,![])),R}catch(G){M.warn(G)}}},{key:"updatePoint",value:function(r,s){s>=0&&s<this.points.length&&(this.points[s]=r,this.generate())}},{key:"updateLastPoint",value:function(r){this.updatePoint(r,this.points.length-1)}}]),y}(w.default),d=e;n.default=d},585578:function(ot,n,t){var M=t(149500),p=t(29870),J=t(465557),z=t(787879),U=t(183393),H=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var $=H(t(520314)),B=H(t(705146)),K=H(t(122777)),f=H(t(42762)),F=H(t(330044)),A=H(t(299085)),k=H(t(234009)),w=t(351502),D=L(t(894722)),h=L(t(363839)),S=H(t(218729));function I(d){if(typeof z!="function")return null;var v=new z,E=new z;return(I=function(u){return u?E:v})(d)}function L(d,v){if(!v&&d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var E=I(v);if(E&&E.has(d))return E.get(d);var y={},u=Object.defineProperty&&U;for(var r in d)if(r!=="default"&&Object.prototype.hasOwnProperty.call(d,r)){var s=u?U(d,r):null;s&&(s.get||s.set)?Object.defineProperty(y,r,s):y[r]=d[r]}return y.default=d,E&&E.set(d,y),y}function T(d){var v=C();return function(){var y=(0,k.default)(d),u;if(v){var r=(0,k.default)(this).constructor;u=J(y,arguments,r)}else u=y.apply(this,arguments);return(0,A.default)(this,u)}}function C(){if(typeof Reflect>"u"||!J)return![];if(J.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(J(Boolean,[],function(){})),!![]}catch{return![]}}var o=function(d){(0,F.default)(E,d);var v=T(E);function E(y,u,r){var s;return(0,K.default)(this,E),s=v.call(this,[]),s.type=w.ARROW_PINCERLIKE,s.headHeightFactor=.25,s.headWidthFactor=.3,s.neckHeightFactor=.85,s.neckWidthFactor=.15,s.connPoint=null,s.tempPoint4=null,s.fixPointCount=4,s.set("params",r),u&&u.length>0?s.setPoints(u):y&&y.length>0&&s.setCoordinates(y),s}return(0,f.default)(E,[{key:"generate",value:function(){try{var u=this.getPointCount();if(u<2)return![];if(u===2)return this.setCoordinates([this.points]),![];if(u>2){var r=[this.points[0],this.points[1],this.points[2]],s=r[0],a=r[1],l=r[2];u===3?(this.tempPoint4=this.getTempPoint4(s,a,l),this.connPoint=h.Mid(s,a)):u===4?(this.tempPoint4=this.points[3],this.connPoint=h.Mid(s,a)):(this.tempPoint4=this.points[3],this.connPoint=this.points[4]);var c=void 0,g=void 0;h.isClockWise(s,a,l)?(c=this.getArrowPoints(s,this.connPoint,this.tempPoint4,![]),g=this.getArrowPoints(this.connPoint,a,l,!![])):(c=this.getArrowPoints(a,this.connPoint,l,![]),g=this.getArrowPoints(this.connPoint,s,this.tempPoint4,!![]));var R=c.length,N=(R-5)/2,j=(0,$.default)(c).call(c,0,N),m=(0,$.default)(c).call(c,N,N+5),G=(0,$.default)(c).call(c,N+5,R),x=(0,$.default)(g).call(g,0,N),Z=(0,$.default)(g).call(g,N,N+5),_=(0,$.default)(g).call(g,N+5,R);x=h.getBezierPoints(x);var et=h.getBezierPoints((0,B.default)(_).call(_,(0,$.default)(j).call(j,1)));G=h.getBezierPoints(G);var it=(0,B.default)(x).call(x,Z,et,m,G);this.setCoordinates([it])}}catch(st){M.warn(st)}}},{key:"getArrowPoints",value:function(u,r,s,a){var l=h.Mid(u,r),c=h.MathDistance(l,s),g=h.getThirdPoint(s,l,0,c*.3,!![]),R=h.getThirdPoint(s,l,0,c*.5,!![]);g=h.getThirdPoint(l,g,D.HALF_PI,c/5,a),R=h.getThirdPoint(l,R,D.HALF_PI,c/4,a);var N=[l,g,R,s],j=this.getArrowHeadPoints(N);if(j&&Array.isArray(j)&&j.length>0){var m=[j[0],j[4]],G=m[0],x=m[1],Z=h.MathDistance(u,r)/h.getBaseLength(N)/2,_=this.getArrowBodyPoints(N,G,x,Z);if(_){var et,it=_.length,st=(0,$.default)(_).call(_,0,it/2),at=(0,$.default)(_).call(_,it/2,it);return st.push(G),at.push(x),st=st.reverse(),st.push(r),at=at.reverse(),at.push(u),(0,B.default)(et=st.reverse()).call(et,j,at)}}else throw new Error("\u63D2\u503C\u51FA\u9519")}},{key:"getArrowHeadPoints",value:function(u){try{var r=h.getBaseLength(u),s=r*this.headHeightFactor,a=u[u.length-1],l=s*this.headWidthFactor,c=s*this.neckWidthFactor,g=s*this.neckHeightFactor,R=h.getThirdPoint(u[u.length-2],a,0,s,!![]),N=h.getThirdPoint(u[u.length-2],a,0,g,!![]),j=h.getThirdPoint(a,R,D.HALF_PI,l,![]),m=h.getThirdPoint(a,R,D.HALF_PI,l,!![]),G=h.getThirdPoint(a,N,D.HALF_PI,c,![]),x=h.getThirdPoint(a,N,D.HALF_PI,c,!![]);return[G,j,a,m,x]}catch(Z){M.warn(Z)}}},{key:"getArrowBodyPoints",value:function(u,r,s,a){for(var l=h.wholeDistance(u),c=h.getBaseLength(u),g=c*a,R=h.MathDistance(r,s),N=(g-R)/2,j=0,m=[],G=[],x=1;x<u.length-1;x++){var Z=h.getAngleOfThreePoints(u[x-1],u[x],u[x+1])/2;j+=h.MathDistance(u[x-1],u[x]);var _=(g/2-j/l*N)/Math.sin(Z),et=h.getThirdPoint(u[x-1],u[x],Math.PI-Z,_,!![]),it=h.getThirdPoint(u[x-1],u[x],Z,_,![]);m.push(et),G.push(it)}return(0,B.default)(m).call(m,G)}},{key:"getTempPoint4",value:function(u,r,s){try{var a=h.Mid(u,r),l=h.MathDistance(a,s),c=h.getAngleOfThreePoints(u,a,s),g=void 0,R=void 0,N=void 0,j=void 0;return c<D.HALF_PI?(R=l*Math.sin(c),N=l*Math.cos(c),j=h.getThirdPoint(u,a,D.HALF_PI,R,![]),g=h.getThirdPoint(a,j,D.HALF_PI,N,!![])):c>=D.HALF_PI&&c<Math.PI?(R=l*Math.sin(Math.PI-c),N=l*Math.cos(Math.PI-c),j=h.getThirdPoint(u,a,D.HALF_PI,R,![]),g=h.getThirdPoint(a,j,D.HALF_PI,N,![])):c>=Math.PI&&c<Math.PI*1.5?(R=l*Math.sin(c-Math.PI),N=l*Math.cos(c-Math.PI),j=h.getThirdPoint(u,a,D.HALF_PI,R,!![]),g=h.getThirdPoint(a,j,D.HALF_PI,N,!![])):(R=l*Math.sin(Math.PI*2-c),N=l*Math.cos(Math.PI*2-c),j=h.getThirdPoint(u,a,D.HALF_PI,R,!![]),g=h.getThirdPoint(a,j,D.HALF_PI,N,![])),g}catch(m){M.warn(m)}}},{key:"updatePoint",value:function(u,r){r>=0&&r<this.points.length&&(this.points[r]=u,this.generate())}},{key:"updateLastPoint",value:function(u){this.updatePoint(u,this.points.length-1)}},{key:"finishDrawing",value:function(){this.getPointCount()===3&&this.tempPoint4!==null&&this.points.push(this.tempPoint4),this.connPoint!==null&&this.points.push(this.connPoint)}}]),E}(S.default),e=o;n.default=e},687509:function(ot,n,t){var M=t(149500),p=t(29870),J=t(465557),z=t(787879),U=t(183393),H=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var $=H(t(122777)),B=H(t(42762)),K=H(t(330044)),f=H(t(299085)),F=H(t(234009)),A=H(t(218729)),k=t(351502),w=I(t(363839)),D=I(t(894722)),h=I(t(158435));function S(e){if(typeof z!="function")return null;var d=new z,v=new z;return(S=function(y){return y?v:d})(e)}function I(e,d){if(!d&&e&&e.__esModule)return e;if(e===null||p(e)!=="object"&&typeof e!="function")return{default:e};var v=S(d);if(v&&v.has(e))return v.get(e);var E={},y=Object.defineProperty&&U;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var r=y?U(e,u):null;r&&(r.get||r.set)?Object.defineProperty(E,u,r):E[u]=e[u]}return E.default=e,v&&v.set(e,E),E}function L(e){var d=T();return function(){var E=(0,F.default)(e),y;if(d){var u=(0,F.default)(this).constructor;y=J(E,arguments,u)}else y=E.apply(this,arguments);return(0,f.default)(this,y)}}function T(){if(typeof Reflect>"u"||!J)return![];if(J.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(J(Boolean,[],function(){})),!![]}catch{return![]}}var C=function(e){(0,K.default)(v,e);var d=L(v);function v(E,y,u){var r;return(0,$.default)(this,v),r=d.call(this,[]),r.type=k.ARROW,r.tailWidthFactor=.15,r.neckWidthFactor=.2,r.headWidthFactor=.25,r.headAngle=Math.PI/8.5,r.neckAngle=Math.PI/13,r.fixPointCount=2,r.arrowType=h.RIGHT,r.set("params",u),y&&y.length>0?r.setPoints(y):E&&E.length>0&&r.setCoordinates(E),r}return(0,B.default)(v,[{key:"generate",value:function(){try{var y=this.getPointCount();if(y<2)return![];var u=this.getPoints(),r=[u[0],u[1]],s=r[0],a=r[1],l=w.getBaseLength(u),c=l*this.tailWidthFactor,g=l*this.neckWidthFactor,R=l*this.headWidthFactor;Math.abs(s[0]-a[0])<Math.abs(s[1]-a[1])?a[1]-s[1]>0?this.arrowType=h.TOP:this.arrowType=h.BOTTOM:a[0]-s[0]>0?this.arrowType=h.RIGHT:this.arrowType=h.LEFT;var N=w.getThirdPoint(a,s,D.HALF_PI,c,!![]),j=w.getThirdPoint(a,s,D.HALF_PI,c,![]),m=w.getThirdPoint(s,a,this.headAngle,R,![]),G=w.getThirdPoint(s,a,this.headAngle,R,!![]),x=w.getThirdPoint(s,a,this.neckAngle,g,![]),Z=w.getThirdPoint(s,a,this.neckAngle,g,!![]),_=[N,x,m,a,G,Z,j];this.setCoordinates([_])}catch(et){M.warn(et)}}},{key:"updatePoint",value:function(y,u){u>=0&&u<this.points.length&&(this.points[u]=y,this.generate())}},{key:"updateLastPoint",value:function(y){this.updatePoint(y,this.points.length-1)}}]),v}(A.default),o=C;n.default=o},506730:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(122777)),z=p(t(42762)),U=p(t(553144)),H=p(t(330044)),$=p(t(299085)),B=p(t(234009)),K=t(505775),f=p(t(218729)),F=p(t(349162)),A=t(80354),k=t(351502),w=t(223661);function D(L){var T=h();return function(){var o=(0,B.default)(L),e;if(T){var d=(0,B.default)(this).constructor;e=M(o,arguments,d)}else e=o.apply(this,arguments);return(0,$.default)(this,e)}}function h(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var S=function(L){(0,H.default)(C,L);var T=D(C);function C(o,e,d){var v;return(0,J.default)(this,C),v=T.call(this,[]),v.type=k.CIRCLE,v.fixPointCount=2,v.EARTH_RADIUS=6378137,v.style={},v.set("params",d),e&&e.length>0?v.setPoints(e):o&&o.length>0&&v.setCoordinates(o),v}return(0,z.default)(C,[{key:"setPoints",value:function(e){var d;((d=this.points)===null||d===void 0?void 0:d.length)>0&&e?.length>0&&!(0,w.compareArray)(this.points[0],e[0])?this.setCenter(e[0]):(this.points=e||[],this.points.length>=1&&this.generate&&this.generate())}},{key:"generate",value:function(){var e=this.getPointCount();if(e<2)return![];this.center=this.points[0],this.radius=(0,A.getDistance)(this.center,this.points[1]),this.style.radius=this.radius,this.setCoordinates([this.generatePoints(this.center,this.radius)])}},{key:"setStyle",value:function(e){(0,U.default)((0,B.default)(C.prototype),"setStyle",this).call(this,e),this.style.radius=this.radius}},{key:"setRadius",value:function(e){(0,U.default)((0,B.default)(C.prototype),"setStyle",this).call(this,e),this.style.radius=e.radius,this.radius=e.radius,this.points=[this.center,(0,A.offset)(this.center,this.radius,this.toRadians(90))],this.generate()}},{key:"setCenter",value:function(e){this.center=e,this.points=[this.center,(0,A.offset)(this.center,this.radius,this.toRadians(90))],this.generate()}},{key:"setGeometry",value:function(e,d){e instanceof K.Point?this.center=e.getCoordinates():e instanceof K.MultiPoint&&(this.center=e.getCoordinates()[0]),d&&this.setRadius(d)}},{key:"getGeoJson",value:function(){return new F.default().writeGeometry(new K.Point(this.center))}},{key:"generatePoints",value:function(e,d){for(var v=[],E=d/this.EARTH_RADIUS,y=this.toRadians(e[0]),u=this.toRadians(e[1]),r=0;r<360;r++){var s=this.toRadians(r*360/360),a=Math.asin(Math.sin(u)*Math.cos(E)+Math.cos(u)*Math.sin(E)*Math.cos(s)),l=y+Math.atan2(Math.sin(s)*Math.sin(E)*Math.cos(u),Math.cos(E)-Math.sin(u)*Math.sin(a));v.push([this.toDegrees(l),this.toDegrees(a)])}return v}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"toDegrees",value:function(e){return e*180/Math.PI}},{key:"updatePoint",value:function(e,d){d>=0&&d<this.points.length&&(this.points[d]=e,this.generate())}},{key:"updateLastPoint",value:function(e){this.updatePoint(e,this.points.length-1)}}]),C}(f.default),I=S;n.default=I},867358:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(122777)),z=p(t(42762)),U=p(t(553144)),H=p(t(330044)),$=p(t(299085)),B=p(t(234009)),K=t(505775),f=p(t(218729)),F=p(t(349162)),A=t(80354),k=t(351502),w=t(223661);function D(L){var T=h();return function(){var o=(0,B.default)(L),e;if(T){var d=(0,B.default)(this).constructor;e=M(o,arguments,d)}else e=o.apply(this,arguments);return(0,$.default)(this,e)}}function h(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var S=function(L){(0,H.default)(C,L);var T=D(C);function C(o,e,d){var v;return(0,J.default)(this,C),v=T.call(this,[]),v.type=k.ELLIPSE,v.fixPointCount=2,v.EARTH_RADIUS=6378137,v.style={},v.set("params",d),e&&e.length>0?v.setPoints(e):o&&o.length>0&&v.setCoordinates(o),v}return(0,z.default)(C,[{key:"setPoints",value:function(e){var d;((d=this.points)===null||d===void 0?void 0:d.length)>0&&e?.length>0&&!(0,w.compareArray)(this.points[0],e[0])?this.setCenter(e[0]):(this.points=e||[],this.points.length>=1&&this.generate&&this.generate())}},{key:"generate",value:function(){var e=this.getPointCount();if(e<2)return![];e===2?(this.center=this.points[0],this.semiMinorAxis=(0,A.getDistance)(this.center,this.points[1]),this.semiMajorAxis=(0,A.getDistance)(this.center,this.points[1])):(this.center=this.points[0],this.semiMinorAxis=(0,A.getDistance)(this.center,this.points[1]),this.semiMajorAxis=(0,A.getDistance)(this.center,this.points[2]),this.semiMajorAxis<this.semiMinorAxis&&(this.semiMajorAxis=this.semiMinorAxis),this.points[1]=(0,A.offset)(this.center,this.semiMinorAxis,this.toRadians(180)),this.points[2]=(0,A.offset)(this.center,this.semiMajorAxis,this.toRadians(90))),this.style.semiMinorAxis=this.semiMinorAxis,this.style.semiMajorAxis=this.semiMajorAxis,this.setCoordinates([this.generatePoints(this.center,this.semiMinorAxis,this.semiMajorAxis)])}},{key:"setStyle",value:function(e){(0,U.default)((0,B.default)(C.prototype),"setStyle",this).call(this,e),this.style.semiMinorAxis=this.semiMinorAxis,this.style.semiMajorAxis=this.semiMajorAxis}},{key:"setRadius",value:function(e){(0,U.default)((0,B.default)(C.prototype),"setStyle",this).call(this,e),this.style.semiMinorAxis=e.semiMinorAxis,this.style.semiMajorAxis=e.semiMajorAxis;var d=(0,A.offset)(this.center,e.semiMinorAxis,this.toRadians(180)),v=(0,A.offset)(this.center,e.semiMajorAxis,this.toRadians(90));this.points=[this.center,d,v],this.generate()}},{key:"setCenter",value:function(e){this.center=e;var d=(0,A.offset)(this.center,this.semiMinorAxis,this.toRadians(180)),v=(0,A.offset)(this.center,this.semiMajorAxis,this.toRadians(90));this.points=[this.center,d,v],this.generate()}},{key:"setGeometry",value:function(e,d){e instanceof K.Point?this.center=e.getCoordinates():e instanceof K.MultiPoint&&(this.center=e.getCoordinates()[0]),d&&this.setRadius(d)}},{key:"getGeoJson",value:function(){return new F.default().writeGeometry(new K.Point(this.center))}},{key:"generatePoints",value:function(e,d,v){for(var E=[],y=d/this.EARTH_RADIUS,u=v/this.EARTH_RADIUS,r=this.toRadians(e[0]),s=this.toRadians(e[1]),a=0;a<360;a++){var l=this.toRadians(a*360/360),c=Math.asin(Math.sin(s)*Math.cos(y)+Math.cos(s)*Math.sin(y)*Math.cos(l)),g=r+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(c));E.push([this.toDegrees(g),this.toDegrees(c)])}return E}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"toDegrees",value:function(e){return e*180/Math.PI}},{key:"updatePoint",value:function(e,d){d>=0&&d<this.points.length&&(this.points[d]=e,this.generate())}},{key:"updateLastPoint",value:function(e){this.updatePoint(e,this.points.length-1)}},{key:"applyTransform",value:function(){}},{key:"closestPointXY",value:function(){return 0}},{key:"computeExtent",value:function(){return[]}},{key:"getType",value:function(){}},{key:"intersectsExtent",value:function(){return![]}},{key:"rotate",value:function(){}},{key:"scale",value:function(){}},{key:"translate",value:function(){}}]),C}(f.default),I=S;n.default=I},721316:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(122777)),z=p(t(42762)),U=p(t(553144)),H=p(t(330044)),$=p(t(299085)),B=p(t(234009)),K=t(505775),f=p(t(218729)),F=p(t(349162)),A=t(80354),k=t(351502),w=t(223661);function D(L){var T=h();return function(){var o=(0,B.default)(L),e;if(T){var d=(0,B.default)(this).constructor;e=M(o,arguments,d)}else e=o.apply(this,arguments);return(0,$.default)(this,e)}}function h(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var S=function(L){(0,H.default)(C,L);var T=D(C);function C(o,e,d){var v;return(0,J.default)(this,C),v=T.call(this,[]),v.type=k.ELLIPSOID,v.fixPointCount=2,v.EARTH_RADIUS=6378137,v.style={},v.set("params",d),e&&e.length>0?v.setPoints(e):o&&o.length>0&&v.setCoordinates(o),v}return(0,z.default)(C,[{key:"setPoints",value:function(e){var d;((d=this.points)===null||d===void 0?void 0:d.length)>0&&e?.length>0&&!(0,w.compareArray)(this.points[0],e[0])?this.setCenter(e[0]):(this.points=e||[],this.points.length>=1&&this.generate&&this.generate())}},{key:"generate",value:function(){var e=this.getPointCount();if(e<2)return![];e===2?(this.center=this.points[0],this.widthRadii=(0,A.getDistance)(this.center,this.points[1]),this.extentRadii=(0,A.getDistance)(this.center,this.points[1])):(this.center=this.points[0],this.widthRadii=(0,A.getDistance)(this.center,this.points[1]),this.extentRadii=(0,A.getDistance)(this.center,this.points[2]),this.points[1]=(0,A.offset)(this.center,this.widthRadii,this.toRadians(180)),this.points[2]=(0,A.offset)(this.center,this.extentRadii,this.toRadians(90))),this.style.widthRadii=this.widthRadii,this.style.extentRadii=this.extentRadii,this.setCoordinates([this.generatePoints(this.center,this.widthRadii,this.extentRadii)])}},{key:"setStyle",value:function(e){(0,U.default)((0,B.default)(C.prototype),"setStyle",this).call(this,e),this.style.widthRadii=this.widthRadii,this.style.extentRadii=this.extentRadii}},{key:"setRadius",value:function(e){(0,U.default)((0,B.default)(C.prototype),"setStyle",this).call(this,e),this.style.widthRadii=e.widthRadii,this.style.extentRadii=e.extentRadii;var d=(0,A.offset)(this.center,e.widthRadii,this.toRadians(180)),v=(0,A.offset)(this.center,e.extentRadii,this.toRadians(90));this.points=[this.center,d,v],this.generate()}},{key:"setCenter",value:function(e){this.center=e;var d=(0,A.offset)(this.center,this.widthRadii,this.toRadians(180)),v=(0,A.offset)(this.center,this.extentRadii,this.toRadians(90));this.points=[this.center,d,v],this.generate()}},{key:"setGeometry",value:function(e,d){e instanceof K.Point?this.center=e.getCoordinates():e instanceof K.MultiPoint&&(this.center=e.getCoordinates()[0]),d&&this.setRadius(d)}},{key:"getGeoJson",value:function(){return new F.default().writeGeometry(new K.Point(this.center))}},{key:"generatePoints",value:function(e,d,v){for(var E=[],y=d/this.EARTH_RADIUS,u=v/this.EARTH_RADIUS,r=this.toRadians(e[0]),s=this.toRadians(e[1]),a=0;a<360;a++){var l=this.toRadians(a*360/360),c=Math.asin(Math.sin(s)*Math.cos(y)+Math.cos(s)*Math.sin(y)*Math.cos(l)),g=r+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(c));E.push([this.toDegrees(g),this.toDegrees(c)])}return E}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"toDegrees",value:function(e){return e*180/Math.PI}},{key:"updatePoint",value:function(e,d){d>=0&&d<this.points.length&&(this.points[d]=e,this.generate())}},{key:"updateLastPoint",value:function(e){this.updatePoint(e,this.points.length-1)}}]),C}(f.default),I=S;n.default=I},218729:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(66273)),z=p(t(828866)),U=p(t(520314)),H=p(t(122777)),$=p(t(42762)),B=p(t(330044)),K=p(t(299085)),f=p(t(234009)),F=t(974429),A=t(505775),k=p(t(349162));function w(I){var L=D();return function(){var C=(0,f.default)(I),o;if(L){var e=(0,f.default)(this).constructor;o=M(C,arguments,e)}else o=C.apply(this,arguments);return(0,K.default)(this,o)}}function D(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var h=function(I){(0,B.default)(T,I);var L=w(T);function T(){return(0,H.default)(this,T),L.call(this,[])}return(0,$.default)(T,[{key:"getPlotType",value:function(){return this.type}},{key:"getGeoJson",value:function(){return new k.default().writeGeometry(new A.MultiPoint(this.points))}},{key:"setStyle",value:function(o){this.style=JSON.parse((0,J.default)(o))}},{key:"setMap",value:function(o){if(o&&o instanceof F.Map)this.map=o;else throw new Error("\u4F20\u5165\u7684\u4E0D\u662F\u5730\u56FE\u5BF9\u8C61\uFF01")}},{key:"getMap",value:function(){return(0,z.default)(this)}},{key:"isPlot",value:function(){return!![]}},{key:"setPoints",value:function(o){this.points=o||[],this.points.length>=1&&this.generate&&this.generate()}},{key:"getPoints",value:function(){var o;return(0,U.default)(o=this.points).call(o,0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"finishDrawing",value:function(){}}]),T}(A.Polygon),S=h;n.default=S},776279:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(66273)),z=p(t(828866)),U=p(t(520314)),H=p(t(122777)),$=p(t(42762)),B=p(t(330044)),K=p(t(299085)),f=p(t(234009)),F=t(974429),A=t(505775),k=p(t(349162));function w(I){var L=D();return function(){var C=(0,f.default)(I),o;if(L){var e=(0,f.default)(this).constructor;o=M(C,arguments,e)}else o=C.apply(this,arguments);return(0,K.default)(this,o)}}function D(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var h=function(I){(0,B.default)(T,I);var L=w(T);function T(){return(0,H.default)(this,T),L.call(this,[])}return(0,$.default)(T,[{key:"getPlotType",value:function(){return this.type}},{key:"getGeoJson",value:function(){return new k.default().writeGeometry(new A.MultiPoint(this.points))}},{key:"setStyle",value:function(o){this.style=JSON.parse((0,J.default)(o))}},{key:"setMap",value:function(o){if(o&&o instanceof F.Map)this.map=o;else throw new Error("\u4F20\u5165\u7684\u4E0D\u662F\u5730\u56FE\u5BF9\u8C61\uFF01")}},{key:"getMap",value:function(){return(0,z.default)(this)}},{key:"isPlot",value:function(){return!![]}},{key:"setPoints",value:function(o){this.points=o||[],this.points.length>=1&&this.generate&&this.generate()}},{key:"getPoints",value:function(){var o;return(0,U.default)(o=this.points).call(o,0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"finishDrawing",value:function(){}}]),T}(A.LineString),S=h;n.default=S},785160:function(ot,n,t){var M=t(29870),p=t(465557),J=t(787879),z=t(183393),U=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var H=U(t(705146)),$=U(t(520314)),B=U(t(122777)),K=U(t(42762)),f=U(t(330044)),F=U(t(299085)),A=U(t(234009)),k=U(t(218729)),w=t(351502),D=I(t(363839)),h=I(t(894722));function S(e){if(typeof J!="function")return null;var d=new J,v=new J;return(S=function(y){return y?v:d})(e)}function I(e,d){if(!d&&e&&e.__esModule)return e;if(e===null||M(e)!=="object"&&typeof e!="function")return{default:e};var v=S(d);if(v&&v.has(e))return v.get(e);var E={},y=Object.defineProperty&&z;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var r=y?z(e,u):null;r&&(r.get||r.set)?Object.defineProperty(E,u,r):E[u]=e[u]}return E.default=e,v&&v.set(e,E),E}function L(e){var d=T();return function(){var E=(0,A.default)(e),y;if(d){var u=(0,A.default)(this).constructor;y=p(E,arguments,u)}else y=E.apply(this,arguments);return(0,F.default)(this,y)}}function T(){if(typeof Reflect>"u"||!p)return![];if(p.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(p(Boolean,[],function(){})),!![]}catch{return![]}}var C=function(e){(0,f.default)(v,e);var d=L(v);function v(E,y,u){var r;return(0,B.default)(this,v),r=d.call(this,[]),r.type=w.SURFACE_CLOSED,r.t=.3,r.set("params",u),y&&y.length>0?r.setPoints(y):E&&E.length>0&&r.setCoordinates(E),r}return(0,K.default)(v,[{key:"generate",value:function(){var y=this.getPointCount();if(y<2)return![];if(y===2)this.setCoordinates([this.points]);else{var u,r=this.getPoints();r.push(r[0],r[1]);for(var s=[],a=[],l=0;l<r.length-2;l++){var c=D.getBisectorNormals(this.t,r[l],r[l+1],r[l+2]);s=(0,H.default)(s).call(s,c)}var g=s.length;s=(0,H.default)(u=[s[g-1]]).call(u,(0,$.default)(s).call(s,0,g-1));for(var R=0;R<r.length-2;R++){var N=r[R],j=r[R+1];a.push(N);for(var m=0;m<=h.FITTING_COUNT;m++){var G=D.getCubicValue(m/h.FITTING_COUNT,N,s[R*2],s[R*2+1],j);a.push(G)}a.push(j)}this.setCoordinates([a])}}},{key:"updatePoint",value:function(y,u){u>=0&&u<this.points.length&&(this.points[u]=y,this.generate())}},{key:"updateLastPoint",value:function(y){this.updatePoint(y,this.points.length-1)}}]),v}(k.default),o=C;n.default=o},296316:function(ot,n,t){var M=t(29870),p=t(465557),J=t(787879),z=t(183393),U=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var H=U(t(705146)),$=U(t(520314)),B=U(t(122777)),K=U(t(42762)),f=U(t(330044)),F=U(t(299085)),A=U(t(234009)),k=U(t(218729)),w=t(351502),D=I(t(363839)),h=I(t(894722));function S(e){if(typeof J!="function")return null;var d=new J,v=new J;return(S=function(y){return y?v:d})(e)}function I(e,d){if(!d&&e&&e.__esModule)return e;if(e===null||M(e)!=="object"&&typeof e!="function")return{default:e};var v=S(d);if(v&&v.has(e))return v.get(e);var E={},y=Object.defineProperty&&z;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var r=y?z(e,u):null;r&&(r.get||r.set)?Object.defineProperty(E,u,r):E[u]=e[u]}return E.default=e,v&&v.set(e,E),E}function L(e){var d=T();return function(){var E=(0,A.default)(e),y;if(d){var u=(0,A.default)(this).constructor;y=p(E,arguments,u)}else y=E.apply(this,arguments);return(0,F.default)(this,y)}}function T(){if(typeof Reflect>"u"||!p)return![];if(p.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(p(Boolean,[],function(){})),!![]}catch{return![]}}var C=function(e){(0,f.default)(v,e);var d=L(v);function v(E,y,u){var r;return(0,B.default)(this,v),r=d.call(this,[]),r.type=w.ASSEMBLY_SITE,r.t=.4,r.fixPointCount=3,r.set("params",u),y&&y.length>0?r.setPoints(y):E&&E.length>0&&r.setCoordinates(E),r}return(0,K.default)(v,[{key:"generate",value:function(){var y=this.getPoints(),u=this.getPointCount();if(y.length<2)return![];var r;if(u===2){var s=D.Mid(y[0],y[1]),a=D.MathDistance(y[0],s)/.9,l=D.getThirdPoint(y[0],s,h.HALF_PI,a,!![]);y=[y[0],l,y[1]]}var c=D.Mid(y[0],y[2]);y.push(c,y[0],y[1]);for(var g=[],R=void 0,N=void 0,j=void 0,m=[],G=0;G<y.length-2;G++){R=y[G],N=y[G+1],j=y[G+2];var x=D.getBisectorNormals(this.t,R,N,j);g=(0,H.default)(g).call(g,x)}var Z=g.length;g=(0,H.default)(r=[g[Z-1]]).call(r,(0,$.default)(g).call(g,0,Z-1));for(var _=0;_<y.length-2;_++){R=y[_],N=y[_+1],m.push(R);for(var et=0;et<=h.FITTING_COUNT;et++){var it=D.getCubicValue(et/h.FITTING_COUNT,R,g[_*2],g[_*2+1],N);m.push(it)}m.push(N)}this.setCoordinates([m])}},{key:"updatePoint",value:function(y,u){u>=0&&u<this.points.length&&(this.points[u]=y,this.generate())}},{key:"updateLastPoint",value:function(y){this.updatePoint(y,this.points.length-1)}}]),v}(k.default),o=C;n.default=o},195219:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(122777)),z=p(t(42762)),U=p(t(330044)),H=p(t(299085)),$=p(t(234009)),B=t(351502),K=p(t(218729));function f(w){var D=F();return function(){var S=(0,$.default)(w),I;if(D){var L=(0,$.default)(this).constructor;I=M(S,arguments,L)}else I=S.apply(this,arguments);return(0,H.default)(this,I)}}function F(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var A=function(w){(0,U.default)(h,w);var D=f(h);function h(S,I,L){var T;return(0,J.default)(this,h),T=D.call(this,[]),T.type=B.POLYGON,T.set("params",L),I&&I.length>0?T.setPoints(I):S&&S.length>0&&T.setCoordinates(S),T}return(0,z.default)(h,[{key:"generate",value:function(){var I=this.getPointCount();if(I<2)return![];this.setCoordinates([this.points])}},{key:"updatePoint",value:function(I,L){L>=0&&L<this.points.length&&(this.points[L]=I,this.generate())}},{key:"updateLastPoint",value:function(I){this.updatePoint(I,this.points.length-1)}}]),h}(K.default),k=A;n.default=k},773951:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(122777)),z=p(t(42762)),U=p(t(330044)),H=p(t(299085)),$=p(t(234009)),B=t(54896),K=t(692086),f=t(351502),F=p(t(218729));function A(h){var S=k();return function(){var L=(0,$.default)(h),T;if(S){var C=(0,$.default)(this).constructor;T=M(L,arguments,C)}else T=L.apply(this,arguments);return(0,H.default)(this,T)}}function k(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var w=function(h){(0,U.default)(I,h);var S=A(I);function I(L,T,C){var o;return(0,J.default)(this,I),o=S.call(this,[]),o.type=f.RECTANGLE,o.fixPointCount=2,o.set("params",C),C?o.isFill=C.isFill===![]?C.isFill:!![]:o.isFill=!![],T&&T.length>0?o.setPoints(T):L&&L.length>0&&o.setCoordinates(L),o}return(0,z.default)(I,[{key:"generate",value:function(){if(this.points.length===2){var T=[];if(this.isFill){var C=(0,K.boundingExtent)(this.points),o=(0,B.fromExtent)(C);T=o.getCoordinates()}else{var e=this.points[0],d=this.points[1];T=[e,[e[0],d[1]],d,[d[0],e[1]],e]}this.setCoordinates(T)}}},{key:"updatePoint",value:function(T,C){C>=0&&C<this.points.length&&(this.points[C]=T,this.generate())}},{key:"updateLastPoint",value:function(T){this.updatePoint(T,this.points.length-1)}}]),I}(F.default),D=w;n.default=D},664377:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(122777)),z=p(t(42762)),U=p(t(330044)),H=p(t(299085)),$=p(t(234009)),B=p(t(776279)),K=t(351502),f=t(846769),F=p(t(711806));function A(h){var S=k();return function(){var L=(0,$.default)(h),T;if(S){var C=(0,$.default)(this).constructor;T=M(L,arguments,C)}else T=L.apply(this,arguments);return(0,H.default)(this,T)}}function k(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var w=function(h){(0,U.default)(I,h);var S=A(I);function I(L,T,C){var o;return(0,J.default)(this,I),o=S.call(this,[]),o.type=K.CURVE,o.t=.3,o.set("params",C),T&&T.length>0?o.setPoints(T):L&&L.length>0&&o.setCoordinates(L),o}return(0,z.default)(I,[{key:"generate",value:function(){var T=this.getPointCount();if(T<2)return![];if(T===2)this.setCoordinates(this.points);else{var C=(0,f.lineString)(this.points),o=(0,F.default)(C),e=o.geometry.coordinates;this.setCoordinates(e)}}},{key:"updatePoint",value:function(T,C){C>=0&&C<this.points.length&&(this.points[C]=T,this.generate())}},{key:"updateLastPoint",value:function(T){this.updatePoint(T,this.points.length-1)}}]),I}(B.default),D=w;n.default=D},198960:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(66273)),z=p(t(122777)),U=p(t(42762)),H=p(t(330044)),$=p(t(299085)),B=p(t(234009)),K=p(t(776279)),f=t(351502);function F(D){var h=A();return function(){var I=(0,B.default)(D),L;if(h){var T=(0,B.default)(this).constructor;L=M(I,arguments,T)}else L=I.apply(this,arguments);return(0,$.default)(this,L)}}function A(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var k=function(D){(0,H.default)(S,D);var h=F(S);function S(I,L,T){var C;return(0,z.default)(this,S),C=h.call(this,[]),C.type=f.POLYLINE,C.freehand=![],C.set("params",T),L&&L.length>0?C.setPoints(L):I&&I.length>0&&C.setCoordinates(I),C}return(0,U.default)(S,[{key:"generate",value:function(){this.setCoordinates(this.points)}},{key:"updatePoint",value:function(L,T){T>=0&&T<this.points.length&&(this.points[T]=L,this.generate())}},{key:"updateLastPoint",value:function(L){this.updatePoint(L,this.points.length-1)}},{key:"setStyle",value:function(L){this.style=JSON.parse((0,J.default)(L))}}]),S}(K.default),w=k;n.default=w},575171:function(ot,n,t){var M=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),Object.defineProperty(n,"AttackArrow",{enumerable:!![],get:function(){return F.default}}),Object.defineProperty(n,"Circle",{enumerable:!![],get:function(){return z.default}}),Object.defineProperty(n,"ClosedCurve",{enumerable:!![],get:function(){return K.default}}),Object.defineProperty(n,"Curve",{enumerable:!![],get:function(){return U.default}}),Object.defineProperty(n,"DoubleArrow",{enumerable:!![],get:function(){return A.default}}),Object.defineProperty(n,"Ellipse",{enumerable:!![],get:function(){return $.default}}),Object.defineProperty(n,"Ellipsoid",{enumerable:!![],get:function(){return B.default}}),Object.defineProperty(n,"FineArrow",{enumerable:!![],get:function(){return k.default}}),Object.defineProperty(n,"GatheringPlace",{enumerable:!![],get:function(){return w.default}}),Object.defineProperty(n,"Point",{enumerable:!![],get:function(){return p.default}}),Object.defineProperty(n,"Polygon",{enumerable:!![],get:function(){return f.default}}),Object.defineProperty(n,"Polyline",{enumerable:!![],get:function(){return J.default}}),Object.defineProperty(n,"RectAngle",{enumerable:!![],get:function(){return H.default}});var p=M(t(550343)),J=M(t(198960)),z=M(t(506730)),U=M(t(664377)),H=M(t(773951)),$=M(t(867358)),B=M(t(721316)),K=M(t(785160)),f=M(t(195219)),F=M(t(354970)),A=M(t(585578)),k=M(t(687509)),w=M(t(296316))},550343:function(ot,n,t){var M=t(465557),p=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var J=p(t(828866)),z=p(t(520314)),U=p(t(66273)),H=p(t(122777)),$=p(t(42762)),B=p(t(330044)),K=p(t(299085)),f=p(t(234009)),F=t(974429),A=t(505775),k=t(351502);function w(I){var L=D();return function(){var C=(0,f.default)(I),o;if(L){var e=(0,f.default)(this).constructor;o=M(C,arguments,e)}else o=C.apply(this,arguments);return(0,K.default)(this,o)}}function D(){if(typeof Reflect>"u"||!M)return![];if(M.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!![]}catch{return![]}}var h=function(I){(0,B.default)(T,I);var L=w(T);function T(C,o,e){var d;return(0,H.default)(this,T),d=L.call(this,[]),d.type=k.POINT,d.options=e||{},d.set("params",d.options),d.fixPointCount=1,d.img=new Image,o&&o.length>0?d.setPoints(o):C&&C.length>0&&d.setCoordinates(C),d}return(0,$.default)(T,[{key:"getPlotType",value:function(){return this.type}},{key:"generate",value:function(){var o=this.points[0];this.setCoordinates(o)}},{key:"setMap",value:function(o){if(o&&o instanceof F.Map)this.map=o;else throw new Error("\u4F20\u5165\u7684\u4E0D\u662F\u5730\u56FE\u5BF9\u8C61\uFF01")}},{key:"getMap",value:function(){return(0,J.default)(this)}},{key:"isPlot",value:function(){return!![]}},{key:"setPoints",value:function(o){this.points=o||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){var o;return(0,z.default)(o=this.points).call(o,0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(o,e){e>=0&&e<this.points.length&&(this.points[e]=o,this.generate())}},{key:"updateLastPoint",value:function(o){this.updatePoint(o,this.points.length-1)}},{key:"finishDrawing",value:function(){}},{key:"setStyle",value:function(o){this.style=JSON.parse((0,U.default)(o))}}]),T}(A.Point),S=h;n.default=S},289517:function(ot,n,t){var M=t(29870),p=t(520314),J=t(426352),z=t(230551),U=t(43586),H=t(787879),$=t(183393),B=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.default=void 0;var K=B(t(298924)),f=A(t(351502));function F(l){if(typeof H!="function")return null;var c=new H,g=new H;return(F=function(N){return N?g:c})(l)}function A(l,c){if(!c&&l&&l.__esModule)return l;if(l===null||M(l)!=="object"&&typeof l!="function")return{default:l};var g=F(c);if(g&&g.has(l))return g.get(l);var R={},N=Object.defineProperty&&$;for(var j in l)if(j!=="default"&&Object.prototype.hasOwnProperty.call(l,j)){var m=N?$(l,j):null;m&&(m.get||m.set)?Object.defineProperty(R,j,m):R[j]=l[j]}return R.default=l,g&&g.set(l,R),R}function k(l,c){var g=typeof z<"u"&&U(l)||l["@@iterator"];if(!g){if(Array.isArray(l)||(g=w(l))||c&&l&&typeof l.length=="number"){g&&(l=g);var R=0,N=function(){};return{s:N,n:function(){return R>=l.length?{done:!![]}:{done:![],value:l[R++]}},e:function(Z){throw Z},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=!![],m=![],G;return{s:function(){g=g.call(l)},n:function(){var Z=g.next();return j=Z.done,Z},e:function(Z){m=!![],G=Z},f:function(){try{!j&&g.return!=null&&g.return()}finally{if(m)throw G}}}}function w(l,c){var g;if(l){if(typeof l=="string")return D(l,c);var R=p(g=Object.prototype.toString.call(l)).call(g,8,-1);if(R==="Object"&&l.constructor&&(R=l.constructor.name),R==="Map"||R==="Set")return J(l);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return D(l,c)}}function D(l,c){(c==null||c>l.length)&&(c=l.length);for(var g=0,R=new Array(c);g<c;g++)R[g]=l[g];return R}var h=(0,K.default)(f),S={},I=k(h),L;try{for(I.s();!(L=I.n()).done;){var T=L.value;S[T]=T}}catch(l){I.e(l)}finally{I.f()}var C="cloud",o="label",e="billboard",d="model",v="videoProjection";S[C]=f.POINT,S[o]=f.POINT,S[e]=f.POINT,S[d]=f.POINT,S[v]=f.POINT;var E="extrudedPolygon",y="extrudedRectangle",u="extrudedCircle",r="extrudedEllipse",s="wall";S[E]=f.POLYGON,S[y]=f.RECTANGLE,S[u]=f.CIRCLE,S[r]=f.ELLIPSE,S[s]=f.POLYLINE;var a=S;n.default=a},351502:function(ot,n){Object.defineProperty(n,"__esModule",{value:!![]}),n.WALL=n.VIDEOPROJECTION=n.SURFACE_CLOSED=n.RECTANGLE=n.POLYLINE=n.POLYGON=n.POINT=n.MODIFY=n.ELLIPSOID=n.ELLIPSE=n.CURVE=n.CLOUD=n.CLEAR=n.CIRCLE=n.BILLBOARD=n.ASSEMBLY_SITE=n.ARROW_PINCERLIKE=n.ARROW_ATTACK=n.ARROW=void 0;var t="videoProjection";n.VIDEOPROJECTION=t;var M="cloud";n.CLOUD=M;var p="billboard";n.BILLBOARD=p;var J="point";n.POINT=J;var z="wall";n.WALL=z;var U="polyline";n.POLYLINE=U;var H="curve";n.CURVE=H;var $="polygon";n.POLYGON=$;var B="rectangle";n.RECTANGLE=B;var K="circle";n.CIRCLE=K;var f="ellipse";n.ELLIPSE=f;var F="ellipsoid";n.ELLIPSOID=F;var A="arrow";n.ARROW=A;var k="arrow-attack";n.ARROW_ATTACK=k;var w="arrow-pincerlike";n.ARROW_PINCERLIKE=w;var D="surface-closed";n.SURFACE_CLOSED=D;var h="assembly-site";n.ASSEMBLY_SITE=h;var S="modify";n.MODIFY=S;var I="clear";n.CLEAR=I},894722:function(ot,n){Object.defineProperty(n,"__esModule",{value:!![]}),n.ZERO_TOLERANCE=n.TWO_PI=n.HALF_PI=n.FITTING_COUNT=void 0;var t=100;n.FITTING_COUNT=t;var M=Math.PI/2;n.HALF_PI=M;var p=1e-4;n.ZERO_TOLERANCE=p;var J=Math.PI*2;n.TWO_PI=J},363839:function(ot,n,t){var M=t(29870),p=t(787879),J=t(183393),z=t(419534);Object.defineProperty(n,"__esModule",{value:!![]}),n.Mid=n.MathDistance=void 0,n.bindAll=at,n.merge=n.isObject=n.isClockWise=n.inherits=n.getuuid=n.getThirdPoint=n.getRightMostControlPoint=n.getQuadricBSplineFactor=n.getQBSplinePoints=n.getPointOnLine=n.getNormal=n.getLeftMostControlPoint=n.getIntersectPoint=n.getFactorial=n.getCurvePoints=n.getCubicValue=n.getCircleCenterOfThreePoints=n.getBisectorNormals=n.getBinomialFactor=n.getBezierPoints=n.getBaseLength=n.getAzimuth=n.getArcPoints=n.getAngleOfThreePoints=void 0,n.preventDefault=st,n.wholeDistance=n.trim=n.stamp=n.splitWords=void 0;var U=z(t(520314)),H=z(t(705146)),$=z(t(669033)),B=z(t(181360)),K=z(t(29870)),f=z(t(342579)),F=w(t(894722)),A=void 0;function k(Y){if(typeof p!="function")return null;var i=new p,P=new p;return(k=function(W){return W?P:i})(Y)}function w(Y,i){if(!i&&Y&&Y.__esModule)return Y;if(Y===null||M(Y)!=="object"&&typeof Y!="function")return{default:Y};var P=k(i);if(P&&P.has(Y))return P.get(Y);var O={},W=Object.defineProperty&&J;for(var V in Y)if(V!=="default"&&Object.prototype.hasOwnProperty.call(Y,V)){var Q=W?J(Y,V):null;Q&&(Q.get||Q.set)?Object.defineProperty(O,V,Q):O[V]=Y[V]}return O.default=Y,P&&P.set(Y,O),O}var D=function(i,P){return(0,f.default)(this,A),Math.sqrt(Math.pow(i[0]-P[0],2)+Math.pow(i[1]-P[1],2))}.bind(void 0);n.MathDistance=D;var h=function(i){var P=this;(0,f.default)(this,A);var O=0;return i&&Array.isArray(i)&&i.length>0&&i.forEach(function(W,V){(0,f.default)(this,P),V<i.length-1&&(O+=D(W,i[V+1]))}.bind(this)),O}.bind(void 0);n.wholeDistance=h;var S=function(i){return(0,f.default)(this,A),Math.pow(h(i),.99)}.bind(void 0);n.getBaseLength=S;var I=function(i,P){return(0,f.default)(this,A),[(i[0]+P[0])/2,(i[1]+P[1])/2]}.bind(void 0);n.Mid=I;var L=function(i,P,O){(0,f.default)(this,A);var W=[(i[0]+P[0])/2,(i[1]+P[1])/2],V=[W[0]-i[1]+P[1],W[1]+i[0]-P[0]],Q=[(i[0]+O[0])/2,(i[1]+O[1])/2],b=[Q[0]-i[1]+O[1],Q[1]+i[0]-O[0]];return T(W,V,Q,b)}.bind(void 0);n.getCircleCenterOfThreePoints=L;var T=function(i,P,O,W){if((0,f.default)(this,A),i[1]===P[1]){var V=(W[0]-O[0])/(W[1]-O[1]),Q=V*(i[1]-O[1])+O[0],b=i[1];return[Q,b]}if(O[1]===W[1]){var X=(P[0]-i[0])/(P[1]-i[1]),q=X*(O[1]-i[1])+i[0],tt=O[1];return[q,tt]}var rt=(P[0]-i[0])/(P[1]-i[1]),ut=(W[0]-O[0])/(W[1]-O[1]),nt=(rt*i[1]-i[0]-ut*O[1]+O[0])/(rt-ut),lt=rt*nt-rt*i[1]+i[0];return[lt,nt]}.bind(void 0);n.getIntersectPoint=T;var C=function(i,P){(0,f.default)(this,A);var O,W=Math.asin(Math.abs(P[1]-i[1])/D(i,P));return P[1]>=i[1]&&P[0]>=i[0]?O=W+Math.PI:P[1]>=i[1]&&P[0]<i[0]?O=Math.PI*2-W:P[1]<i[1]&&P[0]<i[0]?O=W:P[1]<i[1]&&P[0]>=i[0]&&(O=Math.PI-W),O}.bind(void 0);n.getAzimuth=C;var o=function(i,P,O){(0,f.default)(this,A);var W=C(P,i)-C(P,O);return W<0?W+Math.PI*2:W}.bind(void 0);n.getAngleOfThreePoints=o;var e=function(i,P,O){return(0,f.default)(this,A),(O[1]-i[1])*(P[0]-i[0])>(P[1]-i[1])*(O[0]-i[0])}.bind(void 0);n.isClockWise=e;var d=function(i,P,O){(0,f.default)(this,A);var W=P[0]+i*(O[0]-P[0]),V=P[1]+i*(O[1]-P[1]);return[W,V]}.bind(void 0);n.getPointOnLine=d;var v=function(i,P,O,W,V){(0,f.default)(this,A),i=Math.max(Math.min(i,1),0);var Q=1-i,b=i*i,X=b*i,q=Q*Q,tt=q*Q,rt=tt*P[0]+3*q*i*O[0]+3*Q*b*W[0]+X*V[0],ut=tt*P[1]+3*q*i*O[1]+3*Q*b*W[1]+X*V[1];return[rt,ut]}.bind(void 0);n.getCubicValue=v;var E=function(i,P,O,W,V){(0,f.default)(this,A);var Q=C(i,P),b=V?Q+O:Q-O,X=W*Math.cos(b),q=W*Math.sin(b);return[P[0]+X,P[1]+q]}.bind(void 0);n.getThirdPoint=E;var y=function(i,P){(0,f.default)(this,A);function O(){}O.prototype=P.prototype,i.superClass_=P.prototype,i.prototype=new O,i.prototype.constructor=i,i.base=function(W,V){var Q=(0,U.default)(Array.prototype).call(arguments,2);return P.prototype[V].apply(W,Q)}}.bind(void 0);n.inherits=y;var u=function(i,P,O,W){(0,f.default)(this,A);var V=null,Q=null,b=[],X=W-O;X=X<0?X+Math.PI*2:X;for(var q=0;q<=100;q++){var tt=O+X*q/100;V=i[0]+P*Math.cos(tt),Q=i[1]+P*Math.sin(tt),b.push([V,Q])}return b}.bind(void 0);n.getArcPoints=u;var r=function(i,P,O,W){(0,f.default)(this,A);var V=s(P,O,W),Q=null,b=null,X=null,q=null,tt=null,rt=Math.sqrt(V[0]*V[0]+V[1]*V[1]),ut=V[0]/rt,nt=V[1]/rt,lt=D(P,O),dt=D(O,W);return rt>F.ZERO_TOLERANCE?e(P,O,W)?(X=i*lt,q=O[0]-X*nt,tt=O[1]+X*ut,Q=[q,tt],X=i*dt,q=O[0]+X*nt,tt=O[1]-X*ut,b=[q,tt]):(X=i*lt,q=O[0]+X*nt,tt=O[1]-X*ut,Q=[q,tt],X=i*dt,q=O[0]-X*nt,tt=O[1]+X*ut,b=[q,tt]):(q=O[0]+i*(P[0]-O[0]),tt=O[1]+i*(P[1]-O[1]),Q=[q,tt],q=O[0]+i*(W[0]-O[0]),tt=O[1]+i*(W[1]-O[1]),b=[q,tt]),[Q,b]}.bind(void 0);n.getBisectorNormals=r;var s=function(i,P,O){(0,f.default)(this,A);var W=i[0]-P[0],V=i[1]-P[1],Q=Math.sqrt(W*W+V*V);W/=Q,V/=Q;var b=O[0]-P[0],X=O[1]-P[1],q=Math.sqrt(b*b+X*X);b/=q,X/=q;var tt=W+b,rt=V+X;return[tt,rt]}.bind(void 0);n.getNormal=s;var a=function(i,P){(0,f.default)(this,A);var O=[i[0],i[1],i[2],null,null],W=O[0],V=O[1],Q=O[2],b=O[3],X=O[4],q=r(0,W,V,Q),tt=q[0],rt=s(W,V,Q),ut=Math.sqrt(rt[0]*rt[0]+rt[1]*rt[1]);if(ut>F.ZERO_TOLERANCE){var nt=I(W,V),lt=W[0]-nt[0],dt=W[1]-nt[1],yt=D(W,V),ct=2/yt,ht=-ct*dt,ft=ct*lt,Ct=ht*ht-ft*ft,vt=2*ht*ft,pt=ft*ft-ht*ht,gt=tt[0]-nt[0],Pt=tt[1]-nt[1];b=nt[0]+Ct*gt+vt*Pt,X=nt[1]+vt*gt+pt*Pt}else b=W[0]+P*(V[0]-W[0]),X=W[1]+P*(V[1]-W[1]);return[b,X]}.bind(void 0);n.getLeftMostControlPoint=a;var l=function(i,P){(0,f.default)(this,A);var O=i.length,W=i[O-3],V=i[O-2],Q=i[O-1],b=r(0,W,V,Q),X=b[1],q=s(W,V,Q),tt=Math.sqrt(q[0]*q[0]+q[1]*q[1]),rt=null,ut=null;if(tt>F.ZERO_TOLERANCE){var nt=I(V,Q),lt=Q[0]-nt[0],dt=Q[1]-nt[1],yt=D(V,Q),ct=2/yt,ht=-ct*dt,ft=ct*lt,Ct=ht*ht-ft*ft,vt=2*ht*ft,pt=ft*ft-ht*ht,gt=X[0]-nt[0],Pt=X[1]-nt[1];rt=nt[0]+Ct*gt+vt*Pt,ut=nt[1]+vt*gt+pt*Pt}else rt=Q[0]+P*(V[0]-Q[0]),ut=Q[1]+P*(V[1]-Q[1]);return[rt,ut]}.bind(void 0);n.getRightMostControlPoint=l;var c=function(i,P){(0,f.default)(this,A);for(var O=a(P,i),W=null,V=null,Q=null,b=[O],X=[],q=0;q<P.length-2;q++){var tt=[P[q],P[q+1],P[q+2]];W=tt[0],V=tt[1],Q=tt[2];var rt=r(i,W,V,Q);b=(0,H.default)(b).call(b,rt)}var ut=l(P,i);ut&&b.push(ut);for(var nt=0;nt<P.length-1;nt++){W=P[nt],V=P[nt+1],X.push(W);for(var lt=0;lt<F.FITTING_COUNT;lt++){var dt=v(lt/F.FITTING_COUNT,W,b[nt*2],b[nt*2+1],V);X.push(dt)}X.push(V)}return X[0][0]===X[1][0]&&X[0][1]===X[1][1]&&(0,$.default)(X).call(X,0,1),X}.bind(void 0);n.getCurvePoints=c;var g=function(i){if(i.length<=2)return i;for(var P=[],O=i.length-1,W=0;W<=1;W+=.01){for(var V=0,Q=0,b=0;b<=O;b++){var X=N(O,b),q=Math.pow(W,b),tt=Math.pow(1-W,O-b);V+=X*q*tt*i[b][0],Q+=X*q*tt*i[b][1]}P.push([V,Q])}return P.push(i[O]),P};n.getBezierPoints=g;var R=function(i){(0,f.default)(this,A);var P=1;switch(i){case i<=1:P=1;break;case i===2:P=2;break;case i===3:P=6;break;case i===24:P=24;break;case i===5:P=120;break;default:for(var O=1;O<=i;O++)P*=O;break}return P}.bind(void 0);n.getFactorial=R;var N=function(i,P){return(0,f.default)(this,A),R(i)/(R(P)*R(i-P))}.bind(void 0);n.getBinomialFactor=N;var j=function(i){if((0,f.default)(this,A),i.length<=2)return i;var P=2,O=[],W=i.length-P-1;O.push(i[0]);for(var V=0;V<=W;V++)for(var Q=0;Q<=1;Q+=.05){for(var b=0,X=0,q=0;q<=P;q++){var tt=m(q,Q);b+=tt*i[V+q][0],X+=tt*i[V+q][1]}O.push([b,X])}return O.push(i[i.length-1]),O}.bind(void 0);n.getQBSplinePoints=j;var m=function(i,P){(0,f.default)(this,A);var O=0;return i===0?O=Math.pow(P-1,2)/2:i===1?O=(-2*Math.pow(P,2)+2*P+1)/2:i===2&&(O=Math.pow(P,2)/2),O}.bind(void 0);n.getQuadricBSplineFactor=m;var G=function(){(0,f.default)(this,A);for(var i=[],P="0123456789abcdef",O=0;O<36;O++)i[O]=P.substr(Math.floor(Math.random()*16),1);return i[14]="4",i[19]=P.substr(i[19]&3|8,1),i[8]=i[13]=i[18]=i[23]="-",i.join("")}.bind(void 0);n.getuuid=G;var x=function(i){var P="_event_id_";return i[P]=i[P]||G(),i[P]};n.stamp=x;var Z=function(i){return(0,f.default)(this,A),(0,B.default)(i)?(0,B.default)(i).call(i):i.replace(/^\s+|\s+$/g,"")}.bind(void 0);n.trim=Z;var _=function(i){return(0,f.default)(this,A),Z(i).split(/\s+/)}.bind(void 0);n.splitWords=_;var et=function(i){(0,f.default)(this,A);var P=(0,K.default)(i);return i!==null&&(P==="object"||P==="function")}.bind(void 0);n.isObject=et;var it=function(i,P){(0,f.default)(this,A);for(var O in P)et(P[O])&&et(i[O])?it(i[O],P[O]):i[O]=P[O];return i}.bind(void 0);n.merge=it;function st(Y){Y=Y||window.event,Y.preventDefault?Y.preventDefault():Y.returnValue=![]}function at(Y,i){var P=this;Y.forEach(function(O){(0,f.default)(this,P),i[O]&&(i[O]=i[O].bind(i))}.bind(this))}},223661:function(ot,n,t){var M=t(419534);Object.defineProperty(n,"__esModule",{value:!0}),n.compare=$,n.compareArray=U,n.compareObject=H;var p=M(t(29870)),J=M(t(342579)),z=M(t(985208));function U(B,K){if(B.length!==K.length)return!1;for(var f=B.length,F=0;F<f;F++)if(!$(B[F],K[F]))return!1;return!0}function H(B,K){var f=this,F=(0,z.default)(B),A=(0,z.default)(K);return F.length!==A.length?!1:F.every(function(k){return(0,J.default)(this,f),!!$(B[k],K[k])}.bind(this))}function $(B,K){return B===K?!0:(0,p.default)(B)!==(0,p.default)(K)||B===null||K===null?!1:Array.isArray(B)?Array.isArray(K)?U(B,K):!1:(0,p.default)(B)==="object"?H(B,K):!1}},974429:function(ot,n,t){t.r(n),t.d(n,{AssertionError:function(){return M.Z},Collection:function(){return p.default},Disposable:function(){return J.Z},Feature:function(){return z.default},Geolocation:function(){return D},Graticule:function(){return h.Z},Image:function(){return S.Z},ImageBase:function(){return I.Z},ImageCanvas:function(){return L.Z},ImageTile:function(){return T.Z},Kinetic:function(){return C.Z},Map:function(){return o.default},MapBrowserEvent:function(){return e.Z},MapBrowserEventHandler:function(){return d.Z},MapEvent:function(){return v.Z},Object:function(){return H.default},Observable:function(){return E.default},Overlay:function(){return y.default},PluggableMap:function(){return u.Z},Tile:function(){return r.Z},TileCache:function(){return s.Z},TileQueue:function(){return a.Z},TileRange:function(){return l.Z},VERSION:function(){return N.VERSION},VectorRenderTile:function(){return c.Z},VectorTile:function(){return g.Z},View:function(){return R.default},getUid:function(){return N.getUid}});var M=t(193419),p=t(10257),J=t(799917),z=t(647598),U=t(12207),H=t(951641),$=t(588298),B=t(54896),K=t(972233),f=t(423744),F=function(){var j=function(m,G){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,Z){x.__proto__=Z}||function(x,Z){for(var _ in Z)Object.prototype.hasOwnProperty.call(Z,_)&&(x[_]=Z[_])},j(m,G)};return function(m,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");j(m,G);function x(){this.constructor=m}m.prototype=G===null?Object.create(G):(x.prototype=G.prototype,new x)}}(),A={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},k=function(j){F(m,j);function m(G){var x=j.call(this,$.Z.ERROR)||this;return x.code=G.code,x.message=G.message,x}return m}(U.default),w=function(j){F(m,j);function m(G){var x=j.call(this)||this;x.on,x.once,x.un;var Z=G||{};return x.position_=null,x.transform_=K.identityTransform,x.watchId_=void 0,x.addChangeListener(A.PROJECTION,x.handleProjectionChanged_),x.addChangeListener(A.TRACKING,x.handleTrackingChanged_),Z.projection!==void 0&&x.setProjection(Z.projection),Z.trackingOptions!==void 0&&x.setTrackingOptions(Z.trackingOptions),x.setTracking(Z.tracking!==void 0?Z.tracking:!1),x}return m.prototype.disposeInternal=function(){this.setTracking(!1),j.prototype.disposeInternal.call(this)},m.prototype.handleProjectionChanged_=function(){var G=this.getProjection();G&&(this.transform_=(0,K.getTransformFromProjections)((0,K.get)("EPSG:4326"),G),this.position_&&this.set(A.POSITION,this.transform_(this.position_)))},m.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var G=this.getTracking();G&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!G&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},m.prototype.positionChange_=function(G){var x=G.coords;this.set(A.ACCURACY,x.accuracy),this.set(A.ALTITUDE,x.altitude===null?void 0:x.altitude),this.set(A.ALTITUDE_ACCURACY,x.altitudeAccuracy===null?void 0:x.altitudeAccuracy),this.set(A.HEADING,x.heading===null?void 0:(0,f.Yr)(x.heading)),this.position_?(this.position_[0]=x.longitude,this.position_[1]=x.latitude):this.position_=[x.longitude,x.latitude];var Z=this.transform_(this.position_);this.set(A.POSITION,Z),this.set(A.SPEED,x.speed===null?void 0:x.speed);var _=(0,B.circular)(this.position_,x.accuracy);_.applyTransform(this.transform_),this.set(A.ACCURACY_GEOMETRY,_),this.changed()},m.prototype.positionError_=function(G){this.dispatchEvent(new k(G))},m.prototype.getAccuracy=function(){return this.get(A.ACCURACY)},m.prototype.getAccuracyGeometry=function(){return this.get(A.ACCURACY_GEOMETRY)||null},m.prototype.getAltitude=function(){return this.get(A.ALTITUDE)},m.prototype.getAltitudeAccuracy=function(){return this.get(A.ALTITUDE_ACCURACY)},m.prototype.getHeading=function(){return this.get(A.HEADING)},m.prototype.getPosition=function(){return this.get(A.POSITION)},m.prototype.getProjection=function(){return this.get(A.PROJECTION)},m.prototype.getSpeed=function(){return this.get(A.SPEED)},m.prototype.getTracking=function(){return this.get(A.TRACKING)},m.prototype.getTrackingOptions=function(){return this.get(A.TRACKING_OPTIONS)},m.prototype.setProjection=function(G){this.set(A.PROJECTION,(0,K.get)(G))},m.prototype.setTracking=function(G){this.set(A.TRACKING,G)},m.prototype.setTrackingOptions=function(G){this.set(A.TRACKING_OPTIONS,G)},m}(H.default),D=w,h=t(51035),S=t(803118),I=t(478453),L=t(254239),T=t(283878),C=t(426374),o=t(932132),e=t(72007),d=t(595646),v=t(379450),E=t(407165),y=t(342369),u=t(904209),r=t(731870),s=t(514310),a=t(12697),l=t(901087),c=t(583363),g=t(316928),R=t(749458),N=t(875907)}}]);
