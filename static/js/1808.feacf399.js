(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[1808],{77005:function(Y,Z,V){var K,_;(function(y){Y.exports?(y.default=y,Y.exports=y):(K=[V(35776)],_=function(G){return y(G),y.Highcharts=G,y}.apply(Z,K),_!==void 0&&(Y.exports=_))})(function(y){function G(S,C,p,P){S.hasOwnProperty(C)||(S[C]=P.apply(null,p),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:C,module:S[C]}})))}y=y?y._modules:{},G(y,"Core/Geometry/GeometryUtilities.js",[],function(){var S;return function(C){C.getCenterOfPoints=function(p){var P=p.reduce(function(j,g){return j.x+=g.x,j.y+=g.y,j},{x:0,y:0});return{x:P.x/p.length,y:P.y/p.length}},C.getDistanceBetweenPoints=function(p,P){return Math.sqrt(Math.pow(P.x-p.x,2)+Math.pow(P.y-p.y,2))},C.getAngleBetweenPoints=function(p,P){return Math.atan2(P.x-p.x,P.y-p.y)}}(S||(S={})),S}),G(y,"Core/Geometry/CircleUtilities.js",[y["Core/Geometry/GeometryUtilities.js"]],function(S){var C=S.getAngleBetweenPoints,p=S.getCenterOfPoints,P=S.getDistanceBetweenPoints,j;return function(g){function L(f,u){return u=Math.pow(10,u),Math.round(f*u)/u}function D(f){if(0>=f)throw Error("radius of circle must be a positive number.");return Math.PI*f*f}function A(f,u){return f*f*Math.acos(1-u/f)-(f-u)*Math.sqrt(u*(2*f-u))}function N(f,u){var v=P(f,u),w=f.r,U=u.r,a=[];if(v<w+U&&v>Math.abs(w-U)){w*=w;var c=(w-U*U+v*v)/(2*v);U=Math.sqrt(w-c*c),w=f.x,a=u.x,f=f.y;var E=u.y;u=w+c*(a-w)/v,c=f+c*(E-f)/v,f=U/v*-(E-f),v=U/v*-(a-w),a=[{x:L(u+f,14),y:L(c-v,14)},{x:L(u-f,14),y:L(c+v,14)}]}return a}function H(f){return f.reduce(function(u,v,w,U){return U=U.slice(w+1).reduce(function(a,c,E,O){var F=[w,E+w+1];return a.concat(N(v,c).map(function(r){return r.indexes=F,r}))},[]),u.concat(U)},[])}function R(f,u){return P(f,u)<=u.r+1e-10}function W(f,u){return!u.some(function(v){return!R(f,v)})}function X(f){return H(f).filter(function(u){return W(u,f)})}g.round=L,g.getAreaOfCircle=D,g.getCircularSegmentArea=A,g.getOverlapBetweenCircles=function(f,u,v){var w=0;return v<f+u&&(v<=Math.abs(u-f)?w=D(f<u?f:u):(w=(f*f-u*u+v*v)/(2*v),v-=w,w=A(f,f-w)+A(u,u-v)),w=L(w,14)),w},g.getCircleCircleIntersection=N,g.getCirclesIntersectionPoints=H,g.isCircle1CompletelyOverlappingCircle2=function(f,u){return P(f,u)+u.r<f.r+1e-10},g.isPointInsideCircle=R,g.isPointInsideAllCircles=W,g.isPointOutsideAllCircles=function(f,u){return!u.some(function(v){return R(f,v)})},g.getCirclesIntersectionPolygon=X,g.getAreaOfIntersectionBetweenCircles=function(f){var u=X(f);if(1<u.length){var v=p(u);u=u.map(function(a){return a.angle=C(v,a),a}).sort(function(a,c){return c.angle-a.angle});var w=u[u.length-1];if(u=u.reduce(function(a,c){var E=a.startPoint,O=p([E,c]),F=c.indexes.filter(function(i){return-1<E.indexes.indexOf(i)}).reduce(function(i,n){n=f[n];var t=C(n,c),e=C(n,E);return t=e-(e-t+(e<t?2*Math.PI:0))/2,t=P(O,{x:n.x+n.r*Math.sin(t),y:n.y+n.r*Math.cos(t)}),n=n.r,t>2*n&&(t=2*n),(!i||i.width>t)&&(i={r:n,largeArc:t>n?1:0,width:t,x:c.x,y:c.y}),i},null);if(F){var r=F.r;a.arcs.push(["A",r,r,0,F.largeArc,1,F.x,F.y]),a.startPoint=c}return a},{startPoint:w,arcs:[]}).arcs,u.length!==0&&u.length!==1){u.unshift(["M",w.x,w.y]);var U={center:v,d:u}}}return U}}(j||(j={})),j}),G(y,"Series/DrawPointUtilities.js",[y["Core/Utilities.js"]],function(S){return{draw:function(C,p){var P=p.animatableAttribs,j=p.onComplete,g=p.css,L=p.renderer,D=C.series&&C.series.chart.hasRendered?void 0:C.series&&C.series.options.animation,A=C.graphic;if(p.attribs=p.attribs||{},p.attribs.class=C.getClassName(),C.shouldDraw())A||(C.graphic=A=p.shapeType==="text"?L.text():L[p.shapeType](p.shapeArgs||{}),A.add(p.group)),g&&A.css(g),A.attr(p.attribs).animate(P,p.isNew?!1:D,j);else if(A){var N=function(){C.graphic=A=A&&A.destroy(),typeof j=="function"&&j()};Object.keys(P).length?A.animate(P,void 0,function(){return N()}):N()}}}}),G(y,"Series/Venn/VennPoint.js",[y["Core/Series/SeriesRegistry.js"],y["Core/Utilities.js"]],function(S,C){var p=this&&this.__extends||function(){var j=function(g,L){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,A){D.__proto__=A}||function(D,A){for(var N in A)A.hasOwnProperty(N)&&(D[N]=A[N])},j(g,L)};return function(g,L){function D(){this.constructor=g}j(g,L),g.prototype=L===null?Object.create(L):(D.prototype=L.prototype,new D)}}(),P=C.isNumber;return function(j){function g(){var L=j!==null&&j.apply(this,arguments)||this;return L.options=void 0,L.series=void 0,L}return p(g,j),g.prototype.isValid=function(){return P(this.value)},g.prototype.shouldDraw=function(){return!!this.shapeArgs},g}(S.seriesTypes.scatter.prototype.pointClass)}),G(y,"Series/Venn/VennUtils.js",[y["Core/Geometry/CircleUtilities.js"],y["Core/Geometry/GeometryUtilities.js"],y["Core/Utilities.js"]],function(S,C,p){function P(r){var i=r.filter(function(n){return n.sets.length===2}).reduce(function(n,t){return t.sets.forEach(function(e,o,s){O(n[e])||(n[e]={overlapping:{},totalOverlap:0}),n[e].totalOverlap+=t.value,n[e].overlapping[s[1-o]]=t.value}),n},{});return r.filter(A).forEach(function(n){a(n,i[n.sets[0]])}),r}function j(r,i,n,t,e){var o=r(i),s=r(n);e=e||100,t=t||1e-10;var l=n-i,d=1;if(i>=n)throw Error("a must be smaller than b.");if(0<o*s)throw Error("f(a) and f(b) must have opposite signs.");if(o===0)var x=i;else if(s===0)x=n;else for(;d++<=e&&m!==0&&l>t;){l=(n-i)/2,x=i+l;var m=r(x);0<o*m?i=x:n=x}return x}function g(r){r=r.slice(0,-1);for(var i=r.length,n=[],t=function(o,s){return o.sum+=s[o.i],o},e=0;e<i;e++)n[e]=r.reduce(t,{sum:0,i:e}).sum/i;return n}function L(r,i,n){var t=r+i;return 0>=n?t:W(r<i?r:i)<=n?0:j(function(e){return e=f(r,i,e),n-e},0,t)}function D(r){var i=0;return r.length===2&&(i=r[0],r=r[1],i=f(i.r,r.r,U(i,r))),i}function A(r){return c(r.sets)&&r.sets.length===1}function N(r){var i={};return O(r)&&E(r.value)&&-1<r.value&&c(r.sets)&&0<r.sets.length&&!r.sets.some(function(n){var t=!1;return!i[n]&&F(n)?i[n]=!0:t=!0,t})}function H(r,i){return i.reduce(function(n,t){var e=0;return 1<t.sets.length&&(e=t.value,t=D(t.sets.map(function(o){return r[o]})),t=e-t,e=Math.round(t*t*1e11)/1e11),n+e},0)}function R(r,i){return i.totalOverlap-r.totalOverlap}var W=S.getAreaOfCircle,X=S.getCircleCircleIntersection,f=S.getOverlapBetweenCircles,u=S.isPointInsideAllCircles,v=S.isPointInsideCircle,w=S.isPointOutsideAllCircles,U=C.getDistanceBetweenPoints,a=p.extend,c=p.isArray,E=p.isNumber,O=p.isObject,F=p.isString;return{geometry:C,geometryCircles:S,addOverlapToSets:P,getCentroid:g,getDistanceBetweenCirclesByOverlap:L,getLabelWidth:function(r,i,n){var t=i.reduce(function(o,s){return Math.min(s.r,o)},1/0),e=n.filter(function(o){return!v(r,o)});return n=function(o,s){return j(function(l){var d={x:r.x+s*l,y:r.y};return d=u(d,i)&&w(d,e),-(o-l)+(d?0:Number.MAX_VALUE)},0,o)},2*Math.min(n(t,-1),n(t,1))},getMarginFromCircles:function(r,i,n){return i=i.reduce(function(t,e){return e=e.r-U(r,e),e<=t?e:t},Number.MAX_VALUE),i=n.reduce(function(t,e){return e=U(r,e)-e.r,e<=t?e:t},i)},isSet:A,layoutGreedyVenn:function(r){var i=[],n={};r.filter(function(s){return s.sets.length===1}).forEach(function(s){n[s.sets[0]]=s.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(s.value/Math.PI)}});var t=function(s,l){var d=s.circle;d.x=l.x,d.y=l.y,i.push(s)};P(r);var e=r.filter(A).sort(R);t(e.shift(),{x:0,y:0});var o=r.filter(function(s){return s.sets.length===2});return e.forEach(function(s){var l=s.circle,d=l.r,x=s.overlapping,m=i.reduce(function(B,I,M){var h=I.circle,$=L(d,h.r,x[I.sets[0]]),J=[{x:h.x+$,y:h.y},{x:h.x-$,y:h.y},{x:h.x,y:h.y+$},{x:h.x,y:h.y-$}];return i.slice(M+1).forEach(function(T){var z=T.circle;T=L(d,z.r,x[T.sets[0]]),J=J.concat(X({x:h.x,y:h.y,r:$},{x:z.x,y:z.y,r:T}))}),J.forEach(function(T){l.x=T.x,l.y=T.y;var z=H(n,o);z<B.loss&&(B.loss=z,B.coordinates=T)}),B},{loss:Number.MAX_VALUE,coordinates:void 0});t(s,m.coordinates)}),n},loss:H,nelderMead:function(r,i){var n=function(I,M){return I.fx-M.fx},t=function(I,M,h,$){return M.map(function(J,T){return I*J+h*$[T]})},e=function(I,M){return M.fx=r(M),I[I.length-1]=M,I},o=function(I){var M=I[0];return I.map(function(h){return h=t(.5,M,.5,h),h.fx=r(h),h})},s=function(I,M,h,$){return I=t(h,I,$,M),I.fx=r(I),I};i=function(I){var M=I.length,h=Array(M+1);h[0]=I,h[0].fx=r(I);for(var $=0;$<M;++$){var J=I.slice();J[$]=J[$]?1.05*J[$]:.001,J.fx=r(J),h[$+1]=J}return h}(i);for(var l=0;100>l;l++){i.sort(n);var d=i[i.length-1],x=g(i),m=s(x,d,2,-1);if(m.fx<i[0].fx)d=s(x,d,3,-2),i=e(i,d.fx<m.fx?d:m);else if(m.fx>=i[i.length-2].fx){var B=void 0;m.fx>d.fx?(B=s(x,d,.5,.5),i=B.fx<d.fx?e(i,B):o(i)):(B=s(x,d,1.5,-.5),i=B.fx<m.fx?e(i,B):o(i))}else i=e(i,m)}return i[0]},processVennData:function(r){r=c(r)?r:[];var i=r.reduce(function(t,e){return N(e)&&A(e)&&0<e.value&&t.indexOf(e.sets[0])===-1&&t.push(e.sets[0]),t},[]).sort(),n=r.reduce(function(t,e){return N(e)&&!e.sets.some(function(o){return i.indexOf(o)===-1})&&(t[e.sets.sort().join()]=e),t},{});return i.reduce(function(t,e,o,s){return s.slice(o+1).forEach(function(l){t.push(e+","+l)}),t},[]).forEach(function(t){if(!n[t]){var e={sets:t.split(","),value:0};n[t]=e}}),Object.keys(n).map(function(t){return n[t]})},sortByTotalOverlap:R}}),G(y,"Series/Venn/VennSeries.js",[y["Core/Animation/AnimationUtilities.js"],y["Core/Color/Color.js"],y["Core/Geometry/CircleUtilities.js"],y["Series/DrawPointUtilities.js"],y["Core/Geometry/GeometryUtilities.js"],y["Core/Series/SeriesRegistry.js"],y["Series/Venn/VennPoint.js"],y["Series/Venn/VennUtils.js"],y["Core/Legend/LegendSymbol.js"],y["Core/Utilities.js"]],function(S,C,p,P,j,g,L,D,A,N){var H=this&&this.__extends||function(){var i=function(n,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])},i(n,t)};return function(n,t){function e(){this.constructor=n}i(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),R=S.animObject,W=C.parse,X=p.getAreaOfIntersectionBetweenCircles,f=p.getCirclesIntersectionPolygon,u=p.isCircle1CompletelyOverlappingCircle2,v=p.isPointInsideAllCircles,w=p.isPointOutsideAllCircles,U=j.getCenterOfPoints,a=g.seriesTypes.scatter;S=N.addEvent;var c=N.extend,E=N.isArray,O=N.isNumber,F=N.isObject,r=N.merge;return N=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.data=void 0,t.mapOfIdToRelation=void 0,t.options=void 0,t.points=void 0,t}return H(n,i),n.getLabelPosition=function(t,e){var o=t.reduce(function(s,l){var d=l.r/2;return[{x:l.x,y:l.y},{x:l.x+d,y:l.y},{x:l.x-d,y:l.y},{x:l.x,y:l.y+d},{x:l.x,y:l.y-d}].reduce(function(x,m){var B=D.getMarginFromCircles(m,t,e);return x.margin<B&&(x.point=m,x.margin=B),x},s)},{point:void 0,margin:-Number.MAX_VALUE}).point;return o=D.nelderMead(function(s){return-D.getMarginFromCircles({x:s[0],y:s[1]},t,e)},[o.x,o.y]),o={x:o[0],y:o[1]},v(o,t)&&w(o,e)||(o=1<t.length?U(f(t)):{x:t[0].x,y:t[0].y}),o},n.getLabelValues=function(t,e){var o=t.sets,s=e.reduce(function(l,d){var x=-1<o.indexOf(d.sets[0]);return l[x?"internal":"external"].push(d.circle),l},{internal:[],external:[]});return s.external=s.external.filter(function(l){return s.internal.some(function(d){return!u(l,d)})}),t=n.getLabelPosition(s.internal,s.external),e=D.getLabelWidth(t,s.internal,s.external),{position:t,width:e}},n.layout=function(t){var e={},o={};if(0<t.length){var s=D.layoutGreedyVenn(t),l=t.filter(D.isSet);t.forEach(function(d){var x=d.sets,m=x.join();(x=D.isSet(d)?s[m]:X(x.map(function(B){return s[B]})))&&(e[m]=x,o[m]=n.getLabelValues(d,l))})}return{mapOfIdToShape:e,mapOfIdToLabelValues:o}},n.getScale=function(t,e,o){var s=o.bottom-o.top,l=o.right-o.left;return s=Math.min(0<l?1/l*t:1,0<s?1/s*e:1),{scale:s,centerX:t/2-(o.right+o.left)/2*s,centerY:e/2-(o.top+o.bottom)/2*s}},n.updateFieldBoundaries=function(t,e){var o=e.x-e.r,s=e.x+e.r,l=e.y+e.r;return e=e.y-e.r,(!O(t.left)||t.left>o)&&(t.left=o),(!O(t.right)||t.right<s)&&(t.right=s),(!O(t.top)||t.top>e)&&(t.top=e),(!O(t.bottom)||t.bottom<l)&&(t.bottom=l),t},n.prototype.animate=function(t){if(!t){var e=R(this.options.animation);this.points.forEach(function(o){var s=o.shapeArgs;if(o.graphic&&s){var l={},d={};s.d?l.opacity=.001:(l.r=0,d.r=s.r),o.graphic.attr(l).animate(d,e),s.d&&setTimeout(function(){o&&o.graphic&&o.graphic.animate({opacity:1})},e.duration)}},this)}},n.prototype.drawPoints=function(){var t=this,e=t.chart,o=t.group,s=e.renderer;(t.points||[]).forEach(function(l){var d={zIndex:E(l.sets)?l.sets.length:0},x=l.shapeArgs;e.styledMode||c(d,t.pointAttribs(l,l.state)),P.draw(l,{isNew:!l.graphic,animatableAttribs:x,attribs:d,group:o,renderer:s,shapeType:x&&x.d?"path":"circle"})})},n.prototype.init=function(){a.prototype.init.apply(this,arguments),delete this.opacity},n.prototype.pointAttribs=function(t,e){var o=this.options||{};return t=r(o,{color:t&&t.color},t&&t.options||{},e&&o.states[e]||{}),{fill:W(t.color).brighten(t.brightness).get(),opacity:t.opacity,stroke:t.borderColor,"stroke-width":t.borderWidth,dashstyle:t.borderDashStyle}},n.prototype.translate=function(){var t=this.chart;this.processedXData=this.xData,this.generatePoints();var e=D.processVennData(this.options.data);e=n.layout(e);var o=e.mapOfIdToShape,s=e.mapOfIdToLabelValues;e=Object.keys(o).filter(function(m){return(m=o[m])&&O(m.r)}).reduce(function(m,B){return n.updateFieldBoundaries(m,o[B])},{top:0,bottom:0,left:0,right:0}),t=n.getScale(t.plotWidth,t.plotHeight,e);var l=t.scale,d=t.centerX,x=t.centerY;this.points.forEach(function(m){var B=E(m.sets)?m.sets:[],I=B.join(),M=o[I],h=s[I]||{};I=h.width,h=h.position;var $=m.options&&m.options.dataLabels;if(M){if(M.r)var J={x:d+M.x*l,y:x+M.y*l,r:M.r*l};else M.d&&(M=M.d,M.forEach(function(T){T[0]==="M"?(T[1]=d+T[1]*l,T[2]=x+T[2]*l):T[0]==="A"&&(T[1]*=l,T[2]*=l,T[6]=d+T[6]*l,T[7]=x+T[7]*l)}),J={d:M});h?(h.x=d+h.x*l,h.y=x+h.y*l):h={},O(I)&&(I=Math.round(I*l))}m.shapeArgs=J,h&&J&&(m.plotX=h.x,m.plotY=h.y),I&&J&&(m.dlOptions=r(!0,{style:{width:I}},F($,!0)?$:void 0)),m.name=m.options.name||B.join("\u2229")})},n.defaultOptions=r(a.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"}}),n}(a),c(N.prototype,{axisTypes:[],directTouch:!0,drawLegendSymbol:A.drawRectangle,isCartesian:!1,pointArrayMap:["value"],pointClass:L,utils:D}),g.registerSeriesType("venn",N),S(N,"afterSetOptions",function(i){var n=i.options.states;this.is("venn")&&Object.keys(n).forEach(function(t){n[t].halo=!1})}),N}),G(y,"masters/modules/venn.src.js",[],function(){})})},56279:function(Y,Z,V){"use strict";V.d(Z,{P:function(){return y}});var K=V(86892),_=V(49500);const y={mixins:[K.D],created(){},methods:{lifecycleBeforeChartsLoad(G){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&_.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),_.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let C=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[G]);if(C)return C}return G},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&_.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),_.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},21808:function(Y,Z,V){"use strict";V.r(Z),V.d(Z,{default:function(){return U}});var K=function(){var c=this,E=c._self._c;return E("div",{style:{width:c.widgetInfo.attr.w+"px",height:c.widgetInfo.attr.hh+"px"}},[E("hide-button",{attrs:{attr:c.widgetInfo.attr}}),E("div",{ref:"vennSimple",style:{width:c.widgetInfo.attr.w+"px",height:c.widgetInfo.attr.hh+"px"}})],1)},_=[],y=V(44513),G=V(27966),S=V(56279),C=V(45061),p=V(26711),P=V(99349),j=V(35776),g=V.n(j),L=V(77005),D=V.n(L),A=V(55616),N=V(35584),H=V(67157),R=V(50666);const W={mixins:[H.c],data(){return{config_extend:{},filter_config:{title:JSON.parse(JSON.stringify(R.Z.charts.title)),legend:JSON.parse(JSON.stringify(R.Z.charts.legend)),tooltip:JSON.parse(JSON.stringify(R.Z.charts.tooltip)),toolbox:JSON.parse(JSON.stringify(R.Z.charts.toolbox)),colorList:["#4C84FF"]}}},methods:{filterPredefineColoursSchemeConfig(a,c){this.getNewConfigWithArrary(a,c,this.filter_config)}}};var X=V(49500);D()(g());var f={props:["widgetInfo"],name:"venn-simple",components:{HideButton:y.Z},mixins:[P.P,S.P,C.u,p.H,N.u,W],data(){return{dimensionsEx:null,dimensionsAliasEx:null}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{loadInfo(a){let c=a.dataset[a.dataset.type],E=JSON.parse(JSON.stringify(a.config.chart)),O=JSON.parse(JSON.stringify(a.config.tooltip)),F=JSON.parse(JSON.stringify(a.config.series));F.label=Object.assign(F.label,{format:this.getFromat(F.label)});let r=this,i={accessibility:{point:{descriptionFormatter:function(n){var t=n.sets.join(", "),e=n.name,o=n.index+1,s=n.value;return o+". Intersection: "+t+". "+(n.sets.length>1?e+". ":"")+"Value "+s+"."}}},chart:{width:a.attr.w,height:a.attr.hh,marginLeft:E.marginLeft,marginRight:E.marginRight,marginTop:E.marginTop,marginBottom:E.marginBottom,backgroundColor:"rgba(255,255,255,0)"},colors:a.config.colorList,tooltip:O,title:"",credits:{enabled:!1},series:[{type:"venn",name:"",data:this.getDataList(c.encode,c.dimensions,c.source),dataLabels:F.label,animation:{duration:F.animation.duration*1e3},borderColor:F.borderColor,borderWidth:F.borderWidth,events:{click:n=>{r.clickVenn(n.point)}}}],color:["#7B97EB","#8CC9F5","#363DEB","#DDDF00","#24CBE5","#64E572","#FF9655","#FFF263","#6AF9C4"]};X.log(i),g().chart(this.$refs.vennSimple,this.lifecycleBeforeChartsLoad(i))},reLoadInfo(a){a&&(this.$refs.vennSimple.style.width=a.attr.w+"px",this.$refs.vennSimple.style.height=a.attr.hh+"px"),this.loadInfo(a)},getFromat(a){let c="";if(a.scriptEnabled&&a.scriptContent){let E=new Function(a.scriptContent);c+="<b>"+E()+"</b>"}else a.nameShow&&(c+='<b style="stroke-width:0">{point.name}:</b>'),a.valueShow&&(c+='<b style="stroke-width:0">{point.value}</b>');return c},getDataList(a,c,E){let O=[],F,r;for(let i=0;i<c.length;i++)c[i]==a.sets&&(F=i),c[i]==a.value&&(r=i);return this.$$lib__.each(E,i=>{O.push({sets:i[F].split(","),value:Number(i[r])})}),O},initAction(a){this.actionSendout(a),this.actionReceive(a)},clickVenn(a){let c=this.widgetInfo,E=[],O=this,F=c.action.sendOut.actionList;O.$$lib__.each(F,r=>{let i=r.code+"_"+c.id,n={};r.paramsExtend&&r.paramsExtend.length>0&&O.getParamsExtend(n,r.paramsExtend,c);let t=r.postMessage;if(n.name=a.name,n.value=a.value,r.enabled&&r.code==O.$$global_editor.actionType.click.code){if(c.dataset[c.dataset.type].source&&c.dataset[c.dataset.type].source.length>0&&(E=c.dataset[c.dataset.type].source[a.index]),O.getExtendParams(n,F[0].paramsExtend,E,c.dataset[c.dataset.type].dimensions),r.script&&r.script.enabled){if(X.log("Execute script for "+O.widgetInfo.name+" component to "+r.name+" component"),r.script.content==""){A.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}O.customScript_actionSend_clickParam2=new Function("param",r.script.content),n=O.customScript_actionSend_clickParam2(n)}G.Z.$emit(i,n),t&&O.doPostMessage(n)}else if(r.enabled&&r.code==O.$$global_editor.actionType.openLink.code){if(r.paramsExtend&&r.paramsExtend.length>0){let e=[];c.dataset[c.dataset.type].source&&c.dataset[c.dataset.type].source.length>0&&(e=c.dataset[c.dataset.type].source[a.index]),r.type===O.$$global_editor.linkType.dynamic.code&&(r[O.$$global_editor.linkType.dynamic.code].url=O.getActionUrl(r,c.dataset[c.dataset.type].source[a.index],c.dataset[c.dataset.type].dimensions)),O.getExtendParams(n,r.paramsExtend,e,c.dataset[c.dataset.type].dimensions)}if(r.script&&r.script.enabled){if(X.log("Execute script for "+O.widgetInfo.name+" component to "+r.name+" component"),r.script.content==""){A.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript_actionSend_clickParam=new Function("param,params",r.script.content),n=this.customScript_actionSend_clickParam(n,a)}O.openLinkAction(r,n,a)}})}}},u=f,v=V(68141),w=(0,v.Z)(u,K,_,!1,null,"0cbec4d0",null),U=w.exports}}]);
