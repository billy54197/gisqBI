"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[9796],{37318:function(z,m,i){i.r(m),i.d(m,{default:function(){return u}}),window.ol&&!ol.ext&&(ol.ext={});var P=function(e,f){e.prototype=Object.create(f.prototype),e.prototype.constructor=e};window.ol&&(ol.inherits||(ol.inherits=P)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var y=P,S=i(7165),j=i(19830),O=i(51641),g=i(32132),L=i(49500),R={},p=function(e){O.default.call(this,e),this._listener=[],e&&e.active===!1?this.set("active",!1):this.set("active",!0)};y(p,O.default),p.prototype.setActive=function(e){this.set("active",e===!0)},p.prototype.getActive=function(){return this.get("active")},function(){function e(a){this.get("active")&&a.context&&this.precompose(a)}function f(a){this.get("active")&&a.context&&this.postcompose(a)}function c(){if(this.renderSync)try{this.renderSync()}catch{}else this.changed()}function n(a){this.filters_||(this.filters_=[]),this.filters_.push(a),a.addToLayer&&a.addToLayer(this),a.precompose&&a._listener.push({listener:this.on(["precompose","prerender"],e.bind(a)),target:this}),a.postcompose&&a._listener.push({listener:this.on(["postcompose","postrender"],f.bind(a)),target:this}),a._listener.push({listener:a.on("propertychange",c.bind(this)),target:this}),c.call(this)}function o(a){var s;if(this.filters_||(this.filters_=[]),!a){this.filters_.forEach(function(t){this.removeFilter(t)}.bind(this));return}for(s=this.filters_.length-1;s>=0;s--)this.filters_[s]===a&&this.filters_.splice(s,1);for(s=a._listener.length-1;s>=0;s--)a._listener[s].target===this&&(a.removeFromLayer&&a.removeFromLayer(this),(0,S.unByKey)(a._listener[s].listener),a._listener.splice(s,1));c.call(this)}g.default.prototype.addFilter=function(a){L.warn("[OL-EXT] addFilter deprecated on map."),n.call(this,a)},g.default.prototype.removeFilter=function(a){o.call(this,a)},g.default.prototype.getFilters=function(){return this.filters_||[]},j.default.prototype.addFilter=function(a){n.call(this,a)},j.default.prototype.removeFilter=function(a){o.call(this,a)},j.default.prototype.getFilters=function(){return this.filters_||[]}}();var h=p,x=i(63870),l=function(e){if(e=e||{},h.call(this,e),e.feature)switch(e.feature.getGeometry().getType()){case"Polygon":case"MultiPolygon":this.feature_=e.feature;break;default:break}this.set("inner",e.inner),this.fillColor_=e.fill&&(0,x.asString)(e.fill.getColor())||"rgba(0,0,0,0.2)"};y(l,h),l.prototype.drawFeaturePath_=function(e,f){var c=e.context,n=c.canvas,o=e.frameState.pixelRatio,a;if(e.frameState.coordinateToPixelTransform){var s=e.frameState.coordinateToPixelTransform;if(e.inversePixelTransform){var t=e.inversePixelTransform;a=function(d){return d=[d[0]*s[0]+d[1]*s[1]+s[4],d[0]*s[2]+d[1]*s[3]+s[5]],[d[0]*t[0]-d[1]*t[1]+t[4],-d[0]*t[2]+d[1]*t[3]+t[5]]}}else a=function(d){return[(d[0]*s[0]+d[1]*s[1]+s[4])*o,(d[0]*s[2]+d[1]*s[3]+s[5])*o]}}else s=e.frameState.coordinateToPixelMatrix,a=function(d){return[(d[0]*s[0]+d[1]*s[1]+s[12])*o,(d[0]*s[4]+d[1]*s[5]+s[13])*o]};var r=this.feature_.getGeometry().getCoordinates();this.feature_.getGeometry().getType()==="Polygon"&&(r=[r]);function v(d){for(var I=0;I<r.length;I++)for(var A=r[I],N=0;N<A.length;N++){var D=a([A[N][0][0]+d,A[N][0][1]]);c.moveTo(D[0],D[1]);for(var B=1;B<A[N].length;B++)D=a([A[N][B][0]+d,A[N][B][1]]),c.lineTo(D[0],D[1])}}if(c.beginPath(),f&&(c.moveTo(0,0),c.lineTo(n.width,0),c.lineTo(n.width,n.height),c.lineTo(0,n.height),c.lineTo(0,0)),this.get("wrapX")){var k=e.frameState.viewState.projection.getExtent(),F=k[2]-k[0],E=e.frameState.extent,M=this.feature_.getGeometry().getExtent(),C=M[2]-M[1],T=Math.floor((E[0]+C-k[0])/F),w=Math.floor((E[2]-C-k[2])/F)+1;T>w&&([T,w]=[w,T]);for(var G=T;G<=w;G++)v(G*F)}else v(0)},l.prototype.postcompose=function(e){if(this.feature_){var f=e.context;f.save(),this.drawFeaturePath_(e,!this.get("inner")),f.fillStyle=this.fillColor_,f.fill("evenodd"),f.restore()}};var u=l},94401:function(z,m,i){var P=i(49500),y=i(65557),S=i(19534);Object.defineProperty(m,"__esModule",{value:!![]}),m.default=void 0;var j=S(i(78756)),O=S(i(42579)),g=S(i(22777)),L=S(i(42762)),R=S(i(30044)),p=S(i(99085)),h=S(i(34009)),x=S(i(15550)),l=S(i(41788)),u=i(97149);function e(n){var o=f();return function(){var s=(0,h.default)(n),t;if(o){var r=(0,h.default)(this).constructor;t=y(s,arguments,r)}else t=s.apply(this,arguments);return(0,p.default)(this,t)}}function f(){if(typeof Reflect>"u"||!y)return![];if(y.sham)return![];if(typeof Proxy=="function")return!![];try{return Boolean.prototype.valueOf.call(y(Boolean,[],function(){})),!![]}catch{return![]}}var c=function(n){(0,R.default)(a,n);var o=e(a);function a(s,t){var r;return(0,g.default)(this,a),r=o.call(this),r.path="query",r.params={returnGeometry:!![],where:"1=1",outFields:"*",returnZ:![],returnM:![],t:new Date().getTime()},r.url=s+"/"+r.path,t&&((t.returnGeometry===!![]||t.returnGeometry===![])&&(r.params.returnGeometry=t.returnGeometry),t.where&&(r.params.where=t.where),t.outSR&&(r.params.outSR=(0,u.getEsriSpatialReference)(t.outSR)),(t.returnZ===!![]||t.returnZ===![])&&(r.params.returnZ=t.returnZ),(t.returnM===!![]||t.returnM===![])&&(r.params.returnM=t.returnM),t.envelope&&(r.params.geometry=t.envelope),t.authkey&&(r.params.authkey=t.authkey)),r}return(0,L.default)(a,[{key:"within",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelContains",this}},{key:"intersects",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelIntersects",this}},{key:"contains",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelWithin",this}},{key:"crosses",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelCrosses",this}},{key:"touches",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelTouches",this}},{key:"overlaps",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelOverlaps",this}},{key:"bboxIntersects",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this}},{key:"indexIntersects",value:function(t,r){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelIndexIntersects",this}},{key:"nearby",value:function(t,r,v){return this._setGeometryParams(t,r),this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=v,this}},{key:"where",value:function(t){return this.params.where=t,this}},{key:"between",value:function(t,r){return this.params.time=[t.valueOf(),r.valueOf()],this}},{key:"simplify",value:function(t,r){var v=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=v/t.getSize().y*r,this}},{key:"orderBy",value:function(t,r){return r=r||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[t,r].join(" "),this}},{key:"run",value:function(t,r){var v=this;return this._cleanParams(),new j.default(function(k,F){(0,O.default)(this,v),this.request(function(E,M){var C=this;if(M&&M.features&&M.features.length>0){var T=new x.default,w=[];M.features.forEach(function(G){(0,O.default)(this,C);var d=T.readFeature(G);w.push(d)}.bind(this)),M.features=w,M.results=w,M.type="arcgis"}t&&t.call(r,E,M),E?F(E):k(M)},r)}.bind(this))}},{key:"count",value:function(t,r){return this._cleanParams(),this.params.returnCountOnly=!![],this.request(function(v,k){t.call(r,v,k)},r)}},{key:"ids",value:function(t,r){return this._cleanParams(),this.params.returnIdsOnly=!![],this.request(function(v,k){t.call(r,v,k)},r)}},{key:"distinct",value:function(){return this.params.returnGeometry=![],this.params.returnDistinctValues=!![],this}},{key:"layer",value:function(t){return this.path=t+"/query",this}},{key:"_trapSQLerrors",value:function(t){t&&t.code==="400"&&P.warn.apply("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")}},{key:"_cleanParams",value:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly}},{key:"_setGeometryParams",value:function(t,r){var v=new x.default,k=v.writeGeometryObject(t);this.params.inSR=(0,u.getEsriSpatialReference)(r),this.params.geometry=k,this.params.geometryType=this.geojsonTypeToArcGIS(t.getType())}}]),a}(l.default);m.default=c},41788:function(z,m,i){var P=i(19534);Object.defineProperty(m,"__esModule",{value:!![]}),m.default=void 0;var y=P(i(66273)),S=P(i(42579)),j=P(i(22777)),O=P(i(42762)),g=function(){function L(){(0,j.default)(this,L)}return(0,O.default)(L,[{key:"geojsonTypeToArcGIS",value:function(p){var h;switch(p){case"Point":h="esriGeometryPoint";break;case"MultiPoint":h="esriGeometryMultipoint";break;case"LineString":h="esriGeometryPolyline";break;case"MultiLineString":h="esriGeometryPolyline";break;case"Polygon":h="esriGeometryPolygon";break;case"MultiPolygon":h="esriGeometryPolygon";break}return h}},{key:"isArcgisOnline",value:function(p){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(p)}},{key:"serialize",value:function(p){var h="";p.f=p.f||"json";for(var x in p)if(Object.prototype.hasOwnProperty.call(p,x)){var l=p[x],u=Object.prototype.toString.call(l),e;h.length&&(h+="&"),u==="[object Array]"?e=Object.prototype.toString.call(l[0])==="[object Object]"?(0,y.default)(l):l.join(","):u==="[object Object]"?e=(0,y.default)(l):u==="[object Date]"?e=l.valueOf():e=l,h+=encodeURIComponent(x)+"="+encodeURIComponent(e)}return h}},{key:"format",value:function(p){return this.params.returnUnformattedValues=!p,this}},{key:"createRequest",value:function(p,h){var x=new window.XMLHttpRequest;return x.onerror=function(){x.onreadystatechange=Util.falseFn,p.call(h,{error:{code:500,message:"XMLHttpRequest error"}},null)},x.onreadystatechange=function(){var l=this,u,e;if(x.readyState===4){try{u=JSON.parse(x.responseText)}catch{u=null,e={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!e&&u.error&&(e=u.error,u=null),x.onerror=function(){(0,S.default)(this,l),this.onerror()}.bind(this),p.call(h,e,u)}},x.ontimeout=function(){this.onerror()},x}},{key:"jsonp",value:function(p,h,x,l){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var u="c"+callbacks;h.callback="window._EsriLeafletCallbacks."+u,window._EsriLeafletCallbacks[u]=function(f){if(window._EsriLeafletCallbacks[u]!==!![]){var c,n=Object.prototype.toString.call(f);!(n==="[object Object]"||n==="[object Array]")&&(c={error:{code:500,message:"Expected array or object as JSONP response"}},f=null),!c&&f.error&&(c=f,f=null),x.call(l,c,f),window._EsriLeafletCallbacks[u]=!![]}};var e=DomUtil.create("script",null,document.body);return e.type="text/javascript",e.src=p+"?"+serialize(h),e.id=u,e.onerror=function(f){if(f&&window._EsriLeafletCallbacks[u]!==!![]){var c={error:{code:500,message:"An unknown error occurred"}};x.call(l,c),window._EsriLeafletCallbacks[u]=!![]}},DomUtil.addClass(e,"esri-leaflet-jsonp"),callbacks++,{id:u,url:e.src,abort:function(){window._EsriLeafletCallbacks._callback[u]({code:0,message:"Request aborted."})}}}},{key:"request",value:function(p,h){var x=this.serialize(this.params),l=this.createRequest(p,h),u=(this.url+"?"+x).length;if(u<=2e3?l.open("GET",this.url+"?"+x):u>2e3&&(l.open("POST",this.url),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),typeof h<"u"&&h!==null&&typeof h.options<"u"&&(l.timeout=h.options.timeout),u<=2e3)l.send(null);else if(u>2e3)l.send(x);else return u<=2e3?this.jsonp(this.url,this.params,p,h):void 0;return l}}]),L}();m.default=g},14660:function(z,m,i){var P=i(19534);Object.defineProperty(m,"__esModule",{value:!![]}),m.default=void 0;var y=P(i(42762)),S=P(i(22777)),j=(0,y.default)(function g(){(0,S.default)(this,g),this.where=void 0,this.srsName=void 0,this.outputFormat="application/json",this.maxFeatures=void 0,this.startIndex=void 0,this.resultType=void 0}),O=j;m.default=O},36001:function(z,m,i){var P=i(19534);Object.defineProperty(m,"__esModule",{value:!![]}),m.default=void 0;var y=P(i(78756)),S=P(i(42579)),j=P(i(22777)),O=P(i(42762)),g=P(i(10299)),L=P(i(69787)),R=function(){function h(x){(0,j.default)(this,h),this.layerOption=x}return(0,O.default)(h,[{key:"execute",value:function(l){var u=this,e=this.layerOption.url.split("/"),f="",c=e.indexOf("geoserver"),n=e.indexOf("wmts")>-1,o=this.layerOption.url.replace("/wms","").replace("/WMS","");if(c>-1){n?this.layerOption.visibleLayers[0]&&this.layerOption.visibleLayers[0].split(":").length===2&&(f=this.layerOption.visibleLayers[0].split(":")[0]):f=e[c+1],o="";for(var a=0;a<=c;a++)o+=e[a]+"/"}var s=this.layerOption.selectLayer;l.tableName&&(s=l.tableName),this.layerOption.selectLayer&&(f&&this.layerOption.selectLayer.indexOf(":")===-1?s=f+":"+this.layerOption.selectLayer:this.layerOption.selectLayer.indexOf(":")>-1&&(s=this.layerOption.selectLayer));var t={service:"wfs",version:"1.1.0",request:"GetFeature",typeName:s,outputFormat:l.outputFormat,propertyName:l.propertyName,t:new Date().getTime()};return l.where&&(t.CQL_FILTER=l.where),l.srsName&&(t.srsName=l.srsName),l.startIndex&&(t.startIndex=l.startIndex),l.maxFeatures&&(t.maxFeatures=l.maxFeatures),l.resultType&&(t.resultType=l.resultType),new y.default(function(r,v){var k=this;(0,S.default)(this,u);var F=L.default.stringify(t),E;n?E=o+"/wfs?"+F:(f=f||"",E=o+"/"+f+"/wfs?"+F);var M={timeout:300*1e3};l.token&&(M.headers={token:l.token}),g.default.get(E,M).then(function(C){(0,S.default)(this,k),r(C)}.bind(this)).catch(function(C){(0,S.default)(this,k),v(C)}.bind(this))}.bind(this))}}]),h}(),p=R;m.default=p},77384:function(z,m,i){var P=i(49500),y=i(19534);Object.defineProperty(m,"__esModule",{value:!![]}),m.default=l;var S=y(i(42579)),j=y(i(78756)),O=y(i(94401)),g=i(5775),L=i(46769),R=y(i(59037)),p=y(i(14660)),h=y(i(36001)),x=y(i(38312));function l(u,e){var f=this;return new j.default(function(c,n){var o=this;if((0,S.default)(this,f),!!e){var a=e.layer,s=e&&e.where?e.where:"1=1",t=u||"EPSG:4490",r=null,v="";if(a.type==="dynamic"){v=a.url+"/"+a.visibleLayers[0];var k=new O.default(v,{outSR:t,where:s});k.run(function(C,T){var w=this;T=T.headers?T.data:T,T.features.forEach(function(G){(0,S.default)(this,w);var d=G.getGeometry(),I=d.getCoordinates(),A=null;d instanceof g.MultiPolygon?A=(0,L.multiPolygon)(I):A=(0,L.polygon)(I),r==null?r=A:r=(0,R.default)(r,A)}.bind(this)),c(r.geometry)},this)}else if(a.type==="wfs"){var F=new p.default;F.where=s,F.srsName=t;var E=new h.default(a);E.execute(F).then(function(C){var T=this;C=C.headers?C.data:C,C&&C.features&&C.features.length>0?(C.features.forEach(function(w){(0,S.default)(this,T);var G=w.geometry.type,d=null;G==="MultiPolygon"?d=new g.MultiPolygon(w.geometry.coordinates):G==="Polygon"?d=new g.Polygon(w.geometry.coordinates):G==="LineString"?d=new g.LineString(w.geometry.coordinates):G==="MultiLineString"?d=new g.MultiLineString(w.geometry.coordinates):G==="Point"?d=new g.Point(w.geometry.coordinates):G==="MultiPoint"&&(d=new g.MultiPoint(w.geometry.coordinates));var I=d,A=I.getCoordinates(),N=null;I instanceof g.MultiPolygon?N=(0,L.multiPolygon)(A):N=(0,L.polygon)(A),r==null?r=N:r=(0,R.default)(r,N)}.bind(this)),c(r.geometry)):(P.warn("\u672A\u67E5\u8BE2\u5230\u63A9\u819C\u6570\u636E"),n(new Error("\u672A\u67E5\u8BE2\u5230\u63A9\u819C\u6570\u636E")))})}else{var M=new x.default(e.layer.url,e.layer.visibleLayers,e.token);M.getGeometry(e.xzqdm).then(function(C){if((0,S.default)(this,o),C){var T=C.geometry.type,w=null;T==="MultiPolygon"?w=new g.MultiPolygon(C.geometry.coordinates):T==="Polygon"?w=new g.Polygon(C.geometry.coordinates):T==="LineString"?w=new g.LineString(C.geometry.coordinates):T==="MultiLineString"?w=new g.MultiLineString(C.geometry.coordinates):T==="Point"?w=new g.Point(C.geometry.coordinates):T==="MultiPoint"&&(w=new g.MultiPoint(C.geometry.coordinates));var G=w,d=G.getCoordinates(),I=null;G instanceof g.MultiPolygon?I=(0,L.multiPolygon)(d):I=(0,L.polygon)(d),r==null?r=I:r=(0,R.default)(r,I),c(r.geometry)}else P.warn("\u672A\u67E5\u8BE2\u5230\u63A9\u819C\u6570\u636E"),n(new Error("\u672A\u67E5\u8BE2\u5230\u63A9\u819C\u6570\u636E"))}.bind(this))}}}.bind(this))}},38312:function(z,m,i){var P=i(49500),y=i(19534);Object.defineProperty(m,"__esModule",{value:!![]}),m.default=void 0;var S=y(i(78756)),j=y(i(66273)),O=y(i(42579)),g=y(i(22777)),L=y(i(42762)),R=i(59602),p=y(i(49162)),h=function(){function l(u,e,f){(0,g.default)(this,l),this.url=u,this.layerName=e,this.token=f,this.geoJSON=new p.default}return(0,L.default)(l,[{key:"judgeLevel",value:function(e){if(typeof e!="string"&&(e=e.toString()),e.length===6&&e.substring(2,6)==="0000"||e.length===2)return 1;if(e.length===6&&e.substring(4,6)==="00"&&(e.substring(2)!=="0"||e.substring(3)!=="0"))return 2;if(e.length===4)return 2;if(e.length===6&&e.substring(4,6)!=="00")return 3;if(e.length===9||e.length===12&&e.substring(9,12)==="000")return 4;if(e.length>=12)return 5;if(e.length===0)return"";P.error("\u521D\u59CB\u4EE3\u7801\u4E0D\u5408\u6CD5\uFF01")}},{key:"getGeometry",value:function(e){var f=this;return typeof e!="string"&&(e=e.toString()),new S.default(function(c,n){var o=this;(0,O.default)(this,f);var a=this.judgeLevel(e),s={conditionList:[{column:"xzqdm",condition:"=",isXzqdm:!![],value:e}],getColumns:["geom","xzqdm","xzqmc"],level:a};(0,R.postFromAdmin)(this.url+"/getGeoJsonByCondition/"+this.layerName,(0,j.default)(s),{headers:{"Content-Type":"application/json"},token:this.token}).then(function(t){(0,O.default)(this,o);var r=(0,R.parseResult)(t);if(r.success){var v=JSON.parse(r.data);v.geometry.crs?this.dataProjection=v.geometry.crs.properties.name:this.dataProjection="EPSG:4490",c(v)}else n("\u83B7\u53D6\u884C\u653F\u533A\u56FE\u5F62\u6570\u636E\u5931\u8D25")}.bind(this)).catch(function(t){(0,O.default)(this,o),t&&n("\u83B7\u53D6\u884C\u653F\u533A\u56FE\u5F62\u6570\u636E\u5F02\u5E38")}.bind(this))}.bind(this))}},{key:"getProperty",value:function(e){var f=this,c=![];return!e&&(c=!![]),new S.default(function(n,o){var a=this;(0,O.default)(this,f);var s={conditionList:[{column:"xzqdm",condition:"=",isXzqdm:!![],value:e}],getColumns:["xzqdm","xzqmc"],level:this.judgeLevel(e),init:c};(0,R.postFromAdmin)(this.url+"/getProperties/"+this.layerName,(0,j.default)(s),{headers:{"Content-Type":"application/json"},token:this.token}).then(function(t){(0,O.default)(this,a);var r=(0,R.parseResult)(t);r.success?n(r.data):(n([]),this.noData=!![])}.bind(this)).catch(function(t){(0,O.default)(this,a),t&&o("\u8BF7\u6C42\u884C\u653F\u533A\u5C5E\u6027\u6570\u636E\u5931\u8D25")}.bind(this))}.bind(this))}},{key:"getSubXZQList",value:function(e){var f=this,c=![];return new S.default(function(n,o){var a=this;(0,O.default)(this,f),!e&&(e="",c=!![]),typeof e!="string"&&(e=e.toString());var s=this.judgeLevel(e)+1,t={conditionList:[{column:"xzqdm",condition:"=",isXzqdm:!![],value:e}],getColumns:["xzqdm","xzqmc"],level:s,init:c};(0,R.postFromAdmin)(this.url+"/getProperties/"+this.layerName,(0,j.default)(t),{headers:{"Content-Type":"application/json",token:this.token}}).then(function(r){(0,O.default)(this,a),r.data?n(r.data):o("\u5B50\u884C\u653F\u533A\u5217\u8868\u8BF7\u6C42\u51FA\u9519")}.bind(this))}.bind(this))}}]),l}(),x=h;m.default=x},59602:function(z,m,i){var P=i(19534);Object.defineProperty(m,"__esModule",{value:!0}),m.get=p,m.getFromAdmin=x,m.imgUrlConvert=c,m.parseError=e,m.parseGaResult=f,m.parseResult=u,m.post=h,m.postFromAdmin=l;var y=P(i(42579)),S=P(i(78756)),j=P(i(66273)),O=P(i(43939)),g=P(i(5146)),L=P(i(10299)),R="Bearer";function p(n,o){var a=this;return new S.default(function(s,t){var r=this;(0,y.default)(this,a),L.default.get(n,{params:o}).then(function(v){(0,y.default)(this,r),s(v.data)}.bind(this)).catch(function(v){(0,y.default)(this,r),t(v.data)}.bind(this))}.bind(this))}function h(n,o){var a=this;return new S.default(function(s,t){var r=this;(0,y.default)(this,a),L.default.post(n,(0,j.default)(o)).then(function(v){(0,y.default)(this,r),s(v.data)}.bind(this)).catch(function(v){(0,y.default)(this,r),t(v.data)}.bind(this))}.bind(this))}function x(n,o){return o.headers||(o.headers={"Content-Type":"application/json"}),o.token&&(o.headers["X-Gisq-Token"]=R+" "+o.token),o.shinegaDatabaseId&&(o.headers.dataid=o.shinegaDatabaseId),o.applicationId&&(o.headers.ApplicationId=o.applicationId),L.default.get(n,o)}function l(n,o,a){return a.headers||(a.headers={"Content-Type":"application/json"}),a.token&&(a.headers["X-Gisq-Token"]=R+" "+a.token),a.shinegaDatabaseId&&(a.headers.dataid=a.shinegaDatabaseId),a.applicationId&&(a.headers.ApplicationId=a.applicationId),L.default.post(n,o,a)}function u(n){if(n.data.code==="0000"||n.data.code===200){var o=n.data;return{success:!0,data:o.result?o.result:o.data}}else{var a=n.data.description?n.data.description:n.data.message;return{success:!1,message:a}}}function e(n){var o=n.response,a=o.data.description?o.data.description:o.data.message,s;return o.status===401?s=a||"\u7528\u6237\u6821\u9A8C\u5931\u8D25":s=a||"\u672A\u77E5\u9519\u8BEF, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",s}function f(n){var o=this;n=n.headers?n.data:n;var a=!0;if(n.code?a=n.code==="0000":n.message&&(a=n.message==="success"),a){var s=n.result?n.result:n.data;if(s.error)return{success:!1,message:s.error};if(s.IsSucess===!1){var t="";return s.EditErrors.forEach(function(v){(0,y.default)(this,o),t+=v.ErrorMsg+"<br/>"}.bind(this)),{success:!1,message:t}}else return{success:!0,data:s}}else{var r=n.description?n.description:n.message;return{success:!1,message:r}}}function c(n,o,a){var s,t=n,r="[adminserverstatic]";if(((s=t)===null||s===void 0?void 0:s.indexOf(r))>-1)if(t=t.replace(r,""),a){var v,k,F,E="app_"+(0,O.default)(v=a.toLowerCase()).call(v,"-","");t=(0,g.default)(k=(0,g.default)(F="".concat(o,"/files/")).call(F,E,"/")).call(k,t)}else{var M;t=(0,g.default)(M="".concat(o,"/files/shinegisclient/")).call(M,t)}return t}}}]);
