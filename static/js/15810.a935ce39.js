"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[15810],{980790:function(L,l,u){var G=u(29870),O=u(787879),w=u(183393),E=u(419534);Object.defineProperty(l,"__esModule",{value:!![]}),l.toGeoJSON=l.style2Entity=l.getPositions=l.getCoordinates=void 0;var v=E(u(342579)),r=b(u(187647)),h=u(936161),P=u(580823),C=void 0;function m(e){if(typeof O!="function")return null;var i=new O,o=new O;return(m=function(t){return t?o:i})(e)}function b(e,i){if(!i&&e&&e.__esModule)return e;if(e===null||G(e)!=="object"&&typeof e!="function")return{default:e};var o=m(i);if(o&&o.has(e))return o.get(e);var a={},t=Object.defineProperty&&w;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=t?w(e,s):null;c&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=e[s]}return a.default=e,o&&o.set(e,a),a}var N=function(i,o,a,t){(0,v.default)(this,C),i=i||{},o==null&&(o={scale:1,horizontalOrigin:r.HorizontalOrigin.CENTER,verticalOrigin:r.VerticalOrigin.BOTTOM});var s=function(f){var p=this,F,A,g=i[f];switch(f){default:o[f]=g;break;case"image":if(i.scale=i.scale||1,o.scale=i.scale,typeof g=="string")if(g.match(/^(data|http)/))o[f]=g;else if(g.match(/Assets/))o[f]=g;else try{var S=document.createElement("canvas"),M=S.getContext("2d"),D=new Image;D.src=u(308890)("./".concat(g)),o.scale=1,D.onload=function(){(0,v.default)(this,p);var V,B,H=i.scale*(a?.resolutionScale||window.devicePixelRatio);S.width=V=D.width*H,S.height=B=D.height*H,D.width>0?M.drawImage(D,0,0,V,B):M.drawImage(D,0,0),t.billboard[f]=S}.bind(this)}catch{o[f]=u(933862)}else o[f]=g;break;case"scale":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"opacity":o.color=new r.Color.fromCssColorString("#FFFFFF").withAlpha(r.defaultValue(g,1));break;case"rotation":o.rotation=r.Math.toRadians(g);break;case"scaleByDistance":g?o.scaleByDistance=new r.NearFarScalar(Number(r.defaultValue(i.scaleByDistance_near,1e3)),Number(r.defaultValue(i.scaleByDistance_nearValue,1)),Number(r.defaultValue(i.scaleByDistance_far,1e6)),Number(r.defaultValue(i.scaleByDistance_farValue,.1))):o.scaleByDistance=null;break;case"distanceDisplayCondition":g?o.distanceDisplayCondition=new r.DistanceDisplayCondition(Number(r.defaultValue(i.distanceDisplayCondition_near,0)),Number(r.defaultValue(i.distanceDisplayCondition_far,1e5))):o.distanceDisplayCondition=null;break;case"clampToGround":g?o.heightReference=r.HeightReference.CLAMP_TO_GROUND:o.heightReference=r.HeightReference.NONE;break;case"heightReference":switch(g){case"NONE":o.heightReference=r.HeightReference.NONE;break;case"CLAMP_TO_GROUND":o.heightReference=r.HeightReference.CLAMP_TO_GROUND;break;case"RELATIVE_TO_GROUND":o.heightReference=r.HeightReference.RELATIVE_TO_GROUND;break;default:o.heightReference=g;break}break;case"horizontalOrigin":switch(g){case"CENTER":o.horizontalOrigin=r.HorizontalOrigin.CENTER;break;case"LEFT":o.horizontalOrigin=r.HorizontalOrigin.LEFT;break;case"RIGHT":o.horizontalOrigin=r.HorizontalOrigin.RIGHT;break;default:o.horizontalOrigin=g;break}break;case"verticalOrigin":switch(g){case"CENTER":o.verticalOrigin=r.VerticalOrigin.CENTER;break;case"TOP":o.verticalOrigin=r.VerticalOrigin.TOP;break;case"BOTTOM":o.verticalOrigin=r.VerticalOrigin.BOTTOM;break;default:o.verticalOrigin=g;break}break;case"visibleDepth":i.visibleDepth=(F=i.visibleDepth)!==null&&F!==void 0?F:50,o.disableDepthTestDistance=i.visibleDepth/100*((A=i.distanceDisplayCondition_far)!==null&&A!==void 0?A:2e3);break;case"bounce":g&&t?!t.isbounce&&T(a,t):!g&&t&&t.isbounce==!![]&&R(a,t);break}};for(var c in i)s(c);return o}.bind(void 0);l.style2Entity=N;var T=function(i,o){(0,v.default)(this,C);var a=(0,h.cartesian2lonlat)(o.position.getValue())[2],t={maxHeight:a+50,minHeight:a,heightDelta:.5},s=t.minHeight,c=t.maxHeight,y=t.heightDelta,f=(0,h.cartesian2lonlat)(o.position.getValue())[0],p=(0,h.cartesian2lonlat)(o.position.getValue())[1];i.scene.preUpdate.addEventListener(function(){a+=y,o.position=r.Cartesian3.fromDegrees(f,p,a);var F=o.position.getValue(),A=r.Cartographic.fromCartesian(F,r.Ellipsoid.WGS84);(A.height>=c||A.height<=s)&&(y*=-1)}),o.isbounce=!![]}.bind(void 0),R=function(i,o){(0,v.default)(this,C),i.scene.preUpdate.addEventListener(function(){o.position=o._positions_draw}),o.isbounce=![]}.bind(void 0),k=function(i){return(0,v.default)(this,C),[i.position.getValue((0,P.currentTime)())]}.bind(void 0);l.getPositions=k;var d=function(i){(0,v.default)(this,C);var o=k(i);return(0,h.cartesians2lonlats)(o)}.bind(void 0);l.getCoordinates=d;var n=function(i){(0,v.default)(this,C);var o=d(i);return{type:"Feature",properties:i.attribute||{},geometry:{type:"Point",coordinates:o[0]}}}.bind(void 0);l.toGeoJSON=n},721617:function(L,l,u){var G=u(29870),O=u(787879),w=u(183393),E=u(419534);Object.defineProperty(l,"__esModule",{value:!![]}),l.toGeoJSON=l.style2Entity=l.getPositions=l.getCoordinates=void 0;var v=E(u(342579)),r=b(u(187647)),h=u(936161),P=u(580823),C=void 0;function m(d){if(typeof O!="function")return null;var n=new O,e=new O;return(m=function(o){return o?e:n})(d)}function b(d,n){if(!n&&d&&d.__esModule)return d;if(d===null||G(d)!=="object"&&typeof d!="function")return{default:d};var e=m(n);if(e&&e.has(d))return e.get(d);var i={},o=Object.defineProperty&&w;for(var a in d)if(a!=="default"&&Object.prototype.hasOwnProperty.call(d,a)){var t=o?w(d,a):null;t&&(t.get||t.set)?Object.defineProperty(i,a,t):i[a]=d[a]}return i.default=d,e&&e.set(d,i),i}var N=function(n,e){var i,o;(0,v.default)(this,C),n=n||{},e==null&&(e={scale:1,horizontalOrigin:r.HorizontalOrigin.CENTER,verticalOrigin:r.VerticalOrigin.BOTTOM});for(var a in n){var t=n[a];switch(a){default:e[a]=t;break;case"font_style":case"font_weight":case"font_size":case"font_family":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":case"background_opacity":case"pixelOffsetY":break;case"text":e.text=t.replace(new RegExp("<br />","gm"),`
`);break;case"fillcolor":case"color":n[a]=t||"#ff00ff",n.opacity=n.opacity||1,e.fillColor=new r.Color.fromCssColorString(n[a]).withAlpha(Number(n.opacity));break;case"outline":e.style=t?r.LabelStyle.FILL_AND_OUTLINE:r.LabelStyle.FILL;break;case"outlineColor":n[a]=t||"#000000",e.outlineColor=new r.Color.fromCssColorString(n[a]).withAlpha(Number(n.opacity||1));break;case"outlineWidth":n[a]=t||1,e.outlineWidth=n[a];break;case"background":e.showBackground=t;break;case"background_color":e.backgroundColor=new r.Color.fromCssColorString(t||"#000000").withAlpha(Number(n.background_opacity||n.opacity||.5));break;case"pixelOffset":e.pixelOffset=new r.Cartesian2(n.pixelOffset[0],n.pixelOffset[1]);break;case"hasPixelOffset":t||(e.pixelOffset=new r.Cartesian2(0,0));break;case"pixelOffsetX":e.pixelOffset=new r.Cartesian2(t,n.pixelOffsetY);break;case"scaleByDistance":t?e.scaleByDistance=new r.NearFarScalar(Number(n.scaleByDistance_near||1e3),Number(n.scaleByDistance_nearValue||1),Number(n.scaleByDistance_far||1e6),Number(n.scaleByDistance_farValue||.1)):e.scaleByDistance=null;break;case"distanceDisplayCondition":t?e.distanceDisplayCondition=new r.DistanceDisplayCondition(Number(n.distanceDisplayCondition_near||0),Number(n.distanceDisplayCondition_far||1e5)):e.distanceDisplayCondition=null;break;case"clampToGround":t?e.heightReference=r.HeightReference.CLAMP_TO_GROUND:e.heightReference=r.HeightReference.NONE;break;case"heightReference":switch(t){case"NONE":e.heightReference=r.HeightReference.NONE;break;case"CLAMP_TO_GROUND":e.heightReference=r.HeightReference.CLAMP_TO_GROUND;break;case"RELATIVE_TO_GROUND":e.heightReference=r.HeightReference.RELATIVE_TO_GROUND;break;default:e.heightReference=t;break}break;case"visibleDepth":n.visibleDepth=(i=n.visibleDepth)!==null&&i!==void 0?i:50,e.disableDepthTestDistance=n.visibleDepth/100*((o=n.distanceDisplayCondition_far)!==null&&o!==void 0?o:2e3);break}}return n.font_style=n.italic?"italic":"normal",n.font_weight=n.bold?"bold":"normal",n.font_size=n.font_size||"25",n.font_family=n.font_family||"\u6977\u4F53",e.font=n.font_style+" small-caps "+n.font_weight+" "+n.font_size+"px "+n.font_family,e}.bind(void 0);l.style2Entity=N;var T=function(n){var e,i;return(0,v.default)(this,C),[((e=(i=n.position).getValue)===null||e===void 0?void 0:e.call(i,(0,P.currentTime)()))||n.position]}.bind(void 0);l.getPositions=T;var R=function(n){(0,v.default)(this,C);var e=T(n);return(0,h.cartesians2lonlats)(e)}.bind(void 0);l.getCoordinates=R;var k=function(n){(0,v.default)(this,C);var e=R(n);return{type:"Feature",properties:n.attribute||{},geometry:{type:"Point",coordinates:e[0]}}}.bind(void 0);l.toGeoJSON=k},131490:function(L,l,u){var G=u(29870),O=u(787879),w=u(183393),E=u(419534);Object.defineProperty(l,"__esModule",{value:!![]}),l.toGeoJSON=l.style2Entity=l.getPositions=l.getCoordinates=void 0;var v=E(u(518853)),r=E(u(342579)),h=N(u(187647)),P=N(u(936161)),C=N(u(580823)),m=void 0;function b(n){if(typeof O!="function")return null;var e=new O,i=new O;return(b=function(a){return a?i:e})(n)}function N(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||G(n)!=="object"&&typeof n!="function")return{default:n};var i=b(e);if(i&&i.has(n))return i.get(n);var o={},a=Object.defineProperty&&w;for(var t in n)if(t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)){var s=a?w(n,t):null;s&&(s.get||s.set)?Object.defineProperty(o,t,s):o[t]=n[t]}return o.default=n,i&&i.set(n,o),o}var T=function(e,i){(0,r.default)(this,m),e=e||{},i==null&&(i={});for(var o in e){var a=e[o];switch(o){default:i[o]=a;break;case"silhouette":case"silhouetteColor":case"silhouetteAlpha":case"silhouetteSize":case"fill":case"color":case"opacity":break;case"modelUrl":i.uri=a;break;case"clampToGround":a?i.heightReference=h.HeightReference.CLAMP_TO_GROUND:i.heightReference=h.HeightReference.NONE;break;case"heightReference":switch(a){case"NONE":i.heightReference=h.HeightReference.NONE;break;case"CLAMP_TO_GROUND":i.heightReference=h.HeightReference.CLAMP_TO_GROUND;break;case"RELATIVE_TO_GROUND":i.heightReference=h.HeightReference.RELATIVE_TO_GROUND;break;default:i.heightReference=a;break}break;case"distanceDisplayCondition":a?i.distanceDisplayCondition=new h.DistanceDisplayCondition(Number(e.distanceDisplayCondition_near||0),Number(e.distanceDisplayCondition_far||1e5)):i.distanceDisplayCondition=null;break}}e.silhouette?(i.silhouetteColor=new h.Color.fromCssColorString(e.silhouetteColor||"#FFFFFF").withAlpha(Number(e.silhouetteAlpha||1)),i.silhouetteSize=Number(e.silhouetteSize||1)):i.silhouetteSize=0;var t=Object.hasOwnProperty.call(e,"opacity")?Number(e.opacity):1;return(0,v.default)(e)?i.color=new h.Color.fromCssColorString(e.color||"#FFFFFF").withAlpha(t):i.color=new h.Color.fromCssColorString("#FFFFFF").withAlpha(t),i}.bind(void 0);l.style2Entity=T;var R=function(e){(0,r.default)(this,m);var i=e.position;return i&&i.getValue&&(i=i.getValue(C.currentTime())),[i]}.bind(void 0);l.getPositions=R;var k=function(e){(0,r.default)(this,m);var i=R(e);return P.cartesians2lonlats(i)}.bind(void 0);l.getCoordinates=k;var d=function(e){(0,r.default)(this,m);var i=k(e);return{type:"Feature",properties:e.attribute||{},geometry:{type:"Point",coordinates:i[0]}}}.bind(void 0);l.toGeoJSON=d},669471:function(L,l,u){var G=u(29870),O=u(787879),w=u(183393),E=u(419534);Object.defineProperty(l,"__esModule",{value:!![]}),l.line2curve=l.getPositions=l.getCoordinates=void 0,l.setFillMaterial_line=d,l.toGeoJSON=l.style2Entity=void 0;var v=E(u(828866)),r=E(u(342579)),h=R(u(187647)),P=R(u(125794)),C=R(u(580823)),m=R(u(936161)),b=u(984100),N=void 0;function T(a){if(typeof O!="function")return null;var t=new O,s=new O;return(T=function(y){return y?s:t})(a)}function R(a,t){if(!t&&a&&a.__esModule)return a;if(a===null||G(a)!=="object"&&typeof a!="function")return{default:a};var s=T(t);if(s&&s.has(a))return s.get(a);var c={},y=Object.defineProperty&&w;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var p=y?w(a,f):null;p&&(p.get||p.set)?Object.defineProperty(c,f,p):c[f]=a[f]}return c.default=a,s&&s.set(a,c),c}var k=function(t,s){(0,r.default)(this,N),t=t||{},s==null&&(s={}),t.clampToGround&&(s.arcType=h.ArcType.GEODESIC);for(var c in t){var y=t[c];switch(c){default:s[c]=y;break;case"lineType":case"color":case"opacity":case"outline":case"outlineWidth":case"outlineColor":case"outlineOpacity":case"flowDuration":case"flowImage":case"dashLength":case"glowPower":case"grid_lineCount":case"grid_lineThickness":case"grid_cellAlpha":case"checkerboard_repeat":case"checkerboard_oddcolor":case"stripe_oddcolor":case"stripe_repeat":case"animationDuration":case"animationImage":case"animationRepeatX":case"animationRepeatY":case"animationAxisY":case"animationGradient":case"animationCount":case"randomColor":break}}return d(s,t),s}.bind(void 0);l.style2Entity=k;function d(a,t){var s,c,y,f;if(t.material)return a.material=t.material,a;if(t.color||t.lineType){var p=new h.Color.fromCssColorString(t.color||"#FFFF00").withAlpha(Number(h.defaultValue(t.opacity,1)));switch(t.lineType){case"solid":a.material=p;break;case"outline":a.material=new h.PolylineOutlineMaterialProperty({color:p,outlineWidth:Number(t.outlineWidth||1),outlineColor:new h.Color.fromCssColorString(t.outlineColor||"#FFFF00").withAlpha(Number((s=(c=t.outlineOpacity)!==null&&c!==void 0?c:t.opacity)!==null&&s!==void 0?s:1))});break;case"dash":a.material=new h.PolylineDashMaterialProperty({dashLength:t.dashLength||t.outlineWidth||16,color:p,gapColor:new h.Color.fromCssColorString(t.outlineColor||"#FFFF00").withAlpha(Number((y=(f=t.outlineOpacity)!==null&&f!==void 0?f:t.opacity)!==null&&y!==void 0?y:1))});break;case"glow":t.glowPower=t.glowPower||1,a.material=new h.PolylineGlowMaterialProperty({glowPower:t.glowPower/10,color:p});break;case"arrow":a.material=new h.PolylineArrowMaterialProperty(p);break;default:(0,b.setFillMaterial)(a,t)}}}var n=function(t,s){var c;return(0,r.default)(this,N),!s&&((c=t._positions_draw)===null||c===void 0?void 0:c.length)>0?t._positions_draw:t.polyline.positions.getValue(C.currentTime())}.bind(void 0);l.getPositions=n;var e=function(t){(0,r.default)(this,N);var s=n(t),c=m.cartesians2lonlats(s);return c}.bind(void 0);l.getCoordinates=e;var i=function(t){(0,r.default)(this,N);var s=e(t);return{type:"Feature",properties:t.attribute||{},geometry:{type:"LineString",coordinates:s}}}.bind(void 0);l.toGeoJSON=i;var o=function(t,s){var c=this;if((0,r.default)(this,N),!P)return t;var y=(0,v.default)(t).call(t,function(D){return(0,r.default)(this,c),m.cartesian2lonlat(D)}.bind(this));s&&y.push(y[0]);var f=y[y.length-1][2],p=P.lineString(y),F=P.bezier(p),A=(0,v.default)(y).call(y,function(D){return(0,r.default)(this,c),[D[1],D[2]]}.bind(this)),g=P.lineString(A),S=P.bezier(g);F.geometry.coordinates.forEach(function(D,V){(0,r.default)(this,c),D[2]=S.geometry.coordinates[V][1]}.bind(this));var M=m.lonlats2cartesians(F.geometry.coordinates,f);return M}.bind(void 0);l.line2curve=o}}]);
