"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[35875],{610648:function(b,l,a){a.r(l),a.d(l,{default:function(){return y}});var s=function(){var e=this,i=e._self._c;return i("div",[i("el-collapse",[i("el-collapse-item",[i("template",{slot:"title"},[i("div",{staticClass:"my-title"},[e._v("\u56FE\u5C42\u9009\u62E9")])]),i("layer-directory-multiple",{attrs:{toc:e.currentWidget.mapLayer.toc,"show-setting":!0},on:{"on-toc-change":e.onLayerChange}})],2)],1),i("gis-card-setting",{attrs:{config:e.currentWidget.config.styleConfig,theme:e.currentWidget.config.themeStyle,"img-src":e.currentWidget.config.imgSrc},on:{change:e.cardSettingChange}}),i("el-collapse",[i("el-collapse-item",[i("template",{slot:"title"},[i("div",{staticClass:"my-title"},[e._v("\u529F\u80FD\u914D\u7F6E")])]),i("el-form",{staticStyle:{"padding-left":"20px"},nativeOn:{submit:function(n){n.preventDefault()}}},[i("el-form-item",{attrs:{label:"\u9690\u85CF\u5C42\u7EA7"}},[i("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u9690\u85CF\u5C42\u7EA7",size:"small","controls-position":"right",step:1,min:0,max:10},on:{change:e.getConfigData},model:{value:e.currentWidget.config.widgetConfig.hidePileNum,callback:function(n){e.$set(e.currentWidget.config.widgetConfig,"hidePileNum",n)},expression:"currentWidget.config.widgetConfig.hidePileNum"}})],1)],1)],2)],1),i("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,visible:e.dialogVisible,width:e.dialogWidth},on:{"update:visible":function(n){e.dialogVisible=n}}},[i("div",[i("image-manage",{ref:"imageMange",attrs:{"is-dialog":!0,type:["image"]}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("\u53D6 \u6D88")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getImage}},[e._v("\u786E \u5B9A")])],1)])],1)},r=[],o=a(723400),c=a(944337),g=a(555616),d=a(582333),m=a(330735),f={name:"GisMobileTocStyle",components:{layerDirectoryMultiple:c.Z,ImageManage:d.default,GisCardSetting:m.Z},mixins:[o.j],props:["currentWidget"],data(){return{dialogVisible:!1,dialogWidth:"89%",linkRadio:[{label:!0,text:"\u5F00\u542F"},{label:!1,text:"\u5173\u95ED"}],searchRadio:[{label:!0,text:"\u542F\u7528"},{label:!1,text:"\u5173\u95ED"}],radios:[{label:!0,text:"\u6536\u7F29"},{label:!1,text:"\u5C55\u5F00"}]}},computed:{levelNodes(){return this.currentWidget.config.node?this.currentWidget.config.node:{}}},methods:{onLayerChange(t){this.currentWidget.mapLayer.toc=t,this.getConfigData()},iconChange(t){this.currentWidget.config.imgIconConfig=t,this.getConfigData()},headFontChange(t){this.currentWidget.config.widgetConfig.headFont=t,this.getConfigData()},bodyFontChange(t){this.currentWidget.config.widgetConfig.bodyFont=t,this.getConfigData()},openSelectImage(t){this.currentSelectImage=t;let e=this;this.dialogVisible=!0,setTimeout(function(){e.$refs.imageMange.getImageList(null),t=="tree"?e.$refs.imageMange.setSelectImage(e.currentWidget.config.tree.image):t=="tree.backgroundImage"?e.$refs.imageMange.setSelectImage(e.currentWidget.config.tree.backgroundImage):e.$refs.imageMange.setSelectImage(e.currentWidget.config.node[t].backgroundImage)},500)},clearSelectImage(t){t=="tree"?this.currentWidget.config.tree.image="":t=="tree.backgroundImage"?this.currentWidget.config.tree.backgroundImage="":this.currentWidget.config.node[t].backgroundImage="",this.getConfigData()},getImage(){let t=this.$refs.imageMange.getSelectImage();if(t!=null){if(this.$$global.fileType.image.indexOf(t.imageFileType)==-1){g.Message.warning({message:"\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247",offset:60});return}if(this.$$global.fileType.image.indexOf(t.imageFileType)==-1){g.Message.warning({message:"\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247",offset:60});return}this.dialogVisible=!1,this.currentSelectImage=="tree"||this.currentSelectImage=="tree.backgroundImage"||(this.currentWidget.config.node[this.currentSelectImage].backgroundImage=t.fileUrlPath),this.getConfigData()}else g.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},setImage(){}}},u=f,h=a(768141),p=(0,h.Z)(u,s,r,!1,null,"0725f7a4",null),y=p.exports}}]);
