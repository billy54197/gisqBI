(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[7715],{7715:function(it,at,ht){var ot,st;(function(m){it.exports?(m.default=m,it.exports=m):(ot=[ht(35776)],st=function(U){return m(U),m.Highcharts=U,m}.apply(at,ot),st!==void 0&&(it.exports=st))})(function(m){function U(k,G,I,F){k.hasOwnProperty(G)||(k[G]=F.apply(null,I),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:k[G]}})))}m=m?m._modules:{},U(m,"Core/Math3D.js",[m["Core/Globals.js"],m["Core/Utilities.js"]],function(k,G){function I(C,p,f,y){var a=p.options.chart.options3d,b=_(y,f?p.inverted:!1),l={x:p.plotWidth/2,y:p.plotHeight/2,z:a.depth/2,vd:_(a.depth,1)*_(a.viewDistance,0)},S=p.scale3d||1;y=Z*a.beta*(b?-1:1),a=Z*a.alpha*(b?-1:1);var z=Math.cos(a),M=Math.cos(-y),E=Math.sin(a),L=Math.sin(-y);return f||(l.x+=p.plotLeft,l.y+=p.plotTop),C.map(function(O){var j=(b?O.y:O.x)-l.x,R=(b?O.x:O.y)-l.y;return O=(O.z||0)-l.z,j={x:M*j-L*O,y:-E*L*j+z*R-M*E*O,z:z*L*j+E*R+z*M*O},R=F(j,l,l.vd),R.x=R.x*S+l.x,R.y=R.y*S+l.y,R.z=j.z*S+l.z,{x:b?R.y:R.x,y:b?R.x:R.y,z:R.z}})}function F(C,p,f){return p=0<f&&f<Number.POSITIVE_INFINITY?f/(C.z+p.z+f):1,{x:C.x*p,y:C.y*p}}function d(C){var p=0,f;for(f=0;f<C.length;f++){var y=(f+1)%C.length;p+=C[f].x*C[y].y-C[y].x*C[f].y}return p/2}var Z=k.deg2rad,_=G.pick;return{perspective:I,perspective3D:F,pointCameraDistance:function(C,p){var f=p.options.chart.options3d,y=p.plotWidth/2;return p=p.plotHeight/2,f=_(f.depth,1)*_(f.viewDistance,0)+f.depth,Math.sqrt(Math.pow(y-_(C.plotX,C.x),2)+Math.pow(p-_(C.plotY,C.y),2)+Math.pow(f-_(C.plotZ,C.z),2))},shapeArea:d,shapeArea3D:function(C,p,f){return d(I(C,p,f))}}}),U(m,"Core/Renderer/SVG/SVGElement3D.js",[m["Core/Color/Color.js"],m["Core/Renderer/SVG/SVGElement.js"],m["Core/Utilities.js"]],function(k,G,I){var F=k.parse,d=I.defined;k=I.merge;var Z=I.objectEach,_=I.pick,C={base:{initArgs:function(p){var f=this,y=f.renderer,a=y[f.pathType+"Path"](p),b=a.zIndexes;f.parts.forEach(function(l){var S={class:"highcharts-3d-"+l,zIndex:b[l]||0};y.styledMode&&(l==="top"?S.filter="url(#highcharts-brighter)":l==="side"&&(S.filter="url(#highcharts-darker)")),f[l]=y.path(a[l]).attr(S).add(f)}),f.attr({"stroke-linejoin":"round",zIndex:b.group}),f.originalDestroy=f.destroy,f.destroy=f.destroyParts,f.forcedSides=a.forcedSides},singleSetterForParts:function(p,f,y,a,b,l){var S={};a=[null,null,a||"attr",b,l];var z=y&&y.zIndexes;return y?(z&&z.group&&this.attr({zIndex:z.group}),Z(y,function(M,E){S[E]={},S[E][p]=M,z&&(S[E].zIndex=y.zIndexes[E]||0)}),a[1]=S):(S[p]=f,a[0]=S),this.processParts.apply(this,a)},processParts:function(p,f,y,a,b){var l=this;return l.parts.forEach(function(S){f&&(p=_(f[S],!1)),p!==!1&&l[S][y](p,a,b)}),l},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}}};return C.cuboid=k(C.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(p,f,y,a){if(typeof p=="string"&&typeof f<"u"){var b=p;p={},p[b]=f}return p.shapeArgs||d(p.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](p.shapeArgs||p)):G.prototype.attr.call(this,p,void 0,y,a)},animate:function(p,f,y){if(d(p.x)&&d(p.y)){p=this.renderer[this.pathType+"Path"](p);var a=p.forcedSides;this.singleSetterForParts("d",null,p,"animate",f,y),this.attr({zIndex:p.zIndexes.group}),a!==this.forcedSides&&(this.forcedSides=a,this.renderer.styledMode||C.cuboid.fillSetter.call(this,this.fill))}else G.prototype.animate.call(this,p,f,y);return this},fillSetter:function(p){return this.forcedSides=this.forcedSides||[],this.singleSetterForParts("fill",null,{front:p,top:F(p).brighten(0<=this.forcedSides.indexOf("top")?0:.1).get(),side:F(p).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()}),this.color=this.fill=p,this}}),C}),U(m,"Core/Renderer/SVG/SVGRenderer3D.js",[m["Core/Animation/AnimationUtilities.js"],m["Core/Color/Color.js"],m["Core/Globals.js"],m["Core/Math3D.js"],m["Core/Renderer/SVG/SVGElement.js"],m["Core/Renderer/SVG/SVGElement3D.js"],m["Core/Renderer/SVG/SVGRenderer.js"],m["Core/Utilities.js"]],function(k,G,I,F,d,Z,_,C){var p=this&&this.__extends||function(){var w=function(n,h){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var s in e)e.hasOwnProperty(s)&&(c[s]=e[s])},w(n,h)};return function(n,h){function c(){this.constructor=n}w(n,h),n.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}(),f=k.animObject,y=G.parse,a=I.charts,b=I.deg2rad,l=F.perspective,S=F.shapeArea,z=C.defined,M=C.extend,E=C.merge,L=C.pick,O=Math.cos,j=Math.sin,R=Math.PI,N=4*(Math.sqrt(2)-1)/3/(R/2);return function(w){function n(){return w!==null&&w.apply(this,arguments)||this}return p(n,w),n.compose=function(h){h=h.prototype;var c=n.prototype;h.elements3d=Z,h.arc3d=c.arc3d,h.arc3dPath=c.arc3dPath,h.cuboid=c.cuboid,h.cuboidPath=c.cuboidPath,h.element3d=c.element3d,h.face3d=c.face3d,h.polyhedron=c.polyhedron,h.toLinePath=c.toLinePath,h.toLineSegments=c.toLineSegments},n.curveTo=function(h,c,e,s,t,i,r,o){var u=[],x=i-t;return i>t&&i-t>Math.PI/2+1e-4?(u=u.concat(this.curveTo(h,c,e,s,t,t+Math.PI/2,r,o)),u=u.concat(this.curveTo(h,c,e,s,t+Math.PI/2,i,r,o))):i<t&&t-i>Math.PI/2+1e-4?(u=u.concat(this.curveTo(h,c,e,s,t,t-Math.PI/2,r,o)),u=u.concat(this.curveTo(h,c,e,s,t-Math.PI/2,i,r,o))):[["C",h+e*Math.cos(t)-e*N*x*Math.sin(t)+r,c+s*Math.sin(t)+s*N*x*Math.cos(t)+o,h+e*Math.cos(i)+e*N*x*Math.sin(i)+r,c+s*Math.sin(i)-s*N*x*Math.cos(i)+o,h+e*Math.cos(i)+r,c+s*Math.sin(i)+o]]},n.prototype.toLinePath=function(h,c){var e=[];return h.forEach(function(s){e.push(["L",s.x,s.y])}),h.length&&(e[0][0]="M",c&&e.push(["Z"])),e},n.prototype.toLineSegments=function(h){var c=[],e=!0;return h.forEach(function(s){c.push(e?["M",s.x,s.y]:["L",s.x,s.y]),e=!e}),c},n.prototype.face3d=function(h){var c=this,e=this.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(s){if(typeof s=="object"&&(z(s.enabled)||z(s.vertexes)||z(s.insidePlotArea))){this.enabled=L(s.enabled,this.enabled),this.vertexes=L(s.vertexes,this.vertexes),this.insidePlotArea=L(s.insidePlotArea,this.insidePlotArea),delete s.enabled,delete s.vertexes,delete s.insidePlotArea;var t=l(this.vertexes,a[c.chartIndex],this.insidePlotArea),i=c.toLinePath(t,!0);t=S(t),s.d=i,s.visibility=this.enabled&&0<t?"inherit":"hidden"}return d.prototype.attr.apply(this,arguments)},e.animate=function(s){if(typeof s=="object"&&(z(s.enabled)||z(s.vertexes)||z(s.insidePlotArea))){this.enabled=L(s.enabled,this.enabled),this.vertexes=L(s.vertexes,this.vertexes),this.insidePlotArea=L(s.insidePlotArea,this.insidePlotArea),delete s.enabled,delete s.vertexes,delete s.insidePlotArea;var t=l(this.vertexes,a[c.chartIndex],this.insidePlotArea),i=c.toLinePath(t,!0);t=S(t),t=this.enabled&&0<t?"visible":"hidden",s.d=i,this.attr("visibility",t)}return d.prototype.animate.apply(this,arguments)},e.attr(h)},n.prototype.polyhedron=function(h){var c=this,e=this.g(),s=e.destroy;return this.styledMode||e.attr({"stroke-linejoin":"round"}),e.faces=[],e.destroy=function(){for(var t=0;t<e.faces.length;t++)e.faces[t].destroy();return s.call(this)},e.attr=function(t,i,r,o){if(typeof t=="object"&&z(t.faces)){for(;e.faces.length>t.faces.length;)e.faces.pop().destroy();for(;e.faces.length<t.faces.length;)e.faces.push(c.face3d().add(e));for(var u=0;u<t.faces.length;u++)c.styledMode&&delete t.faces[u].fill,e.faces[u].attr(t.faces[u],null,r,o);delete t.faces}return d.prototype.attr.apply(this,arguments)},e.animate=function(t,i,r){if(t&&t.faces){for(;e.faces.length>t.faces.length;)e.faces.pop().destroy();for(;e.faces.length<t.faces.length;)e.faces.push(c.face3d().add(e));for(var o=0;o<t.faces.length;o++)e.faces[o].animate(t.faces[o],i,r);delete t.faces}return d.prototype.animate.apply(this,arguments)},e.attr(h)},n.prototype.element3d=function(h,c){var e=this.g();return M(e,this.elements3d[h]),e.initArgs(c),e},n.prototype.cuboid=function(h){return this.element3d("cuboid",h)},n.prototype.cuboidPath=function(h){function c(X){return r===0&&1<X&&6>X?{x:v[X].x,y:v[X].y+10,z:v[X].z}:v[0].x===v[7].x&&4<=X?{x:v[X].x+10,y:v[X].y,z:v[X].z}:u===0&&2>X||5<X?{x:v[X].x,y:v[X].y,z:v[X].z+10}:v[X]}function e(X){return v[X]}var s=h.x||0,t=h.y||0,i=h.z||0,r=h.height||0,o=h.width||0,u=h.depth||0,x=a[this.chartIndex],g=x.options.chart.options3d.alpha,A=0,v=[{x:s,y:t,z:i},{x:s+o,y:t,z:i},{x:s+o,y:t+r,z:i},{x:s,y:t+r,z:i},{x:s,y:t+r,z:i+u},{x:s+o,y:t+r,z:i+u},{x:s+o,y:t,z:i+u},{x:s,y:t,z:i+u}],D=[];v=l(v,x,h.insidePlotArea);var P=function(X,B,K){var H=[[],-1],V=X.map(e),J=B.map(e);return X=X.map(c),B=B.map(c),0>S(V)?H=[V,0]:0>S(J)?H=[J,1]:K&&(D.push(K),H=0>S(X)?[V,0]:0>S(B)?[J,1]:[V,0]),H},T=P([3,2,1,0],[7,6,5,4],"front");h=T[0];var Y=T[1];T=P([1,6,7,0],[4,5,2,3],"top"),o=T[0];var W=T[1];return T=P([1,2,5,6],[0,7,4,3],"side"),P=T[0],T=T[1],T===1?A+=1e6*(x.plotWidth-s):T||(A+=1e6*s),A+=10*(!W||0<=g&&180>=g||360>g&&357.5<g?x.plotHeight-t:10+t),Y===1?A+=100*i:Y||(A+=100*(1e3-i)),{front:this.toLinePath(h,!0),top:this.toLinePath(o,!0),side:this.toLinePath(P,!0),zIndexes:{group:Math.round(A)},forcedSides:D,isFront:Y,isTop:W}},n.prototype.arc3d=function(h){function c(i){var r=!1,o={},u;i=E(i);for(u in i)t.indexOf(u)!==-1&&(o[u]=i[u],delete i[u],r=!0);return r?[o,i]:!1}var e=this.g(),s=e.renderer,t="x y r innerR start end depth".split(" ");return h=E(h),h.alpha=(h.alpha||0)*b,h.beta=(h.beta||0)*b,e.top=s.path(),e.side1=s.path(),e.side2=s.path(),e.inn=s.path(),e.out=s.path(),e.onAdd=function(){var i=e.parentGroup,r=e.attr("class");e.top.add(e),["out","inn","side1","side2"].forEach(function(o){e[o].attr({class:r+" highcharts-3d-side"}).add(i)})},["addClass","removeClass"].forEach(function(i){e[i]=function(){var r=arguments;["top","out","inn","side1","side2"].forEach(function(o){e[o][i].apply(e[o],r)})}}),e.setPaths=function(i){var r=e.renderer.arc3dPath(i),o=100*r.zTop;e.attribs=i,e.top.attr({d:r.top,zIndex:r.zTop}),e.inn.attr({d:r.inn,zIndex:r.zInn}),e.out.attr({d:r.out,zIndex:r.zOut}),e.side1.attr({d:r.side1,zIndex:r.zSide1}),e.side2.attr({d:r.side2,zIndex:r.zSide2}),e.zIndex=o,e.attr({zIndex:o}),i.center&&(e.top.setRadialReference(i.center),delete i.center)},e.setPaths(h),e.fillSetter=function(i){var r=y(i).brighten(-.1).get();return this.fill=i,this.side1.attr({fill:r}),this.side2.attr({fill:r}),this.inn.attr({fill:r}),this.out.attr({fill:r}),this.top.attr({fill:i}),this},["opacity","translateX","translateY","visibility"].forEach(function(i){e[i+"Setter"]=function(r,o){e[o]=r,["out","inn","side1","side2","top"].forEach(function(u){e[u].attr(o,r)})}}),e.attr=function(i){var r;if(typeof i=="object"&&(r=c(i))){var o=r[0];arguments[0]=r[1],M(e.attribs,o),e.setPaths(e.attribs)}return d.prototype.attr.apply(e,arguments)},e.animate=function(i,r,o){var u=this.attribs,x="data-"+Math.random().toString(26).substring(2,9);delete i.center,delete i.z,delete i.alpha,delete i.beta;var g=f(L(r,this.renderer.globalAnimation));if(g.duration){if(r=c(i),e[x]=0,i[x]=1,e[x+"Setter"]=I.noop,r){var A=r[0];g.step=function(v,D){function P(T){return u[T]+(L(A[T],u[T])-u[T])*D.pos}D.prop===x&&D.elem.setPaths(E(u,{x:P("x"),y:P("y"),r:P("r"),innerR:P("innerR"),start:P("start"),end:P("end"),depth:P("depth")}))}}r=g}return d.prototype.animate.call(this,i,r,o)},e.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),d.prototype.destroy.call(this)},e.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},e.show=function(i){this.top.show(i),this.out.show(i),this.inn.show(i),this.side1.show(i),this.side2.show(i)},e},n.prototype.arc3dPath=function(h){function c(H){return H%=2*Math.PI,H>Math.PI&&(H=2*Math.PI-H),H}var e=h.x||0,s=h.y||0,t=h.start||0,i=(h.end||0)-1e-5,r=h.r||0,o=h.innerR||0,u=h.depth||0,x=h.alpha||0,g=h.beta||0,A=Math.cos(t),v=Math.sin(t);h=Math.cos(i);var D=Math.sin(i),P=r*Math.cos(g);r*=Math.cos(x);var T=o*Math.cos(g),Y=o*Math.cos(x);o=u*Math.sin(g);var W=u*Math.sin(x);u=[["M",e+P*A,s+r*v]],u=u.concat(n.curveTo(e,s,P,r,t,i,0,0)),u.push(["L",e+T*h,s+Y*D]),u=u.concat(n.curveTo(e,s,T,Y,i,t,0,0)),u.push(["Z"]);var X=0<g?Math.PI/2:0;g=0<x?0:Math.PI/2,X=t>-X?t:i>-X?-X:t;var B=i<R-g?i:t<R-g?R-g:i,K=2*R-g;return x=[["M",e+P*O(X),s+r*j(X)]],x=x.concat(n.curveTo(e,s,P,r,X,B,0,0)),i>K&&t<K?(x.push(["L",e+P*O(B)+o,s+r*j(B)+W]),x=x.concat(n.curveTo(e,s,P,r,B,K,o,W)),x.push(["L",e+P*O(K),s+r*j(K)]),x=x.concat(n.curveTo(e,s,P,r,K,i,0,0)),x.push(["L",e+P*O(i)+o,s+r*j(i)+W]),x=x.concat(n.curveTo(e,s,P,r,i,K,o,W)),x.push(["L",e+P*O(K),s+r*j(K)]),x=x.concat(n.curveTo(e,s,P,r,K,B,0,0))):i>R-g&&t<R-g&&(x.push(["L",e+P*Math.cos(B)+o,s+r*Math.sin(B)+W]),x=x.concat(n.curveTo(e,s,P,r,B,i,o,W)),x.push(["L",e+P*Math.cos(i),s+r*Math.sin(i)]),x=x.concat(n.curveTo(e,s,P,r,i,B,0,0))),x.push(["L",e+P*Math.cos(B)+o,s+r*Math.sin(B)+W]),x=x.concat(n.curveTo(e,s,P,r,B,X,o,W)),x.push(["Z"]),g=[["M",e+T*A,s+Y*v]],g=g.concat(n.curveTo(e,s,T,Y,t,i,0,0)),g.push(["L",e+T*Math.cos(i)+o,s+Y*Math.sin(i)+W]),g=g.concat(n.curveTo(e,s,T,Y,i,t,o,W)),g.push(["Z"]),A=[["M",e+P*A,s+r*v],["L",e+P*A+o,s+r*v+W],["L",e+T*A+o,s+Y*v+W],["L",e+T*A,s+Y*v],["Z"]],e=[["M",e+P*h,s+r*D],["L",e+P*h+o,s+r*D+W],["L",e+T*h+o,s+Y*D+W],["L",e+T*h,s+Y*D],["Z"]],D=Math.atan2(W,-o),s=Math.abs(i+D),h=Math.abs(t+D),t=Math.abs((t+i)/2+D),s=c(s),h=c(h),t=c(t),t*=1e5,i=1e5*h,s*=1e5,{top:u,zTop:1e5*Math.PI+1,out:x,zOut:Math.max(t,i,s),inn:g,zInn:Math.max(t,i,s),side1:A,zSide1:.99*s,side2:e,zSide2:.99*i}},n}(_)}),U(m,"Core/Chart/Chart3D.js",[m["Core/Color/Color.js"],m["Core/Defaults.js"],m["Core/Math3D.js"],m["Core/Utilities.js"]],function(k,G,I,F){var d=k.parse,Z=G.defaultOptions,_=I.perspective,C=I.shapeArea3D,p=F.addEvent,f=F.isArray,y=F.merge,a=F.pick,b=F.wrap,l;return function(S){function z(e){this.is3d()&&e.options.type==="scatter"&&(e.options.type="scatter3d")}function M(){if(this.chart3d&&this.is3d()){var e=this.renderer,s=this.options.chart.options3d,t=this.chart3d.get3dFrame(),i=this.plotLeft,r=this.plotLeft+this.plotWidth,o=this.plotTop,u=this.plotTop+this.plotHeight;s=s.depth;var x=i-(t.left.visible?t.left.size:0),g=r+(t.right.visible?t.right.size:0),A=o-(t.top.visible?t.top.size:0),v=u+(t.bottom.visible?t.bottom.size:0),D=0-(t.front.visible?t.front.size:0),P=s+(t.back.visible?t.back.size:0),T=this.hasRendered?"animate":"attr";this.chart3d.frame3d=t,this.frameShapes||(this.frameShapes={bottom:e.polyhedron().add(),top:e.polyhedron().add(),left:e.polyhedron().add(),right:e.polyhedron().add(),back:e.polyhedron().add(),front:e.polyhedron().add()}),this.frameShapes.bottom[T]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:t.bottom.frontFacing?-1e3:1e3,faces:[{fill:d(t.bottom.color).brighten(.1).get(),vertexes:[{x,y:v,z:D},{x:g,y:v,z:D},{x:g,y:v,z:P},{x,y:v,z:P}],enabled:t.bottom.visible},{fill:d(t.bottom.color).brighten(.1).get(),vertexes:[{x:i,y:u,z:s},{x:r,y:u,z:s},{x:r,y:u,z:0},{x:i,y:u,z:0}],enabled:t.bottom.visible},{fill:d(t.bottom.color).brighten(-.1).get(),vertexes:[{x,y:v,z:D},{x,y:v,z:P},{x:i,y:u,z:s},{x:i,y:u,z:0}],enabled:t.bottom.visible&&!t.left.visible},{fill:d(t.bottom.color).brighten(-.1).get(),vertexes:[{x:g,y:v,z:P},{x:g,y:v,z:D},{x:r,y:u,z:0},{x:r,y:u,z:s}],enabled:t.bottom.visible&&!t.right.visible},{fill:d(t.bottom.color).get(),vertexes:[{x:g,y:v,z:D},{x,y:v,z:D},{x:i,y:u,z:0},{x:r,y:u,z:0}],enabled:t.bottom.visible&&!t.front.visible},{fill:d(t.bottom.color).get(),vertexes:[{x,y:v,z:P},{x:g,y:v,z:P},{x:r,y:u,z:s},{x:i,y:u,z:s}],enabled:t.bottom.visible&&!t.back.visible}]}),this.frameShapes.top[T]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:t.top.frontFacing?-1e3:1e3,faces:[{fill:d(t.top.color).brighten(.1).get(),vertexes:[{x,y:A,z:P},{x:g,y:A,z:P},{x:g,y:A,z:D},{x,y:A,z:D}],enabled:t.top.visible},{fill:d(t.top.color).brighten(.1).get(),vertexes:[{x:i,y:o,z:0},{x:r,y:o,z:0},{x:r,y:o,z:s},{x:i,y:o,z:s}],enabled:t.top.visible},{fill:d(t.top.color).brighten(-.1).get(),vertexes:[{x,y:A,z:P},{x,y:A,z:D},{x:i,y:o,z:0},{x:i,y:o,z:s}],enabled:t.top.visible&&!t.left.visible},{fill:d(t.top.color).brighten(-.1).get(),vertexes:[{x:g,y:A,z:D},{x:g,y:A,z:P},{x:r,y:o,z:s},{x:r,y:o,z:0}],enabled:t.top.visible&&!t.right.visible},{fill:d(t.top.color).get(),vertexes:[{x,y:A,z:D},{x:g,y:A,z:D},{x:r,y:o,z:0},{x:i,y:o,z:0}],enabled:t.top.visible&&!t.front.visible},{fill:d(t.top.color).get(),vertexes:[{x:g,y:A,z:P},{x,y:A,z:P},{x:i,y:o,z:s},{x:r,y:o,z:s}],enabled:t.top.visible&&!t.back.visible}]}),this.frameShapes.left[T]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:t.left.frontFacing?-1e3:1e3,faces:[{fill:d(t.left.color).brighten(.1).get(),vertexes:[{x,y:v,z:D},{x:i,y:u,z:0},{x:i,y:u,z:s},{x,y:v,z:P}],enabled:t.left.visible&&!t.bottom.visible},{fill:d(t.left.color).brighten(.1).get(),vertexes:[{x,y:A,z:P},{x:i,y:o,z:s},{x:i,y:o,z:0},{x,y:A,z:D}],enabled:t.left.visible&&!t.top.visible},{fill:d(t.left.color).brighten(-.1).get(),vertexes:[{x,y:v,z:P},{x,y:A,z:P},{x,y:A,z:D},{x,y:v,z:D}],enabled:t.left.visible},{fill:d(t.left.color).brighten(-.1).get(),vertexes:[{x:i,y:o,z:s},{x:i,y:u,z:s},{x:i,y:u,z:0},{x:i,y:o,z:0}],enabled:t.left.visible},{fill:d(t.left.color).get(),vertexes:[{x,y:v,z:D},{x,y:A,z:D},{x:i,y:o,z:0},{x:i,y:u,z:0}],enabled:t.left.visible&&!t.front.visible},{fill:d(t.left.color).get(),vertexes:[{x,y:A,z:P},{x,y:v,z:P},{x:i,y:u,z:s},{x:i,y:o,z:s}],enabled:t.left.visible&&!t.back.visible}]}),this.frameShapes.right[T]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:t.right.frontFacing?-1e3:1e3,faces:[{fill:d(t.right.color).brighten(.1).get(),vertexes:[{x:g,y:v,z:P},{x:r,y:u,z:s},{x:r,y:u,z:0},{x:g,y:v,z:D}],enabled:t.right.visible&&!t.bottom.visible},{fill:d(t.right.color).brighten(.1).get(),vertexes:[{x:g,y:A,z:D},{x:r,y:o,z:0},{x:r,y:o,z:s},{x:g,y:A,z:P}],enabled:t.right.visible&&!t.top.visible},{fill:d(t.right.color).brighten(-.1).get(),vertexes:[{x:r,y:o,z:0},{x:r,y:u,z:0},{x:r,y:u,z:s},{x:r,y:o,z:s}],enabled:t.right.visible},{fill:d(t.right.color).brighten(-.1).get(),vertexes:[{x:g,y:v,z:D},{x:g,y:A,z:D},{x:g,y:A,z:P},{x:g,y:v,z:P}],enabled:t.right.visible},{fill:d(t.right.color).get(),vertexes:[{x:g,y:A,z:D},{x:g,y:v,z:D},{x:r,y:u,z:0},{x:r,y:o,z:0}],enabled:t.right.visible&&!t.front.visible},{fill:d(t.right.color).get(),vertexes:[{x:g,y:v,z:P},{x:g,y:A,z:P},{x:r,y:o,z:s},{x:r,y:u,z:s}],enabled:t.right.visible&&!t.back.visible}]}),this.frameShapes.back[T]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:t.back.frontFacing?-1e3:1e3,faces:[{fill:d(t.back.color).brighten(.1).get(),vertexes:[{x:g,y:v,z:P},{x,y:v,z:P},{x:i,y:u,z:s},{x:r,y:u,z:s}],enabled:t.back.visible&&!t.bottom.visible},{fill:d(t.back.color).brighten(.1).get(),vertexes:[{x,y:A,z:P},{x:g,y:A,z:P},{x:r,y:o,z:s},{x:i,y:o,z:s}],enabled:t.back.visible&&!t.top.visible},{fill:d(t.back.color).brighten(-.1).get(),vertexes:[{x,y:v,z:P},{x,y:A,z:P},{x:i,y:o,z:s},{x:i,y:u,z:s}],enabled:t.back.visible&&!t.left.visible},{fill:d(t.back.color).brighten(-.1).get(),vertexes:[{x:g,y:A,z:P},{x:g,y:v,z:P},{x:r,y:u,z:s},{x:r,y:o,z:s}],enabled:t.back.visible&&!t.right.visible},{fill:d(t.back.color).get(),vertexes:[{x:i,y:o,z:s},{x:r,y:o,z:s},{x:r,y:u,z:s},{x:i,y:u,z:s}],enabled:t.back.visible},{fill:d(t.back.color).get(),vertexes:[{x,y:v,z:P},{x:g,y:v,z:P},{x:g,y:A,z:P},{x,y:A,z:P}],enabled:t.back.visible}]}),this.frameShapes.front[T]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:t.front.frontFacing?-1e3:1e3,faces:[{fill:d(t.front.color).brighten(.1).get(),vertexes:[{x,y:v,z:D},{x:g,y:v,z:D},{x:r,y:u,z:0},{x:i,y:u,z:0}],enabled:t.front.visible&&!t.bottom.visible},{fill:d(t.front.color).brighten(.1).get(),vertexes:[{x:g,y:A,z:D},{x,y:A,z:D},{x:i,y:o,z:0},{x:r,y:o,z:0}],enabled:t.front.visible&&!t.top.visible},{fill:d(t.front.color).brighten(-.1).get(),vertexes:[{x,y:A,z:D},{x,y:v,z:D},{x:i,y:u,z:0},{x:i,y:o,z:0}],enabled:t.front.visible&&!t.left.visible},{fill:d(t.front.color).brighten(-.1).get(),vertexes:[{x:g,y:v,z:D},{x:g,y:A,z:D},{x:r,y:o,z:0},{x:r,y:u,z:0}],enabled:t.front.visible&&!t.right.visible},{fill:d(t.front.color).get(),vertexes:[{x:r,y:o,z:0},{x:i,y:o,z:0},{x:i,y:u,z:0},{x:r,y:u,z:0}],enabled:t.front.visible},{fill:d(t.front.color).get(),vertexes:[{x:g,y:v,z:D},{x,y:v,z:D},{x,y:A,z:D},{x:g,y:A,z:D}],enabled:t.front.visible}]})}}function E(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(e){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+e.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:e.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:e.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:e.slope}}]}]})},this)}function L(){var e=this.options;this.is3d()&&(e.series||[]).forEach(function(s){(s.type||e.chart.type||e.chart.defaultSeriesType)==="scatter"&&(s.type="scatter3d")})}function O(){var e=this.options.chart.options3d;if(this.chart3d&&this.is3d()){e&&(e.alpha=e.alpha%360+(0<=e.alpha?0:360),e.beta=e.beta%360+(0<=e.beta?0:360));var s=this.inverted,t=this.clipBox,i=this.margin;t[s?"y":"x"]=-(i[3]||0),t[s?"x":"y"]=-(i[0]||0),t[s?"height":"width"]=this.chartWidth+(i[3]||0)+(i[1]||0),t[s?"width":"height"]=this.chartHeight+(i[0]||0)+(i[2]||0),this.scale3d=1,e.fitToPlot===!0&&(this.scale3d=this.chart3d.getScale(e.depth)),this.chart3d.frame3d=this.chart3d.get3dFrame()}}function j(){this.is3d()&&(this.isDirtyBox=!0)}function R(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function N(){this.chart3d||(this.chart3d=new c(this))}function w(e){return this.is3d()||e.apply(this,[].slice.call(arguments,1))}function n(e){var s=this.series.length;if(this.is3d())for(;s--;)e=this.series[s],e.translate(),e.render();else e.call(this)}function h(e){e.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}var c=function(){function e(s){this.frame3d=void 0,this.chart=s}return e.prototype.get3dFrame=function(){var s=this.chart,t=s.options.chart.options3d,i=t.frame,r=s.plotLeft,o=s.plotLeft+s.plotWidth,u=s.plotTop,x=s.plotTop+s.plotHeight,g=t.depth,A=function(V){return V=C(V,s),.5<V?1:-.5>V?-1:0},v=A([{x:r,y:x,z:g},{x:o,y:x,z:g},{x:o,y:x,z:0},{x:r,y:x,z:0}]),D=A([{x:r,y:u,z:0},{x:o,y:u,z:0},{x:o,y:u,z:g},{x:r,y:u,z:g}]),P=A([{x:r,y:u,z:0},{x:r,y:u,z:g},{x:r,y:x,z:g},{x:r,y:x,z:0}]),T=A([{x:o,y:u,z:g},{x:o,y:u,z:0},{x:o,y:x,z:0},{x:o,y:x,z:g}]),Y=A([{x:r,y:x,z:0},{x:o,y:x,z:0},{x:o,y:u,z:0},{x:r,y:u,z:0}]);A=A([{x:r,y:u,z:g},{x:o,y:u,z:g},{x:o,y:x,z:g},{x:r,y:x,z:g}]);var W=!1,X=!1,B=!1,K=!1;[].concat(s.xAxis,s.yAxis,s.zAxis).forEach(function(V){V&&(V.horiz?V.opposite?X=!0:W=!0:V.opposite?K=!0:B=!0)});var H=function(V,J,tt){for(var q=["size","color","visible"],Q={},$=0;$<q.length;$++)for(var nt=q[$],et=0;et<V.length;et++)if(typeof V[et]=="object"){var rt=V[et][nt];if(typeof rt<"u"&&rt!==null){Q[nt]=rt;break}}return V=tt,Q.visible===!0||Q.visible===!1?V=Q.visible:Q.visible==="auto"&&(V=0<J),{size:a(Q.size,1),color:a(Q.color,"none"),frontFacing:0<J,visible:V}};return i={axes:{},bottom:H([i.bottom,i.top,i],v,W),top:H([i.top,i.bottom,i],D,X),left:H([i.left,i.right,i.side,i],P,B),right:H([i.right,i.left,i.side,i],T,K),back:H([i.back,i.front,i],A,!0),front:H([i.front,i.back,i],Y,!1)},t.axisLabelPosition==="auto"?(T=function(V,J){return V.visible!==J.visible||V.visible&&J.visible&&V.frontFacing!==J.frontFacing},t=[],T(i.left,i.front)&&t.push({y:(u+x)/2,x:r,z:0,xDir:{x:1,y:0,z:0}}),T(i.left,i.back)&&t.push({y:(u+x)/2,x:r,z:g,xDir:{x:0,y:0,z:-1}}),T(i.right,i.front)&&t.push({y:(u+x)/2,x:o,z:0,xDir:{x:0,y:0,z:1}}),T(i.right,i.back)&&t.push({y:(u+x)/2,x:o,z:g,xDir:{x:-1,y:0,z:0}}),v=[],T(i.bottom,i.front)&&v.push({x:(r+o)/2,y:x,z:0,xDir:{x:1,y:0,z:0}}),T(i.bottom,i.back)&&v.push({x:(r+o)/2,y:x,z:g,xDir:{x:-1,y:0,z:0}}),D=[],T(i.top,i.front)&&D.push({x:(r+o)/2,y:u,z:0,xDir:{x:1,y:0,z:0}}),T(i.top,i.back)&&D.push({x:(r+o)/2,y:u,z:g,xDir:{x:-1,y:0,z:0}}),P=[],T(i.bottom,i.left)&&P.push({z:(0+g)/2,y:x,x:r,xDir:{x:0,y:0,z:-1}}),T(i.bottom,i.right)&&P.push({z:(0+g)/2,y:x,x:o,xDir:{x:0,y:0,z:1}}),x=[],T(i.top,i.left)&&x.push({z:(0+g)/2,y:u,x:r,xDir:{x:0,y:0,z:-1}}),T(i.top,i.right)&&x.push({z:(0+g)/2,y:u,x:o,xDir:{x:0,y:0,z:1}}),r=function(V,J,tt){if(V.length===0)return null;if(V.length===1)return V[0];for(var q=_(V,s,!1),Q=0,$=1;$<q.length;$++)(tt*q[$][J]>tt*q[Q][J]||tt*q[$][J]===tt*q[Q][J]&&q[$].z<q[Q].z)&&(Q=$);return V[Q]},i.axes={y:{left:r(t,"x",-1),right:r(t,"x",1)},x:{top:r(D,"y",-1),bottom:r(v,"y",1)},z:{top:r(x,"y",-1),bottom:r(P,"y",1)}}):i.axes={y:{left:{x:r,z:0,xDir:{x:1,y:0,z:0}},right:{x:o,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:u,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:x,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:B?o:r,y:u,xDir:B?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:B?o:r,y:x,xDir:B?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},i},e.prototype.getScale=function(s){var t=this.chart,i=t.plotLeft,r=t.plotWidth+i,o=t.plotTop,u=t.plotHeight+o,x=i+t.plotWidth/2,g=o+t.plotHeight/2,A=Number.MAX_VALUE,v=-Number.MAX_VALUE,D=Number.MAX_VALUE,P=-Number.MAX_VALUE,T=1,Y=[{x:i,y:o,z:0},{x:i,y:o,z:s}];return[0,1].forEach(function(W){Y.push({x:r,y:Y[W].y,z:Y[W].z})}),[0,1,2,3].forEach(function(W){Y.push({x:Y[W].x,y:u,z:Y[W].z})}),Y=_(Y,t,!1),Y.forEach(function(W){A=Math.min(A,W.x),v=Math.max(v,W.x),D=Math.min(D,W.y),P=Math.max(P,W.y)}),i>A&&(T=Math.min(T,1-Math.abs((i+x)/(A+x))%1)),r<v&&(T=Math.min(T,(r-x)/(v-x))),o>D&&(T=0>D?Math.min(T,(o+g)/(-D+o+g)):Math.min(T,1-(o+g)/(D+g)%1)),u<P&&(T=Math.min(T,Math.abs((u-g)/(P-g)))),T},e}();S.Composition=c,S.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},S.compose=function(e,s){var t=e.prototype;s=s.prototype,t.is3d=function(){return!(!this.options.chart.options3d||!this.options.chart.options3d.enabled)},t.propsRequireDirtyBox.push("chart.options3d"),t.propsRequireUpdateSeries.push("chart.options3d"),s.matrixSetter=function(){if(1>this.pos&&(f(this.start)||f(this.end)))for(var i=this.start||[1,0,0,1,0,0],r=this.end||[1,0,0,1,0,0],o=[],u=0;6>u;u++)o.push(this.pos*r[u]+(1-this.pos)*i[u]);else o=this.end;this.elem.attr(this.prop,o,null,!0)},y(!0,Z,S.defaultOptions),p(e,"init",N),p(e,"addSeries",z),p(e,"afterDrawChartBox",M),p(e,"afterGetContainer",E),p(e,"afterInit",L),p(e,"afterSetChartSize",O),p(e,"beforeRedraw",j),p(e,"beforeRender",R),b(t,"isInsidePlot",w),b(t,"renderSeries",n),b(t,"setClassName",h)}}(l||(l={})),l}),U(m,"Core/Axis/ZAxis.js",[m["Core/Axis/Axis.js"],m["Core/Utilities.js"]],function(k,G){function I(a){return new y(this,a)}function F(){var a=this,b=this.options.zAxis=p(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],b.forEach(function(l,S){l.index=S,l.isX=!0,a.addZAxis(l).setScale()}))}var d=this&&this.__extends||function(){var a=function(b,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,z){S.__proto__=z}||function(S,z){for(var M in z)z.hasOwnProperty(M)&&(S[M]=z[M])},a(b,l)};return function(b,l){function S(){this.constructor=b}a(b,l),b.prototype=l===null?Object.create(l):(S.prototype=l.prototype,new S)}}(),Z=G.addEvent,_=G.merge,C=G.pick,p=G.splat,f=[],y=function(a){function b(l,S){return l=a.call(this,l,S)||this,l.isZAxis=!0,l}return d(b,a),b.compose=function(l){f.indexOf(l)===-1&&(f.push(l),Z(l,"afterGetAxes",F),l=l.prototype,l.addZAxis=I,l.collectionsWithInit.zAxis=[l.addZAxis],l.collectionsWithUpdate.push("zAxis"))},b.prototype.getSeriesExtremes=function(){var l=this,S=this.chart;this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach(function(z){(z.visible||!S.options.chart.ignoreHiddenSeries)&&(l.hasVisibleSeries=!0,z=z.zData,z.length&&(l.dataMin=Math.min(C(l.dataMin,z[0]),Math.min.apply(null,z)),l.dataMax=Math.max(C(l.dataMax,z[0]),Math.max.apply(null,z))))})},b.prototype.setAxisSize=function(){var l=this.chart;a.prototype.setAxisSize.call(this),this.width=this.len=l.options.chart.options3d&&l.options.chart.options3d.depth||0,this.right=l.chartWidth-this.width-this.left},b.prototype.setOptions=function(l){l=_({offset:0,lineWidth:0},l),this.isZAxis=!0,a.prototype.setOptions.call(this,l),this.coll="zAxis"},b}(k);return y}),U(m,"Core/Axis/Axis3DDefaults.js",[],function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}}),U(m,"Core/Axis/Tick3DComposition.js",[m["Core/Utilities.js"]],function(k){function G(C){var p=this.axis.axis3D;p&&d(C.pos,p.fix3dPosition(C.pos))}function I(C){var p=this.axis.axis3D,f=C.apply(this,[].slice.call(arguments,1));if(p){var y=f[0],a=f[1];if(y[0]==="M"&&a[0]==="L")return p=[p.fix3dPosition({x:y[1],y:y[2],z:0}),p.fix3dPosition({x:a[1],y:a[2],z:0})],this.axis.chart.renderer.toLineSegments(p)}return f}var F=k.addEvent,d=k.extend,Z=k.wrap,_=[];return{compose:function(C){_.indexOf(C)===-1&&(_.push(C),F(C,"afterGetLabelPosition",G),Z(C.prototype,"getMarkPath",I))}}}),U(m,"Core/Axis/Axis3DComposition.js",[m["Core/Axis/Axis3DDefaults.js"],m["Core/Globals.js"],m["Core/Math3D.js"],m["Core/Axis/Tick3DComposition.js"],m["Core/Utilities.js"]],function(k,G,I,F,d){function Z(){var w=this.chart,n=this.options;w.is3d&&w.is3d()&&this.coll!=="colorAxis"&&(n.tickWidth=O(n.tickWidth,0),n.gridLineWidth=O(n.gridLineWidth,1))}function _(w){this.chart.is3d()&&this.coll!=="colorAxis"&&w.point&&(w.point.crosshairPos=this.isXAxis?w.point.axisXpos:this.len-w.point.axisYpos)}function C(){this.axis3D||(this.axis3D=new N(this))}function p(w){return this.chart.is3d()&&this.coll!=="colorAxis"?[]:w.apply(this,[].slice.call(arguments,1))}function f(w){if(!this.chart.is3d()||this.coll==="colorAxis")return w.apply(this,[].slice.call(arguments,1));var n=arguments,h=n[2],c=[];if(n=this.getPlotLinePath({value:n[1]}),h=this.getPlotLinePath({value:h}),n&&h)for(var e=0;e<n.length;e+=2){var s=n[e],t=n[e+1],i=h[e],r=h[e+1];s[0]==="M"&&t[0]==="L"&&i[0]==="M"&&r[0]==="L"&&c.push(s,t,r,["L",i[1],i[2]],["Z"])}return c}function y(w){var n=this.axis3D,h=this.chart,c=w.apply(this,[].slice.call(arguments,1));if(this.coll==="colorAxis"||!h.chart3d||!h.is3d()||c===null)return c;var e=h.options.chart.options3d,s=this.isZAxis?h.plotWidth:e.depth;e=h.chart3d.frame3d;var t=c[0],i=c[1];return c=[],t[0]==="M"&&i[0]==="L"&&(n=[n.swapZ({x:t[1],y:t[2],z:0}),n.swapZ({x:t[1],y:t[2],z:s}),n.swapZ({x:i[1],y:i[2],z:0}),n.swapZ({x:i[1],y:i[2],z:s})],this.horiz?(this.isZAxis?(e.left.visible&&c.push(n[0],n[2]),e.right.visible&&c.push(n[1],n[3])):(e.front.visible&&c.push(n[0],n[2]),e.back.visible&&c.push(n[1],n[3])),e.top.visible&&c.push(n[0],n[1]),e.bottom.visible&&c.push(n[2],n[3])):(e.front.visible&&c.push(n[0],n[2]),e.back.visible&&c.push(n[1],n[3]),e.left.visible&&c.push(n[0],n[1]),e.right.visible&&c.push(n[2],n[3])),c=S(c,this.chart,!1)),h.renderer.toLineSegments(c)}function a(w,n){var h=this.chart,c=this.ticks,e=this.gridGroup;if(this.categories&&h.frameShapes&&h.is3d()&&e&&n&&n.label){e=e.element.childNodes[0].getBBox();var s=h.frameShapes.left.getBBox(),t=h.options.chart.options3d;h={x:h.plotWidth/2,y:h.plotHeight/2,z:t.depth/2,vd:O(t.depth,1)*O(t.viewDistance,0)},t=n.pos;var i=c[t-1],r=c[t+1],o=c=void 0;return t!==0&&i&&i.label&&i.label.xy&&(c=z({x:i.label.xy.x,y:i.label.xy.y,z:null},h,h.vd)),r&&r.label&&r.label.xy&&(o=z({x:r.label.xy.x,y:r.label.xy.y,z:null},h,h.vd)),t={x:n.label.xy.x,y:n.label.xy.y,z:null},t=z(t,h,h.vd),Math.abs(c?t.x-c.x:o?o.x-t.x:e.x-s.x)}return w.apply(this,[].slice.call(arguments,1))}function b(w){var n=w.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(n,!0):n}var l=G.deg2rad,S=I.perspective,z=I.perspective3D,M=I.shapeArea,E=d.addEvent,L=d.merge,O=d.pick,j=d.wrap,R=[],N=function(){function w(n){this.axis=n}return w.compose=function(n,h){F.compose(h),R.indexOf(n)===-1&&(R.push(n),L(!0,n.defaultOptions,k),n.keepProps.push("axis3D"),E(n,"init",C),E(n,"afterSetOptions",Z),E(n,"drawCrosshair",_),n=n.prototype,j(n,"getLinePath",p),j(n,"getPlotBandPath",f),j(n,"getPlotLinePath",y),j(n,"getSlotWidth",a),j(n,"getTitlePosition",b))},w.prototype.fix3dPosition=function(n,h){var c=this.axis,e=c.chart;if(c.coll==="colorAxis"||!e.chart3d||!e.is3d())return n;var s=l*e.options.chart.options3d.alpha,t=l*e.options.chart.options3d.beta,i=O(h&&c.options.title.position3d,c.options.labels.position3d);h=O(h&&c.options.title.skew3d,c.options.labels.skew3d);var r=e.chart3d.frame3d,o=e.plotLeft,u=e.plotWidth+o,x=e.plotTop,g=e.plotHeight+x,A=e=0,v={x:0,y:1,z:0},D=!1;if(n=c.axis3D.swapZ({x:n.x,y:n.y,z:0}),c.isZAxis)if(c.opposite){if(r.axes.z.top===null)return{};A=n.y-x,n.x=r.axes.z.top.x,n.y=r.axes.z.top.y,o=r.axes.z.top.xDir,D=!r.top.frontFacing}else{if(r.axes.z.bottom===null)return{};A=n.y-g,n.x=r.axes.z.bottom.x,n.y=r.axes.z.bottom.y,o=r.axes.z.bottom.xDir,D=!r.bottom.frontFacing}else if(c.horiz)if(c.opposite){if(r.axes.x.top===null)return{};A=n.y-x,n.y=r.axes.x.top.y,n.z=r.axes.x.top.z,o=r.axes.x.top.xDir,D=!r.top.frontFacing}else{if(r.axes.x.bottom===null)return{};A=n.y-g,n.y=r.axes.x.bottom.y,n.z=r.axes.x.bottom.z,o=r.axes.x.bottom.xDir,D=!r.bottom.frontFacing}else if(c.opposite){if(r.axes.y.right===null)return{};e=n.x-u,n.x=r.axes.y.right.x,n.z=r.axes.y.right.z,o=r.axes.y.right.xDir,o={x:o.z,y:o.y,z:-o.x}}else{if(r.axes.y.left===null)return{};e=n.x-o,n.x=r.axes.y.left.x,n.z=r.axes.y.left.z,o=r.axes.y.left.xDir}return i!=="chart"&&(i==="flap"?c.horiz?(t=Math.sin(s),s=Math.cos(s),c.opposite&&(t=-t),D&&(t=-t),v={x:o.z*t,y:s,z:-o.x*t}):o={x:Math.cos(t),y:0,z:Math.sin(t)}:i==="ortho"?c.horiz?(v=Math.cos(s),i=Math.sin(t)*v,s=-Math.sin(s),t=-v*Math.cos(t),v={x:o.y*t-o.z*s,y:o.z*i-o.x*t,z:o.x*s-o.y*i},s=1/Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z),D&&(s=-s),v={x:s*v.x,y:s*v.y,z:s*v.z}):o={x:Math.cos(t),y:0,z:Math.sin(t)}:c.horiz?v={x:Math.sin(t)*Math.sin(s),y:Math.cos(s),z:-Math.cos(t)*Math.sin(s)}:o={x:Math.cos(t),y:0,z:Math.sin(t)}),n.x+=e*o.x+A*v.x,n.y+=e*o.y+A*v.y,n.z+=e*o.z+A*v.z,e=S([n],c.chart)[0],h&&(0>M(S([n,{x:n.x+o.x,y:n.y+o.y,z:n.z+o.z},{x:n.x+v.x,y:n.y+v.y,z:n.z+v.z}],c.chart))&&(o={x:-o.x,y:-o.y,z:-o.z}),n=S([{x:n.x,y:n.y,z:n.z},{x:n.x+o.x,y:n.y+o.y,z:n.z+o.z},{x:n.x+v.x,y:n.y+v.y,z:n.z+v.z}],c.chart),e.matrix=[n[1].x-n[0].x,n[1].y-n[0].y,n[2].x-n[0].x,n[2].y-n[0].y,e.x,e.y],e.matrix[4]-=e.x*e.matrix[0]+e.y*e.matrix[2],e.matrix[5]-=e.x*e.matrix[1]+e.y*e.matrix[3]),e},w.prototype.swapZ=function(n,h){var c=this.axis;return c.isZAxis?(h=h?0:c.chart.plotLeft,{x:h+n.z,y:n.y,z:n.x-h}):n},w}();return N}),U(m,"Core/Series/Series3D.js",[m["Core/Math3D.js"],m["Core/Series/Series.js"],m["Core/Utilities.js"]],function(k,G,I){var F=this&&this.__extends||function(){var f=function(y,a){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,l){b.__proto__=l}||function(b,l){for(var S in l)l.hasOwnProperty(S)&&(b[S]=l[S])},f(y,a)};return function(y,a){function b(){this.constructor=y}f(y,a),y.prototype=a===null?Object.create(a):(b.prototype=a.prototype,new b)}}(),d=k.perspective;k=I.addEvent;var Z=I.extend,_=I.merge,C=I.pick,p=I.isNumber;return I=function(f){function y(){return f!==null&&f.apply(this,arguments)||this}return F(y,f),y.prototype.translate=function(){f.prototype.translate.apply(this,arguments),this.chart.is3d()&&this.translate3dPoints()},y.prototype.translate3dPoints=function(){var a=this.options,b=this.chart,l=C(this.zAxis,b.options.zAxis[0]),S=[],z,M=[];for(this.zPadding=(a.stacking?p(a.stack)?a.stack:0:this.index||0)*(a.depth||0+(a.groupZPadding||1)),z=0;z<this.data.length;z++){if(a=this.data[z],l&&l.translate){var E=l.logarithmic&&l.val2lin?l.val2lin(a.z):a.z;a.plotZ=l.translate(E),a.isInside=a.isInside?E>=l.min&&E<=l.max:!1}else a.plotZ=this.zPadding;a.axisXpos=a.plotX,a.axisYpos=a.plotY,a.axisZpos=a.plotZ,S.push({x:a.plotX,y:a.plotY,z:a.plotZ}),M.push(a.plotX||0)}for(this.rawPointsX=M,b=d(S,b,!0),z=0;z<this.data.length;z++)a=this.data[z],l=b[z],a.plotX=l.x,a.plotY=l.y,a.plotZ=l.z},y.defaultOptions=_(G.defaultOptions),y}(G),k(G,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),Z(G.prototype,{translate3dPoints:I.prototype.translate3dPoints}),I}),U(m,"Series/Area3D/Area3DSeries.js",[m["Core/Math3D.js"],m["Core/Series/SeriesRegistry.js"],m["Core/Utilities.js"]],function(k,G,I){function F(p){var f=p.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return f;var y=Z.getGraphPath,a=this.options,b=Math.round(this.yAxis.getThreshold(a.threshold)),l=[];if(this.rawPointsX)for(var S=0;S<this.points.length;S++)l.push({x:this.rawPointsX[S],y:a.stacking?this.points[S].yBottom:b,z:this.zPadding});return a=this.chart.options.chart.options3d,l=d(l,this.chart,!0).map(function(z){return{plotX:z.x,plotY:z.y,plotZ:z.z}}),this.group&&a&&a.depth&&a.beta&&(this.markerGroup&&(this.markerGroup.add(this.group),this.markerGroup.attr({translateX:0,translateY:0})),this.group.attr({zIndex:Math.max(1,270<a.beta||90>a.beta?a.depth-Math.round(this.zPadding||0):Math.round(this.zPadding||0))})),l.reversed=!0,y=y.call(this,l,!0,!0),y[0]&&y[0][0]==="M"&&(y[0]=["L",y[0][1],y[0][2]]),this.areaPath&&(y=this.areaPath.splice(0,this.areaPath.length/2).concat(y),y.xMap=this.areaPath.xMap,this.areaPath=y),f}var d=k.perspective,Z=G.seriesTypes.line.prototype,_=I.wrap,C=[];return{compose:function(p){C.indexOf(p)===-1&&(C.push(p),_(p.prototype,"getGraphPath",F))}}}),U(m,"Series/Column3D/Column3DComposition.js",[m["Series/Column/ColumnSeries.js"],m["Core/Globals.js"],m["Core/Series/Series.js"],m["Core/Math3D.js"],m["Core/Series/SeriesRegistry.js"],m["Core/Axis/Stacking/StackItem.js"],m["Core/Utilities.js"]],function(k,G,I,F,d,Z,_){function C(z,M){var E=z.series,L={totalStacks:0},O,j=1;return E.forEach(function(R){O=S(R.options.stack,M?0:E.length-1-R.index),L[O]?L[O].series.push(R):(L[O]={series:[R],position:j},j++)}),L.totalStacks=j+1,L}function p(z){var M=z.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(M.stroke=this.options.edgeColor||M.fill,M["stroke-width"]=S(this.options.edgeWidth,1)),M}function f(z,M,E){var L=this.chart.is3d&&this.chart.is3d();L&&(this.options.inactiveOtherPoints=!0),z.call(this,M,E),L&&(this.options.inactiveOtherPoints=!1)}function y(z){for(var M=[],E=1;E<arguments.length;E++)M[E-1]=arguments[E];return this.series.chart.is3d()?this.graphic&&this.graphic.element.nodeName!=="g":z.apply(this,M)}var a=k.prototype,b=G.svg,l=F.perspective;G=_.addEvent;var S=_.pick;return _=_.wrap,_(a,"translate",function(z){z.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),_(I.prototype,"justifyDataLabel",function(z){return arguments[2].outside3dPlot?!1:z.apply(this,[].slice.call(arguments,1))}),a.translate3dPoints=function(){},a.translate3dShapes=function(){var z=this,M=z.chart,E=z.options,L=E.depth,O=(E.stacking?E.stack||0:z.index)*(L+(E.groupZPadding||1)),j=z.borderWidth%2?.5:0,R;M.inverted&&!z.yAxis.reversed&&(j*=-1),E.grouping!==!1&&(O=0),O+=E.groupZPadding||1,z.data.forEach(function(N){if(N.outside3dPlot=null,N.y!==null){var w=N.shapeArgs,n=N.tooltipPos,h;[["x","width"],["y","height"]].forEach(function(c){if(h=w[c[0]]-j,0>h&&(w[c[1]]+=w[c[0]]+j,w[c[0]]=-j,h=0),h+w[c[1]]>z[c[0]+"Axis"].len&&w[c[1]]!==0&&(w[c[1]]=z[c[0]+"Axis"].len-w[c[0]]),w[c[1]]!==0&&(w[c[0]]>=z[c[0]+"Axis"].len||w[c[0]]+w[c[1]]<=j)){for(var e in w)w[e]=e==="y"?-9999:0;N.outside3dPlot=!0}}),N.shapeType==="rect"&&(N.shapeType="cuboid"),w.z=O,w.depth=L,w.insidePlotArea=!0,R={x:w.x+w.width/2,y:w.y,z:O+L/2},M.inverted&&(R.x=w.height,R.y=N.clientX),N.plot3d=l([R],M,!0,!1)[0],n=l([{x:n[0],y:n[1],z:O+L/2}],M,!0,!1)[0],N.tooltipPos=[n.x,n.y]}}),z.z=O},_(a,"animate",function(z){if(this.chart.is3d()){var M=arguments[1],E=this.yAxis,L=this,O=this.yAxis.reversed;b&&(M?L.data.forEach(function(j){j.y!==null&&(j.height=j.shapeArgs.height,j.shapey=j.shapeArgs.y,j.shapeArgs.height=1,O||(j.shapeArgs.y=j.stackY?j.plotY+E.translate(j.stackY):j.plotY+(j.negative?-j.height:j.height)))}):(L.data.forEach(function(j){j.y!==null&&(j.shapeArgs.height=j.height,j.shapeArgs.y=j.shapey,j.graphic)&&j.graphic[j.outside3dPlot?"attr":"animate"](j.shapeArgs,L.options.animation)}),this.drawDataLabels()))}else z.apply(this,[].slice.call(arguments,1))}),_(a,"plotGroup",function(z,M,E,L,O,j){return M!=="dataLabelsGroup"&&this.chart.is3d()&&(this[M]&&delete this[M],j&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(j)),this[M]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[M].survive=!0,M==="group"||M==="markerGroup"))&&(arguments[3]="visible"),z.apply(this,Array.prototype.slice.call(arguments,1))}),_(a,"setVisible",function(z,M){var E=this;E.chart.is3d()&&E.data.forEach(function(L){L.visible=L.options.visible=M=typeof M>"u"?!S(E.visible,L.visible):M,E.options.data[E.data.indexOf(L)]=L.options,L.graphic&&L.graphic.attr({visibility:M?"visible":"hidden"})}),z.apply(this,Array.prototype.slice.call(arguments,1))}),G(k,"afterInit",function(){if(this.chart.is3d()){var z=this.options,M=z.grouping,E=z.stacking,L=this.yAxis.options.reversedStacks,O=0;if(typeof M>"u"||M){for(M=C(this.chart,E),O=z.stack||0,E=0;E<M[O].series.length&&M[O].series[E]!==this;E++);O=10*(M.totalStacks-M[O].position)+(L?E:-E),this.xAxis.reversed||(O=10*M.totalStacks-O)}z.depth=z.depth||25,this.z=this.z||0,z.zIndex=O}}),_(a,"pointAttribs",p),_(a,"setState",f),_(a.pointClass.prototype,"hasNewShapeType",y),d.seriesTypes.columnRange&&(G=d.seriesTypes.columnrange.prototype,_(G,"pointAttribs",p),_(G,"setState",f),_(G.pointClass.prototype,"hasNewShapeType",y),G.plotGroup=a.plotGroup,G.setVisible=a.setVisible),_(I.prototype,"alignDataLabel",function(z,M,E,L,O){var j=this.chart;if(L.outside3dPlot=M.outside3dPlot,j.is3d()&&this.is("column")){var R=this.options,N=S(L.inside,!!this.options.stacking),w=j.options.chart.options3d,n=M.pointWidth/2||0;R={x:O.x+n,y:O.y,z:this.z+R.depth/2},j.inverted&&(N&&(O.width=0,R.x+=M.shapeArgs.height/2),90<=w.alpha&&270>=w.alpha&&(R.y+=M.shapeArgs.width)),R=l([R],j,!0,!1)[0],O.x=R.x-n,O.y=M.outside3dPlot?-9e9:R.y}z.apply(this,[].slice.call(arguments,1))}),_(Z.prototype,"getStackBox",function(z,M,E,L,O,j,R,N){var w=z.apply(this,[].slice.call(arguments,1));if(M.is3d()&&E.base){var n=+E.base.split(",")[0],h=M.series[n];n=M.options.chart.options3d,h&&h instanceof d.seriesTypes.column&&(h={x:w.x+(M.inverted?R:j/2),y:w.y,z:h.options.depth/2},M.inverted&&(w.width=0,90<=n.alpha&&270>=n.alpha&&(h.y+=j)),h=l([h],M,!0,!1)[0],w.x=h.x-j/2,w.y=h.y)}return w}),k}),U(m,"Series/Pie3D/Pie3DPoint.js",[m["Core/Series/SeriesRegistry.js"]],function(k){var G=this&&this.__extends||function(){var F=function(d,Z){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,C){_.__proto__=C}||function(_,C){for(var p in C)C.hasOwnProperty(p)&&(_[p]=C[p])},F(d,Z)};return function(d,Z){function _(){this.constructor=d}F(d,Z),d.prototype=Z===null?Object.create(Z):(_.prototype=Z.prototype,new _)}}();k=k.seriesTypes.pie.prototype.pointClass;var I=k.prototype.haloPath;return function(F){function d(){var Z=F!==null&&F.apply(this,arguments)||this;return Z.series=void 0,Z}return G(d,F),d.prototype.haloPath=function(){return this.series.chart.is3d()?[]:I.apply(this,arguments)},d}(k)}),U(m,"Series/Pie3D/Pie3DSeries.js",[m["Core/Globals.js"],m["Series/Pie3D/Pie3DPoint.js"],m["Core/Series/SeriesRegistry.js"],m["Core/Utilities.js"]],function(k,G,I,F){var d=this&&this.__extends||function(){var p=function(f,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var l in b)b.hasOwnProperty(l)&&(a[l]=b[l])},p(f,y)};return function(f,y){function a(){this.constructor=f}p(f,y),f.prototype=y===null?Object.create(y):(a.prototype=y.prototype,new a)}}(),Z=k.deg2rad,_=k.svg;k=F.extend;var C=F.pick;return I=function(p){function f(){return p!==null&&p.apply(this,arguments)||this}return d(f,p),f.prototype.addPoint=function(){p.prototype.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)},f.prototype.animate=function(y){if(this.chart.is3d()){var a=this.options.animation,b=this.center,l=this.group,S=this.markerGroup;_&&(a===!0&&(a={}),y?(l.oldtranslateX=C(l.oldtranslateX,l.translateX),l.oldtranslateY=C(l.oldtranslateY,l.translateY),b={translateX:b[0],translateY:b[1],scaleX:.001,scaleY:.001},l.attr(b),S&&(S.attrSetters=l.attrSetters,S.attr(b))):(b={translateX:l.oldtranslateX,translateY:l.oldtranslateY,scaleX:1,scaleY:1},l.animate(b,a),S&&S.animate(b,a)))}else p.prototype.animate.apply(this,arguments)},f.prototype.drawDataLabels=function(){if(this.chart.is3d()){var y=this.chart.options.chart.options3d;this.data.forEach(function(a){var b=a.shapeArgs,l=b.r,S=(b.start+b.end)/2;a=a.labelPosition;var z=a.connectorPosition,M=-l*(1-Math.cos((b.alpha||y.alpha)*Z))*Math.sin(S),E=l*(Math.cos((b.beta||y.beta)*Z)-1)*Math.cos(S);[a.natural,z.breakAt,z.touchingSliceAt].forEach(function(L){L.x+=E,L.y+=M})})}p.prototype.drawDataLabels.apply(this,arguments)},f.prototype.pointAttribs=function(y){var a=p.prototype.pointAttribs.apply(this,arguments),b=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(a.stroke=b.edgeColor||y.color||this.color,a["stroke-width"]=C(b.edgeWidth,1)),a},f.prototype.translate=function(){if(p.prototype.translate.apply(this,arguments),this.chart.is3d()){var y=this,a=y.options,b=a.depth||0,l=y.chart.options.chart.options3d,S=l.alpha,z=l.beta,M=a.stacking?(a.stack||0)*b:y._i*b;M+=b/2,a.grouping!==!1&&(M=0),y.data.forEach(function(E){var L=E.shapeArgs;E.shapeType="arc3d",L.z=M,L.depth=.75*b,L.alpha=S,L.beta=z,L.center=y.center,L=(L.end+L.start)/2,E.slicedTranslation={translateX:Math.round(Math.cos(L)*a.slicedOffset*Math.cos(S*Z)),translateY:Math.round(Math.sin(L)*a.slicedOffset*Math.cos(S*Z))}})}},f.prototype.drawTracker=function(){p.prototype.drawTracker.apply(this,arguments),this.chart.is3d()&&this.points.forEach(function(y){y.graphic&&["out","inn","side1","side2"].forEach(function(a){y.graphic&&(y.graphic[a].element.point=y)})})},f}(I.seriesTypes.pie),k(I.prototype,{pointClass:G}),I}),U(m,"Series/Pie3D/Pie3DComposition.js",[m["Series/Pie3D/Pie3DPoint.js"],m["Series/Pie3D/Pie3DSeries.js"],m["Core/Series/SeriesRegistry.js"]],function(k,G,I){I.seriesTypes.pie.prototype.pointClass.prototype.haloPath=k.prototype.haloPath,I.seriesTypes.pie=G}),U(m,"Series/Scatter3D/Scatter3DPoint.js",[m["Series/Scatter/ScatterSeries.js"],m["Core/Utilities.js"]],function(k,G){var I=this&&this.__extends||function(){var d=function(Z,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,p){C.__proto__=p}||function(C,p){for(var f in p)p.hasOwnProperty(f)&&(C[f]=p[f])},d(Z,_)};return function(Z,_){function C(){this.constructor=Z}d(Z,_),Z.prototype=_===null?Object.create(_):(C.prototype=_.prototype,new C)}}(),F=G.defined;return function(d){function Z(){var _=d!==null&&d.apply(this,arguments)||this;return _.options=void 0,_.series=void 0,_}return I(Z,d),Z.prototype.applyOptions=function(){return d.prototype.applyOptions.apply(this,arguments),F(this.z)||(this.z=0),this},Z}(k.prototype.pointClass)}),U(m,"Series/Scatter3D/Scatter3DSeries.js",[m["Core/Math3D.js"],m["Series/Scatter3D/Scatter3DPoint.js"],m["Series/Scatter/ScatterSeries.js"],m["Core/Series/SeriesRegistry.js"],m["Core/Utilities.js"]],function(k,G,I,F,d){var Z=this&&this.__extends||function(){var p=function(f,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var l in b)b.hasOwnProperty(l)&&(a[l]=b[l])},p(f,y)};return function(f,y){function a(){this.constructor=f}p(f,y),f.prototype=y===null?Object.create(y):(a.prototype=y.prototype,new a)}}(),_=k.pointCameraDistance;k=d.extend;var C=d.merge;return d=function(p){function f(){var y=p!==null&&p.apply(this,arguments)||this;return y.data=void 0,y.options=void 0,y.points=void 0,y}return Z(f,p),f.prototype.pointAttribs=function(y){var a=p.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&y&&(a.zIndex=_(y,this.chart)),a},f.defaultOptions=C(I.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}),f}(I),k(d.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:G}),F.registerSeriesType("scatter3d",d),d}),U(m,"masters/highcharts-3d.src.js",[m["Core/Globals.js"],m["Core/Renderer/SVG/SVGRenderer3D.js"],m["Core/Chart/Chart3D.js"],m["Core/Axis/ZAxis.js"],m["Core/Axis/Axis3DComposition.js"],m["Series/Area3D/Area3DSeries.js"]],function(k,G,I,F,d,Z){G.compose(k.SVGRenderer),I.compose(k.Chart,k.Fx),F.compose(k.Chart),d.compose(k.Axis,k.Tick),Z.compose(k.seriesTypes.area)})})}}]);
