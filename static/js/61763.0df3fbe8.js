"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[61763],{961763:function(y,o,n){n.r(o),n.d(o,{default:function(){return v}});var c=function(){var e=this,t=e._self._c;return t("div",[t("el-collapse",[t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title"},[e._v(" \u5168\u5C40\u6837\u5F0F")])]),t("vue-lazy-component",{staticClass:"my-collapse-text"},[t("el-form",{ref:"form",attrs:{size:"mini",model:e.currentWidget.config,"label-width":"75px"}},[t("el-form-item",{attrs:{"label-width":"115",label:"\u7B2C\u4E00\u6B21\u663E\u793A\u65F6\u52A0\u8F7D"}},[t("el-tooltip",{attrs:{content:"\u5982\u679C\u60A8\u7684iframe\u7EC4\u4EF6\u8BBE\u7F6E\u4E86\u9690\u85CF\uFF0C\u5F00\u542F\u8BE5\u9009\u9879\u4F1A\u8BA9\u5B83\u5728\u7B2C\u4E00\u6B21\u663E\u793A\u65F6\u624D\u52A0\u8F7D\u9875\u9762\uFF0C\u5BF9\u4E8Eiframe\u8F83\u591A\u7684\u9875\u9762\uFF0C\u5F00\u542F\u672C\u9009\u9879\u4F1A\u663E\u8457\u63D0\u5347\u6027\u80FD\u3002"}},[t("el-switch",{on:{change:e.getConfigData},model:{value:e.currentWidget.config.loadOnShow,callback:function(l){e.$set(e.currentWidget.config,"loadOnShow",l)},expression:"currentWidget.config.loadOnShow"}},[e._v(" >")])],1)],1),t("el-form-item",{attrs:{label:"\u663E\u793A\u8FB9\u6846"}},[t("el-switch",{on:{change:e.getConfigData},model:{value:e.currentWidget.config.frameborder,callback:function(l){e.$set(e.currentWidget.config,"frameborder",l)},expression:"currentWidget.config.frameborder"}})],1),t("el-form-item",{attrs:{label:"\u6EDA\u52A8\u6761"}},[t("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u663E\u793A\u6EDA\u52A8\u6761"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.scrolling,callback:function(l){e.$set(e.currentWidget.config,"scrolling",l)},expression:"currentWidget.config.scrolling"}},e._l(e.scrollingList,function(l){return t("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1)],1),t("el-form-item",{attrs:{label:"\u94FE\u63A5\u5730\u5740"}},[t("el-input",{staticStyle:{width:"195px"},attrs:{type:"textarea",rows:10,placeholder:"\u94FE\u63A5\u5730\u5740"},on:{change:e.changeUrl},model:{value:e.currentWidget.config.url,callback:function(l){e.$set(e.currentWidget.config,"url",l)},expression:"currentWidget.config.url"}})],1),t("el-collapse",e._l(this.currentWidget.dataset[this.currentWidget.dataset.type].encode,function(l,r){return t("el-collapse-item",{key:r,attrs:{title:"\u53D8\u91CF\u540D: "+l.name}},[t("el-form-item",{attrs:{label:"\u53D8\u91CF\u503C\u7C7B\u578B"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u53D8\u91CF\u503C\u7C7B\u578B"},on:{change:e.getConfigData},model:{value:l.type,callback:function(a){e.$set(l,"type",a)},expression:"encode.type"}},e._l(e.globalEditor.iframeUrlParamsTypeList,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1),l.type==e.globalEditor.iframeUrlParamsType.static.code?t("el-form-item",{attrs:{label:"\u56FA\u5B9A\u503C"}},[t("el-input",{staticStyle:{width:"170px"},attrs:{placeholder:"\u8F93\u5165\u56FA\u5B9A\u503C"},on:{change:e.getConfigData},model:{value:l.staticValue,callback:function(a){e.$set(l,"staticValue",a)},expression:"encode.staticValue"}})],1):l.type==e.globalEditor.iframeUrlParamsType.globalParams.code?t("el-form-item",{attrs:{label:"\u5168\u5C40\u53D8\u91CF"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u5168\u5C40\u53D8\u91CF\u53D8\u91CF\u540D"},on:{change:e.getConfigData},model:{value:l.globalParamName,callback:function(a){e.$set(l,"globalParamName",a)},expression:"encode.globalParamName"}},e._l(e.globalParamsList,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1):l.type==e.globalEditor.iframeUrlParamsType.dataSet.code?t("el-form-item",{attrs:{label:"\u6570\u636E\u96C6\u5B57\u6BB5"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u96C6\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:l.dataSetField,callback:function(a){e.$set(l,"dataSetField",a)},expression:"encode.dataSetField"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(a){return t("el-option",{key:a.name,attrs:{label:a.alias!=""?a.alias:a.name,value:a.name}})}),1)],1):e._e()],1)}),1)],1)],1)],2)],1)],1)},d=[],g=n(723400),u=n(148836),m={name:"all-iframe-style",props:["currentWidget"],mixins:[g.j],computed:{...(0,u.Se)(["getCanvasSetting"]),globalParamsList:function(){let i=this,e=[];return i.getCanvasSetting&&i.getCanvasSetting.data&&i.getCanvasSetting.data.globalParams&&i.getCanvasSetting.data.globalParams.paramsValue&&i.getCanvasSetting.data.globalParams.paramsValue.length>0&&i.$$lib__.each(i.getCanvasSetting.data.globalParams.paramsValue,t=>{e.push({value:t.paramName,label:t.paramName})}),e}},data(){return{globalEditor:this.$$global_editor,scrollingList:[{value:"yes",label:"\u663E\u793A"},{value:"no",label:"\u4E0D\u663E\u793A"},{value:"auto",label:"\u81EA\u52A8"}]}},methods:{changeUrl(i){this.getParams(i),this.getConfigData()},getParams(i){let e=JSON.parse(JSON.stringify(this.currentWidget.dataset.static.encode));if(i==null||i==""){e=[];return}let t=[],l="\\$\\{(.*?)\\}",r=i.match(l);for(;r!=null;){if(!this.$$lib__.find(t,s=>r[1].trim()==s.name)){let s=this.$$lib__.find(e,b=>r[1].trim()==b.name);s?t.push(s):t.push({name:r[1].trim()})}i=r.input.replace(r[0],r[1]),r=i.match(l)}for(let a in this.currentWidget.dataset)this.currentWidget.dataset[a]&&this.currentWidget.dataset[a].encode&&(this.currentWidget.dataset[a].encode=t,a!=this.currentWidget.dataset.type&&(this.currentWidget.dataset[a].encode.dataSetField=null))}}},f=m,p=n(768141),h=(0,p.Z)(f,c,d,!1,null,"7f31611a",null),v=h.exports}}]);
