"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[4089],{44864:function(){},56279:function(m,c,e){e.d(c,{P:function(){return o}});var d=e(86892),r=e(49500);const o={mixins:[d.D],created(){},methods:{lifecycleBeforeChartsLoad(h){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&r.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),r.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let u=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[h]);if(u)return u}return h},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&r.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),r.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},91692:function(m,c,e){var d=e(39733),r=e(53204),o=e(40799),h=(0,d.d)("checkbox-group"),g=h[0],u=h[1];c.Z=g({mixins:[(0,o.G)("vanCheckbox"),r.f],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(s){this.$emit("change",s)}},methods:{toggleAll:function(s){s===void 0&&(s={}),typeof s=="boolean"&&(s={checked:s});var f=s,i=f.checked,t=f.skipDisabled,n=this.children.filter(function(_){return _.disabled&&t?_.checked:i??!_.checked}),a=n.map(function(_){return _.name});this.$emit("input",a)}},render:function(){var s=arguments[0];return s("div",{class:u([this.direction])},[this.slots()])}})},91221:function(m,c,e){var d=e(86569)},2004:function(m,c,e){var d=e(39733),r=e(88768),o=(0,d.d)("checkbox"),h=o[0],g=o[1];c.Z=h({mixins:[(0,r.p)({bem:g,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?this.parent.value.indexOf(this.name)!==-1:this.value},set:function(l){this.parent?this.setParentValue(l):this.$emit("input",l)}}},watch:{value:function(l){this.$emit("change",l)}},methods:{toggle:function(l){var s=this;l===void 0&&(l=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout(function(){s.checked=l})},setParentValue:function(l){var s=this.parent,f=s.value.slice();if(l){if(s.max&&f.length>=s.max)return;f.indexOf(this.name)===-1&&(f.push(this.name),s.$emit("input",f))}else{var i=f.indexOf(this.name);i!==-1&&(f.splice(i,1),s.$emit("input",f))}}}})},20946:function(m,c,e){var d=e(86569),r=e(91905),o=e(51595)},63565:function(m,c,e){var d=e(79023),r=e.n(d),o=e(39733),h=e(81602),g=e(95982),u=e(40321),l=(0,o.d)("image"),s=l[0],f=l[1];c.Z=s({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconPrefix:String,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return(0,h.Xq)(this.width)&&(t.width=(0,g.N)(this.width)),(0,h.Xq)(this.height)&&(t.height=(0,g.N)(this.height)),(0,h.Xq)(this.radius)&&(t.overflow="hidden",t.borderRadius=(0,g.N)(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&h._f&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var n=t.el;n===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var n=t.el;n===this.$refs.image&&!this.error&&this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;if(this.loading&&this.showLoading)return t("div",{class:f("loading")},[this.slots("loading")||t(u.Z,{attrs:{name:this.loadingIcon,classPrefix:this.iconPrefix},class:f("loading-icon")})]);if(this.error&&this.showError)return t("div",{class:f("error")},[this.slots("error")||t(u.Z,{attrs:{name:this.errorIcon,classPrefix:this.iconPrefix},class:f("error-icon")})])},genImage:function(){var t=this.$createElement,n={class:f("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",r()([{ref:"image",directives:[{name:"lazy",value:this.src}]},n])):t("img",r()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},n]))}},render:function(){var t=arguments[0];return t("div",{class:f({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder(),this.slots()])}})},95795:function(m,c,e){var d=e(86569),r=e(91905),o=e(51595),h=e(44864)},77117:function(m,c,e){var d=e(39733),r=e(50947),o=e(40436),h=e(6053),g=e(13013),u=(0,d.d)("list"),l=u[0],s=u[1],f=u[2];c.Z=l({mixins:[(0,h.X)(function(i){this.scroller||(this.scroller=(0,o.Ob)(this.$el)),i(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick(function(){if(!(t.innerLoading||t.finished||t.error)){var n=t.$el,a=t.scroller,_=t.offset,p=t.direction,v;a.getBoundingClientRect?v=a.getBoundingClientRect():v={top:0,bottom:a.innerHeight};var E=v.bottom-v.top;if(!E||(0,r.x)(n))return!1;var b=!1,D=t.$refs.placeholder.getBoundingClientRect();p==="up"?b=v.top-D.top<=_:b=D.bottom-v.bottom<=_,b&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:s("loading")},[this.slots("loading")||t(g.Z,{attrs:{size:"16"}},[this.loadingText||f("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var n=this.slots("finished")||this.finishedText;if(n)return t("div",{class:s("finished-text")},[n])}},genErrorText:function(){var t=this.$createElement;if(this.error){var n=this.slots("error")||this.errorText;if(n)return t("div",{on:{click:this.clickErrorText},class:s("error-text")},[n])}}},render:function(){var t=arguments[0],n=t("div",{ref:"placeholder",key:"placeholder",class:s("placeholder")});return t("div",{class:s(),attrs:{role:"feed","aria-busy":this.innerLoading}},[this.direction==="down"?this.slots():n,this.genLoading(),this.genFinishedText(),this.genErrorText(),this.direction==="up"?this.slots():n])}})},38575:function(m,c,e){var d=e(86569),r=e(91508)},88768:function(m,c,e){e.d(c,{p:function(){return g}});var d=e(40321),r=e(53204),o=e(40799),h=e(95982),g=function(l){var s=l.parent,f=l.bem,i=l.role;return{mixins:[(0,o.j)(s),r.f],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var n=this.checkedColor||this.parent&&this.parent.checkedColor;if(n&&this.checked&&!this.isDisabled)return{borderColor:n,backgroundColor:n}},tabindex:function(){return this.isDisabled||i==="radio"&&!this.checked?-1:0}},methods:{onClick:function(n){var a=this,_=n.target,p=this.$refs.icon,v=p===_||p.contains(_);!this.isDisabled&&(v||!this.labelDisabled)?(this.toggle(),setTimeout(function(){a.$emit("click",n)})):this.$emit("click",n)},genIcon:function(){var n=this.$createElement,a=this.checked,_=this.iconSize||this.parent&&this.parent.iconSize;return n("div",{ref:"icon",class:f("icon",[this.shape,{disabled:this.isDisabled,checked:a}]),style:{fontSize:(0,h.N)(_)}},[this.slots("icon",{checked:a})||n(d.Z,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var n=this.$createElement,a=this.slots();if(a)return n("span",{class:f("label",[this.labelPosition,{disabled:this.isDisabled}])},[a])}},render:function(){var n=arguments[0],a=[this.genIcon()];return this.labelPosition==="left"?a.unshift(this.genLabel()):a.push(this.genLabel()),n("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:f([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[a])}}}},53204:function(m,c,e){e.d(c,{f:function(){return d}});var d={inject:{vanField:{default:null}},watch:{value:function(){var o=this.vanField;o&&(o.resetValidation(),o.validateWithTrigger("onChange"))}},created:function(){var o=this.vanField;o&&!o.children&&(o.children=this)}}},75792:function(m,c,e){var d=e(39733),r=e(50068),o=e(40436),h=e(34672),g=e(13013),u=(0,d.d)("pull-refresh"),l=u[0],s=u[1],f=u[2],i=50,t=["pulling","loosing","success"];c.Z=l({mixins:[h.D],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:[Number,String],value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:i}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return this.status!=="loading"&&this.status!=="success"&&!this.disabled},headStyle:function(){if(this.headHeight!==i)return{height:this.headHeight+"px"}}},watch:{value:function(a){this.duration=this.animationDuration,a?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=(0,o.Ob)(this.$el)},methods:{checkPullStart:function(a){this.ceiling=(0,o.cx)(this.scrollEl)===0,this.ceiling&&(this.duration=0,this.touchStart(a))},onTouchStart:function(a){this.touchable&&this.checkPullStart(a)},onTouchMove:function(a){this.touchable&&(this.ceiling||this.checkPullStart(a),this.touchMove(a),this.ceiling&&this.deltaY>=0&&this.direction==="vertical"&&((0,r.PF)(a),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var a=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,this.status==="loosing"?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick(function(){a.$emit("refresh")})):this.setStatus(0))},ease:function(a){var _=+(this.pullDistance||this.headHeight);return a>_&&(a<_*2?a=_+(a-_)/2:a=_*1.5+(a-_*2)/4),Math.round(a)},setStatus:function(a,_){var p;_?p="loading":a===0?p="normal":p=a<(this.pullDistance||this.headHeight)?"pulling":"loosing",this.distance=a,p!==this.status&&(this.status=p)},genStatus:function(){var a=this.$createElement,_=this.status,p=this.distance,v=this.slots(_,{distance:p});if(v)return v;var E=[],b=this[_+"Text"]||f(_);return t.indexOf(_)!==-1&&E.push(a("div",{class:s("text")},[b])),_==="loading"&&E.push(a(g.Z,{attrs:{size:"16"}},[b])),E},showSuccessTip:function(){var a=this;this.status="success",setTimeout(function(){a.setStatus(0)},this.successDuration)}},render:function(){var a=arguments[0],_={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return a("div",{class:s()},[a("div",{ref:"track",class:s("track"),style:_},[a("div",{class:s("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}})},66780:function(m,c,e){var d=e(86569),r=e(91508)},83762:function(m,c,e){var d=e(39733),r=e(53204),o=e(40799),h=(0,d.d)("radio-group"),g=h[0],u=h[1];c.Z=g({mixins:[(0,o.G)("vanRadio"),r.f],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(s){this.$emit("change",s)}},render:function(){var s=arguments[0];return s("div",{class:u([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}})},37735:function(m,c,e){var d=e(86569)},91567:function(m,c,e){var d=e(39733),r=e(88768),o=(0,d.d)("radio"),h=o[0],g=o[1];c.Z=h({mixins:[(0,r.p)({bem:g,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(l){(this.parent||this).$emit("input",l)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},95144:function(m,c,e){var d=e(86569),r=e(91905),o=e(51595)},50947:function(m,c,e){e.d(c,{x:function(){return d}});function d(r){var o=window.getComputedStyle(r),h=o.display==="none",g=r.offsetParent===null&&o.position!=="fixed";return h||g}},80512:function(m,c,e){e.d(c,{Z:function(){return f}});var d=function(){var t=this,n=t._self._c;return n("div",{class:"container_child_"+t.widgetData.id,attrs:{id:"container_child_"+t.widgetData.id}},[n("keep-alive",[n(t.isView&&t.widgetData.isContainer?t.widgetData.typeName+"-view":t.widgetData.typeName,{ref:"com_"+t.widgetData.id,tag:"component",attrs:{"widget-info":t.widgetData,"widget-arr":t.getWidgetAllArr,"current-widget":t.currentWidget},on:{doGetPreviewData:t.doGetPreviewData,doReSetBoardId:t.doReSetBoardId,attrChange:t.attrChange}})],1)],1)},r=[],o=e(13229),h=e(48836),g={name:"DraggableComponent",extends:o.Z,computed:{...(0,h.Se)(["getWidgetAllArr","isView"])},methods:{reLoadInfo(i){if(i.id){let t=this.$refs["com_"+i.id];t&&t.reLoadInfo(i)}},doReSetBoardId(i){this.$emit("doReSetBoardId",i)},attrChange(i){this.$emit("attrChange",i)}}},u=g,l=e(68141),s=(0,l.Z)(u,d,r,!1,null,"41d16aa2",null),f=s.exports},44513:function(m,c,e){e.d(c,{Z:function(){return s}});var d=function(){var i=this,t=i._self._c;return i.attr.buttonHide?t("div",{style:{position:"absolute",right:i.attr.buttonHideRight+"px",top:i.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(n){return i.onHide()}}},[i.openTooltip?t("el-tooltip",{attrs:{"open-delay":1e3,content:i.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[t("el-button",{class:i.attr.buttonHideIconClass&&i.attr.buttonHideIconClass!=""?i.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:i.attr.buttonHideColor,fontSize:i.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):t("el-button",{class:i.attr.buttonHideIconClass&&i.attr.buttonHideIconClass!=""?i.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:i.attr.buttonHideColor,fontSize:i.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):i._e()},r=[],o=e(52246),h={props:["attr"],name:"hide-button",data(){return{isPc:o.b}},computed:{openTooltip:function(){let f=!1,i=this.attr.buttonHideTooltipContent;return o.b&&i&&i!=null&&i.trim()!=""&&(f=!0),f}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},g=h,u=e(68141),l=(0,u.Z)(g,d,r,!1,null,"bf399b9a",null),s=l.exports}}]);
