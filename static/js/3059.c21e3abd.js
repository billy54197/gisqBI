"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[3059],{77712:function(x,C,f){f.d(C,{C2:function(){return _},IV:function(){return E},S1:function(){return l},cn:function(){return I},on:function(){return y},pv:function(){return a}});var p=f(42160);const u=p.default.prototype.$isServer,d=/([\:\-\_]+(.))/g,m=/^moz([A-Z])/,v=u?0:Number(document.documentMode),g=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},b=function(t){return t.replace(d,function(e,n,s,c){return c?s.toUpperCase():s}).replace(m,"Moz$1")},y=function(){return!u&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),l=function(){return!u&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}(),r=function(t,e,n){var s=function(){n&&n.apply(this,arguments),l(t,e,s)};y(t,e,s)};function a(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function I(t,e){if(t){for(var n=t.className,s=(e||"").split(" "),c=0,w=s.length;c<w;c++){var h=s[c];h&&(t.classList?t.classList.add(h):a(t,h)||(n+=" "+h))}t.classList||t.setAttribute("class",n)}}function E(t,e){if(!(!t||!e)){for(var n=e.split(" "),s=" "+t.className+" ",c=0,w=n.length;c<w;c++){var h=n[c];h&&(t.classList?t.classList.remove(h):a(t,h)&&(s=s.replace(" "+h+" "," ")))}t.classList||t.setAttribute("class",g(s))}}const _=v<9?function(t,e){if(!u){if(!t||!e)return null;e=b(e),e==="float"&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch{return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch{return t.style[e]}}}:function(t,e){if(!u){if(!t||!e)return null;e=b(e),e==="float"&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch{return t.style[e]}}};function S(t,e,n){if(!(!t||!e))if(typeof e=="object")for(var s in e)e.hasOwnProperty(s)&&S(t,s,e[s]);else e=b(e),e==="opacity"&&v<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+n*100+")":t.style[e]=n}const L=(t,e)=>u?void 0:(e!=null?e?_(t,"overflow-y"):_(t,"overflow-x"):_(t,"overflow")).match(/(scroll|auto|overlay)/),o=(t,e)=>{if(u)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(L(n,e))return n;n=n.parentNode}return n},i=(t,e)=>{if(u||!t||!e)return!1;const n=t.getBoundingClientRect();let s;return[window,document,document.documentElement,null,void 0].includes(e)?s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:s=e.getBoundingClientRect(),n.top<s.bottom&&n.bottom>s.top&&n.right>s.left&&n.left<s.right}},95058:function(x,C,f){f.d(C,{q:function(){return a}});var p=f(42160),u=f(77296),d=f(77712);let m=!1,v=!1,g;const b=function(){if(p.default.prototype.$isServer)return;let o=l.modalDom;return o?m=!0:(m=!1,o=document.createElement("div"),l.modalDom=o,o.addEventListener("touchmove",function(i){i.preventDefault(),i.stopPropagation()}),o.addEventListener("click",function(){l.doOnModalClick&&l.doOnModalClick()})),o},y={},l={modalFade:!0,getInstance:function(o){return y[o]},register:function(o,i){o&&i&&(y[o]=i)},deregister:function(o){o&&(y[o]=null,delete y[o])},nextZIndex:function(){return l.zIndex++},modalStack:[],doOnModalClick:function(){const o=l.modalStack[l.modalStack.length-1];if(!o)return;const i=l.getInstance(o.id);i&&i.closeOnClickModal&&i.close()},openModal:function(o,i,t,e,n){if(p.default.prototype.$isServer||!o||i===void 0)return;this.modalFade=n;const s=this.modalStack;for(let w=0,h=s.length;w<h;w++)if(s[w].id===o)return;const c=b();(0,d.cn)(c,"v-modal"),this.modalFade&&!m&&(0,d.cn)(c,"v-modal-enter"),e&&e.trim().split(/\s+/).forEach(h=>(0,d.cn)(c,h)),setTimeout(()=>{(0,d.IV)(c,"v-modal-enter")},200),t&&t.parentNode&&t.parentNode.nodeType!==11?t.parentNode.appendChild(c):document.body.appendChild(c),i&&(c.style.zIndex=i),c.tabIndex=0,c.style.display="",this.modalStack.push({id:o,zIndex:i,modalClass:e})},closeModal:function(o){const i=this.modalStack,t=b();if(i.length>0){const e=i[i.length-1];if(e.id===o)e.modalClass&&e.modalClass.trim().split(/\s+/).forEach(s=>(0,d.IV)(t,s)),i.pop(),i.length>0&&(t.style.zIndex=i[i.length-1].zIndex);else for(let n=i.length-1;n>=0;n--)if(i[n].id===o){i.splice(n,1);break}}i.length===0&&(this.modalFade&&(0,d.cn)(t,"v-modal-leave"),setTimeout(()=>{i.length===0&&(t.parentNode&&t.parentNode.removeChild(t),t.style.display="none",l.modalDom=void 0),(0,d.IV)(t,"v-modal-leave")},200))}};Object.defineProperty(l,"zIndex",{configurable:!0,get(){return v||(g=g||(p.default.prototype.$ELEMENT||{}).zIndex||2e3,v=!0),g},set(o){g=o}});const r=function(){if(!p.default.prototype.$isServer&&l.modalStack.length>0){const o=l.modalStack[l.modalStack.length-1];return o?l.getInstance(o.id):void 0}};p.default.prototype.$isServer||window.addEventListener("keydown",function(o){if(o.keyCode===27){const i=r();i&&i.closeOnPressEscape&&(i.handleClose?i.handleClose():i.handleAction?i.handleAction("cancel"):i.close())}});var a=l;let I;function E(){if(p.default.prototype.$isServer)return 0;if(I!==void 0)return I;const o=document.createElement("div");o.className="el-scrollbar__wrap",o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const i=o.offsetWidth;o.style.overflow="scroll";const t=document.createElement("div");t.style.width="100%",o.appendChild(t);const e=t.offsetWidth;return o.parentNode.removeChild(o),I=i-e,I}let _=1,S;var L={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount(){this._popupId="popup-"+_++,a.register(this._popupId,this)},beforeDestroy(){a.deregister(this._popupId),a.closeModal(this._popupId),this.restoreBodyStyle()},data(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible(o){if(o){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,p.default.nextTick(()=>{this.open()}))}else this.close()}},methods:{open(o){this.rendered||(this.rendered=!0);const i=(0,u.Z)({},this.$props||this,o);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);const t=Number(i.openDelay);t>0?this._openTimer=setTimeout(()=>{this._openTimer=null,this.doOpen(i)},t):this.doOpen(i)},doOpen(o){if(this.$isServer||this.willOpen&&!this.willOpen()||this.opened)return;this._opening=!0;const i=this.$el,t=o.modal,e=o.zIndex;if(e&&(a.zIndex=e),t&&(this._closing&&(a.closeModal(this._popupId),this._closing=!1),a.openModal(this._popupId,a.nextZIndex(),this.modalAppendToBody?void 0:i,o.modalClass,o.modalFade),o.lockScroll)){this.withoutHiddenClass=!(0,d.pv)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,d.C2)(document.body,"paddingRight"),10)),S=E();let n=document.documentElement.clientHeight<document.body.scrollHeight,s=(0,d.C2)(document.body,"overflowY");S>0&&(n||s==="scroll")&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+S+"px"),(0,d.cn)(document.body,"el-popup-parent--hidden")}getComputedStyle(i).position==="static"&&(i.style.position="absolute"),i.style.zIndex=a.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()},doAfterOpen(){this._opening=!1},close(){if(this.willClose&&!this.willClose())return;this._openTimer!==null&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);const o=Number(this.closeDelay);o>0?this._closeTimer=setTimeout(()=>{this._closeTimer=null,this.doClose()},o):this.doClose()},doClose(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose(){a.closeModal(this._popupId),this._closing=!1},restoreBodyStyle(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,d.IV)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}}},56279:function(x,C,f){f.d(C,{P:function(){return d}});var p=f(86892),u=f(49500);const d={mixins:[p.D],created(){},methods:{lifecycleBeforeChartsLoad(m){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&u.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),u.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let g=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[m]);if(g)return g}return m},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&u.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),u.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},44513:function(x,C,f){f.d(C,{Z:function(){return y}});var p=function(){var r=this,a=r._self._c;return r.attr.buttonHide?a("div",{style:{position:"absolute",right:r.attr.buttonHideRight+"px",top:r.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(I){return r.onHide()}}},[r.openTooltip?a("el-tooltip",{attrs:{"open-delay":1e3,content:r.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[a("el-button",{class:r.attr.buttonHideIconClass&&r.attr.buttonHideIconClass!=""?r.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:r.attr.buttonHideColor,fontSize:r.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):a("el-button",{class:r.attr.buttonHideIconClass&&r.attr.buttonHideIconClass!=""?r.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:r.attr.buttonHideColor,fontSize:r.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):r._e()},u=[],d=f(52246),m={props:["attr"],name:"hide-button",data(){return{isPc:d.b}},computed:{openTooltip:function(){let l=!1,r=this.attr.buttonHideTooltipContent;return d.b&&r&&r!=null&&r.trim()!=""&&(l=!0),l}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},v=m,g=f(68141),b=(0,g.Z)(v,p,u,!1,null,"bf399b9a",null),y=b.exports}}]);
