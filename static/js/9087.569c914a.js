"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[9087],{56279:function(S,p,c){c.d(p,{P:function(){return b}});var y=c(86892),g=c(49500);const b={mixins:[y.D],created(){},methods:{lifecycleBeforeChartsLoad(t){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&g.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),g.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let l=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[t]);if(l)return l}return t},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&g.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),g.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},83577:function(S,p,c){c.d(p,{i:function(){return b}});var y=c(48836),g=c(27966);const b={created(){},computed:{...(0,y.Se)(["getCurrentWidget","getKeydown","getSelectMultiple","getMultipleWidget","getWidgets"])},methods:{...(0,y.nv)(["setCurrentWidget","setCurrentWidgetXYWHR","setActiveScreen","removeMultipleWidget","addMultipleWidget","setSelectMultiple","clearMultipleWidget"]),reLoadInfo(t){this.widgetInfo.id!=t.id&&this.$refs["comp_"+t.id]&&setTimeout(()=>{this.$refs["comp_"+t.id][0].reLoadInfo(t),this.$refs["comp_frame_"+t.id][0].initSvg()},500),this.loadInfo(t)},orgWidget(t,r){let l=[];return this.$$lib__.each(t,n=>{for(let s=0;s<this.widgetArr.length;s++){let d=this.widgetArr[s];d.parentId==this.widgetInfo.id&&d.id==n.id&&(!r||r(d))&&l.push(JSON.parse(JSON.stringify(d)))}}),l},setTitleText(t,r){r?this.$$lib__.each(r,l=>{this.$$lib__.each(this.orgWidget(l.widgets,n=>!n.title.hide&&n.title.text),n=>{n.attr.widgetW||(n.attr.widgetW=n.attr.w),this.$refs["title_"+n.id]&&this.$refs["title_"+n.id][0]&&(this.$refs["title_"+n.id][0].innerHTML=this.initTextPosition(n)),n.title.position||(n.title.position="top")})}):this.$$lib__.each(this.orgWidget(t,l=>!l.title.hide&&l.title.text),l=>{this.$refs["title_"+l.id]&&this.$refs["title_"+l.id][0]&&(this.$refs["title_"+l.id][0].innerHTML=this.initTextPosition(l)),l.title.position||(l.title.position="top")})},initTextPosition(t){return t.title.text===void 0||!t.title.text?"":t.title.text&&(t.title.position==="left"||t.title.position==="right")?t.title.text.split("").join("<br />"):t.title.text},onActive(t){return this.getSelectMultiple?this.getMultipleWidget[t.id]!=null:t.id===this.getCurrentWidget.id},onClicked(t){if(t&&t.currentTarget){let r=t.currentTarget.id;if(r&&r.indexOf(this.prefix.widget)>-1){let l=r.substr(this.prefix.widget.length);if(l!=this.getCurrentWidget.id){this.setActiveScreen(!1),this.setCurrentWidget(l);let n=this.$$lib__.keys(this.getMultipleWidget);this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[l]?this.removeMultipleWidget(l):this.addMultipleWidget(l)):this.getMultipleWidget[l]==null?(this.setSelectMultiple(!1),this.clearMultipleWidget(),this.addMultipleWidget(l)):n&&n.length==1&&(this.setSelectMultiple(!1),this.setCurrentWidget(n[0]),this.clearMultipleWidget(),this.addMultipleWidget(n[0]))}g.Z.$emit("autoScrollIntoViewWidgetTree",l)}}},onMouseEnter(t){this.onWidgetLayerMouseOver("push",t)},onMouseLeave(t){this.onWidgetLayerMouseOver("pop",t)},onWidgetLayerMouseOver(t,r){if(r&&r.currentTarget){let l=r.currentTarget.id;if(l&&l.indexOf(this.prefix.widget)>-1){let n=l.substr(this.prefix.widget.length);n&&n!=this.getCurrentWidget.id&&this.getMultipleWidget[n]==null&&t=="push"&&this.widget_layer_mouse_over.push(n),t=="pop"&&(this.widget_layer_mouse_over=this.$$lib__.without(this.widget_layer_mouse_over,n))}}},onDragstop(t,r){let l=this.getCurrentWidget.attr;l&&(l.x!=t||l.y!=r)&&this.setCurrentWidgetXYWHR({x:t,y:r})},dragging(t,r,l,n){if(this.getSelectMultiple){let s=this.getCurrentWidget.attr;s&&(s.x!=t||s.y!=r)&&this.setCurrentWidgetXYWHR({x:t,y:r})}},onResizstop(t,r,l,n){this.setCurrentWidgetXYWHR({x:t,y:r,w:l,h:n})},onRotatestop(t){this.setCurrentWidgetXYWHR({r:t})},getdraggableHW(t){let r={h:t.attr.h,w:t.attr.w?t.attr.widgetW:t.attr.w};return t.border.hide!=!0&&(t.border.type==!1?(t.border.widthT&&t.border.styleT&&t.border.styleT!=="none"&&(r.h=r.h+t.border.widthT),t.border.widthB&&t.border.styleB&&t.border.styleB!=="none"&&(r.h=r.h+t.border.widthB),t.border.widthR&&t.border.styleR&&t.border.styleR!=="none"&&(r.w=r.w+t.border.widthR),t.border.widthL&&t.border.styleL&&t.border.styleL!=="none"&&(r.w=r.w+t.border.widthL)):t.border.type==!0&&(t.border.breadthT&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(r.h=r.h+t.border.breadthT),t.border.breadthB&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(r.h=r.h+t.border.breadthB),t.border.breadthR&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(r.w=r.w+t.border.breadthR),t.border.breadthL&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(r.w=r.w+t.border.breadthL))),r},getDraggableStyle(t){let r={};return!t.isContainer&&!t.attr.pointerEvents&&(r.pointerEvents="none",t.id===this.getCurrentWidget.id&&(r.backgroundColor="rgba(236, 240, 241, 1)",r.filter="Alpha(Opacity=50)")),typeof t.attr.opacity=="number"&&(r.opacity=t.attr.opacity),t.attr.backgroundColor&&(r.backgroundColor=t.attr.backgroundColor),t.attr.backgroundImage&&(r.backgroundImage=this.getImageUrl(t.attr.backgroundImage)),t.attr.backgroundSize&&(r.backgroundSize=t.attr.backgroundSize),r.overflow=t.border.overflowShow?"hidden":"visible",t.border.hide!=!0&&((t.border.hShadow||t.border.vShadow)&&(r.boxShadow=(t.border.hShadow||0)+"px "+(t.border.vShadow||0)+"px "+(t.border.blur||0)+"px "+t.border.blurColor||"rgba(0,0,0,0)"),t.border.type==!1?(r.borderTopWidth=t.border.widthT+"px",r.borderRightWidth=t.border.widthR+"px",r.borderBottomWidth=t.border.widthB+"px",r.borderLeftWidth=t.border.widthL+"px",r.borderTopStyle=t.border.styleT,r.borderRightStyle=t.border.styleR,r.borderBottomStyle=t.border.styleB,r.borderLeftStyle=t.border.styleL,r.borderTopColor=t.border.colorT,r.borderRightColor=t.border.colorR,r.borderBottomColor=t.border.colorB,r.borderLeftColor=t.border.colorL,r.borderTopLeftRadius=t.border.radiusTL+"px",r.borderTopRightRadius=t.border.radiusTR+"px",r.borderBottomLeftRadius=t.border.radiusBL+"px",r.borderBottomRightRadius=t.border.radiusBR+"px"):t.border.type==!0&&(r.borderStyle=t.border.borderStyle,r.borderTopWidth=t.border.breadthT+"px",r.borderRightWidth=t.border.breadthR+"px",r.borderBottomWidth=t.border.breadthB+"px",r.borderLeftWidth=t.border.breadthL+"px",r.borderImageSource=this.getImageUrl(t.border.borderImage),r.borderImageSlice=t.border.cutT+" "+t.border.cutR+" "+t.border.cutB+" "+t.border.cutL,r.borderImageRepeat=t.border.repeat)),r.float="left !important",r}}}},59738:function(S,p,c){c.d(p,{OW:function(){return g},m3:function(){return l},nm:function(){return b},vP:function(){return t},xC:function(){return r}});var y=c(53258);function g(n,s,d){let a=n;const h=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(m=>(0,y.mf)(a[m]));if(!(0,y.mf)(a[h]))return!1;do{if(a[h](s))return!0;if(a===d)return!1;a=a.parentNode}while(a);return!1}function b(n){const s=window.getComputedStyle(n);return[parseFloat(s.getPropertyValue("width"),10),parseFloat(s.getPropertyValue("height"),10)]}function t(n,s,d){n&&(n.attachEvent?n.attachEvent("on"+s,d):n.addEventListener?n.addEventListener(s,d,!0):n["on"+s]=d)}function r(n,s,d){n&&(n.detachEvent?n.detachEvent("on"+s,d):n.removeEventListener?n.removeEventListener(s,d,!0):n["on"+s]=null)}function l(n,s,d,a){var h=0,m=setInterval(()=>{h<d?(h++,n()):(clearInterval(m),a&&a())},s);return m}},80512:function(S,p,c){c.d(p,{Z:function(){return d}});var y=function(){var h=this,m=h._self._c;return m("div",{class:"container_child_"+h.widgetData.id,attrs:{id:"container_child_"+h.widgetData.id}},[m("keep-alive",[m(h.isView&&h.widgetData.isContainer?h.widgetData.typeName+"-view":h.widgetData.typeName,{ref:"com_"+h.widgetData.id,tag:"component",attrs:{"widget-info":h.widgetData,"widget-arr":h.getWidgetAllArr,"current-widget":h.currentWidget},on:{doGetPreviewData:h.doGetPreviewData,doReSetBoardId:h.doReSetBoardId,attrChange:h.attrChange}})],1)],1)},g=[],b=c(13229),t=c(48836),r={name:"DraggableComponent",extends:b.Z,computed:{...(0,t.Se)(["getWidgetAllArr","isView"])},methods:{reLoadInfo(a){if(a.id){let h=this.$refs["com_"+a.id];h&&h.reLoadInfo(a)}},doReSetBoardId(a){this.$emit("doReSetBoardId",a)},attrChange(a){this.$emit("attrChange",a)}}},l=r,n=c(68141),s=(0,n.Z)(l,y,g,!1,null,"41d16aa2",null),d=s.exports},44513:function(S,p,c){c.d(p,{Z:function(){return s}});var y=function(){var a=this,h=a._self._c;return a.attr.buttonHide?h("div",{style:{position:"absolute",right:a.attr.buttonHideRight+"px",top:a.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(m){return a.onHide()}}},[a.openTooltip?h("el-tooltip",{attrs:{"open-delay":1e3,content:a.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[h("el-button",{class:a.attr.buttonHideIconClass&&a.attr.buttonHideIconClass!=""?a.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:a.attr.buttonHideColor,fontSize:a.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):h("el-button",{class:a.attr.buttonHideIconClass&&a.attr.buttonHideIconClass!=""?a.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:a.attr.buttonHideColor,fontSize:a.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):a._e()},g=[],b=c(52246),t={props:["attr"],name:"hide-button",data(){return{isPc:b.b}},computed:{openTooltip:function(){let d=!1,a=this.attr.buttonHideTooltipContent;return b.b&&a&&a!=null&&a.trim()!=""&&(d=!0),d}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},r=t,l=c(68141),n=(0,l.Z)(r,y,g,!1,null,"bf399b9a",null),s=n.exports},86708:function(S,p,c){c.r(p),c.d(p,{default:function(){return W}});var y=function(){var e=this,u=e._self._c;return u("div",{directives:[{name:"show",rawName:"v-show",value:e.widgetInfo.attr.hide!=!0,expression:"widgetInfo.attr.hide != true"}],staticClass:"my-div",style:{width:e.widgetInfo.attr.w+"px",height:e.widgetInfo.attr.hh+"px"},on:{click:e.onClick}},[u("hide-button",{attrs:{attr:e.widgetInfo.attr}}),u("el-carousel",{ref:"myCarousel",attrs:{height:e.widgetInfo.attr.hh+"px",autoplay:e.widgetInfo.config.carouselAttr.autoplay,interval:e.widgetInfo.config.carouselAttr.interval*1e3,trigger:e.widgetInfo.config.carouselAttr.trigger,indicatorPosition:e.widgetInfo.config.carouselAttr.indicatorPosition,arrow:e.widgetInfo.config.carouselAttr.arrow,type:e.widgetInfo.config.carouselAttr.type,loop:e.widgetInfo.config.carouselAttr.loop,direction:e.widgetInfo.config.carouselAttr.direction},on:{change:e.change}},e._l(e.widgetInfo.config.carouselItemAttr,function(f,v){return u("el-carousel-item",{key:v,attrs:{name:f.id,label:f.label}},[u("div",{staticClass:"my-screen",style:e.getCarouselItemStyle(f),on:{click:e.onClick}},e._l(e.orgWidget(f.widgets),function(o){return u("draggable",{directives:[{name:"show",rawName:"v-show",value:o.attr.hideEditor!==!0,expression:"widget.attr.hideEditor !== true"}],key:e.prefix.widget+o.id,ref:e.prefix.widget+o.id,refInFor:!0,attrs:{rotatable:!0,resizable:!o.attr.locked,draggable:!o.attr.locked,snap:!0,id:e.prefix.widget+o.id,x:o.attr.x,y:o.attr.y,z:e.getZ(o),r:o.attr.deg,h:e.getdraggableHW(o).h,w:e.getdraggableHW(o).w,minw:o.attr.minw,minh:o.attr.minh,deselectCancel:".unboardArea",active:e.onActive(o)},on:{onClicked:e.onClicked,dragstop:e.onDragstop,dragging:e.dragging,resizestop:e.onResizstop,rotatestop:e.onRotatestop,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}},[u("widget-action-icon",{attrs:{widget:o}}),u("div",{style:e.getDraggableMouseOver(o)}),u("div",{directives:[{name:"show",rawName:"v-show",value:o.attr.hide!==!0,expression:"widget.attr.hide !== true"}],staticClass:"my-drag-widget",style:e.getDraggableStyle(o)},[u("external-frame-svg",{ref:"comp_frame_"+o.id,refInFor:!0,attrs:{"widget-info":o}}),o.title.position==="top"||o.title.position==="left"?u("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(k){return e.openLink(o)}}},[u("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[u("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e(),u("draggable-component-container",{ref:"comp_"+o.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:e.getInfoStyle(o),attrs:{widgetData:o,currentWidget:e.getCurrentWidget}}),o.title.position==="bottom"||o.title.position==="right"?u("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(k){return e.openLink(o)}}},[u("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[u("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e()],1)],1)}),1)])}),1)],1)},g=[],b=c(44513),t=c(46207),r=c(80512),l=c(23400),n=c(83577),s=c(23930),d=c(21300),a=c(1783),h=c(67157);const m={mixins:[h.c],data(){return{config_extend:{config:{carouselAttr:{arrowStyle:{custom:!1,leftArrowT:178,rightArrowT:178,type:"icon"}},carouselItemAttr:[{backgroundImage:"./static/image/carousel-default-1.jpg",backgroundSize:"100% 100%"},{backgroundImage:"./static/image/carousel-default-2.jpg",backgroundSize:"contain"}],panesAttr:{activeStyle:{background:{backgroundColor:"rgba(255, 255, 255, 1)"}},inactivatedStyle:{background:{backgroundColor:"rgba(219, 223, 230, 1)"}}}}},filter_config:{panesAttr:{activeStyle:{activeColor:"",fontStyle:{fontFamily:"Microsoft Yahei"},background:{backgroundColor:"rgba(255, 255, 255, 1)"}},inactivatedStyle:{initialColor:"",fontStyle:{fontFamily:"Microsoft Yahei"},background:{backgroundColor:"rgba(219, 223, 230, 1)"}}}}}},methods:{filterPredefineColoursSchemeConfig(i,e){this.getNewConfigWithArrary(i,e,this.filter_config)}}};var _=c(56279),I=c(29466),x={props:["widgetInfo","widgetArr","currentWidget"],name:"container-carousel",components:{WidgetActionIcon:I.Z,ExternalFrameSvg:a.Z,DraggableComponentContainer:r.Z,draggable:t.Z,HideButton:b.Z},mixins:[s.u,l.j,n.i,m,_.P],mounted(){this.$nextTick(function(){this.loadInfo(this.widgetInfo)})},watch:{"currentWidget.id":{handler:function(){this.currentWidget.parentId&&this.currentWidget.parentId==this.widgetInfo.id&&this.setCarouselActive()}},getCurrentWidget:{deep:!0,handler:function(){this.$nextTick(()=>{this.setTitleText("widgets",this.widgetInfo.config.carouselItemAttr)})}}},methods:{loadInfo(i){this.widgetInfo.id==i.id&&(this.setIndicatorPosition(i),this.setBtnStyle(i),this.setArrowStyle(i),this.lifecycleAfterLoad())},setArrowStyle(i){let e=this.$refs.myCarousel.$el.childNodes[0].childNodes;e[0].nodeName=="BUTTON"&&(e[0].className&&e[0].className.indexOf("el-carousel__arrow--left")>-1&&(i.config.carouselAttr.arrowStyle.leftArrowL&&(e[0].style.left=this.mUtils.getNewPxW(i.config.carouselAttr.arrowStyle.leftArrowL)+"px"),i.config.carouselAttr.arrowStyle.leftArrowT&&(e[0].style.top=this.mUtils.getNewPxH(i.config.carouselAttr.arrowStyle.leftArrowT)+"px"),e[0].style.transform="translateY(0)"),e[1].className&&e[1].className.indexOf("el-carousel__arrow--right")>-1&&(i.config.carouselAttr.arrowStyle.rightArrowL&&(e[1].style.right=this.mUtils.getNewPxW(i.config.carouselAttr.arrowStyle.rightArrowL)+"px"),i.config.carouselAttr.arrowStyle.rightArrowT&&(e[1].style.top=this.mUtils.getNewPxH(i.config.carouselAttr.arrowStyle.rightArrowT)+"px"),e[1].style.transform="translateY(0)"),i.config.carouselAttr.arrowStyle.type==="image"?(i.config.carouselAttr.arrowStyle.img?(e[0].style.backgroundImage=this.getURL(i.config.carouselAttr.arrowStyle.img),e[0].style.backgroundSize="cover",e[0].childNodes[0].className="",e[1].style.background=this.getURL(i.config.carouselAttr.arrowStyle.img),e[1].style.backgroundSize="cover",e[1].childNodes[0].className="",e[1].style.transform="rotateY(181deg)"):(e[0].style.backgroundImage="",e[1].style.backgroundImage="",e[0].childNodes[0].className="el-icon-arrow-left",e[1].childNodes[0].className="el-icon-arrow-right",e[1].childNodes[0].style.transform="rotateY(0deg)"),i.config.carouselAttr.arrowStyle.imgWidth&&(e[0].style.width=i.config.carouselAttr.arrowStyle.imgWidth+"px",e[1].style.width=i.config.carouselAttr.arrowStyle.imgWidth+"px"),i.config.carouselAttr.arrowStyle.imgHeight&&(e[0].style.height=i.config.carouselAttr.arrowStyle.imgHeight+"px",e[1].style.height=i.config.carouselAttr.arrowStyle.imgHeight+"px")):i.config.carouselAttr.arrowStyle.type==="icon"&&(e[0].style.backgroundImage="",e[1].style.backgroundImage="",e[0].style.background="",e[1].style.background="",i.config.carouselAttr.arrowStyle.iconClass?(e[0].childNodes[0].className=i.config.carouselAttr.arrowStyle.iconClass,e[1].childNodes[0].className=i.config.carouselAttr.arrowStyle.iconClass,e[1].childNodes[0].style.transform="rotateY(181deg)"):(e[0].childNodes[0].className="el-icon-arrow-left",e[1].childNodes[0].className="el-icon-arrow-right",e[1].childNodes[0].style.transform="rotateY(0deg)"),i.config.carouselAttr.arrowStyle.iconColor&&(e[0].childNodes[0].style.color=i.config.carouselAttr.arrowStyle.iconColor,e[1].childNodes[0].style.color=i.config.carouselAttr.arrowStyle.iconColor),i.config.carouselAttr.arrowStyle.fontSize&&(e[0].childNodes[0].style.fontSize=i.config.carouselAttr.arrowStyle.fontSize+"px",e[1].childNodes[0].style.fontSize=i.config.carouselAttr.arrowStyle.fontSize+"px")))},setIndicatorPosition(i){let e=this.$refs.myCarousel.$el,u=this.$refs.myCarousel.$el.childNodes[1];e.className&&e.className.indexOf("el-carousel")>-1&&u.className&&u.className.indexOf("el-carousel__indicators")>-1&&(i.config.carouselAttr.indicatorPosition==="custom"?(e.parentNode.style.position="relative",e.style.position="static",u.style.bottom=this.mUtils.getNewPxH(i.config.carouselAttr.indicatorBottom)+"px",u.style.left=this.mUtils.getNewPxW(i.config.carouselAttr.indicatorLeft)+"px",u.style.top="auto",u.style.right="auto",u.style.transform="none",u.style.position="absolute"):u.style="")},getURL(i){if(i&&i!="")return"url("+d.appendImageBaseURL(i)+")"},change(){this.$nextTick(function(){this.loadInfo(this.widgetInfo)})},setBtnStyle(i){let e=this.$refs.myCarousel.$el,u=e.childElementCount,f=i.config.panesAttr;if(u>1&&e.childNodes[1].nodeName=="UL")for(let v=0;v<e.childNodes[1].childNodes.length;v++){let o=e.childNodes[1].childNodes[v].childNodes[0];o.style.padding="2px 2px",o.style.display="inline-block",o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.style.whiteSpace="nowrap",o.style.width=f.width+"px",o.style.height=f.height+"px",o.style.border=f.border?"1px solid #ccc":"0px",o.style.borderColor=f.borderColor,o.style.borderRadius=f.borderRadius+"px",e.childNodes[1].childNodes[v].className.indexOf("is-active")>-1?(o.style.color=f.activeStyle.activeColor,o.style.backgroundColor=f.activeStyle.background.backgroundColor,o.style.backgroundImage=f.activeStyle.background.backgroundImage?this.getImageUrl(f.activeStyle.background.backgroundImage):"",o.style.backgroundSize=f.activeStyle.background.backgroundSize,o.style.fontFamily=f.activeStyle.fontStyle.fontFamily,o.style.fontSize=f.activeStyle.fontStyle.fontSize+"px",o.style.fontStyle=f.activeStyle.fontStyle.fontStyle,o.style.fontWeight=f.activeStyle.fontStyle.fontWeight,o.style.textAlign=f.activeStyle.fontStyle.horizontalAlignment,o.style.textDecoration=f.activeStyle.fontStyle.textDecoration):(o.style.color=f.inactivatedStyle.initialColor,o.style.backgroundColor=f.inactivatedStyle.background.backgroundColor,o.style.backgroundImage=f.inactivatedStyle.background.backgroundImage?this.getImageUrl(f.inactivatedStyle.background.backgroundImage):"",o.style.backgroundSize=f.inactivatedStyle.background.backgroundSize,o.style.fontFamily=f.inactivatedStyle.fontStyle.fontFamily,o.style.fontSize=f.inactivatedStyle.fontStyle.fontSize+"px",o.style.fontStyle=f.inactivatedStyle.fontStyle.fontStyle,o.style.fontWeight=f.inactivatedStyle.fontStyle.fontWeight,o.style.textAlign=f.inactivatedStyle.fontStyle.horizontalAlignment,o.style.textDecoration=f.inactivatedStyle.fontStyle.textDecoration)}},setCarouselActive(){let i=this;for(let e=0;e<this.widgetInfo.config.carouselItemAttr.length;e++)if(i.$$lib__.find(this.widgetInfo.config.carouselItemAttr[e].widgets,f=>f.id==i.getCurrentWidget.id)){i.$refs.myCarousel.setActiveItem(this.widgetInfo.config.carouselItemAttr[e].id);return}},onClick(i){typeof i.target.className=="string"&&(i.target.className.indexOf("my-screen")>-1||i.target.className.indexOf("el-carousel__container"))>-1&&(this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[this.widgetInfo.id]?this.removeMultipleWidget(this.widgetInfo.id):(this.$$lib__.each(this.widgetInfo.config.widgets,e=>{this.removeMultipleWidget(e.id)}),this.addMultipleWidget(this.widgetInfo.id))):this.setCurrentWidget(this.widgetInfo.id))},getCarouselItemStyle(i){return{opacity:i.opacity,backgroundColor:i.backgroundColor,backgroundImage:this.getImageUrl(i.backgroundImage),backgroundSize:i.backgroundSize}}}},C=x,w=c(68141),A=(0,w.Z)(C,y,g,!1,null,"b8a0b396",null),W=A.exports},29466:function(S,p,c){c.d(p,{Z:function(){return n}});var y=function(){var d=this,a=d._self._c;return d.action_info.is_action?a("div",{staticClass:"widget-action-icon"},[a("el-tooltip",{attrs:{"open-delay":1e3,effect:"light",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-table",{attrs:{data:d.action_info.tableData,"span-method":d.objectSpanMethod,border:"",size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u7C7B\u578B",prop:"action_type"}}),a("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u540D\u79F0",prop:"action_name"}})],1)],1),a("i",{staticClass:"iconfont bi_jh"})])],1):d._e()},g=[],b={name:"widget-action-icon",props:["widget"],data(){return{action_info:{is_action:!1,tableData:[]},position:0,rowSpanArr:[]}},watch:{widget:{deep:!0,handler:function(){this.initInfo()}}},mounted(){this.initInfo()},methods:{initInfo(){if(this.action_info.is_action=!1,this.action_info.tableData=[],this.widget&&this.widget.action){if(this.widget.action.lifecycle)for(let s in this.widget.action.lifecycle)this.widget.action.lifecycle[s].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u751F\u547D\u5468\u671F",action_name:this.widget.action.lifecycle[s].name}));if(this.widget.action.sendOut&&this.widget.action.sendOut.actionList&&this.$$lib__.each(this.widget.action.sendOut.actionList,s=>{s.enabled==!0&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u53D1\u9001\u4E8B\u4EF6",action_name:s.name}))}),this.widget.action.receive)for(let s in this.widget.action.receive)this.widget.action.receive[s].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u63A5\u6536\u4E8B\u4EF6",action_name:this.widget.action.receive[s].name}))}this.rowSpanArr=[],this.action_info.tableData.forEach((s,d)=>{d==0?(this.rowSpanArr.push(1),this.position=0):this.action_info.tableData[d].action_type==this.action_info.tableData[d-1].action_type?(this.rowSpanArr[this.position]+=1,this.rowSpanArr.push(0),this.action_info.tableData[d].action_type=this.action_info.tableData[d-1].action_type):(this.rowSpanArr.push(1),this.position=d)})},objectSpanMethod({row:s,column:d,rowIndex:a,columnIndex:h}){if(h!=1)return{rowspan:this.rowSpanArr[a],colspan:1}}}},t=b,r=c(68141),l=(0,r.Z)(t,y,g,!1,null,"cd1e86ee",null),n=l.exports}}]);
