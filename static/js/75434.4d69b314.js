"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[75434],{775434:function(W,s,r){r.r(s),r.d(s,{default:function(){return y}});var i=function(){var e=this,n=e._self._c;return n("div",[n("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:e.currentWidget.dataset}},[n("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[n("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:e.changeDatasetType},model:{value:e.currentWidget.dataset.type,callback:function(t){e.$set(e.currentWidget.dataset,"type",t)},expression:"currentWidget.dataset.type"}},e._l(this.$$global_editor.dataSourcTypeList3,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),n("vue-lazy-component",[n("el-form-item",{attrs:{label:"\u603B\u6570\u636E"}},[n("el-select",{ref:"encodeX",staticStyle:{width:"160px"},attrs:{size:"mini",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u603B\u6570\u636E\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.changeX},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.x,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"x",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.x"}},e._l(this.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return n("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),n("el-form-item",{attrs:{label:"\u6570\u636E"}},[n("el-select",{staticStyle:{width:"160px"},attrs:{size:"mini",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:function(t){return e.changeY(0)}},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.y[0],callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode.y,0,t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.y[0]"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return n("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),n("el-form-item",{attrs:{label:"\u767E\u5206\u6BD4"}},[n("el-select",{staticStyle:{width:"160px"},attrs:{size:"mini",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u767E\u5206\u6BD4\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:function(t){return e.changeY(1)}},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.y[1],callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode.y,1,t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.y[1]"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return n("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1)],1),n("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:e.currentWidget},on:{getDataSetData:e.getConfigData,clearDynamicEncode:e.clearDynamicEncode}})],1)],1)},d=[],c=r(589908),l=r(723400),o=r(107797),u={name:"pie-nested-data",components:{SettingDataset:c.Z},props:["currentWidget"],mixins:[o.baseConfig,l.j],methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.clearDynamicEncode(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.dataset[this.currentWidget.dataset.type].encode.x="";for(let a=0;a<this.currentWidget.dataset[this.currentWidget.dataset.type].encode.y.length;a++)this.currentWidget.dataset[this.currentWidget.dataset.type].encode.y[a]="";this.$$lib__.each(this.currentWidget.config.seriesData,a=>{a.encode.x="",a.encode.y=""}),this.$$lib__.each(this.currentWidget.config.seriesData,a=>{a.encode.x="",a.encode.y=""})},changeX(){for(let a=0;a<this.currentWidget.config.seriesData.length;a++)this.currentWidget.config.seriesData[a].encode.x=this.currentWidget.dataset[this.currentWidget.dataset.type].encode.x;this.getConfigData()},changeY(a){this.currentWidget.config.seriesData[a].encode.y=this.currentWidget.dataset[this.currentWidget.dataset.type].encode.y[a],this.getConfigData()}}},g=u,p=r(768141),h=(0,p.Z)(g,i,d,!1,null,"fcec4286",null),y=h.exports}}]);
