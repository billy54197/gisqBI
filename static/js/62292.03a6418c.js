"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[62292],{56279:function(S,y,l){l.d(y,{P:function(){return p}});var I=l(386892),h=l(149500);const p={mixins:[I.D],created(){},methods:{lifecycleBeforeChartsLoad(b){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&h.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),h.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let s=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[b]);if(s)return s}return b},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&h.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),h.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},105143:function(S,y,l){l.d(y,{b:function(){return b}});var I=l(148836),h=l(42160),p=l(149500);const b={created(){},computed:{...(0,I.Se)(["getWidgetAllArr"])},data(){return{containerViewSubWidgetList:[]}},methods:{...(0,I.nv)(["updateWidgetParentArrDataset","updateWidgetAllArrDataset"]),reLoadInfo(n){this.widgetInfo.id!=n.id&&this.$refs["comp_"+n.id]&&setTimeout(this.$refs["comp_"+n.id][0].reLoadInfo(n),500),this.loadInfo(n)},orgWidget(n){let s=[];return this.$$lib__.each(n,c=>{let a=this.$$lib__.find(this.getWidgetAllArr,g=>g.parentId==this.widgetInfo.id&&g.id==c.id);a&&(a.dataset&&a.dataset[a.dataset.type]&&(a.dataset.type==this.$$global_editor.dataSourcType.dynamic.code||a.dataset.type==this.$$global_editor.dataSourcType.local.code)&&a.dataset[a.dataset.type].autoUpdate==!0&&(h.default.set(this.dynamicWidgets,a.id,a),a.attr.hide!=!0&&a.dataset[a.dataset.type].autoUpdate==!0&&h.default.set(this.autoUpdateWidget,a.id,a)),s.push(a))}),h.default.set(this,"containerViewSubWidgetList",s),s},setTitleText(n,s){s?this.$$lib__.each(s,c=>{this.$$lib__.each(this.orgWidget(c.widgets),a=>{a.attr.widgetW||(a.attr.widgetW=a.attr.w),this.$refs["title_"+a.id]&&this.$refs["title_"+a.id][0]&&(this.$refs["title_"+a.id][0].innerHTML=this.initTextPosition(a)),a.title.position||(a.title.position="top")})}):this.$$lib__.each(this.orgWidget(n),c=>{this.$refs["title_"+c.id]&&this.$refs["title_"+c.id][0]&&(this.$refs["title_"+c.id][0].innerHTML=this.initTextPosition(c)),c.title.position||(c.title.position="top")})},initTextPosition(n){return n.title.text===void 0||!n.title.text?"":n.title.text&&(n.title.position==="left"||n.title.position==="right")?n.title.text.split("").join("<br />"):n.title.text},updataWidgetSource(n,s,c){try{switch(n.dataset.type){case this.$$global_editor.dataSourcType.dynamic.code:n.dataset.dynamic.source=s.data,s.total&&(n.dataset.dynamic.total=s.total);break;case this.$$global_editor.dataSourcType.local.code:n.dataset.local.dimensionsAlias=[],n.dataset.local.columnList=[],n.dataset.local.source=[],n.dataset.local.dimensions=[],n.dataset.local.dimensionsAlias=s.dimensionsAlias,n.dataset.local.columnList=s.columnList,n.dataset.local.source=s.source,n.dataset.local.dimensions=s.dimensions;break}}catch(g){p&&p.log&&p.log(g)}let a=this.$refs["comp_"+n.id];a&&a.length>0&&(this.updateWidgetAllArrDataset(n),this.updateWidgetParentArrDataset(n),a[0].reLoadInfo(n),this.sendoutDataloadSuccess(n),this.sendoutResponseData(n,s,c))},fit(n,s){if(!this.isView||!/^mobile/.test(this.getCanvasSetting.transformType))return n+"px";let c=this.getCanvasSetting.width/10,a=this.getCanvasSetting.height/window.innerHeight,g="";switch(this.getCanvasSetting.transformType){case"mobileAutoWidth":s?g=n+"px":g=n/c+"rem";break;case"mobileAutoBoth":g=n/c+"rem";break;default:s?g=n/a+"px":g=n/c+"rem"}return g}}}},980512:function(S,y,l){l.d(y,{Z:function(){return g}});var I=function(){var d=this,x=d._self._c;return x("div",{class:"container_child_"+d.widgetData.id,attrs:{id:"container_child_"+d.widgetData.id}},[x("keep-alive",[x(d.isView&&d.widgetData.isContainer?d.widgetData.typeName+"-view":d.widgetData.typeName,{ref:"com_"+d.widgetData.id,tag:"component",attrs:{"widget-info":d.widgetData,"widget-arr":d.getWidgetAllArr,"current-widget":d.currentWidget},on:{doGetPreviewData:d.doGetPreviewData,doReSetBoardId:d.doReSetBoardId,attrChange:d.attrChange}})],1)],1)},h=[],p=l(513229),b=l(148836),n={name:"DraggableComponent",extends:p.Z,computed:{...(0,b.Se)(["getWidgetAllArr","isView"])},methods:{reLoadInfo(u){if(u.id){let d=this.$refs["com_"+u.id];d&&d.reLoadInfo(u)}},doReSetBoardId(u){this.$emit("doReSetBoardId",u)},attrChange(u){this.$emit("attrChange",u)}}},s=n,c=l(768141),a=(0,c.Z)(s,I,h,!1,null,"41d16aa2",null),g=a.exports},62292:function(S,y,l){l.r(y),l.d(y,{default:function(){return A}});var I=function(){var t=this,i=t._self._c;return i("div",{ref:"dialog",style:{width:t.widgetInfo.attr.w+"px",height:t.widgetInfo.attr.hh+"px"}},[i("el-dialog",{ref:"myDialog",staticClass:"my-dialog",attrs:{id:"myContainerDialogId_"+t.widgetInfo.id,width:t.widgetInfo.attr.w+"px",modal:t.widgetInfo.config.dialog.modal,"close-on-click-modal":t.widgetInfo.config.dialog.modalClose,fullscreen:t.widgetInfo.config.dialog.fullscreen,"show-close":t.widgetInfo.config.dialog.showClose,"destroy-on-close":t.widgetInfo.config.dialog.destroyOnClose,top:t.widgetInfo.config.dialog.centerVertically!=!0?t.widgetInfo.config.dialog.top+"px":void 0,"before-close":o=>{t.animationStart(o,"hide")},visible:t.dialogVisible,"custom-class":`gisqbi-body-dialog-scale ${t.initCustomClass}`,"append-to-body":""},on:{"update:visible":function(o){t.dialogVisible=o},opened:t.opened,open:t.open,closed:function(o){return t.animationEnd("hide")},close:t.close}},[i("div",{style:t.getDialogStyle(t.widgetInfo)},[i("div",{staticStyle:{overflow:"hidden",width:"100%"},style:t.getTitleStyle(t.widgetInfo.config.dialog),attrs:{slot:"title",id:"myContainerDialogDraggableDiv_"+t.widgetInfo.id},slot:"title"},[i("div",{style:{marginLeft:t.widgetInfo.config.dialog.title.label.left+"px",marginTop:t.widgetInfo.config.dialog.title.label.top+"px"}},[i("span",{style:t.getTitleSpanStyle(t.widgetInfo.config.dialog)},[t._v(" "+t._s(t.widgetInfo.config.dialog.title.text)+" ")])])]),i("div",{staticClass:"my-div",style:t.getContentStyle(t.widgetInfo)},[t.widgetInfo.config.container.scroll.show?i("happy-scroll",{attrs:{color:t.widgetInfo.config.container.scroll.color,size:t.widgetInfo.config.container.scroll.width,resize:""}},[t._l(t.orgWidget(t.widgetInfo.config.container.widgets),function(o){return[i("div",{style:t.getWidgetStyle(o)},[i("div",{key:"widget_"+o.id,ref:"widget_"+o.id,refInFor:!0,class:t.getWidgetClass(o),style:t.getBindStyle(o),attrs:{id:"widget_"+o.id}},[i("external-frame-svg",{ref:"comp_frame_"+o.id,refInFor:!0,attrs:{"widget-info":o}}),o.title.position==="top"||o.title.position==="left"?i("div",{staticStyle:{overflow:"hidden",float:"left"},style:t.getWidgetTitleStyle(o),on:{click:function(r){return t.openLink(o)}}},[i("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[i("span",{ref:"title_"+o.id,refInFor:!0,style:t.getTitleSpanStyle(o)})])]):t._e(),i("draggable-component-container",{ref:"comp_"+o.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:t.getInfoStyle(o),attrs:{"widget-data":o},on:{doGetPreviewData:t.getPreviewData,attrChange:t.attrChange}}),o.title.position==="bottom"||o.title.position==="right"?i("div",{staticStyle:{overflow:"hidden",float:"left"},style:t.getWidgetTitleStyle(o),on:{click:function(r){return t.openLink(o)}}},[i("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[i("span",{ref:"title_"+o.id,refInFor:!0,style:t.getTitleSpanStyle(o)})])]):t._e()],1)])]})],2):t._l(t.orgWidget(t.widgetInfo.config.container.widgets),function(o){return[i("div",{style:t.getWidgetStyle(o)},[i("div",{key:"widget_"+o.id,ref:"widget_"+o.id,refInFor:!0,class:t.getWidgetClass(o),style:t.getBindStyle(o),attrs:{id:"widget_"+o.id}},[i("external-frame-svg",{ref:"comp_frame_"+o.id,refInFor:!0,attrs:{"widget-info":o}}),o.title.position==="top"||o.title.position==="left"?i("div",{staticStyle:{overflow:"hidden",float:"left"},style:t.getWidgetTitleStyle(o),on:{click:function(r){return t.openLink(o)}}},[i("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[i("span",{ref:"title_"+o.id,refInFor:!0,style:t.getTitleSpanStyle(o)})])]):t._e(),i("draggable-component-container",{ref:"comp_"+o.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:t.getInfoStyle(o),attrs:{"widget-data":o},on:{doGetPreviewData:t.getPreviewData,doReSetBoardId:t.doReSetBoardId,attrChange:t.attrChange}}),o.title.position==="bottom"||o.title.position==="right"?i("div",{staticStyle:{overflow:"hidden",float:"left"},style:t.getWidgetTitleStyle(o),on:{click:function(r){return t.openLink(o)}}},[i("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[i("span",{ref:"title_"+o.id,refInFor:!0,style:t.getTitleSpanStyle(o)})])]):t._e()],1)])]})],2)])])],1)},h=[],p=l(980512),b=l(193575),n=l(105143),s=l(927966),c=l(977863),a=l(185406),g=l(126711),u=l(42160),d=l(555616),x=l(275770),L=l(213743),$=l(56279),v=l(149500),_={name:"ContainerDialogView",components:{ExternalFrameSvg:L.Z,DraggableComponentContainer:p.Z,HappyScroll:c.HappyScroll},mixins:[a.baseConfig,b.E,n.b,g.H,$.P],props:["widgetInfo","currentWidget"],data(){return{initCustomClass:"",dialogVisible:!1,timerArr:[],dataSetArr:{},autoUpdateWidget:{},dynamicWidgets:{},prefix:{widget:"widget_"},actionList:{},isOpen:!0,first:{}}},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},computed:{getHeight(){return document.body.clientHeight},getWidth(){return document.body.clientWidth}},created:function(){this.clear()},destroyed:function(){this.clear()},methods:{loadInfo(){this.widgetInfo.attr.hide=!0,this.getDynamicWidgetsSource(this.dynamicWidgets),this.initOnLoad()},reLoadInfo(e){v.log(JSON.stringify(e.attr)),this.loadInfo(e)},initOnLoad(){!this.widgetInfo.config.dialog.destroyOnClose&&this.widgetInfo.config.dialog.initOnLoad?this.$nextTick(function(){this.initCustomClass="gisqbi-container-dialog-init-hide";let e={modal:this.widgetInfo.config.dialog.modal,fullscreen:this.widgetInfo.config.dialog.fullscreen};this.widgetInfo.config.dialog.modal=!1,this.widgetInfo.config.dialog.fullscreen=!1,this.dialogVisible=!0,this.$nextTick(function(){this.dialogVisible=!1,this.widgetInfo.config.dialog={...this.widgetInfo.config.dialog,...e},this.lifecycleAfterLoad()})}):this.lifecycleAfterLoad()},initAction(e){this.actionReceive(e)},getDialogStyle(e){let t={opacity:e.attr.opacity,backgroundColor:e.attr.backgroundColor,backgroundImage:this.getImageUrl(e.attr.backgroundImage),backgroundSize:e.attr.backgroundSize};return e.border.hide!=!0&&((e.border.hShadow||e.border.vShadow)&&(t.boxShadow=(e.border.hShadow||0)+"px "+(e.border.vShadow||0)+"px "+(e.border.blur||0)+"px "+e.border.blurColor||"rgba(0,0,0,0)"),e.border.type==!1?(t.borderTopWidth=e.border.widthT+"px",t.borderRightWidth=e.border.widthR+"px",t.borderBottomWidth=e.border.widthB+"px",t.borderLeftWidth=e.border.widthL+"px",t.borderTopStyle=e.border.styleT,t.borderRightStyle=e.border.styleR,t.borderBottomStyle=e.border.styleB,t.borderLeftStyle=e.border.styleL,t.borderTopColor=e.border.colorT,t.borderRightColor=e.border.colorR,t.borderBottomColor=e.border.colorB,t.borderLeftColor=e.border.colorL,t.borderTopLeftRadius=e.border.radiusTL+"px",t.borderTopRightRadius=e.border.radiusTR+"px",t.borderBottomLeftRadius=e.border.radiusBL+"px",t.borderBottomRightRadius=e.border.radiusBR+"px"):e.border.type==!0&&(t.borderStyle=e.border.borderStyle,t.borderTopWidth=e.border.breadthT+"px",t.borderRightWidth=e.border.breadthR+"px",t.borderBottomWidth=e.border.breadthB+"px",t.borderLeftWidth=e.border.breadthL+"px",t.borderImageSource=this.getImageUrl(e.border.borderImage),t.borderImageSlice=e.border.cutT+" "+e.border.cutR+" "+e.border.cutB+" "+e.border.cutL,t.borderImageRepeat=e.border.repeat)),t},getContentStyle(e){let t=0,i=0;return e.config.dialog.fullscreen==!0?(t=this.getWidth,i=this.getHeight-e.config.dialog.title.h):(t=e.attr.w,i=e.attr.hh-e.config.dialog.title.h),e.border.hide!=!0&&(e.border.widthL>0&&(t=t-e.border.widthL),e.border.widthR>0&&(t=t-e.border.widthR),e.border.widthT>0&&(i=i-e.border.widthT),e.border.widthB>0&&(i=i-e.border.widthB)),{width:t+"px",height:i+"px",backgroundColor:e.config.dialog.background.backgroundColor,backgroundImage:this.getImageUrl(e.config.dialog.background.backgroundImage),backgroundSize:e.config.dialog.background.backgroundSize}},animationEnd(e){this.widgetInfo.attr[`${e}Animate`]&&this.widgetInfo.attr[`${e}Animate`].length>0&&(this.$refs.myDialog.$el.classList.remove("animated"),this.$refs.myDialog.$el.classList.remove(this.widgetInfo.attr[`${e}Animate`][1]))},animationStart(e,t){if(this.widgetInfo.attr[`${t}Animate`]&&this.widgetInfo.attr[`${t}Animate`].length>0){let i=this;this.$refs.myDialog.$el.classList.add("animated"),this.$refs.myDialog.$el.classList.add(this.widgetInfo.attr[`${t}Animate`][1]);let o=this.$refs.myDialog.$el.classList.add.bind(this.$refs.myDialog.$el.classList);this.$refs.myDialog.$el.classList.add=function(r){(r==="dialog-fade-leave-active"||r==="dialog-fade-enter-active")&&i.widgetInfo.attr[`${t}Animate`]&&i.widgetInfo.attr[`${t}Animate`].length>0||o(r)},setTimeout(()=>{e()},950);return}e()},attrChange(e){let t=this.$refs["widget_"+e.id][0];e.attr.hide?e.attr.hideAnimate?(this.first[e.id]=!1,t.classList="",t.classList.add("animated"),t.classList.add("my-comp"),t.classList.add(e.attr.hideAnimate[e.attr.hideAnimate.length-1])):t.style.display="none":e.attr.showAnimate?(this.first[e.id]=!1,t.classList="",t.classList.add("animated"),t.classList.add("my-comp"),t.classList.add(e.attr.showAnimate[e.attr.showAnimate.length-1])):t.style.display="block"},getCarouselItemStyle(e){return{opacity:e.opacity,backgroundColor:e.backgroundColor,backgroundImage:this.getImageUrl(e.backgroundImage),backgroundSize:e.backgroundSize}},opened(){this.initCustomClass="",this.animationEnd("show");let e=this.$refs.myDialog;if(e&&this.widgetInfo.config.dialog.buttonClose.custom){let t=e.$el.querySelector(".el-dialog__headerbtn"),i;if(this.$$lib__.each(t.childNodes,o=>{if(o.tagName==="I"&&(i=o,o.style.color=this.widgetInfo.config.dialog.buttonClose.iconColor,this.widgetInfo.config.dialog.buttonClose.iconClass)){o.classList.remove("el-icon-close");let f=this.widgetInfo.config.dialog.buttonClose.iconClass.split(" ");f&&f.length>1?f.forEach(m=>{o.classList.add(m)}):o.classList.add(this.widgetInfo.config.dialog.buttonClose.iconClass)}}),!t.contains(document.getElementById("closeBtnTxt"))){let o=document.createElement("span");o.innerText=this.widgetInfo.config.dialog.buttonClose.text?this.widgetInfo.config.dialog.buttonClose.text:"",o.id="closeBtnTxt",v.log(this.widgetInfo.config.dialog.buttonClose.iconPosition),this.widgetInfo.config.dialog.buttonClose.iconPosition==="left"?t.appendChild(o):t.insertBefore(o,i)}t.style.top=this.widgetInfo.config.dialog.buttonClose.top+"px",t.style.right=this.widgetInfo.config.dialog.buttonClose.right+"px",t.style.fontSize=this.widgetInfo.config.dialog.buttonClose.fontStyle.fontSize+"px",t.style.fontFamily=this.widgetInfo.config.dialog.buttonClose.fontStyle.fontFamily,t.style.color=this.widgetInfo.config.dialog.buttonClose.fontStyle.color,t.style.zIndex=999,t.style.backgroundImage=this.getImageUrl(this.widgetInfo.config.dialog.buttonClose.backgroundImage),t.style.backgroundSize="100% 100%",t.style.width=this.widgetInfo.config.dialog.buttonClose.width+"px",t.style.height=this.widgetInfo.config.dialog.buttonClose.height+"px",t.style.fontWeight=this.widgetInfo.config.dialog.buttonClose.fontWeight?"bolder":"normal"}if(this.isOpen){for(let t in this.actionList)s.Z.$emit(t,this.actionList[t]);this.isOpen=!1}this.isDraggable()},open(){if(this.widgetInfo.config.dialog.centerVertically==!0){let i=document.getElementById("myContainerDialogId_"+this.widgetInfo.id);this.$nextTick(()=>{i.style.justifyContent="center",i.style.alignItems="center",i.style.display="flex",i.childNodes&&i.childNodes[0]&&(i.childNodes[0].style.margin="0 auto")})}this.animationStart(()=>{},"show");let e=this,t=this.widgetInfo.action.sendOut.actionList;this.$$lib__.each(t,i=>{if(i.enabled&&i.code==x.default.open.code){let o=i.code+"_"+e.widgetInfo.id,r={open:!0};if(i.paramsExtend&&i.paramsExtend.length>0&&this.getExtendParams(r,i.paramsExtend),i.script&&i.script.enabled){if(v.log("Execute script for "+this.widgetInfo.name+" component to "+i.name+" component"),i.script.content==""){d.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",i.script.content),r=this.customScript(r)}s.Z.$emit(o,r),i.postMessage&&this.doPostMessage(r),this.actionNameList.push(o)}})},close(){let e=this,t=this.widgetInfo.action.sendOut.actionList;this.$$lib__.each(t,i=>{if(i.enabled&&i.code==x.default.close.code){let o=i.code+"_"+e.widgetInfo.id,r={close:!0};if(i.paramsExtend&&i.paramsExtend.length>0&&this.getExtendParams(r,i.paramsExtend),i.script&&i.script.enabled){if(v.log("Execute script for "+this.widgetInfo.name+" component to "+i.name+" component"),i.script.content==""){d.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",i.script.content),r=this.customScript(r)}s.Z.$emit(o,r),i.postMessage&&this.doPostMessage(r),this.actionNameList.push(o)}})},actionReceive(e){if(e.action==null||e.action.receive==null)return;let t=e.action.receive.dialogVisible;t&&t.enabled&&this.doDialogVisible(t,e.name);let i=e.action.receive.hideDialog;i&&i.enabled&&this.hideDialog(i,e.name);let o=e.action.receive.receiveTitle;o&&o.enabled&&this.doReceiveTitle(o,e.name)},hideDialog(e,t){this.$$lib__.each(e.dialogVisibleList,i=>{let o=i[0][1]+"_"+i[0][0];i[0][1].indexOf("_")>-1&&(o=i[0][1]),s.Z.$on(o,r=>{u.default.set(this.actionList,o,r);let f=i[0][2],m=f.indexOf("|");if(m>-1&&(f=i[0][2].substring(m+1)),e.script&&e.script.enabled){if(v.log("Execute script for "+t+" component to "+e.name+" component"),e.script.content==""){d.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.dialogVisibleFalse=new Function("data","param_key","value",e.script.content)}this.dialogVisibleFalse(r,f,e.value)})})},dialogVisibleFalse(e,t,i){i==null||i==""||i==null?this.dialogVisible=!1:i==e[t]&&(this.dialogVisible=!1)},doDialogVisible(e,t){this.$$lib__.each(e.dialogVisibleList,i=>{let o=i[0][1]+"_"+i[0][0];i[0][1].indexOf("_")>-1&&(o=i[0][1]),s.Z.$on(o,r=>{u.default.set(this.actionList,o,r);let f=i[0][2],m=f.indexOf("|");if(m>-1&&(f=i[0][2].substring(m+1)),e.script&&e.script.enabled){if(v.log("Execute script for "+t+" component to "+e.name+" component"),e.script.content==""){d.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.dialogVisibleTrue=new Function("data","param_key","value",e.script.content)}this.dialogVisibleTrue(r,f,e.value)})})},dialogVisibleTrue(e,t,i){i==null||i==""||i==null?(this.dialogVisible=!0,this.setTitleText(this.widgetInfo.config.container.widgets)):i==e[t]&&(this.dialogVisible=!0,this.setTitleText(this.widgetInfo.config.container.widgets))},doReceiveTitle(e,t){this.$$lib__.each(e.receiveTitleList,i=>{let o=i[0][1]+"_"+i[0][0];i[0][1].indexOf("_")>-1&&(o=i[0][1]),s.Z.$on(o,r=>{let f=i[0][2],m=f.indexOf("|");if(m>-1&&(f=i[0][2].substring(m+1)),e.script&&e.script.enabled){if(v.log("Execute script for "+t+" component to "+e.name+" component"),e.script.content==""){d.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.dialogTitle=new Function("data","param_key",e.script.content)}this.dialogTitle(r,f)})})},dialogTitle(e,t){this.widgetInfo.config.dialog.title.text=e[t]},doReSetBoardId(e){this.$emit("doReSetBoardId",e)},isShow(e){return e.attr.showAnimate||e.attr.hideAnimate?this.first[e.id]==null||this.first[e.id]?e.attr.hide!==!0:!0:e.attr.hide!==!0},isDraggable(){if(this.widgetInfo.config.dialog.draggable==!0){let e=document.getElementById("myContainerDialogId_"+this.widgetInfo.id);e.style.top=0,e.style.right=0,e.style.bottom=0,e.style.left=0,e.style.overflow="auto",e.style.width="100%",this.widgetInfo.config.dialog.centerVertically==!0&&(e.style.justifyContent="center",e.style.alignItems="center",e.style.display="flex",e.style.position="fixed"),this.onEventDrag()}},onEventDrag(){let e="myContainerDialogDraggableDiv_"+this.widgetInfo.id;const t=document.getElementById(e),i=t.parentElement.parentElement.parentElement;t.style.cursor="move",t.style.userSelect="none",t.onmousedown=o=>{o.stopPropagation();const r=o.clientX,f=o.clientY,m=i.style.left&&i.style.left!=""?parseInt(i.style.left):0,W=i.style.top&&i.style.top!=""?parseInt(i.style.top):0;document.onmousemove=C=>{const E=C.clientX-r,R=C.clientY-f,B=m+E,k=W+R;i.style.left=B+"px",i.style.top=k+"px"}},document.onmouseup=function(){document.onmousemove=null}}}},T=_,D=l(768141),w=(0,D.Z)(T,I,h,!1,null,"0e1a9716",null),A=w.exports}}]);
