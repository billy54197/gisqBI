"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[31363],{813239:function(b,l,n){n.d(l,{Z:function(){return o}});var s=function(){var e=this,i=e._self._c;return i("div",[i("el-collapse",[i("el-collapse-item",[i("template",{slot:"title"},[i("div",{staticClass:"my-title"},[e._v(" \u56FE\u6807\u8BBE\u7F6E")])]),i("el-form",{staticStyle:{"padding-left":"20px"}},[i("el-form-item",{attrs:{label:"\u6309\u94AE\u7C7B\u578B"}},e._l(e.btnRadios,function(t,p){return i("el-radio",{key:p,attrs:{label:t.label},on:{change:e.getConfigData},model:{value:e.imgIconConfig.isHtml,callback:function(v){e.$set(e.imgIconConfig,"isHtml",v)},expression:"imgIconConfig.isHtml"}},[e._v(e._s(t.text)+" ")])}),1),e.imgIconConfig.isHtml?i("el-form-item",{attrs:{label:"\u663E\u793A\u5185\u5BB9"}},[i("el-input",{staticStyle:{width:"195px"},on:{blur:e.getConfigData},model:{value:e.imgIconConfig.html,callback:function(t){e.$set(e.imgIconConfig,"html",t)},expression:"imgIconConfig.html"}})],1):i("div",[e.isHideText?e._e():i("el-form-item",{attrs:{label:"\u56FE\u6807\u7C7B\u578B"}},e._l(e.radios,function(t,p){return i("el-radio",{key:p,attrs:{label:t.label},on:{change:e.iconTypeChange},model:{value:e.imgIconConfig.isImg,callback:function(v){e.$set(e.imgIconConfig,"isImg",v)},expression:"imgIconConfig.isImg"}},[e._v(e._s(t.text)+" ")])}),1),e.imgIconConfig.isImg?i("el-form-item",{attrs:{label:"\u56FE\u6807\u9009\u62E9"}},[i("select-img",{attrs:{image:e.imgIcon},on:{openSelectImage:function(t){return e.openSelectImage()},clearSelectImage:function(t){return e.clearSelectImage()},change:e.getConfigData}})],1):i("div",[i("el-form-item",{attrs:{label:"\u6587\u5B57\u5185\u5BB9"}},[i("el-input",{staticStyle:{width:"195px"},on:{blur:e.getConfigData},model:{value:e.imgIconConfig.title,callback:function(t){e.$set(e.imgIconConfig,"title",t)},expression:"imgIconConfig.title"}})],1),i("el-form-item",{attrs:{label:"\u5B57\u4F53\u5927\u5C0F"}},[i("el-input-number",{attrs:{step:1,min:5,max:40},on:{change:e.getConfigData},model:{value:e.imgIconConfig.size,callback:function(t){e.$set(e.imgIconConfig,"size",t)},expression:"imgIconConfig.size"}})],1)],1),e.imgIconConfig.isImg?i("el-form-item",{attrs:{label:e.widthLabel}},[i("el-input-number",{attrs:{step:1,min:15},on:{change:e.getConfigData},model:{value:e.imgIconConfig.width,callback:function(t){e.$set(e.imgIconConfig,"width",t)},expression:"imgIconConfig.width"}})],1):e._e(),e.imgIconConfig.isImg?i("el-form-item",{attrs:{label:e.heightLabel}},[i("el-input-number",{attrs:{step:1,min:15},on:{change:e.getConfigData},model:{value:e.imgIconConfig.height,callback:function(t){e.$set(e.imgIconConfig,"height",t)},expression:"imgIconConfig.height"}})],1):e._e()],1)],1)],2)],1),i("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,visible:e.dialogVisible,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("image-manage",{ref:"imageMange",attrs:{isDialog:!0,type:["image"]}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("\u53D6 \u6D88")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getImage}},[e._v("\u786E \u5B9A")])],1)])],1)},m=[],c=n(723400),r=n(721829),f=n(582333),d=n(321300),g=n(555616),h={props:["imgIconConfig","isHideText"],name:"gis-widget-icon",mixins:[c.j],components:{selectImg:r.Z,ImageManage:f.default},data(){return{formLabelWidth:"120px",imgIcon:"",widthLabel:this.imgIconConfig.isImg?"\u56FE\u6807\u5BBD\u5EA6":"\u6309\u94AE\u5BBD\u5EA6",heightLabel:this.imgIconConfig.isImg?"\u56FE\u6807\u9AD8\u5EA6":"\u6309\u94AE\u9AD8\u5EA6",dialogVisible:!1,dialogWidth:"89%",radios:[{label:!0,text:"\u56FE\u7247"},{label:!1,text:"\u6587\u5B57"}],btnRadios:[{label:!1,text:"\u6807\u51C6\u6309\u94AE"},{label:!0,text:"html\u4EE3\u7801"}]}},mounted(){this.imgIconConfig.img&&this.imgIconConfig.img.indexOf("/images/")!==-1&&(this.imgIcon="/images/"+this.imgIconConfig.img.split("/images/")[1])},methods:{openSelectImage(){this.dialogVisible=!0},clearSelectImage(){this.imgIcon="",this.imgIconConfig.img="",this.getConfigData()},getImage(){let a=this.$refs.imageMange.getSelectImage();if(a!=null){if(this.$$global.fileType.image.indexOf(a.imageFileType)==-1){g.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}this.dialogVisible=!1;let e=d.appendImageBaseURL(a.fileUrlPath);this.imgIconConfig.img=e,this.imgIcon=a.fileUrlPath,this.getConfigData()}else g.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},iconTypeChange(){this.widthLabel=this.imgIconConfig.isImg?"\u56FE\u6807\u5BBD\u5EA6":"\u6309\u94AE\u5BBD\u5EA6",this.heightLabel=this.imgIconConfig.isImg?"\u56FE\u6807\u9AD8\u5EA6":"\u6309\u94AE\u9AD8\u5EA6",this.getConfigData()},getConfigData(){this.$emit("gisWidgetIconChange",this.imgIconConfig)}}},u=h,I=n(768141),C=(0,I.Z)(u,s,m,!1,null,"7061a458",null),o=C.exports},711059:function(b,l,n){n.r(l),n.d(l,{default:function(){return C}});var s=function(){var a=this,e=a._self._c;return e("div",[e("el-collapse",[e("el-collapse-item",[e("template",{slot:"title"},[e("div",{staticClass:"my-title"},[a._v("\u56FE\u5C42\u9009\u62E9")])]),e("layer-directory-multiple",{attrs:{toc:a.currentWidget.config.toc,"show-setting":!0},on:{"on-toc-change":a.onLayerChange}})],2)],1)],1)},m=[],c=n(723400),r=n(944337),f=n(813239),d=n(149500),g={name:"GisSearchAddressStyle",components:{layerDirectoryMultiple:r.Z,gisWidgetIcon:f.Z},mixins:[c.j],props:["currentWidget"],data(){return{}},methods:{onLayerChange(o){d.log(o),this.currentWidget.config.toc=o,this.getConfigData()},iconChange(o){this.currentWidget.config.imgIconConfig=o,this.getConfigData()}}},h=g,u=n(768141),I=(0,u.Z)(h,s,m,!1,null,"52bcbb4c",null),C=I.exports}}]);
