"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[8725],{56279:function(S,g,l){l.d(g,{P:function(){return c}});var y=l(86892),d=l(49500);const c={mixins:[y.D],created(){},methods:{lifecycleBeforeChartsLoad(p){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&d.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),d.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let h=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[p]);if(h)return h}return p},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&d.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),d.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},44513:function(S,g,l){l.d(g,{Z:function(){return v}});var y=function(){var n=this,u=n._self._c;return n.attr.buttonHide?u("div",{style:{position:"absolute",right:n.attr.buttonHideRight+"px",top:n.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(k){return n.onHide()}}},[n.openTooltip?u("el-tooltip",{attrs:{"open-delay":1e3,content:n.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[u("el-button",{class:n.attr.buttonHideIconClass&&n.attr.buttonHideIconClass!=""?n.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:n.attr.buttonHideColor,fontSize:n.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):u("el-button",{class:n.attr.buttonHideIconClass&&n.attr.buttonHideIconClass!=""?n.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:n.attr.buttonHideColor,fontSize:n.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):n._e()},d=[],c=l(52246),p={props:["attr"],name:"hide-button",data(){return{isPc:c.b}},computed:{openTooltip:function(){let m=!1,n=this.attr.buttonHideTooltipContent;return c.b&&n&&n!=null&&n.trim()!=""&&(m=!0),m}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},x=p,h=l(68141),I=(0,h.Z)(x,y,d,!1,null,"bf399b9a",null),v=I.exports},28725:function(S,g,l){l.r(g),l.d(g,{default:function(){return P}});var y=function(){var t=this,i=t._self._c;return i("div",{ref:"titleAnime",style:{width:t.widgetInfo.attr.w+"px",height:t.widgetInfo.attr.hh+"px",overflow:"hidden"}},[i("hide-button",{attrs:{attr:t.widgetInfo.attr},on:{sendButtonHide:t.sendButtonHide}}),t.widgetInfo.config.anime.disabled?i("div",{directives:[{name:"popover",rawName:"v-popover:titlePopup",arg:"titlePopup"}],style:{width:t.widgetInfo.attr.w-t.mUtils.getNewPxW(t.widgetInfo.config.text.margin.left,t.lockX)+"px",height:t.widgetInfo.attr.hh-t.mUtils.getNewPxH(t.widgetInfo.config.text.margin.top,t.lockY)+"px",paddingLeft:t.mUtils.getNewPxW(t.widgetInfo.config.text.margin.left,t.lockX)+"px",paddingTop:t.paddingT+"px",fontSize:t.mUtils.getNewFontSize(t.widgetInfo.config.text.label.fontSize,t.lockX,t.lockY)+"px",color:t.widgetInfo.config.text.label.color,fontWeight:t.widgetInfo.config.text.label.fontWeight,fontFamily:t.widgetInfo.config.text.label.fontFamily,fontStyle:t.widgetInfo.config.text.label.fontStyle,textAlign:t.widgetInfo.config.text.label.horizontalAlignment,lineHeight:t.lineH+"px",overflow:t.widgetInfo.config.text.label.overflow&&!t.widgetInfo.config.text.label.enabledEllipsis?"auto":"hidden",cursor:this.getCursor(t.widgetInfo.action,t.actionType.click.code,t.actionType.openLink.code)},on:{click:t.onClick,mouseover:function(o){return t.mouseover("widget")},mouseleave:function(o){return t.mouseleave("widget")}}},[t.graphicValue?i("div",{ref:"spanTitle1",staticStyle:{height:"inherit",width:"inherit","white-space":"pre-wrap"}}):i("span",{ref:"spanTitle",style:this.getSpanStyle(t.widgetInfo)},t._l(t.textCharts,function(o,a){return i("span",{key:a,style:t.getSpanChildStyle(t.widgetInfo)},[t._v(t._s(o))])}),0)]):i("div",{directives:[{name:"popover",rawName:"v-popover:titlePopup",arg:"titlePopup"}],style:{width:t.widgetInfo.attr.w-t.mUtils.getNewPxW(t.widgetInfo.config.text.margin.left,t.lockX)+"px",height:t.widgetInfo.attr.hh-t.mUtils.getNewPxH(t.widgetInfo.config.text.margin.top,t.lockY)+"px",paddingLeft:t.mUtils.getNewPxW(t.widgetInfo.config.text.margin.left,t.lockX)+"px",paddingTop:t.paddingT+"px",fontSize:t.mUtils.getNewFontSize(t.widgetInfo.config.text.label.fontSize,t.lockX,t.lockY)+"px",color:t.widgetInfo.config.text.label.color,fontWeight:t.widgetInfo.config.text.label.fontWeight,fontFamily:t.widgetInfo.config.text.label.fontFamily,fontStyle:t.widgetInfo.config.text.label.fontStyle,textAlign:t.widgetInfo.config.text.label.horizontalAlignment,lineHeight:t.lineH+"px",overflow:t.widgetInfo.config.text.label.overflow&&!t.widgetInfo.config.text.label.enabledEllipsis?"auto":"hidden",cursor:this.getCursor(t.widgetInfo.action,t.actionType.click.code,t.actionType.openLink.code)},on:{click:t.onClick,mouseover:function(o){return t.mouseover("widget")},mouseleave:function(o){return t.mouseleave("widget")}}},[t._v(" "+t._s(t.textInfo)+" ")]),t.widgetInfo.config.popover?i("div",[t.widgetInfo.config.popover.showWidget?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.widgetInfo.config.popover.widgetStyle.show,expression:"widgetInfo.config.popover.widgetStyle.show"}],ref:"titleAnimePopup",attrs:{id:"titleAnime-popup"},on:{mouseover:function(o){return t.mouseover("popWidget")},mouseleave:function(o){return t.mouseleave("popWidget")}}},[i("div",{staticClass:"popper-arrow"})])]):i("el-popover",{ref:"titlePopup",attrs:{"popper-class":`title-popover title-popover-${t.widgetInfo.id}`,transition:"fade-in-linear",width:t.widgetInfo.config.popover.width,trigger:t.widgetInfo.config.popover.trigger,placement:t.widgetInfo.config.popover.placement,disabled:t.widgetInfo.config.popover.disabled,offset:t.widgetInfo.config.popover.offset,"visible-arrow":t.widgetInfo.config.popover.arrow}},[i("div",{domProps:{innerHTML:t._s(t.content)}})])],1):t._e()],1)},d=[],c=l(44513),p=l(27966),x=l(26711),h=l(45061),I=l(56279),v=l(24513),m=l(55616),n=l(48836),u=l(75770),k=l(67157);const $={mixins:[k.c],data(){return{config_extend:{config:{text:{margin:{top:0,left:0},number:{fontSize:18,fontFamily:"alibabaPuHuiTiMedium"}}}},filter_config:{text:{label:{color:"",startColor:"",endColor:""}},popover:{backgroundColor:"",fontStyle:{color:""},widgetStyle:{shadowColor:"",left:0,top:0}}}}},methods:{filterPredefineColoursSchemeConfig(e,t){this.getNewConfig(e,t,this.filter_config)}}};var E=l(29426),b=l(49500),H={props:["widgetInfo"],name:"title-anime",components:{HideButton:c.Z},mixins:[v.u,$,x.H,h.u,I.P],computed:{...(0,n.Se)(["getCanvasSettingInfo","getCanvasSetting","getWidgets"]),lockX(){return this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code&&this.widgetInfo.attr.lockedW},lockY(){return this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code&&this.widgetInfo.attr.lockedH},graphicValue(){return this.widgetInfo.config.anime.effect==="echarts-graphic"}},data(){return{paddingT:0,lineH:0,textInfo:"",textCharts:[],content:"",widgetStatus:"leave",popWidgetStatus:"leave",actionType:JSON.parse(JSON.stringify(u.Z)),animeTimeline:void 0,mycharts:null}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},beforeDestroy(){let e=document.querySelector("#titleAnime-popup");e&&e.parentElement.removeChild(e)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)},textInfo:function(){this.animeEffect()}},methods:{computeFontSize(e,t,i){let o=document.createElement("span");o.style.fontSize=t,o.style.opacity="0",o.style.fontFamily=i,o.innerHTML=e,document.body.append(o);let a={};return a.width=o.offsetWidth,a.height=o.offsetHeight,o.remove(),a},loadInfo(e){let t=this.computeFontSize("\u4F60\u597D",e.config.text.label.fontSize+"px",e.config.text.label.fontFamily);if(e.config.text.label.singleLine)switch(e.config.text.label.verticalAlignment){case"top":this.lineH=t.height,this.paddingT=this.mUtils.getNewPxH(e.config.text.margin.top,this.lockY);break;case"middle":this.lineH=e.attr.hh-this.mUtils.getNewPxH(e.config.text.margin.top,this.lockY),this.paddingT=this.mUtils.getNewPxH(e.config.text.margin.top,this.lockY);break;case"bottom":this.lineH=t.height,this.paddingT=e.attr.hh-t.height;break}else this.lineH=t.height,this.paddingT=this.mUtils.getNewPxH(e.config.text.margin.top,this.lockY);e.dataset[e.dataset.type]&&e.dataset[e.dataset.type].dimensions&&e.dataset[e.dataset.type].dimensions.length>0?this.textInfo=this.getFieldVal(e.dataset[e.dataset.type].source[0],e.dataset[e.dataset.type].dimensions,e.dataset[e.dataset.type].encode.text):this.textInfo=e.dataset[e.dataset.type].encode.text,this.initPopover(e),this.animeEffect(),this.lifecycleAfterLoad()},initPopover(e){if(!e.config.popover)return;this.content=e.config.popover.content==""?this.textInfo:e.config.popover.content;let t=document.getElementById("myBoardArea"),i=this.$refs.titleAnime.querySelector(".popper-arrow"),o=(e.config.popover.widgetStyle.shadowOffsetX||0)+"px "+(e.config.popover.widgetStyle.shadowOffsetY||0)+"px "+(e.config.popover.widgetStyle.shadowBlur||0)+"px "+e.config.popover.widgetStyle.shadowColor||"rgba(0,0,0,0)";if(o+=e.config.popover.widgetStyle.inset?" inset":"",e.config.popover.showWidget&&!t&&e.config.popover.widgetStyle.bindWidgetId){let a=this.$refs.titleAnimePopup,s=document.querySelector("#widget_"+e.config.popover.widgetStyle.bindWidgetId);a.style.right=this.mUtils.getNewPxW(e.config.popover.widgetStyle.right)+"px",a.style.bottom=this.mUtils.getNewPxH(e.config.popover.widgetStyle.bottom+e.attr.h)+"px",a.style.boxShadow=o;let C=!1;if(this.$$lib__.each(document.querySelector("body").childNodes,w=>{w.id=="titleAnime-popup"&&(C=this.$$lib__.contains(w.childNodes,"#widget_"+e.config.popover.widgetStyle.bindWidgetId))}),s&&!C){a.style.borderRadius=s.style.borderRadius,s.style.position="absolute",e.config.popover.position=="top"?s.style.top="0px":s.style.top="16px",s.style.left="0px",a.appendChild(s);let w=e.attr.y,T=e.attr.x;if(e.parentId)try{let r=this.getWidgets[e.parentId];if(r?.attr){debugger;w+=r.attr.y,T+=r.attr.x}}catch(r){b.error(r)}let f=document.querySelector("#titleAnime-popup");if(f.style.left=T+this.mUtils.getNewPxW(e.config.popover.widgetStyle.left)+"px",e.config.popover.position=="top"){let r=this.mUtils.getNewPxH(e.config.popover.widgetStyle.bottom)?this.mUtils.getNewPxH(e.config.popover.widgetStyle.bottom):0;f.style.top=w-parseInt(s.style.height)-16-r+"px",i.style.display=e.config.popover.showArrow?"inline-block":"none",i.style.left=e.config.popover.arrowLeft?e.config.popover.arrowLeft+"px":parseInt(s.style.width)*.2+"px",i.style.borderTopColor=s.style.backgroundColor,i.style.bottom="-16px"}else{let r=this.mUtils.getNewPxH(e.config.popover.widgetStyle.top)?this.mUtils.getNewPxH(e.config.popover.widgetStyle.top):0;f.style.top=w+e.attr.h+r+"px",i.style.display=e.config.popover.showArrow?"inline-block":"none",i.style.left=e.config.popover.arrowLeft?e.config.popover.arrowLeft+"px":parseInt(s.style.width)*.2+"px",i.style.borderBottomColor=s.style.backgroundColor,i.style.top="0px"}f.style.position="absolute",f.style.width=parseInt(s.style.width)+"px",f.style.height=parseInt(s.style.height)+"px",document.querySelector("#my_bi_screen").appendChild(f)}}else e.config.popover.widgetStyle.show&&!t&&(i.style.display="none");this.registerPopoerStyle(e)},animeEffect(){if(this.widgetInfo.config.anime.disabled&&this.graphicValue)this.$nextTick(()=>{this.mycharts&&this.mycharts.dispose();let e={graphic:{elements:[{type:"text",left:this.widgetInfo.config.text.label.horizontalAlignment,top:"10px",style:{text:this.textInfo,fontSize:this.widgetInfo.config.text.label.fontSize,fontWeight:this.widgetInfo.config.text.label.fontWeight,fontStyle:this.widgetInfo.config.text.label.fontStyle,fontFamily:this.widgetInfo.config.text.label.fontFamily,lineDash:[0,200],lineDashOffset:0,fill:"transparent",stroke:this.widgetInfo.config.text.label.color,lineWidth:1},keyframeAnimation:{duration:3e3,loop:!0,keyframes:[{percent:.7,style:{fill:"transparent",lineDashOffset:200,lineDash:[200,0]}},{percent:.8,style:{fill:"transparent"}},{percent:1,style:{fill:this.widgetInfo.config.text.label.color}}]}}]}};this.widgetInfo.config.anime.loop||(e.graphic.elements[0].keyframeAnimation.loop=!1),this.widgetInfo.config.text.label.textStroke&&(e.graphic.elements[0].style.lineWidth=this.widgetInfo.config.text.label.textStrokeWidth,e.graphic.elements[0].style.stroke=this.widgetInfo.config.text.label.textStrokeColor),this.mycharts=E.init(this.$refs.spanTitle1),this.mycharts.setOption(e)});else{if(this.mycharts&&this.mycharts.dispose(),!this.textInfo||this.textInfo.length==0)return;this.textCharts=[];for(let e=0;e<this.textInfo.length;e++)this.textCharts.push(this.textInfo.charAt(e));this.$nextTick(()=>{let e=this.getAnimeLibrary();if(e&&this.animeTimeline)for(let t=0;t<e.length;t++)this.animeTimeline.remove("."+e[t].value),this.animeTimeline.remove("."+e[t].value+"-letter");if(this.textCharts.length>0&&this.widgetInfo.config.anime.disabled){let t=this.$refs.spanTitle;t.style.opacity=1,t.style.transform="rotate(0deg)",t.className=this.widgetInfo.config.anime.effect;for(let i=0;i<t.children.length;i++)t.children[i].style.opacity=1,t.children[i].style.transform="rotate(0deg)",t.children[i].className=this.widgetInfo.config.anime.effect+"-letter";this.widgetInfo.config.anime.effect=="left-small-fast-open"&&this.leftSmallFastOpen(),this.widgetInfo.config.anime.effect=="left-large-fast-open"&&this.leftLargeFastOpen(),this.widgetInfo.config.anime.effect=="left-normal-slow-show"&&this.leftNormalSlowShow(),this.widgetInfo.config.anime.effect=="left-upper-elastic-open"&&this.leftUpperElasticOpen(),this.widgetInfo.config.anime.effect=="left-upper-pluck-open"&&this.leftUpperPluckOpen(),this.widgetInfo.config.anime.effect=="left-small-elastic-open"&&this.leftSmallElasticOpen(),this.widgetInfo.config.anime.effect=="left-normal-elastic-shoot"&&this.leftNormalElasticShoot(),this.widgetInfo.config.anime.effect=="left-flat-wipe-open"&&this.leftFlatWipeOpen(),this.widgetInfo.config.anime.effect=="left-show-left-hide"&&this.leftShowLeftHide(),this.widgetInfo.config.anime.effect=="under-in-upper-out"&&this.underInUpperOut(),this.widgetInfo.config.anime.effect=="right-elastic-left-show"&&this.rightElasticLeftShow(),this.widgetInfo.config.anime.effect=="center-large-shrink-small"&&this.centerLargeShrinkSmall(),this.widgetInfo.config.anime.effect=="upper-in-left-open"&&this.upperInLeftOpen()}})}},leftSmallFastOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-small-fast-open .left-small-fast-open-letter",scale:[.3,1],opacity:[0,1],translateZ:0,easing:"easeOutExpo",duration:600,delay:(e,t)=>70*(t+1)}).add({targets:".left-small-fast-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftLargeFastOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-large-fast-open .left-large-fast-open-letter",scale:[4,1],opacity:[0,1],translateZ:0,easing:"easeOutExpo",duration:950,delay:(e,t)=>70*t}).add({targets:".left-large-fast-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftNormalSlowShow(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-normal-slow-show .left-normal-slow-show-letter",opacity:[0,1],easing:"easeInOutQuad",duration:2250,delay:(e,t)=>150*(t+1)})},leftUpperElasticOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-upper-elastic-open .left-upper-elastic-open-letter",translateY:["1.1em",0],translateZ:0,duration:750,delay:(e,t)=>50*t}).add({targets:".left-upper-elastic-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftUpperPluckOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-upper-pluck-open .left-upper-pluck-open-letter",translateY:["1.1em",0],translateX:["0.55em",0],translateZ:0,rotateZ:[180,0],duration:750,easing:"easeOutExpo",delay:(e,t)=>50*t}).add({targets:".left-upper-pluck-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftSmallElasticOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-small-elastic-open .left-small-elastic-open-letter",scale:[0,1],duration:1500,elasticity:600,delay:(e,t)=>45*(t+1)}).add({targets:".left-small-elastic-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftNormalElasticShoot(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-normal-elastic-shoot .left-normal-elastic-shoot-letter",rotateY:[-90,0],duration:1300,delay:(e,t)=>45*t}).add({targets:".left-normal-elastic-shoot",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftFlatWipeOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-flat-wipe-open .left-flat-wipe-open-letter",opacity:[0,1],easing:"easeOutExpo",duration:600,offset:"-=775",delay:(e,t)=>34*(t+1)}).add({targets:".left-flat-wipe-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftShowLeftHide(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-show-left-hide .left-show-left-hide-letter",translateX:[40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:1200,delay:(e,t)=>500+30*t}).add({targets:".left-show-left-hide .left-show-left-hide-letter",translateX:[0,-30],opacity:[1,0],easing:"easeInExpo",duration:1100,delay:(e,t)=>100+30*t})},underInUpperOut(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".under-in-upper-out .under-in-upper-out-letter",translateY:[100,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:1400,delay:(e,t)=>300+30*t}).add({targets:".under-in-upper-out .under-in-upper-out-letter",translateY:[0,-100],opacity:[1,0],easing:"easeInExpo",duration:1200,delay:(e,t)=>100+30*t})},rightElasticLeftShow(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".right-elastic-left-show .right-elastic-left-show-letter",opacity:[0,1],translateX:[40,0],translateZ:0,scaleX:[.3,1],easing:"easeOutExpo",duration:800,offset:"-=600",delay:(e,t)=>150+25*t}).add({targets:".right-elastic-left-show",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},centerLargeShrinkSmall(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".center-large-shrink-small .center-large-shrink-small-letter",scale:[14,1],opacity:[0,1],easing:"easeOutCirc",duration:500,delay:(e,t)=>500*t}).add({targets:".center-large-shrink-small",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},upperInLeftOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".upper-in-left-open .upper-in-left-open-letter",translateY:[-100,0],easing:"easeOutExpo",duration:1400,delay:(e,t)=>30*t}).add({targets:".upper-in-left-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},reLoadInfo(e){e&&(this.$refs.titleAnime.style.width=e.attr.w+"px",this.$refs.titleAnime.style.height=e.attr.hh+"px"),this.loadInfo(e)},initAction(e){this.actionReceive(e)},mouseover(e){if(e=="widget"?this.widgetStatus="over":e=="popWidget"&&(this.popWidgetStatus="over"),this.widgetInfo.config.popover.showWidget){let t=document.querySelector("#widget_"+this.widgetInfo.config.popover.widgetStyle.bindWidgetId);t&&t.parentNode&&(t.parentNode.style.display="block")}},mouseleave(e){e=="widget"?setTimeout(()=>{this.popWidgetStatus=="leave"&&(this.widgetStatus="leave")},500):e=="popWidget"&&(this.widgetStatus="leave",this.popWidgetStatus="leave"),setTimeout(()=>{if(this.widgetInfo.config.popover.showWidget&&this.widgetStatus=="leave"&&this.popWidgetStatus=="leave"){let t=document.querySelector("#widget_"+this.widgetInfo.config.popover.widgetStyle.bindWidgetId);t&&t.parentNode&&(t.parentNode.style.display="none")}},1e3)},registerPopoerStyle(e){const t=e.config.popover||{};this.mUtils.appendCss(`title-popover-${e.id}`,`.title-popover-${e.id} {
                  background-color: ${t?.backgroundColor};
                  border-color:  ${t?.backgroundColor};
                  font-size: ${this.mUtils.getNewFontSize(t?.fontStyle?.fontSize)}px;
                  font-family: ${t?.fontStyle?.fontFamily};
                  color: ${t?.fontStyle?.color};
            }`)},getSpanStyle(e){let t=e.config.text.label,i={};return t.textShadow&&(i.textShadow=t.hShadow+"px "+t.vShadow+"px "+t.textShadowBlur+"px "+t.textShadowColor||"rgba(0,0,0,0)"),t.textStroke&&(i.webkitTextStrokeWidth=t.textStrokeWidth+"px",i.webkitTextStrokeColor=t.textStrokeColor),t.gradient&&(i.backgroundImage="linear-gradient("+t.angle+"deg,"+t.startColor+","+t.endColor+")",i.webkitBackgroundClip="text",i.webkitTextFillColor="transparent"),t.singleLine&&(i.height="100%",i.width="100%",i.display="inline-block",i.whiteSpace="nowrap",t.enabledEllipsis&&(i.textOverflow="ellipsis",i.overflow="hidden")),i},getSpanChildStyle(e){let t=e.config.text.label,i={};return i.textDecoration=t.textDecoration,t.gradient&&(i.backgroundImage="linear-gradient("+t.angle+"deg,"+t.startColor+","+t.endColor+")",i.webkitBackgroundClip="text",i.webkitTextFillColor="transparent"),i},onClick(){let e=this,t=this.widgetInfo.action.sendOut.actionList;this.$$lib__.each(t,i=>{if(i.enabled&&i.code==e.actionType.click.code){let o=i.code+"_"+e.widgetInfo.id,a={text:e.textInfo};if(i.paramsExtend&&i.paramsExtend.length>0){let s=[];e.widgetInfo.dataset[e.widgetInfo.dataset.type].source&&e.widgetInfo.dataset[e.widgetInfo.dataset.type].source.length>0&&(s=e.widgetInfo.dataset[e.widgetInfo.dataset.type].source[0]),this.getExtendParams(a,i.paramsExtend,s,e.widgetInfo.dataset[e.widgetInfo.dataset.type].dimensions)}if(i.script&&i.script.enabled){if(b.log("Execute script for "+this.widgetInfo.name+" component to "+i.name+" component"),i.script.content==""){m.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",i.script.content),a=this.customScript(a)}p.Z.$emit(o,a),i.postMessage&&this.doPostMessage(a),this.actionNameList.push(o)}else if(i.enabled&&i.code==e.actionType.openLink.code){let o={text:e.textInfo};if(i.paramsExtend&&i.paramsExtend.length>0){let a=[];e.widgetInfo.dataset[e.widgetInfo.dataset.type].source&&e.widgetInfo.dataset[e.widgetInfo.dataset.type].source.length>0&&(a=e.widgetInfo.dataset[e.widgetInfo.dataset.type].source[0]),this.getExtendParams(o,i.paramsExtend,a,e.widgetInfo.dataset[e.widgetInfo.dataset.type].dimensions)}if(i.script&&i.script.enabled){if(b.log("Execute script for "+i.name+" action"),i.script.content==""){m.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",i.script.content),o=this.customScript(o)}i.type===this.$$global_editor.linkType.dynamic.code&&(i[e.$$global_editor.linkType.dynamic.code].url=e.getActionUrl(i,e.widgetInfo.dataset[e.widgetInfo.dataset.type].source[0],e.widgetInfo.dataset[e.widgetInfo.dataset.type].dimensions)),this.openLinkAction(i,o)}})},getAnimeLibrary(){return[{value:"left-small-fast-open",label:"\u5DE6-\u5C0F-\u5FEB-\u5F00"},{value:"left-large-fast-open",label:"\u5DE6-\u5927-\u5FEB-\u5F00"},{value:"left-normal-slow-show",label:"\u5DE6-\u5E38-\u6162-\u663E"},{value:"left-upper-elastic-open",label:"\u5DE6-\u4E0A-\u5F39-\u5F00"},{value:"left-upper-pluck-open",label:"\u5DE6-\u4E0A-\u62D4-\u5F00"},{value:"left-small-elastic-open",label:"\u5DE6-\u5C0F-\u5F39-\u5F00"},{value:"left-normal-elastic-shoot",label:"\u5DE6-\u5E38-\u5F39-\u5C04"},{value:"left-flat-wipe-open",label:"\u5DE6-\u5E73-\u64E6-\u5F00"},{value:"left-show-left-hide",label:"\u5DE6-\u663E-\u5DE6-\u9690"},{value:"under-in-upper-out",label:"\u4E0B-\u5165-\u4E0A-\u51FA"},{value:"right-elastic-left-show",label:"\u53F3-\u5F39-\u5DE6-\u663E"},{value:"center-large-shrink-small",label:"\u4E2D-\u5927-\u7F29-\u5C0F"},{value:"upper-in-left-open",label:"\u4E0A-\u8FDB-\u5DE6-\u5F00"},{value:"echarts-graphic",label:"\u6587\u672C\u63CF\u8FB9"}]}}},L=H,O=l(68141),N=(0,O.Z)(L,y,d,!1,null,"9b6d9e6a",null),P=N.exports}}]);
