"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[9810],{44513:function(C,r,e){e.d(r,{Z:function(){return v}});var h=function(){var t=this,a=t._self._c;return t.attr.buttonHide?a("div",{style:{position:"absolute",right:t.attr.buttonHideRight+"px",top:t.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(b){return t.onHide()}}},[t.openTooltip?a("el-tooltip",{attrs:{"open-delay":1e3,content:t.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[a("el-button",{class:t.attr.buttonHideIconClass&&t.attr.buttonHideIconClass!=""?t.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:t.attr.buttonHideColor,fontSize:t.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):a("el-button",{class:t.attr.buttonHideIconClass&&t.attr.buttonHideIconClass!=""?t.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:t.attr.buttonHideColor,fontSize:t.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):t._e()},f=[],d=e(52246),g={props:["attr"],name:"hide-button",data(){return{isPc:d.b}},computed:{openTooltip:function(){let s=!1,t=this.attr.buttonHideTooltipContent;return d.b&&t&&t!=null&&t.trim()!=""&&(s=!0),s}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},p=g,u=e(68141),m=(0,u.Z)(p,h,f,!1,null,"bf399b9a",null),v=m.exports},39810:function(C,r,e){e.r(r),e.d(r,{default:function(){return N}});var h=function(){var o=this,n=o._self._c;return n("div",{directives:[{name:"show",rawName:"v-show",value:o.widgetInfo.attr.hide!=!0,expression:"widgetInfo.attr.hide != true"}],ref:"content",staticClass:"my-gisBase",style:{width:o.widgetInfo.attr.w+"px",height:o.widgetInfo.attr.hh+"px"}},[n("hide-button",{attrs:{attr:o.widgetInfo.attr}}),n("LayerManager",{ref:"toc",attrs:{mobile:"","hide-pile-num":o.hidePileNum,"layers-info":o.toc,position:o.position,"drag-enable":o.widgetInfo.config.styleConfig.dragEnable,"style-config":o.styleConfig,"theme-style":o.themeConfig},on:{tocLoaded:o.tocLoaded,treeNodeCheckChange:o.treeNodeCheckChange}})],1)},f=[],d=e(19364),g=e.n(d),p=e(44513),u=e(27966),m=e(13249),v=e(45061),s=e(26711),t=e(86892),a=e(48836),b=e(76010),y=e(42709),x=e(49500),I={name:"GisMobileToc",components:{LayerManager:g(),HideButton:p.Z},mixins:[m.u,t.D,v.u,s.H,b.Z,y.Z],props:["widgetInfo"],computed:{...(0,a.Se)(["getCanvasSetting","bodyFraction"])},data(){return{timer:"",map:null,tocConfig:null,hidePileNum:this.widgetInfo.config.widgetConfig.hidePileNum,toc:this.widgetInfo.mapLayer.toc}},mounted(){this.isEditor||this.$nextTick(()=>{let i=this.$refs.toc.$el;this.bindToPage(i)}),this.initAction(this.widgetInfo)},methods:{loadInfo(i){},reLoadInfo(i){this.loadInfo(i),this.btnAttr=i.attr,this.imgIconConfig=i.config.imgIconConfig,this.isShowBtn=i.config.widgetConfig.isShowBtn,this.hidePileNum=i.config.widgetConfig.hidePileNum,this.widgetConfig=i.config.widgetConfig,this.toc=i.mapLayer.toc,setTimeout(()=>{this.$refs.toc.initTreeToc(this.toc,!1)},200)},initAction(i){this.registerAction(i,"configMap","mapList",this.doConfigMap),this.actionReceive(i)},doConfigMap(i,o,n){let l=o[n];this.map=l,x.info("==============="),this.$refs.toc.initLayerManager(this.map)},tocLoaded(){let i=this,o=this.widgetInfo.action.sendOut.actionList;this.$$lib__.each(o,n=>{if(n.enabled&&n.code==i.$$global_editor.actionType.tocInit.code){let l=n.code+"_"+i.widgetInfo.id,c={toc:i};n.paramsExtend&&n.paramsExtend.length>0&&this.getExtendParams(c,n.paramsExtend,[],[]),n.script&&n.script.enabled&&n.script.content&&(this.doConfigMap=new Function("data",n.script.content),this.doConfigMap(c)),u.Z.$emit(l,c),n.postMessage&&this.doPostMessage(c),this.actionNameList.push(l)}})},treeNodeCheckChange(){}}},H=I,w=e(68141),L=(0,w.Z)(H,h,f,!1,null,"a770507c",null),N=L.exports}}]);
