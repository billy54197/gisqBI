"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[77397],{677397:function(z,a,i){i.r(a),i.d(a,{default:function(){return $}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"charts-setting"},[e("el-collapse",[e("el-collapse-item",[e("template",{slot:"title"},[e("div",{staticClass:"my-title"},[t._v("\u4E13\u9898\u56FE\u914D\u7F6E")])]),e("el-form",[e("el-form-item",{staticClass:"form-itm",attrs:{label:"\u6837\u5F0F\u7F16\u8F91"}},[e("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:t.editStyle}},[t._v("\u7F16\u8F91")])],1)],1)],2)],1),t.showDialog?e("custom-dialog",{attrs:{"show-dialog":t.showDialog,"type-list":t.typeList,"style-option":t.currentWidget.config.styleOption},on:{close:function(o){t.showDialog=!1},confirm:t.dialogConfirm}}):t._e()],1)},n=[],c=i(723400),g=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"CustomDialog",attrs:{visible:t.showDialog,center:"","show-close":!1,top:"150px",width:"1200px","append-to-body":""}},[e("div",{staticClass:"slotDiv",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"dialogTitle"},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(t.title))]),e("div",{staticClass:"dialogClose",attrs:{title:"\u5173\u95ED"},on:{click:t.closeEmit}},[t._v("\xD7")])])]),e("geometry-style",{ref:"TypeStyleRef",attrs:{"type-list":t.typeList,"style-option":t.styleOption}}),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:t.closeEmit}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.dialogConfirm}},[t._v("\u786E \u5B9A")])],1)],1)},d=[],m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dialogContent"},[e("div",{staticStyle:{width:"50%",height:"calc(100% - 25px)"}},[e("div",{staticClass:"editorTitle"},[t._v("\u6837\u5F0F\u7F16\u8F91")]),e("my-monaco-editor",{ref:"scriptContent",attrs:{language:"json",theme:"vs"},model:{value:t.styleStr,callback:function(o){t.styleStr=o},expression:"styleStr"}})],1),e("div",{staticStyle:{width:"50%",height:"calc(100% - 25px)"}},[e("div",{staticClass:"editorTitle"},[t._v("\u6837\u5F0F\u5C5E\u6027\u8BE6\u89E3(\u53EA\u8BFB)")]),e("my-monaco-editor",{ref:"scriptContent",attrs:{language:"json","read-only":!0,theme:"vs"},model:{value:t.describeStyleStr,callback:function(o){t.describeStyleStr=o},expression:"describeStyleStr"}})],1)])},y=[],p={name:"GeometryStyle",components:{MyMonacoEditor:()=>Promise.resolve().then(i.bind(i,980424))},props:["showDialog","typeList","styleOption"],data(){return{visible:!1,styleStr:"",describeStyleStr:`{
  "\u7C7B\u578B1": {
    "fillColor": "string,\u586B\u5145\u989C\u8272",
    "strokeColor": "string,\u7EBF\u7684\u989C\u8272",
    "strokeWidth":"string,\u663E\u5F97\u5BBD\u5EA6",
    "textFont":"string,\u56FE\u5F62\u6587\u672C\u5B57\u4F53\u8BBE\u7F6E,\u9ED8\u8BA4:16px bold Microsoft YaHei",
    "textFill":"string,\u56FE\u5F62\u6587\u672C\u5B57\u4F53\u989C\u8272,\u9ED8\u8BA4:#FFF"
   },
   "\u7C7B\u578B2": {
    "fillColor": "string,\u586B\u5145\u989C\u8272",
    "strokeColor": "string,\u7EBF\u7684\u989C\u8272",
    "strokeWidth":"number,\u7EBF\u7684\u5BBD\u5EA6",
    "textFont":"string,\u56FE\u5F62\u6587\u672C\u5B57\u4F53\u8BBE\u7F6E,\u9ED8\u8BA4:16px bold Microsoft YaHei",
    "textFill":"string,\u56FE\u5F62\u6587\u672C\u5B57\u4F53\u989C\u8272,\u9ED8\u8BA4:#FFF"
   },
   "...":{}
  },`}},mounted(){this.$nextTick(()=>{this.visible=this.showDialog,this.setStyleStr()})},methods:{setStyleStr(){this.typeList&&(this.styleStr="{",this.typeList.forEach((s,t)=>{const e=this.styleOption[s]||{};this.styleStr+=`
  "${s}":`,this.styleStr+=`{
    "fillColor":"${e.fillColor||""}",
    "strokeColor": "${e.strokeColor||""}",
    "strokeWidth": ${e.strokeWidth||2},
    "textFont":"${e.textFont||"16px bold Microsoft YaHei "}",
    "textFill":"${e.textFill||"#FFF"}"
  }`,t!==this.typeList.length-1&&(this.styleStr+=",")}),this.styleStr+="}")},getConfig(){return JSON.parse(this.styleStr)}}},h=p,l=i(768141),u=(0,l.Z)(h,m,y,!1,null,"e86c57ac",null),v=u.exports,f={name:"CustomDialog",components:{GeometryStyle:v},props:["showDialog","typeList","styleOption"],data(){return{title:"\u6807\u6CE8\u6837\u5F0F\u7F16\u8F91"}},mounted(){this.$nextTick(()=>{this.isLabel||(this.title="\u9F20\u6807\u60AC\u505C\u6837\u5F0F\u7F16\u8F91")})},methods:{closeEmit(){this.$emit("close")},dialogConfirm(){let s=this.$refs.TypeStyleRef.getConfig();this.$emit("confirm",s)}}},_=f,C=(0,l.Z)(_,g,d,!1,null,"b8237942",null),S=C.exports,x=i(927966),D=i(149500),b={name:"GisThemeCategorizeStyle",components:{CustomDialog:S},mixins:[c.j],props:["currentWidget"],data(){return{basemap:null,showDialog:!1,typeList:[],drillAnchor:[{label:!0,text:"\u9F20\u6807\u4F4D\u7F6E"},{label:!1,text:"\u5C4F\u5E55\u4E2D\u5FC3"}]}},mounted(){this.$nextTick(()=>{x.Z.$on("categorizeChange",s=>{this.typeList=s})})},methods:{manageGetBoardConfigData(){setTimeout(this.getConfigData(),500)},editStyle(){this.showDialog=!0,D.log(this.currentWidget.config)},dialogConfirm(s){this.currentWidget.config.styleOption=s,this.manageGetBoardConfigData(),this.showDialog=!1}}},F=b,k=(0,l.Z)(F,r,n,!1,null,"4eaac792",null),$=k.exports}}]);
