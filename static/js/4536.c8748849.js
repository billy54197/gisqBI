"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[4536],{56279:function(v,g,s){s.d(g,{P:function(){return h}});var u=s(386892),p=s(149500);const h={mixins:[u.D],created(){},methods:{lifecycleBeforeChartsLoad(t){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&p.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),p.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let a=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[t]);if(a)return a}return t},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&p.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),p.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},483577:function(v,g,s){s.d(g,{i:function(){return h}});var u=s(148836),p=s(927966);const h={created(){},computed:{...(0,u.Se)(["getCurrentWidget","getKeydown","getSelectMultiple","getMultipleWidget","getWidgets"])},methods:{...(0,u.nv)(["setCurrentWidget","setCurrentWidgetXYWHR","setActiveScreen","removeMultipleWidget","addMultipleWidget","setSelectMultiple","clearMultipleWidget"]),reLoadInfo(t){this.widgetInfo.id!=t.id&&this.$refs["comp_"+t.id]&&setTimeout(()=>{this.$refs["comp_"+t.id][0].reLoadInfo(t),this.$refs["comp_frame_"+t.id][0].initSvg()},500),this.loadInfo(t)},orgWidget(t,i){let a=[];return this.$$lib__.each(t,o=>{for(let l=0;l<this.widgetArr.length;l++){let c=this.widgetArr[l];c.parentId==this.widgetInfo.id&&c.id==o.id&&(!i||i(c))&&a.push(JSON.parse(JSON.stringify(c)))}}),a},setTitleText(t,i){i?this.$$lib__.each(i,a=>{this.$$lib__.each(this.orgWidget(a.widgets,o=>!o.title.hide&&o.title.text),o=>{o.attr.widgetW||(o.attr.widgetW=o.attr.w),this.$refs["title_"+o.id]&&this.$refs["title_"+o.id][0]&&(this.$refs["title_"+o.id][0].innerHTML=this.initTextPosition(o)),o.title.position||(o.title.position="top")})}):this.$$lib__.each(this.orgWidget(t,a=>!a.title.hide&&a.title.text),a=>{this.$refs["title_"+a.id]&&this.$refs["title_"+a.id][0]&&(this.$refs["title_"+a.id][0].innerHTML=this.initTextPosition(a)),a.title.position||(a.title.position="top")})},initTextPosition(t){return t.title.text===void 0||!t.title.text?"":t.title.text&&(t.title.position==="left"||t.title.position==="right")?t.title.text.split("").join("<br />"):t.title.text},onActive(t){return this.getSelectMultiple?this.getMultipleWidget[t.id]!=null:t.id===this.getCurrentWidget.id},onClicked(t){if(t&&t.currentTarget){let i=t.currentTarget.id;if(i&&i.indexOf(this.prefix.widget)>-1){let a=i.substr(this.prefix.widget.length);if(a!=this.getCurrentWidget.id){this.setActiveScreen(!1),this.setCurrentWidget(a);let o=this.$$lib__.keys(this.getMultipleWidget);this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[a]?this.removeMultipleWidget(a):this.addMultipleWidget(a)):this.getMultipleWidget[a]==null?(this.setSelectMultiple(!1),this.clearMultipleWidget(),this.addMultipleWidget(a)):o&&o.length==1&&(this.setSelectMultiple(!1),this.setCurrentWidget(o[0]),this.clearMultipleWidget(),this.addMultipleWidget(o[0]))}p.Z.$emit("autoScrollIntoViewWidgetTree",a)}}},onMouseEnter(t){this.onWidgetLayerMouseOver("push",t)},onMouseLeave(t){this.onWidgetLayerMouseOver("pop",t)},onWidgetLayerMouseOver(t,i){if(i&&i.currentTarget){let a=i.currentTarget.id;if(a&&a.indexOf(this.prefix.widget)>-1){let o=a.substr(this.prefix.widget.length);o&&o!=this.getCurrentWidget.id&&this.getMultipleWidget[o]==null&&t=="push"&&this.widget_layer_mouse_over.push(o),t=="pop"&&(this.widget_layer_mouse_over=this.$$lib__.without(this.widget_layer_mouse_over,o))}}},onDragstop(t,i){let a=this.getCurrentWidget.attr;a&&(a.x!=t||a.y!=i)&&this.setCurrentWidgetXYWHR({x:t,y:i})},dragging(t,i,a,o){if(this.getSelectMultiple){let l=this.getCurrentWidget.attr;l&&(l.x!=t||l.y!=i)&&this.setCurrentWidgetXYWHR({x:t,y:i})}},onResizstop(t,i,a,o){this.setCurrentWidgetXYWHR({x:t,y:i,w:a,h:o})},onRotatestop(t){this.setCurrentWidgetXYWHR({r:t})},getdraggableHW(t){let i={h:t.attr.h,w:t.attr.w?t.attr.widgetW:t.attr.w};return t.border.hide!=!0&&(t.border.type==!1?(t.border.widthT&&t.border.styleT&&t.border.styleT!=="none"&&(i.h=i.h+t.border.widthT),t.border.widthB&&t.border.styleB&&t.border.styleB!=="none"&&(i.h=i.h+t.border.widthB),t.border.widthR&&t.border.styleR&&t.border.styleR!=="none"&&(i.w=i.w+t.border.widthR),t.border.widthL&&t.border.styleL&&t.border.styleL!=="none"&&(i.w=i.w+t.border.widthL)):t.border.type==!0&&(t.border.breadthT&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.h=i.h+t.border.breadthT),t.border.breadthB&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.h=i.h+t.border.breadthB),t.border.breadthR&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.w=i.w+t.border.breadthR),t.border.breadthL&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.w=i.w+t.border.breadthL))),i},getDraggableStyle(t){let i={};return!t.isContainer&&!t.attr.pointerEvents&&(i.pointerEvents="none",t.id===this.getCurrentWidget.id&&(i.backgroundColor="rgba(236, 240, 241, 1)",i.filter="Alpha(Opacity=50)")),typeof t.attr.opacity=="number"&&(i.opacity=t.attr.opacity),t.attr.backgroundColor&&(i.backgroundColor=t.attr.backgroundColor),t.attr.backgroundImage&&(i.backgroundImage=this.getImageUrl(t.attr.backgroundImage)),t.attr.backgroundSize&&(i.backgroundSize=t.attr.backgroundSize),i.overflow=t.border.overflowShow?"hidden":"visible",t.border.hide!=!0&&((t.border.hShadow||t.border.vShadow)&&(i.boxShadow=(t.border.hShadow||0)+"px "+(t.border.vShadow||0)+"px "+(t.border.blur||0)+"px "+t.border.blurColor||"rgba(0,0,0,0)"),t.border.type==!1?(i.borderTopWidth=t.border.widthT+"px",i.borderRightWidth=t.border.widthR+"px",i.borderBottomWidth=t.border.widthB+"px",i.borderLeftWidth=t.border.widthL+"px",i.borderTopStyle=t.border.styleT,i.borderRightStyle=t.border.styleR,i.borderBottomStyle=t.border.styleB,i.borderLeftStyle=t.border.styleL,i.borderTopColor=t.border.colorT,i.borderRightColor=t.border.colorR,i.borderBottomColor=t.border.colorB,i.borderLeftColor=t.border.colorL,i.borderTopLeftRadius=t.border.radiusTL+"px",i.borderTopRightRadius=t.border.radiusTR+"px",i.borderBottomLeftRadius=t.border.radiusBL+"px",i.borderBottomRightRadius=t.border.radiusBR+"px"):t.border.type==!0&&(i.borderStyle=t.border.borderStyle,i.borderTopWidth=t.border.breadthT+"px",i.borderRightWidth=t.border.breadthR+"px",i.borderBottomWidth=t.border.breadthB+"px",i.borderLeftWidth=t.border.breadthL+"px",i.borderImageSource=this.getImageUrl(t.border.borderImage),i.borderImageSlice=t.border.cutT+" "+t.border.cutR+" "+t.border.cutB+" "+t.border.cutL,i.borderImageRepeat=t.border.repeat)),i.float="left !important",i}}}},752246:function(v,g,s){s.d(g,{X:function(){return u},b:function(){return p}});let u={versions:function(){var h=navigator.userAgent;return{trident:h.indexOf("Trident")>-1,presto:h.indexOf("Presto")>-1,webKit:h.indexOf("AppleWebKit")>-1,gecko:h.indexOf("Gecko")>-1&&h.indexOf("KHTML")==-1,mobile:!!h.match(/AppleWebKit.*Mobile.*/),ios:!!h.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:h.indexOf("Android")>-1,iPhone:h.indexOf("iPhone")>-1,iPad:h.indexOf("iPad")>-1,webApp:h.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},p;u.versions.mobile||u.versions.ios||u.versions.android||u.versions.iPhone||u.versions.iPad?p=!1:p=!0},459738:function(v,g,s){s.d(g,{OW:function(){return p},m3:function(){return a},nm:function(){return h},vP:function(){return t},xC:function(){return i}});var u=s(153258);function p(o,l,c){let n=o;const f=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(m=>(0,u.mf)(n[m]));if(!(0,u.mf)(n[f]))return!1;do{if(n[f](l))return!0;if(n===c)return!1;n=n.parentNode}while(n);return!1}function h(o){const l=window.getComputedStyle(o);return[parseFloat(l.getPropertyValue("width"),10),parseFloat(l.getPropertyValue("height"),10)]}function t(o,l,c){o&&(o.attachEvent?o.attachEvent("on"+l,c):o.addEventListener?o.addEventListener(l,c,!0):o["on"+l]=c)}function i(o,l,c){o&&(o.detachEvent?o.detachEvent("on"+l,c):o.removeEventListener?o.removeEventListener(l,c,!0):o["on"+l]=null)}function a(o,l,c,n){var f=0,m=setInterval(()=>{f<c?(f++,o()):(clearInterval(m),n&&n())},l);return m}},980512:function(v,g,s){s.d(g,{Z:function(){return c}});var u=function(){var f=this,m=f._self._c;return m("div",{class:"container_child_"+f.widgetData.id,attrs:{id:"container_child_"+f.widgetData.id}},[m("keep-alive",[m(f.isView&&f.widgetData.isContainer?f.widgetData.typeName+"-view":f.widgetData.typeName,{ref:"com_"+f.widgetData.id,tag:"component",attrs:{"widget-info":f.widgetData,"widget-arr":f.getWidgetAllArr,"current-widget":f.currentWidget},on:{doGetPreviewData:f.doGetPreviewData,doReSetBoardId:f.doReSetBoardId,attrChange:f.attrChange}})],1)],1)},p=[],h=s(513229),t=s(148836),i={name:"DraggableComponent",extends:h.Z,computed:{...(0,t.Se)(["getWidgetAllArr","isView"])},methods:{reLoadInfo(n){if(n.id){let f=this.$refs["com_"+n.id];f&&f.reLoadInfo(n)}},doReSetBoardId(n){this.$emit("doReSetBoardId",n)},attrChange(n){this.$emit("attrChange",n)}}},a=i,o=s(768141),l=(0,o.Z)(a,u,p,!1,null,"41d16aa2",null),c=l.exports},844513:function(v,g,s){s.d(g,{Z:function(){return l}});var u=function(){var n=this,f=n._self._c;return n.attr.buttonHide?f("div",{style:{position:"absolute",right:n.attr.buttonHideRight+"px",top:n.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(m){return n.onHide()}}},[n.openTooltip?f("el-tooltip",{attrs:{"open-delay":1e3,content:n.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[f("el-button",{class:n.attr.buttonHideIconClass&&n.attr.buttonHideIconClass!=""?n.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:n.attr.buttonHideColor,fontSize:n.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):f("el-button",{class:n.attr.buttonHideIconClass&&n.attr.buttonHideIconClass!=""?n.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:n.attr.buttonHideColor,fontSize:n.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):n._e()},p=[],h=s(752246),t={props:["attr"],name:"hide-button",data(){return{isPc:h.b}},computed:{openTooltip:function(){let c=!1,n=this.attr.buttonHideTooltipContent;return h.b&&n&&n!=null&&n.trim()!=""&&(c=!0),c}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},i=t,a=s(768141),o=(0,a.Z)(i,u,p,!1,null,"bf399b9a",null),l=o.exports},503542:function(v,g,s){s.r(g),s.d(g,{default:function(){return T}});var u=function(){var r=this,d=r._self._c;return d("div",{staticClass:"my-div"},[r.widgetInfo.config.scroll.show?d("happy-scroll",{attrs:{color:r.widgetInfo.config.scroll.color,size:r.widgetInfo.config.scroll.width,resize:""}},[d("div",{directives:[{name:"show",rawName:"v-show",value:r.widgetInfo.attr.hide!==!0,expression:"widgetInfo.attr.hide !== true"}],staticClass:"my-screen",style:{width:r.widgetInfo.attr.w+"px",height:r.widgetInfo.attr.hh+"px",overflow:"visible"},on:{click:r.onClick}},[d("hide-button",{attrs:{attr:r.widgetInfo.attr}}),r._l(r.orgWidget(r.widgetInfo.config.widgets),function(e){return d("draggable",{directives:[{name:"show",rawName:"v-show",value:e.attr.hideEditor!==!0,expression:"widget.attr.hideEditor !== true"}],key:r.prefix.widget+e.id,ref:r.prefix.widget+e.id,refInFor:!0,attrs:{id:r.prefix.widget+e.id,active:r.onActive(e),deselectCancel:".unboardArea",draggable:!e.attr.locked,h:r.getdraggableHW(e).h,minh:e.attr.minh,minw:e.attr.minw,r:e.attr.deg,resizable:!e.attr.locked,rotatable:!0,snap:!0,w:r.getdraggableHW(e).w,x:e.attr.x,y:e.attr.y,z:r.getZ(e)},on:{dragstop:r.onDragstop,onClicked:r.onClicked,resizestop:r.onResizstop,rotatestop:r.onRotatestop,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave}},[d("widget-action-icon",{attrs:{widget:e}}),d("div",{style:r.getDraggableMouseOver(e)}),d("div",{directives:[{name:"show",rawName:"v-show",value:e.attr.hide!==!0,expression:"widget.attr.hide !== true"}],staticClass:"my-drag-widget",style:r.getDraggableStyle(e)},[d("external-frame-svg",{ref:"comp_frame_"+e.id,refInFor:!0,attrs:{"widget-info":e}}),e.title.position==="top"||e.title.position==="left"?d("div",{staticStyle:{overflow:"hidden",float:"left"},style:r.getWidgetTitleStyle(e),on:{click:function(y){return r.openLink(e)}}},[d("div",{style:{marginLeft:e.title.label.left+"px",marginTop:e.title.label.top+"px"}},[d("span",{ref:"title_"+e.id,refInFor:!0,style:r.getTitleSpanStyle(e)})])]):r._e(),d("draggable-component-container",{ref:"comp_"+e.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:r.getInfoStyle(e),attrs:{currentWidget:r.getCurrentWidget,widgetData:e}}),e.title.position==="bottom"||e.title.position==="right"?d("div",{staticStyle:{overflow:"hidden",float:"left"},style:r.getWidgetTitleStyle(e),on:{click:function(y){return r.openLink(e)}}},[d("div",{style:{marginLeft:e.title.label.left+"px",marginTop:e.title.label.top+"px"}},[d("span",{ref:"title_"+e.id,refInFor:!0,style:r.getTitleSpanStyle(e)})])]):r._e()],1)],1)})],2)]):d("div",{directives:[{name:"show",rawName:"v-show",value:r.widgetInfo.attr.hide!==!0,expression:"widgetInfo.attr.hide !== true"}],staticClass:"my-screen",style:{width:r.widgetInfo.attr.w+"px",height:r.widgetInfo.attr.hh+"px",overflow:r.widgetInfo.config.overflow?"visible":"hidden"},on:{click:r.onClick}},[d("hide-button",{attrs:{attr:r.widgetInfo.attr}}),r._l(r.orgWidget(r.widgetInfo.config.widgets),function(e){return d("draggable",{directives:[{name:"show",rawName:"v-show",value:e.attr.hideEditor!==!0,expression:"widget.attr.hideEditor !== true"}],key:r.prefix.widget+e.id,ref:r.prefix.widget+e.id,refInFor:!0,attrs:{id:r.prefix.widget+e.id,active:r.onActive(e),deselectCancel:".unboardArea",draggable:!e.attr.locked,h:r.getdraggableHW(e).h,minh:e.attr.minh,minw:e.attr.minw,r:e.attr.deg,resizable:!e.attr.locked,rotatable:!0,snap:!0,w:r.getdraggableHW(e).w,x:e.attr.x,y:e.attr.y,z:r.getZ(e)},on:{dragging:r.dragging,dragstop:r.onDragstop,onClicked:r.onClicked,resizestop:r.onResizstop,rotatestop:r.onRotatestop,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave}},[d("widget-action-icon",{attrs:{widget:e}}),d("div",{style:r.getDraggableMouseOver(e)}),d("div",{directives:[{name:"show",rawName:"v-show",value:e.attr.hide!==!0,expression:"widget.attr.hide !== true"}],staticClass:"my-drag-widget",style:r.getDraggableStyle(e)},[d("external-frame-svg",{ref:"comp_frame_"+e.id,refInFor:!0,attrs:{"widget-info":e}}),e.title.position==="top"||e.title.position==="left"?d("div",{staticStyle:{overflow:"hidden",float:"left"},style:r.getWidgetTitleStyle(e),on:{click:function(y){return r.openLink(e)}}},[d("div",{style:{marginLeft:e.title.label.left+"px",marginTop:e.title.label.top+"px"}},[d("span",{ref:"title_"+e.id,refInFor:!0,style:r.getTitleSpanStyle(e),domProps:{innerHTML:r._s(r.getTitleText(e))}})])]):r._e(),d("draggable-component-container",{ref:"comp_"+e.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:r.getInfoStyle(e),attrs:{currentWidget:r.getCurrentWidget,widgetData:e}}),e.title.position==="bottom"||e.title.position==="right"?d("div",{staticStyle:{overflow:"hidden",float:"left"},style:r.getWidgetTitleStyle(e),on:{click:function(y){return r.openLink(e)}}},[d("div",{style:{marginLeft:e.title.label.left+"px",marginTop:e.title.label.top+"px"}},[d("span",{ref:"title_"+e.id,refInFor:!0,style:r.getTitleSpanStyle(e),domProps:{innerHTML:r._s(r.getTitleText(e))}})])]):r._e()],1)],1)})],2)],1)},p=[],h=s(787479),t=s(980512),i=s(723400),a=s(483577),o=s(80161),l=s(844513),c=s(977863),n=s(213743),f=s(67157);const m={mixins:[f.c],data(){return{config_extend:{},filter_config:{scroll:{color:"#001725"}}}},methods:{filterPredefineColoursSchemeConfig(b,r){this.getNewConfigWithArrary(b,r,this.filter_config)}}};var _=s(56279),x=s(629466),I=s(149500),S={props:["widgetInfo","widgetArr","currentWidget"],name:"container-pane",components:{WidgetActionIcon:x.Z,ExternalFrameSvg:n.Z,DraggableComponentContainer:t.Z,draggable:h.Z,HideButton:l.Z,HappyScroll:c.HappyScroll},mixins:[o.baseConfig,i.j,a.i,m,_.P],mounted(){this.loadInfo(this.widgetInfo),setTimeout(()=>{this.setHappyScrollStyle()},50)},watch:{getCurrentWidget:{deep:!0,handler:function(){this.$nextTick(()=>{this.setTitleText(this.widgetInfo.config.widgets)})}}},methods:{loadInfo(b){I.debug(b),this.lifecycleAfterLoad()},onClick(b){typeof b.target.className=="string"&&b.target.className.indexOf("my-screen")>-1&&(this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[this.widgetInfo.id]?this.removeMultipleWidget(this.widgetInfo.id):(this.$$lib__.each(this.widgetInfo.config.widgets,r=>{this.removeMultipleWidget(r.id)}),this.addMultipleWidget(this.widgetInfo.id))):this.setCurrentWidget(this.widgetInfo.id))},onHide(){this.widgetInfo.attr.hide=!0},getTitleText(b){return b.title.text===void 0||!b.title.text?"":b.title.text&&(b.title.position==="left"||b.title.position==="right")?b.title.text.split("").join("<br />"):b.title.text},setHappyScrollStyle(){if(this.widgetInfo.config.scroll.show){let b=0,r=0;if(this.widgetInfo.config.scroll.width&&this.widgetInfo.config.scroll.width!=0){let e=document.querySelector("#widget_"+this.widgetInfo.id).querySelector(".happy-scroll-strip--vertical");e&&e.childNodes&&e.childNodes.length>0&&e.childNodes[0].style&&e.childNodes[0].style.opacity==1&&(b=this.widgetInfo.config.scroll.width);let y=document.querySelector("#widget_"+this.widgetInfo.id).querySelector(".happy-scroll-strip--horizontal");y&&y.childNodes&&y.childNodes.length>0&&y.childNodes[0].style&&y.childNodes[0].style.opacity==1&&(r=this.widgetInfo.config.scroll.width)}let d=document.querySelector("#widget_"+this.widgetInfo.id).querySelector(".happy-scroll");d.style.width=this.widgetInfo.attr.w+b+"px",d.style.height=this.widgetInfo.attr.hh+r+"px",d&&d.childNodes&&d.childNodes.length>0&&d.childNodes[0].style&&(d.childNodes[0].style.width=this.widgetInfo.attr.w+b+"px",d.childNodes[0].style.height=this.widgetInfo.attr.hh+r+"px")}}}},C=S,W=s(768141),L=(0,W.Z)(C,u,p,!1,null,"4e18ff40",null),T=L.exports},629466:function(v,g,s){s.d(g,{Z:function(){return o}});var u=function(){var c=this,n=c._self._c;return c.action_info.is_action?n("div",{staticClass:"widget-action-icon"},[n("el-tooltip",{attrs:{"open-delay":1e3,effect:"light",placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("el-table",{attrs:{data:c.action_info.tableData,"span-method":c.objectSpanMethod,border:"",size:"mini",stripe:""}},[n("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u7C7B\u578B",prop:"action_type"}}),n("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u540D\u79F0",prop:"action_name"}})],1)],1),n("i",{staticClass:"iconfont bi_jh"})])],1):c._e()},p=[],h={name:"widget-action-icon",props:["widget"],data(){return{action_info:{is_action:!1,tableData:[]},position:0,rowSpanArr:[]}},watch:{widget:{deep:!0,handler:function(){this.initInfo()}}},mounted(){this.initInfo()},methods:{initInfo(){if(this.action_info.is_action=!1,this.action_info.tableData=[],this.widget&&this.widget.action){if(this.widget.action.lifecycle)for(let l in this.widget.action.lifecycle)this.widget.action.lifecycle[l].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u751F\u547D\u5468\u671F",action_name:this.widget.action.lifecycle[l].name}));if(this.widget.action.sendOut&&this.widget.action.sendOut.actionList&&this.$$lib__.each(this.widget.action.sendOut.actionList,l=>{l.enabled==!0&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u53D1\u9001\u4E8B\u4EF6",action_name:l.name}))}),this.widget.action.receive)for(let l in this.widget.action.receive)this.widget.action.receive[l].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u63A5\u6536\u4E8B\u4EF6",action_name:this.widget.action.receive[l].name}))}this.rowSpanArr=[],this.action_info.tableData.forEach((l,c)=>{c==0?(this.rowSpanArr.push(1),this.position=0):this.action_info.tableData[c].action_type==this.action_info.tableData[c-1].action_type?(this.rowSpanArr[this.position]+=1,this.rowSpanArr.push(0),this.action_info.tableData[c].action_type=this.action_info.tableData[c-1].action_type):(this.rowSpanArr.push(1),this.position=c)})},objectSpanMethod({row:l,column:c,rowIndex:n,columnIndex:f}){if(f!=1)return{rowspan:this.rowSpanArr[n],colspan:1}}}},t=h,i=s(768141),a=(0,i.Z)(t,u,p,!1,null,"cd1e86ee",null),o=a.exports}}]);
