"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[28725],{56279:function(I,g,n){n.d(g,{P:function(){return s}});var d=n(386892),f=n(149500);const s={mixins:[d.D],created(){},methods:{lifecycleBeforeChartsLoad(c){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&f.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),f.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let m=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[c]);if(m)return m}return c},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&f.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),f.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},752246:function(I,g,n){n.d(g,{X:function(){return d},b:function(){return f}});let d={versions:function(){var s=navigator.userAgent;return{trident:s.indexOf("Trident")>-1,presto:s.indexOf("Presto")>-1,webKit:s.indexOf("AppleWebKit")>-1,gecko:s.indexOf("Gecko")>-1&&s.indexOf("KHTML")==-1,mobile:!!s.match(/AppleWebKit.*Mobile.*/),ios:!!s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:s.indexOf("Android")>-1,iPhone:s.indexOf("iPhone")>-1,iPad:s.indexOf("iPad")>-1,webApp:s.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},f;d.versions.mobile||d.versions.ios||d.versions.android||d.versions.iPhone||d.versions.iPad?f=!1:f=!0},844513:function(I,g,n){n.d(g,{Z:function(){return b}});var d=function(){var a=this,w=a._self._c;return a.attr.buttonHide?w("div",{style:{position:"absolute",right:a.attr.buttonHideRight+"px",top:a.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(k){return a.onHide()}}},[a.openTooltip?w("el-tooltip",{attrs:{"open-delay":1e3,content:a.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[w("el-button",{class:a.attr.buttonHideIconClass&&a.attr.buttonHideIconClass!=""?a.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:a.attr.buttonHideColor,fontSize:a.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):w("el-button",{class:a.attr.buttonHideIconClass&&a.attr.buttonHideIconClass!=""?a.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:a.attr.buttonHideColor,fontSize:a.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):a._e()},f=[],s=n(752246),c={props:["attr"],name:"hide-button",data(){return{isPc:s.b}},computed:{openTooltip:function(){let u=!1,a=this.attr.buttonHideTooltipContent;return s.b&&a&&a!=null&&a.trim()!=""&&(u=!0),u}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},x=c,m=n(768141),v=(0,m.Z)(x,d,f,!1,null,"bf399b9a",null),b=v.exports},328725:function(I,g,n){n.r(g),n.d(g,{default:function(){return W}});var d=function(){var e=this,i=e._self._c;return i("div",{ref:"titleAnime",style:{width:e.widgetInfo.attr.w+"px",height:e.widgetInfo.attr.hh+"px",overflow:"hidden"}},[i("hide-button",{attrs:{attr:e.widgetInfo.attr},on:{sendButtonHide:e.sendButtonHide}}),e.widgetInfo.config.anime.disabled?i("div",{directives:[{name:"popover",rawName:"v-popover:titlePopup",arg:"titlePopup"}],style:{width:e.widgetInfo.attr.w-e.mUtils.getNewPxW(e.widgetInfo.config.text.margin.left,e.lockX)+"px",height:e.widgetInfo.attr.hh-e.mUtils.getNewPxH(e.widgetInfo.config.text.margin.top,e.lockY)+"px",paddingLeft:e.mUtils.getNewPxW(e.widgetInfo.config.text.margin.left,e.lockX)+"px",paddingTop:e.paddingT+"px",fontSize:e.mUtils.getNewFontSize(e.widgetInfo.config.text.label.fontSize,e.lockX,e.lockY)+"px",color:e.widgetInfo.config.text.label.color,fontWeight:e.widgetInfo.config.text.label.fontWeight,fontFamily:e.widgetInfo.config.text.label.fontFamily,fontStyle:e.widgetInfo.config.text.label.fontStyle,textAlign:e.widgetInfo.config.text.label.horizontalAlignment,lineHeight:e.lineH+"px",overflow:e.widgetInfo.config.text.label.overflow&&!e.widgetInfo.config.text.label.enabledEllipsis?"auto":"hidden",cursor:this.getCursor(e.widgetInfo.action,e.actionType.click.code,e.actionType.openLink.code)},on:{click:e.onClick,mouseover:function(o){return e.mouseover("widget")},mouseleave:function(o){return e.mouseleave("widget")}}},[e.graphicValue?i("div",{ref:"spanTitle1",staticStyle:{height:"inherit",width:"inherit","white-space":"pre-wrap"}}):i("span",{ref:"spanTitle",style:this.getSpanStyle(e.widgetInfo)},e._l(e.textCharts,function(o,l){return i("span",{key:l,style:e.getSpanChildStyle(e.widgetInfo)},[e._v(e._s(o))])}),0)]):i("div",{directives:[{name:"popover",rawName:"v-popover:titlePopup",arg:"titlePopup"}],style:{width:e.widgetInfo.attr.w-e.mUtils.getNewPxW(e.widgetInfo.config.text.margin.left,e.lockX)+"px",height:e.widgetInfo.attr.hh-e.mUtils.getNewPxH(e.widgetInfo.config.text.margin.top,e.lockY)+"px",paddingLeft:e.mUtils.getNewPxW(e.widgetInfo.config.text.margin.left,e.lockX)+"px",paddingTop:e.paddingT+"px",fontSize:e.mUtils.getNewFontSize(e.widgetInfo.config.text.label.fontSize,e.lockX,e.lockY)+"px",color:e.widgetInfo.config.text.label.color,fontWeight:e.widgetInfo.config.text.label.fontWeight,fontFamily:e.widgetInfo.config.text.label.fontFamily,fontStyle:e.widgetInfo.config.text.label.fontStyle,textAlign:e.widgetInfo.config.text.label.horizontalAlignment,lineHeight:e.lineH+"px",overflow:e.widgetInfo.config.text.label.overflow&&!e.widgetInfo.config.text.label.enabledEllipsis?"auto":"hidden",cursor:this.getCursor(e.widgetInfo.action,e.actionType.click.code,e.actionType.openLink.code)},on:{click:e.onClick,mouseover:function(o){return e.mouseover("widget")},mouseleave:function(o){return e.mouseleave("widget")}}},[e._v(" "+e._s(e.textInfo)+" ")]),e.widgetInfo.config.popover?i("div",[e.widgetInfo.config.popover.showWidget?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.widgetInfo.config.popover.widgetStyle.show,expression:"widgetInfo.config.popover.widgetStyle.show"}],ref:"titleAnimePopup",attrs:{id:"titleAnime-popup"},on:{mouseover:function(o){return e.mouseover("popWidget")},mouseleave:function(o){return e.mouseleave("popWidget")}}},[i("div",{staticClass:"popper-arrow"})])]):i("el-popover",{ref:"titlePopup",attrs:{"popper-class":`title-popover title-popover-${e.widgetInfo.id}`,transition:"fade-in-linear",width:e.widgetInfo.config.popover.width,trigger:e.widgetInfo.config.popover.trigger,placement:e.widgetInfo.config.popover.placement,disabled:e.widgetInfo.config.popover.disabled,offset:e.widgetInfo.config.popover.offset,"visible-arrow":e.widgetInfo.config.popover.arrow}},[i("div",{domProps:{innerHTML:e._s(e.content)}})])],1):e._e()],1)},f=[],s=n(844513),c=n(927966),x=n(126711),m=n(445061),v=n(56279),b=n(224513),u=n(555616),a=n(148836),w=n(275770),k=n(67157);const O={mixins:[k.c],data(){return{config_extend:{config:{text:{margin:{top:0,left:0},number:{fontSize:18,fontFamily:"alibabaPuHuiTiMedium"}}}},filter_config:{text:{label:{color:"",startColor:"",endColor:""}},popover:{backgroundColor:"",fontStyle:{color:""},widgetStyle:{shadowColor:"",left:0,top:0}}}}},methods:{filterPredefineColoursSchemeConfig(t,e){this.getNewConfig(t,e,this.filter_config)}}};var $=n(954255),S=n(149500),L={props:["widgetInfo"],name:"title-anime",components:{HideButton:s.Z},mixins:[b.baseConfig,O,x.H,m.u,v.P],computed:{...(0,a.Se)(["getCanvasSettingInfo","getCanvasSetting","getWidgets"]),lockX(){return this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code&&this.widgetInfo.attr.lockedW},lockY(){return this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code&&this.widgetInfo.attr.lockedH},graphicValue(){return this.widgetInfo.config.anime.effect==="echarts-graphic"}},data(){return{paddingT:0,lineH:0,textInfo:"",textCharts:[],content:"",widgetStatus:"leave",popWidgetStatus:"leave",actionType:JSON.parse(JSON.stringify(w.default)),animeTimeline:void 0,mycharts:null}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},beforeDestroy(){let t=document.querySelector("#titleAnime-popup");t&&t.parentElement.removeChild(t)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)},textInfo:function(){this.animeEffect()}},methods:{computeFontSize(t,e,i){let o=document.createElement("span");o.style.fontSize=e,o.style.opacity="0",o.style.fontFamily=i,o.innerHTML=t,document.body.append(o);let l={};return l.width=o.offsetWidth,l.height=o.offsetHeight,o.remove(),l},loadInfo(t){let e=this.computeFontSize("\u4F60\u597D",t.config.text.label.fontSize+"px",t.config.text.label.fontFamily);if(t.config.text.label.singleLine)switch(t.config.text.label.verticalAlignment){case"top":this.lineH=e.height,this.paddingT=this.mUtils.getNewPxH(t.config.text.margin.top,this.lockY);break;case"middle":this.lineH=t.attr.hh-this.mUtils.getNewPxH(t.config.text.margin.top,this.lockY),this.paddingT=this.mUtils.getNewPxH(t.config.text.margin.top,this.lockY);break;case"bottom":this.lineH=e.height,this.paddingT=t.attr.hh-e.height;break}else this.lineH=e.height,this.paddingT=this.mUtils.getNewPxH(t.config.text.margin.top,this.lockY);t.dataset[t.dataset.type]&&t.dataset[t.dataset.type].dimensions&&t.dataset[t.dataset.type].dimensions.length>0?this.textInfo=this.getFieldVal(t.dataset[t.dataset.type].source[0],t.dataset[t.dataset.type].dimensions,t.dataset[t.dataset.type].encode.text):this.textInfo=t.dataset[t.dataset.type].encode.text,this.initPopover(t),this.animeEffect(),this.lifecycleAfterLoad()},initPopover(t){if(!t.config.popover)return;this.content=t.config.popover.content==""?this.textInfo:t.config.popover.content;let e=document.getElementById("myBoardArea"),i=this.$refs.titleAnime.querySelector(".popper-arrow"),o=(t.config.popover.widgetStyle.shadowOffsetX||0)+"px "+(t.config.popover.widgetStyle.shadowOffsetY||0)+"px "+(t.config.popover.widgetStyle.shadowBlur||0)+"px "+t.config.popover.widgetStyle.shadowColor||"rgba(0,0,0,0)";if(o+=t.config.popover.widgetStyle.inset?" inset":"",t.config.popover.showWidget&&!e&&t.config.popover.widgetStyle.bindWidgetId){let l=this.$refs.titleAnimePopup,r=document.querySelector("#widget_"+t.config.popover.widgetStyle.bindWidgetId);l.style.right=this.mUtils.getNewPxW(t.config.popover.widgetStyle.right)+"px",l.style.bottom=this.mUtils.getNewPxH(t.config.popover.widgetStyle.bottom+t.attr.h)+"px",l.style.boxShadow=o;let C=!1;if(this.$$lib__.each(document.querySelector("body").childNodes,y=>{y.id=="titleAnime-popup"&&(C=this.$$lib__.contains(y.childNodes,"#widget_"+t.config.popover.widgetStyle.bindWidgetId))}),r&&!C){l.style.borderRadius=r.style.borderRadius,r.style.position="absolute",t.config.popover.position=="top"?r.style.top="0px":r.style.top="16px",r.style.left="0px",l.appendChild(r);let y=t.attr.y,T=t.attr.x;if(t.parentId)try{let p=this.getWidgets[t.parentId];if(p?.attr){debugger;y+=p.attr.y,T+=p.attr.x}}catch(p){S.error(p)}let h=document.querySelector("#titleAnime-popup");if(h.style.left=T+this.mUtils.getNewPxW(t.config.popover.widgetStyle.left)+"px",t.config.popover.position=="top"){let p=this.mUtils.getNewPxH(t.config.popover.widgetStyle.bottom)?this.mUtils.getNewPxH(t.config.popover.widgetStyle.bottom):0;h.style.top=y-parseInt(r.style.height)-16-p+"px",i.style.display=t.config.popover.showArrow?"inline-block":"none",i.style.left=t.config.popover.arrowLeft?t.config.popover.arrowLeft+"px":parseInt(r.style.width)*.2+"px",i.style.borderTopColor=r.style.backgroundColor,i.style.bottom="-16px"}else{let p=this.mUtils.getNewPxH(t.config.popover.widgetStyle.top)?this.mUtils.getNewPxH(t.config.popover.widgetStyle.top):0;h.style.top=y+t.attr.h+p+"px",i.style.display=t.config.popover.showArrow?"inline-block":"none",i.style.left=t.config.popover.arrowLeft?t.config.popover.arrowLeft+"px":parseInt(r.style.width)*.2+"px",i.style.borderBottomColor=r.style.backgroundColor,i.style.top="0px"}h.style.position="absolute",h.style.width=parseInt(r.style.width)+"px",h.style.height=parseInt(r.style.height)+"px",document.querySelector("#my_bi_screen").appendChild(h)}}else t.config.popover.widgetStyle.show&&!e&&(i.style.display="none");this.registerPopoerStyle(t)},animeEffect(){if(this.widgetInfo.config.anime.disabled&&this.graphicValue)this.$nextTick(()=>{this.mycharts&&this.mycharts.dispose();let t={graphic:{elements:[{type:"text",left:this.widgetInfo.config.text.label.horizontalAlignment,top:"10px",style:{text:this.textInfo,fontSize:this.widgetInfo.config.text.label.fontSize,fontWeight:this.widgetInfo.config.text.label.fontWeight,fontStyle:this.widgetInfo.config.text.label.fontStyle,fontFamily:this.widgetInfo.config.text.label.fontFamily,lineDash:[0,200],lineDashOffset:0,fill:"transparent",stroke:this.widgetInfo.config.text.label.color,lineWidth:1},keyframeAnimation:{duration:3e3,loop:!0,keyframes:[{percent:.7,style:{fill:"transparent",lineDashOffset:200,lineDash:[200,0]}},{percent:.8,style:{fill:"transparent"}},{percent:1,style:{fill:this.widgetInfo.config.text.label.color}}]}}]}};this.widgetInfo.config.anime.loop||(t.graphic.elements[0].keyframeAnimation.loop=!1),this.widgetInfo.config.text.label.textStroke&&(t.graphic.elements[0].style.lineWidth=this.widgetInfo.config.text.label.textStrokeWidth,t.graphic.elements[0].style.stroke=this.widgetInfo.config.text.label.textStrokeColor),this.mycharts=$.init(this.$refs.spanTitle1),this.mycharts.setOption(t)});else{if(this.mycharts&&this.mycharts.dispose(),!this.textInfo||this.textInfo.length==0)return;this.textCharts=[];for(let t=0;t<this.textInfo.length;t++)this.textCharts.push(this.textInfo.charAt(t));this.$nextTick(()=>{let t=this.getAnimeLibrary();if(t&&this.animeTimeline)for(let e=0;e<t.length;e++)this.animeTimeline.remove("."+t[e].value),this.animeTimeline.remove("."+t[e].value+"-letter");if(this.textCharts.length>0&&this.widgetInfo.config.anime.disabled){let e=this.$refs.spanTitle;e.style.opacity=1,e.style.transform="rotate(0deg)",e.className=this.widgetInfo.config.anime.effect;for(let i=0;i<e.children.length;i++)e.children[i].style.opacity=1,e.children[i].style.transform="rotate(0deg)",e.children[i].className=this.widgetInfo.config.anime.effect+"-letter";this.widgetInfo.config.anime.effect=="left-small-fast-open"&&this.leftSmallFastOpen(),this.widgetInfo.config.anime.effect=="left-large-fast-open"&&this.leftLargeFastOpen(),this.widgetInfo.config.anime.effect=="left-normal-slow-show"&&this.leftNormalSlowShow(),this.widgetInfo.config.anime.effect=="left-upper-elastic-open"&&this.leftUpperElasticOpen(),this.widgetInfo.config.anime.effect=="left-upper-pluck-open"&&this.leftUpperPluckOpen(),this.widgetInfo.config.anime.effect=="left-small-elastic-open"&&this.leftSmallElasticOpen(),this.widgetInfo.config.anime.effect=="left-normal-elastic-shoot"&&this.leftNormalElasticShoot(),this.widgetInfo.config.anime.effect=="left-flat-wipe-open"&&this.leftFlatWipeOpen(),this.widgetInfo.config.anime.effect=="left-show-left-hide"&&this.leftShowLeftHide(),this.widgetInfo.config.anime.effect=="under-in-upper-out"&&this.underInUpperOut(),this.widgetInfo.config.anime.effect=="right-elastic-left-show"&&this.rightElasticLeftShow(),this.widgetInfo.config.anime.effect=="center-large-shrink-small"&&this.centerLargeShrinkSmall(),this.widgetInfo.config.anime.effect=="upper-in-left-open"&&this.upperInLeftOpen()}})}},leftSmallFastOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-small-fast-open .left-small-fast-open-letter",scale:[.3,1],opacity:[0,1],translateZ:0,easing:"easeOutExpo",duration:600,delay:(t,e)=>70*(e+1)}).add({targets:".left-small-fast-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftLargeFastOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-large-fast-open .left-large-fast-open-letter",scale:[4,1],opacity:[0,1],translateZ:0,easing:"easeOutExpo",duration:950,delay:(t,e)=>70*e}).add({targets:".left-large-fast-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftNormalSlowShow(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-normal-slow-show .left-normal-slow-show-letter",opacity:[0,1],easing:"easeInOutQuad",duration:2250,delay:(t,e)=>150*(e+1)})},leftUpperElasticOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-upper-elastic-open .left-upper-elastic-open-letter",translateY:["1.1em",0],translateZ:0,duration:750,delay:(t,e)=>50*e}).add({targets:".left-upper-elastic-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftUpperPluckOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-upper-pluck-open .left-upper-pluck-open-letter",translateY:["1.1em",0],translateX:["0.55em",0],translateZ:0,rotateZ:[180,0],duration:750,easing:"easeOutExpo",delay:(t,e)=>50*e}).add({targets:".left-upper-pluck-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftSmallElasticOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-small-elastic-open .left-small-elastic-open-letter",scale:[0,1],duration:1500,elasticity:600,delay:(t,e)=>45*(e+1)}).add({targets:".left-small-elastic-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftNormalElasticShoot(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-normal-elastic-shoot .left-normal-elastic-shoot-letter",rotateY:[-90,0],duration:1300,delay:(t,e)=>45*e}).add({targets:".left-normal-elastic-shoot",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftFlatWipeOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-flat-wipe-open .left-flat-wipe-open-letter",opacity:[0,1],easing:"easeOutExpo",duration:600,offset:"-=775",delay:(t,e)=>34*(e+1)}).add({targets:".left-flat-wipe-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},leftShowLeftHide(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".left-show-left-hide .left-show-left-hide-letter",translateX:[40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:1200,delay:(t,e)=>500+30*e}).add({targets:".left-show-left-hide .left-show-left-hide-letter",translateX:[0,-30],opacity:[1,0],easing:"easeInExpo",duration:1100,delay:(t,e)=>100+30*e})},underInUpperOut(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".under-in-upper-out .under-in-upper-out-letter",translateY:[100,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:1400,delay:(t,e)=>300+30*e}).add({targets:".under-in-upper-out .under-in-upper-out-letter",translateY:[0,-100],opacity:[1,0],easing:"easeInExpo",duration:1200,delay:(t,e)=>100+30*e})},rightElasticLeftShow(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".right-elastic-left-show .right-elastic-left-show-letter",opacity:[0,1],translateX:[40,0],translateZ:0,scaleX:[.3,1],easing:"easeOutExpo",duration:800,offset:"-=600",delay:(t,e)=>150+25*e}).add({targets:".right-elastic-left-show",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},centerLargeShrinkSmall(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".center-large-shrink-small .center-large-shrink-small-letter",scale:[14,1],opacity:[0,1],easing:"easeOutCirc",duration:500,delay:(t,e)=>500*e}).add({targets:".center-large-shrink-small",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},upperInLeftOpen(){this.animeTimeline=this.$anime.timeline({loop:this.widgetInfo.config.anime.loop}).add({targets:".upper-in-left-open .upper-in-left-open-letter",translateY:[-100,0],easing:"easeOutExpo",duration:1400,delay:(t,e)=>30*e}).add({targets:".upper-in-left-open",opacity:this.widgetInfo.config.anime.loop?0:1,duration:1e3,easing:"easeOutExpo",delay:1e3})},reLoadInfo(t){t&&(this.$refs.titleAnime.style.width=t.attr.w+"px",this.$refs.titleAnime.style.height=t.attr.hh+"px"),this.loadInfo(t)},initAction(t){this.actionReceive(t)},mouseover(t){if(t=="widget"?this.widgetStatus="over":t=="popWidget"&&(this.popWidgetStatus="over"),this.widgetInfo.config.popover.showWidget){let e=document.querySelector("#widget_"+this.widgetInfo.config.popover.widgetStyle.bindWidgetId);e&&e.parentNode&&(e.parentNode.style.display="block")}},mouseleave(t){t=="widget"?setTimeout(()=>{this.popWidgetStatus=="leave"&&(this.widgetStatus="leave")},500):t=="popWidget"&&(this.widgetStatus="leave",this.popWidgetStatus="leave"),setTimeout(()=>{if(this.widgetInfo.config.popover.showWidget&&this.widgetStatus=="leave"&&this.popWidgetStatus=="leave"){let e=document.querySelector("#widget_"+this.widgetInfo.config.popover.widgetStyle.bindWidgetId);e&&e.parentNode&&(e.parentNode.style.display="none")}},1e3)},registerPopoerStyle(t){const e=t.config.popover||{};this.mUtils.appendCss(`title-popover-${t.id}`,`.title-popover-${t.id} {
                  background-color: ${e?.backgroundColor};
                  border-color:  ${e?.backgroundColor};
                  font-size: ${this.mUtils.getNewFontSize(e?.fontStyle?.fontSize)}px;
                  font-family: ${e?.fontStyle?.fontFamily};
                  color: ${e?.fontStyle?.color};
            }`)},getSpanStyle(t){let e=t.config.text.label,i={};return e.textShadow&&(i.textShadow=e.hShadow+"px "+e.vShadow+"px "+e.textShadowBlur+"px "+e.textShadowColor||"rgba(0,0,0,0)"),e.textStroke&&(i.webkitTextStrokeWidth=e.textStrokeWidth+"px",i.webkitTextStrokeColor=e.textStrokeColor),e.gradient&&(i.backgroundImage="linear-gradient("+e.angle+"deg,"+e.startColor+","+e.endColor+")",i.webkitBackgroundClip="text",i.webkitTextFillColor="transparent"),e.singleLine&&(i.height="100%",i.width="100%",i.display="inline-block",i.whiteSpace="nowrap",e.enabledEllipsis&&(i.textOverflow="ellipsis",i.overflow="hidden")),i},getSpanChildStyle(t){let e=t.config.text.label,i={};return i.textDecoration=e.textDecoration,e.gradient&&(i.backgroundImage="linear-gradient("+e.angle+"deg,"+e.startColor+","+e.endColor+")",i.webkitBackgroundClip="text",i.webkitTextFillColor="transparent"),i},onClick(){let t=this,e=this.widgetInfo.action.sendOut.actionList;this.$$lib__.each(e,i=>{if(i.enabled&&i.code==t.actionType.click.code){let o=i.code+"_"+t.widgetInfo.id,l={text:t.textInfo};if(i.paramsExtend&&i.paramsExtend.length>0){let r=[];t.widgetInfo.dataset[t.widgetInfo.dataset.type].source&&t.widgetInfo.dataset[t.widgetInfo.dataset.type].source.length>0&&(r=t.widgetInfo.dataset[t.widgetInfo.dataset.type].source[0]),this.getExtendParams(l,i.paramsExtend,r,t.widgetInfo.dataset[t.widgetInfo.dataset.type].dimensions)}if(i.script&&i.script.enabled){if(S.log("Execute script for "+this.widgetInfo.name+" component to "+i.name+" component"),i.script.content==""){u.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",i.script.content),l=this.customScript(l)}c.Z.$emit(o,l),i.postMessage&&this.doPostMessage(l),this.actionNameList.push(o)}else if(i.enabled&&i.code==t.actionType.openLink.code){let o={text:t.textInfo};if(i.paramsExtend&&i.paramsExtend.length>0){let l=[];t.widgetInfo.dataset[t.widgetInfo.dataset.type].source&&t.widgetInfo.dataset[t.widgetInfo.dataset.type].source.length>0&&(l=t.widgetInfo.dataset[t.widgetInfo.dataset.type].source[0]),this.getExtendParams(o,i.paramsExtend,l,t.widgetInfo.dataset[t.widgetInfo.dataset.type].dimensions)}if(i.script&&i.script.enabled){if(S.log("Execute script for "+i.name+" action"),i.script.content==""){u.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",i.script.content),o=this.customScript(o)}i.type===this.$$global_editor.linkType.dynamic.code&&(i[t.$$global_editor.linkType.dynamic.code].url=t.getActionUrl(i,t.widgetInfo.dataset[t.widgetInfo.dataset.type].source[0],t.widgetInfo.dataset[t.widgetInfo.dataset.type].dimensions)),this.openLinkAction(i,o)}})},getAnimeLibrary(){return[{value:"left-small-fast-open",label:"\u5DE6-\u5C0F-\u5FEB-\u5F00"},{value:"left-large-fast-open",label:"\u5DE6-\u5927-\u5FEB-\u5F00"},{value:"left-normal-slow-show",label:"\u5DE6-\u5E38-\u6162-\u663E"},{value:"left-upper-elastic-open",label:"\u5DE6-\u4E0A-\u5F39-\u5F00"},{value:"left-upper-pluck-open",label:"\u5DE6-\u4E0A-\u62D4-\u5F00"},{value:"left-small-elastic-open",label:"\u5DE6-\u5C0F-\u5F39-\u5F00"},{value:"left-normal-elastic-shoot",label:"\u5DE6-\u5E38-\u5F39-\u5C04"},{value:"left-flat-wipe-open",label:"\u5DE6-\u5E73-\u64E6-\u5F00"},{value:"left-show-left-hide",label:"\u5DE6-\u663E-\u5DE6-\u9690"},{value:"under-in-upper-out",label:"\u4E0B-\u5165-\u4E0A-\u51FA"},{value:"right-elastic-left-show",label:"\u53F3-\u5F39-\u5DE6-\u663E"},{value:"center-large-shrink-small",label:"\u4E2D-\u5927-\u7F29-\u5C0F"},{value:"upper-in-left-open",label:"\u4E0A-\u8FDB-\u5DE6-\u5F00"},{value:"echarts-graphic",label:"\u6587\u672C\u63CF\u8FB9"}]}}},E=L,P=n(768141),H=(0,P.Z)(E,d,f,!1,null,"9b6d9e6a",null),W=H.exports}}]);
