"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[30735],{330735:function(C,g,i){i.d(g,{Z:function(){return k}});var c=function(){var e=this,t=e._self._c;return t("div",[t("el-collapse",{model:{value:e.activeNames,callback:function(l){e.activeNames=l},expression:"activeNames"}},[t("el-collapse-item",{attrs:{name:"1"}},[t("template",{slot:"title"},[t("div",{staticClass:"my-title"},[e._v("\u6837\u5F0F\u914D\u7F6E")])]),t("el-form",{staticStyle:{"padding-left":"20px"},nativeOn:{submit:function(l){l.preventDefault()}}},[e.isShowImgConfig?t("el-form-item",{staticStyle:{"padding-left":"10px"},attrs:{label:"\u56FE\u6807"}},[t("select-img",{attrs:{image:e.imgIcon},on:{openSelectImage:function(l){return e.openSelectImage("imgSrc")},clearSelectImage:function(l){return e.clearSelectImage("imgSrc")},change:e.getConfigData}})],1):e._e(),e.isShowPanelConfig?t("el-form-item",{attrs:{label:"\u9762\u677F\u5C55\u5F00"}},e._l(e.radios,function(l,n){return t("el-radio",{key:n,attrs:{label:l.label},on:{change:e.getConfigData},model:{value:e.config.isShowBtn,callback:function(r){e.$set(e.config,"isShowBtn",r)},expression:"config.isShowBtn"}},[e._v(e._s(l.text)+" ")])}),1):e._e(),e.isShowPanelConfig?t("el-form-item",{attrs:{label:"\u9762\u677F\u62D6\u62FD"}},e._l(e.dragRadios,function(l,n){return t("el-radio",{key:n,attrs:{label:l.label},on:{change:e.getConfigData},model:{value:e.config.dragEnable,callback:function(r){e.$set(e.config,"dragEnable",r)},expression:"config.dragEnable"}},[e._v(e._s(l.text)+" ")])}),1):e._e(),e.isShowBtnConfig&&e.isShowPanelConfig?t("el-collapse-item",{attrs:{title:"\u6309\u94AE\u6837\u5F0F"}},[t("el-form",{staticStyle:{"padding-left":"20px"}},[t("el-form-item",{attrs:{label:"\u6309\u94AE\u56FE\u6807"}},[t("select-img",{attrs:{image:e.imgIcon},on:{openSelectImage:function(l){return e.openSelectImage("imgSrc")},clearSelectImage:function(l){return e.clearSelectImage("imgSrc")},change:e.getConfigData}})],1),t("el-form-item",{attrs:{label:"\u6309\u94AE\u80CC\u666F"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u989C\u8272",size:"mini"},on:{change:e.getConfigData},model:{value:e.theme.light.floatButton.fillcolor,callback:function(l){e.$set(e.theme.light.floatButton,"fillcolor",l)},expression:"theme.light.floatButton.fillcolor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{"show-alpha":""},on:{change:e.getConfigData},model:{value:e.theme.light.floatButton.fillcolor,callback:function(l){e.$set(e.theme.light.floatButton,"fillcolor",l)},expression:"theme.light.floatButton.fillcolor"}})],1)],1)],1),t("el-form-item",{attrs:{label:"\u6309\u94AE\u5927\u5C0F"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:100},on:{change:e.getConfigData},model:{value:e.config.btnSize.size,callback:function(l){e.$set(e.config.btnSize,"size",l)},expression:"config.btnSize.size"}})],1),t("el-form-item",{attrs:{label:"\u6309\u94AE\u8FB9\u8DDD"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:100},on:{change:e.getConfigData},model:{value:e.config.btnSize.padding,callback:function(l){e.$set(e.config.btnSize,"padding",l)},expression:"config.btnSize.padding"}})],1),t("el-form-item",{attrs:{label:"\u6309\u94AE\u5706\u89D2"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:100},on:{change:e.getConfigData},model:{value:e.config.btnSize.radius,callback:function(l){e.$set(e.config.btnSize,"radius",l)},expression:"config.btnSize.radius"}})],1),t("el-form-item",{attrs:{label:"\u6309\u94AE\u8FB9\u6846"}},[t("el-input",{staticStyle:{width:"135px"},attrs:{size:"mini"},on:{blur:e.getConfigData},model:{value:e.theme.light.floatButton.border,callback:function(l){e.$set(e.theme.light.floatButton,"border",l)},expression:"theme.light.floatButton.border"}})],1)],1)],1):e._e(),e.theme&&e.isShowPanelConfig?t("el-collapse-item",{attrs:{title:"\u6807\u9898\u6837\u5F0F"}},[t("el-form",{staticStyle:{"padding-left":"20px"},nativeOn:{submit:function(l){l.preventDefault()}}},[t("el-form-item",{attrs:{label:"\u6807\u9898\u80CC\u666F"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u989C\u8272",size:"mini"},on:{change:e.getConfigData},model:{value:e.theme.light.title.backgroundColor,callback:function(l){e.$set(e.theme.light.title,"backgroundColor",l)},expression:"theme.light.title.backgroundColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{"show-alpha":""},on:{change:e.getConfigData},model:{value:e.theme.light.title.backgroundColor,callback:function(l){e.$set(e.theme.light.title,"backgroundColor",l)},expression:"theme.light.title.backgroundColor"}})],1)],1)],1),e.isShowTitleImgConfig?t("el-form-item",{attrs:{label:"\u6807\u9898\u56FE\u7247"}},[t("select-img",{attrs:{image:e.titleBackgroundImage},on:{openSelectImage:function(l){return e.openSelectImage("title")},clearSelectImage:function(l){return e.clearSelectImage("title")},change:e.getConfigData}})],1):e._e(),e.titleBackgroundImage?t("el-form-item",{attrs:{label:"\u586B\u5145\u6A21\u5F0F"}},[t("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6A21\u5F0F"},on:{change:e.getConfigData},model:{value:e.theme.light.title.backgroundSize,callback:function(l){e.$set(e.theme.light.title,"backgroundSize",l)},expression:"theme.light.title.backgroundSize"}},e._l(this.$$global_editor.backgroundSize,function(l){return t("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1)],1):e._e(),t("el-form-item",{attrs:{label:"\u6807\u9898\u5927\u5C0F"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:1,max:100},on:{change:e.getConfigData},model:{value:e.theme.light.title.fontSize,callback:function(l){e.$set(e.theme.light.title,"fontSize",l)},expression:"theme.light.title.fontSize"}})],1),t("el-form-item",{attrs:{label:"\u6807\u9898\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{size:"mini",placeholder:"\u9009\u62E9\u989C\u8272"},on:{change:e.getConfigData},model:{value:e.theme.light.title.fontColor,callback:function(l){e.$set(e.theme.light.title,"fontColor",l)},expression:"theme.light.title.fontColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{"show-alpha":""},on:{change:e.getConfigData},model:{value:e.theme.light.title.fontColor,callback:function(l){e.$set(e.theme.light.title,"fontColor",l)},expression:"theme.light.title.fontColor"}})],1)],1)],1),e.isShowTitleBtnConfig?t("el-form-item",{attrs:{label:"\u6309\u94AE\u5927\u5C0F"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:1,max:100},on:{change:e.getConfigData},model:{value:e.config.toolBtnSize.size,callback:function(l){e.$set(e.config.toolBtnSize,"size",l)},expression:"config.toolBtnSize.size"}})],1):e._e(),e.isShowTitleBtnConfig?t("el-form-item",{attrs:{label:"\u6309\u94AE\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{size:"mini",placeholder:"\u9009\u62E9\u989C\u8272"},on:{change:e.getConfigData},model:{value:e.theme.light.toolButton.color,callback:function(l){e.$set(e.theme.light.toolButton,"color",l)},expression:"theme.light.toolButton.color"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{"show-alpha":""},on:{change:e.getConfigData},model:{value:e.theme.light.toolButton.color,callback:function(l){e.$set(e.theme.light.toolButton,"color",l)},expression:"theme.light.toolButton.color"}})],1)],1)],1):e._e()],1)],1):e._e(),e.theme?t("el-collapse-item",{attrs:{title:"\u5BB9\u5668\u6837\u5F0F"}},[t("el-form",{staticStyle:{"padding-left":"20px"},nativeOn:{submit:function(l){l.preventDefault()}}},[t("el-form-item",{attrs:{label:"\u9762\u677F\u80CC\u666F"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u989C\u8272",size:"mini"},on:{change:e.getConfigData},model:{value:e.theme.light.panel.fillcolor,callback:function(l){e.$set(e.theme.light.panel,"fillcolor",l)},expression:"theme.light.panel.fillcolor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{"show-alpha":""},on:{change:e.getConfigData},model:{value:e.theme.light.panel.fillcolor,callback:function(l){e.$set(e.theme.light.panel,"fillcolor",l)},expression:"theme.light.panel.fillcolor"}})],1)],1)],1),e.isShowPanelConfig?t("el-form-item",{attrs:{label:"\u80CC\u666F\u56FE\u7247"}},[t("select-img",{attrs:{image:e.panelBackgroundImage},on:{openSelectImage:function(l){return e.openSelectImage("panel")},clearSelectImage:function(l){return e.clearSelectImage("panel")},change:e.getConfigData}})],1):e._e(),e.panelBackgroundImage?t("el-form-item",{attrs:{label:"\u586B\u5145\u6A21\u5F0F"}},[t("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6A21\u5F0F"},on:{change:e.getConfigData},model:{value:e.theme.light.panel.backgroundSize,callback:function(l){e.$set(e.theme.light.panel,"backgroundSize",l)},expression:"theme.light.panel.backgroundSize"}},e._l(this.$$global_editor.backgroundSize,function(l){return t("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1)],1):e._e(),t("el-form-item",{attrs:{label:"\u9762\u677F\u8FB9\u6846"}},[t("el-input",{staticStyle:{width:"135px"},attrs:{size:"mini"},on:{blur:e.getConfigData},model:{value:e.theme.light.panel.border,callback:function(l){e.$set(e.theme.light.panel,"border",l)},expression:"theme.light.panel.border"}})],1),t("el-form-item",{attrs:{label:"\u5B57\u4F53\u5927\u5C0F"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:1,max:100},on:{change:e.getConfigData},model:{value:e.theme.light.primaryFont.fontSize,callback:function(l){e.$set(e.theme.light.primaryFont,"fontSize",l)},expression:"theme.light.primaryFont.fontSize"}})],1),t("el-form-item",{attrs:{label:"\u5B57\u4F53\u989C\u8272"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{placeholder:"\u9009\u62E9\u989C\u8272",size:"mini"},on:{change:e.getConfigData},model:{value:e.theme.light.primaryFont.fontColor,callback:function(l){e.$set(e.theme.light.primaryFont,"fontColor",l)},expression:"theme.light.primaryFont.fontColor"}})],1),t("el-col",{attrs:{span:4}},[t("el-color-picker",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{"show-alpha":""},on:{change:e.getConfigData},model:{value:e.theme.light.primaryFont.fontColor,callback:function(l){e.$set(e.theme.light.primaryFont,"fontColor",l)},expression:"theme.light.primaryFont.fontColor"}})],1)],1)],1),t("el-form-item",{attrs:{label:"\u5BB9\u5668\u5706\u89D2"}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:1,max:100},on:{change:e.getConfigData},model:{value:e.config.size.radius,callback:function(l){e.$set(e.config.size,"radius",l)},expression:"config.size.radius"}})],1)],1)],1):e._e()],1)],2)],1),t("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,visible:e.dialogVisible,width:e.dialogWidth},on:{"update:visible":function(l){e.dialogVisible=l}}},[t("div",[t("image-manage",{ref:"imageMange",attrs:{"is-dialog":!0,type:["image"]}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("\u53D6 \u6D88")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getImage}},[e._v("\u786E \u5B9A")])],1)])],1)},m=[],h=i(723400),f=i(721829),u=i(582333),o=i(321300),s=i(555616),p=i(149500),d={name:"GisCardSetting",components:{selectImg:f.Z,ImageManage:u.default},mixins:[h.j],props:{config:{type:Object,default:()=>({})},theme:{type:Object,default:()=>({})},imgSrc:{type:String,default:null},isShowImgConfig:{type:Boolean,default:!1},isShowBtnConfig:{type:Boolean,default:!0},isShowPanelConfig:{type:Boolean,default:!0},isShowTitleBtnConfig:{type:Boolean,default:!0},isShowTitleImgConfig:{type:Boolean,default:!0}},data(){return{activeNames:["1"],formLabelWidth:"120px",imgIcon:"",panelBackgroundImage:"",titleBackgroundImage:"",dialogVisible:!1,dialogWidth:"89%",radios:[{label:!0,text:"\u6536\u7F29"},{label:!1,text:"\u5C55\u5F00"}],dragRadios:[{label:!0,text:"\u53EF\u62D6\u62FD"},{label:!1,text:"\u9501\u5B9A"}]}},watch:{imgSrc:{handler(){this.imgIcon=this.imgSrc},immediate:!0},"theme.light.panel.backgroundImage":{handler(){this.panelBackgroundImage=this.theme.light.panel.backgroundImage},immediate:!0},"theme.light.title.backgroundImage":{handler(){this.titleBackgroundImage=this.theme.light.title.backgroundImage},immediate:!0}},mounted(){p.log(this.config)},methods:{openSelectImage(a){this.currentSelectImage=a,this.dialogVisible=!0},clearSelectImage(a){switch(a){case"imgSrc":this.imgIcon="";break;case"panel":this.panelBackgroundImage="";break;case"title":this.titleBackgroundImage="";break}this.getConfigData()},getImage(){let a=this.$refs.imageMange.getSelectImage();if(a!=null){if(this.$$global.fileType.image.indexOf(a.imageFileType)===-1){s.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}switch(this.dialogVisible=!1,this.currentSelectImage){case"imgSrc":this.imgIcon=a.fileUrlPath,this.imgIcon=o.appendImageBaseURL(a.fileUrlPath);break;case"panel":this.panelBackgroundImage=o.appendImageBaseURL(a.fileUrlPath);break;case"title":this.titleBackgroundImage=o.appendImageBaseURL(a.fileUrlPath);break}this.getConfigData()}else s.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},getConfigData(){this.theme.light.panel.backgroundImage=this.panelBackgroundImage,this.theme.light.title.backgroundImage=this.titleBackgroundImage,this.$emit("change",this.config,this.theme,this.imgIcon)}}},b=d,S=i(768141),v=(0,S.Z)(b,c,m,!1,null,"e75f6022",null),k=v.exports}}]);
