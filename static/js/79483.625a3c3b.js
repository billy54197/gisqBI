"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[79483],{979483:function(w,r,n){n.r(r),n.d(r,{default:function(){return W}});var s=function(){var t=this,e=t._self._c;return e("vue-lazy-component",[e("el-collapse",[e("el-collapse-item",[e("template",{slot:"title"},[e("div",{staticClass:"my-title"},[t._v("\u6309\u94AE\u6837\u5F0F")])]),e("div",{staticClass:"my-collapse-text"},[e("el-form",{ref:"form",attrs:{size:"mini",model:t.currentWidget.config,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"\u6587\u672C\u5185\u5BB9"}},[e("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u6587\u672C\u5185\u5BB9"},model:{value:t.currentWidget.config.fixedbox.text,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"text",i)},expression:"currentWidget.config.fixedbox.text"}})],1),e("el-form-item",{attrs:{label:"\u5BBD\u5EA6"}},[e("el-input-number",{staticStyle:{width:"160px"},attrs:{placeholder:"\u5BBD\u5EA6\u5927\u5C0F","controls-position":"right",min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.width,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"width",i)},expression:"currentWidget.config.fixedbox.width"}})],1),e("el-form-item",{attrs:{label:"\u9AD8\u5EA6"}},[e("el-input-number",{staticStyle:{width:"160px"},attrs:{placeholder:"\u9AD8\u5EA6\u5927\u5C0F","controls-position":"right",min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.height,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"height",i)},expression:"currentWidget.config.fixedbox.height"}})],1),e("el-form-item",{attrs:{label:"\u5706\u89D2"}},[e("el-input-number",{staticStyle:{width:"160px"},attrs:{placeholder:"\u5706\u89D2\u5927\u5C0F","controls-position":"right",min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.borderRadius,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"borderRadius",i)},expression:"currentWidget.config.fixedbox.borderRadius"}})],1),e("el-form-item",{attrs:{label:"\u80CC\u666F\u989C\u8272"}},[e("el-row",[e("el-col",{attrs:{span:18}},[e("el-input",{attrs:{placeholder:"\u9009\u62E9\u80CC\u666F\u989C\u8272"},on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.backgroundColor,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"backgroundColor",i)},expression:"currentWidget.config.fixedbox.backgroundColor"}})],1),e("el-col",{attrs:{span:6}},[e("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:this.$$global_editor.predefineColors},on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.backgroundColor,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"backgroundColor",i)},expression:"currentWidget.config.fixedbox.backgroundColor"}})],1)],1)],1),e("el-form-item",{attrs:{label:"\u80CC\u666F\u56FE\u7247"}},[e("select-img",{attrs:{image:t.currentWidget.config.fixedbox.backgroundImage},on:{change:t.getConfigData,openSelectImage:t.openSelectImage,clearSelectImage:t.clearSelectImage}})],1),e("el-form-item",{attrs:{label:"\u586B\u5145\u6A21\u5F0F"}},[e("el-select",{staticStyle:{width:"195px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6A21\u5F0F"},on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.backgroundSize,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"backgroundSize",i)},expression:"currentWidget.config.fixedbox.backgroundSize"}},t._l(this.$$global_editor.backgroundSize,function(i){return e("el-option",{key:i.value,attrs:{label:i.label,value:i.value}})}),1)],1),e("el-form-item",{attrs:{label:"\u53EF\u62D6\u52A8"}},[e("el-switch",{on:{change:t.getConfigData},model:{value:t.currentWidget.config.fixedbox.draggable,callback:function(i){t.$set(t.currentWidget.config.fixedbox,"draggable",i)},expression:"currentWidget.config.fixedbox.draggable"}})],1),e("el-form-item",{attrs:{label:"\u542F\u7528\u5F39\u7A97"}},[e("el-switch",{on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.show,callback:function(i){t.$set(t.currentWidget.config.tooltip,"show",i)},expression:"currentWidget.config.tooltip.show"}})],1),t.currentWidget.config.tooltip.show?e("el-form-item",{attrs:{label:"\u7ED1\u5B9A\u7EC4\u4EF6"}},[e("el-switch",{on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.bindBoard,callback:function(i){t.$set(t.currentWidget.config.tooltip,"bindBoard",i)},expression:"currentWidget.config.tooltip.bindBoard"}})],1):t._e(),t.currentWidget.config.tooltip.show&&t.currentWidget.config.tooltip.bindBoard?e("el-form-item",{attrs:{label:"\u53EF\u7ED1\u7EC4\u4EF6"}},[e("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u8981\u7ED1\u5B9A\u7EC4\u4EF6"},on:{change:t.changeBind,clear:t.clear},model:{value:t.currentWidget.config.tooltip.bindWidgetId,callback:function(i){t.$set(t.currentWidget.config.tooltip,"bindWidgetId",i)},expression:"currentWidget.config.tooltip.bindWidgetId"}},t._l(t.widgetsList,function(i){return e("el-option",{key:i.value,attrs:{label:i.label,value:i.value}})}),1)],1):t._e()],1)],1)],2),t.currentWidget.config.tooltip.show?e("el-collapse-item",[e("template",{slot:"title"},[e("div",{staticClass:"my-title"},[t._v("\u63D0\u793A\u6846\u6837\u5F0F")])]),e("div",{staticClass:"my-collapse-text"},[e("el-form",{ref:"form",attrs:{size:"mini",model:t.currentWidget.config,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"\u53F3\u8FB9\u8DDD"}},[e("el-input-number",{staticStyle:{width:"160px"},attrs:{placeholder:"\u53F3\u8FB9\u8DDD","controls-position":"right"},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.right,callback:function(i){t.$set(t.currentWidget.config.tooltip,"right",i)},expression:"currentWidget.config.tooltip.right"}})],1),e("el-form-item",{attrs:{label:"\u4E0B\u8FB9\u8DDD"}},[e("el-input-number",{staticStyle:{width:"160px"},attrs:{placeholder:"\u4E0B\u8FB9\u8DDD","controls-position":"right"},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.bottom,callback:function(i){t.$set(t.currentWidget.config.tooltip,"bottom",i)},expression:"currentWidget.config.tooltip.bottom"}})],1),e("el-form-item",{attrs:{label:"\u663E\u793A\u9634\u5F71"}},[e("el-switch",{on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.shadow,callback:function(i){t.$set(t.currentWidget.config.tooltip,"shadow",i)},expression:"currentWidget.config.tooltip.shadow"}})],1),t.currentWidget.config.tooltip.shadow?e("div",[e("el-form-item",{attrs:{label:"\u5185\u9634\u5F71"}},[e("el-switch",{on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.inset,callback:function(i){t.$set(t.currentWidget.config.tooltip,"inset",i)},expression:"currentWidget.config.tooltip.inset"}})],1),e("el-form-item",{attrs:{label:"\u9634\u5F71\u989C\u8272"}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-input",{attrs:{placeholder:"\u56FE\u5F62\u9634\u5F71\u989C\u8272"},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.shadowColor,callback:function(i){t.$set(t.currentWidget.config.tooltip,"shadowColor",i)},expression:"currentWidget.config.tooltip.shadowColor"}})],1),e("el-col",{attrs:{span:6}},[e("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:t.globalEditor.predefineColors},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.shadowColor,callback:function(i){t.$set(t.currentWidget.config.tooltip,"shadowColor",i)},expression:"currentWidget.config.tooltip.shadowColor"}})],1)],1)],1),t.currentWidget.config.tooltip.shadowColor!=""?e("div",[e("el-form-item",{attrs:{label:"\u9634\u5F71\u6A21\u7CCA\u5927\u5C0F"}},[e("el-input-number",{staticClass:"my-style-number",attrs:{placeholder:"\u56FE\u5F62\u9634\u5F71\u7684\u6A21\u7CCA\u5927\u5C0F","controls-position":"right",step:1},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.shadowBlur,callback:function(i){t.$set(t.currentWidget.config.tooltip,"shadowBlur",i)},expression:"currentWidget.config.tooltip.shadowBlur"}})],1),e("el-form-item",{attrs:{label:"\u6C34\u5E73\u504F\u79FB"}},[e("el-input-number",{staticClass:"my-style-number",attrs:{placeholder:"\u9634\u5F71\u6C34\u5E73\u65B9\u5411\u4E0A\u7684\u504F\u79FB\u8DDD\u79BB","controls-position":"right",step:1},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.shadowOffsetX,callback:function(i){t.$set(t.currentWidget.config.tooltip,"shadowOffsetX",i)},expression:"currentWidget.config.tooltip.shadowOffsetX"}})],1),e("el-form-item",{attrs:{label:"\u5782\u76F4\u504F\u79FB"}},[e("el-input-number",{staticClass:"my-style-number",attrs:{placeholder:"\u9634\u5F71\u5782\u76F4\u65B9\u5411\u4E0A\u7684\u504F\u79FB\u8DDD\u79BB","controls-position":"right",step:1},on:{change:t.getConfigData},model:{value:t.currentWidget.config.tooltip.shadowOffsetY,callback:function(i){t.$set(t.currentWidget.config.tooltip,"shadowOffsetY",i)},expression:"currentWidget.config.tooltip.shadowOffsetY"}})],1)],1):t._e()],1):t._e()],1)],1)],2):t._e()],1),e("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,"close-on-click-modal":!1,visible:t.dialogVisible,width:t.dialogWidth},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",[e("image-manage",{ref:"imageMange",attrs:{isDialog:!0,type:["image"]}})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:t.cancelEidt}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.getImage}},[t._v("\u786E \u5B9A")])],1)])],1)},d=[],g=n(723400),c=n(555616),f=n(582333),u=n(721829),p=n(148836),h={name:"com-fixedbox-style",mixins:[g.j],props:["currentWidget","widgets"],components:{ImageManage:f.default,selectImg:u.Z},mounted(){this.dialogWidth=window.innerWidth-170+"px"},computed:{widgetsList(){return this.getWidgetsList()}},data(){return{globalEditor:this.$$global_editor,dialogVisible:!1,dialogWidth:"0px"}},methods:{...(0,p.nv)(["updateWidgetBindId"]),openSelectImage(){let o=this;this.dialogVisible=!0,setTimeout(function(){o.$refs.imageMange.getImageList(null),o.$refs.imageMange.setSelectImage(o.currentWidget.config.fixedbox.backgroundImage)},500)},clearSelectImage(){this.currentWidget.config.fixedbox.backgroundImage="",this.manageGetBoardConfigData()},getImage(){let o=this.$refs.imageMange.getSelectImage();if(o!=null){if(this.$$global.fileType.image.indexOf(o.imageFileType)==-1){c.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}this.dialogVisible=!1,this.currentWidget.config.fixedbox.backgroundImage=o.fileUrlPath,this.manageGetBoardConfigData()}else c.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},changeBind(){this.$$lib__.each(this.widgets,t=>{t.bindId==this.currentWidget.id&&(t.bindId="")});let o=this.$$lib__.find(this.widgets,t=>t.id==this.currentWidget.config.tooltip.bindWidgetId);o&&(this.updateWidgetBindId({widgetId:o.id,bindId:this.currentWidget.id}),this.getConfigData())},clear(){this.$$lib__.each(this.widgets,o=>{o.bindId&&o.bindId==this.currentWidget.id&&delete o.bindId})},getWidgetsList(){let o=[];for(let e in this.widgets){let i=!0,l=this.$$lib__.find(this.widgets,a=>a.bindId==this.widgets[e].id);l?i=!1:(l=this.$$lib__.find(this.widgets,a=>a.id==this.widgets[e].bindId),l&&(i=!1)),this.widgets[e].typeName!="com-fixedbox"&&(this.widgets[e].bindId==this.currentWidget.id||i)&&(this.widgets[e].parentId==null||this.widgets[e].parentId==null)&&o.push({value:e,label:this.widgets[e].name})}return this.$$lib__.find(o,e=>e.value==this.currentWidget.config.tooltip.bindWidgetId)||(this.currentWidget.config.tooltip.bindWidgetId=""),o}}},m=h,b=n(768141),x=(0,b.Z)(m,s,d,!1,null,"be3e8910",null),W=x.exports}}]);
