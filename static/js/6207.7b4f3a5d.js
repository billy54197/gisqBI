"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[6207],{57404:function(){},45597:function(P,L,v){var p=v(59738),d=v(53258),H=v(49500);const a={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},z={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},b={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let c=a.mouse;L.Z={replace:!0,name:"VueDraggableResizableRotatable",props:{className:{type:String,default:"vdrr"},classNameDraggable:{type:String,default:"draggable"},classNameRotatable:{type:String,default:"rotatable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},h:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},minWidth:{type:Number,default:1,validator:t=>t>=0},minHeight:{type:Number,default:1,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},r:{type:Number,default:0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>typeof t=="string"?t==="auto":t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml","spin"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml","spin"]);return new Set(t.filter(i=>e.has(i))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0},isConflictCheck:{type:Boolean,default:!1},snap:{type:Boolean,default:!1},snapTolerance:{type:Number,default:5,validator:function(t){return typeof t=="number"}},scaleRatio:{type:Number,default:1,validator:t=>typeof t=="number"},handleInfo:{type:Object,default:()=>({size:8,offset:-4,switch:!0})}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,rotate:this.r,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,rotating:!1,resizing:!1,dragging:!1,zIndex:this.z,event:{},xYHandles:["xyl","xyr"],xYShow:!0}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&H.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&H.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[i,s]=(0,p.nm)(this.$el);this.aspectFactor=(this.w!=="auto"?this.w:i)/(this.h!=="auto"?this.h:s),this.width=this.w!=="auto"?this.w:i,this.height=this.h!=="auto"?this.h:s,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.settingAttribute(),(0,p.vP)(document.documentElement,"mousedown",this.deselect),(0,p.vP)(document.documentElement,"touchend touchcancel",this.deselect),(0,p.vP)(window,"resize",this.checkParentSize)},beforeDestroy:function(){(0,p.xC)(document.documentElement,"mousedown",this.deselect),(0,p.xC)(document.documentElement,"touchstart",this.handleUp),(0,p.xC)(document.documentElement,"mousemove",this.move),(0,p.xC)(document.documentElement,"touchmove",this.move),(0,p.xC)(document.documentElement,"mouseup",this.handleUp),(0,p.xC)(document.documentElement,"touchend touchcancel",this.deselect),(0,p.xC)(window,"resize",this.checkParentSize)},methods:{elementMouseEnter(t){this.$emit("onMouseEnter",t)},elementMouseLeave(t){this.$emit("onMouseLeave",t)},resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e}},getParentSize(){if(this.parent===!0){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}if(typeof this.parent=="string"){const t=document.querySelector(this.parent);if(!(t instanceof HTMLElement))throw new Error(`The selector ${this.parent} does not match any element`);return[t.offsetWidth,t.offsetHeight]}return[null,null]},elementTouchDown(t){c=a.touch,this.elementDown(t)},elementMouseDown(t){c=a.mouse,this.elementDown(t)},elementDown(t){if(this.event=t,t instanceof MouseEvent&&t.which!==1)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.$emit("onClicked",this.event),this.onDragStart(t)===!1)return;if(this.dragHandle&&!(0,p.OW)(e,this.dragHandle,this.$el)||this.dragCancel&&(0,p.OW)(e,this.dragCancel,this.$el)){this.dragging=!1;return}this.enabled||(this.enabled=!0,this.$emit("activated",this.event),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),(0,p.vP)(document.documentElement,c.move,this.move),(0,p.vP)(document.documentElement,c.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(){this.resetBoundsAndMouseState()},handleTouchDown(t,e){c=a.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&e.which!==1||this.onResizeStart(t,e)!==!1&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),t==="spin"&&this.handleRotateDown(t,e),(0,p.vP)(document.documentElement,c.move,this.handleResize),(0,p.vP)(document.documentElement,c.stop,this.handleUp))},handleRotateDown(){let{top:t,left:e,width:i,height:s}=this.$el.getBoundingClientRect();this.lastCenterX=window.pageXOffset+e+i/2,this.lastCenterY=window.pageYOffset+t+s/2,this.rotating=!0},calcResizeLimits(){let t=this.minW,e=this.minH,i=this.maxW,s=this.maxH;const n=this.aspectFactor,[l,u]=this.grid,m=this.width,r=this.height,o=this.left,_=this.top,g=this.right,f=this.bottom;this.lockAspectRatio&&(t/e>n?e=t/n:t=n*e,i&&s?(i=Math.min(i,n*s),s=Math.min(s,i/n)):i?s=i/n:s&&(i=n*s)),i=i-i%l,s=s-s%u;const h={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(h.minLeft=o%l,h.maxLeft=o+Math.floor((m-t)/l)*l,h.minTop=_%u,h.maxTop=_+Math.floor((r-e)/u)*u,h.minRight=g%l,h.maxRight=g+Math.floor((m-t)/l)*l,h.minBottom=f%u,h.maxBottom=f+Math.floor((r-e)/u)*u,i&&(h.minLeft=Math.max(h.minLeft,this.parentWidth-g-i),h.minRight=Math.max(h.minRight,this.parentWidth-o-i)),s&&(h.minTop=Math.max(h.minTop,this.parentHeight-f-s),h.minBottom=Math.max(h.minBottom,this.parentHeight-_-s)),this.lockAspectRatio&&(h.minLeft=Math.max(h.minLeft,o-_*n),h.minTop=Math.max(h.minTop,_-o/n),h.minRight=Math.max(h.minRight,g-f*n),h.minBottom=Math.max(h.minBottom,f-g/n))):(h.minLeft=null,h.maxLeft=o+Math.floor((m-t)/l)*l,h.minTop=null,h.maxTop=_+Math.floor((r-e)/u)*u,h.minRight=null,h.maxRight=g+Math.floor((m-t)/l)*l,h.minBottom=null,h.maxBottom=f+Math.floor((r-e)/u)*u,i&&(h.minLeft=-(g+i),h.minRight=-(o+i)),s&&(h.minTop=-(f+s),h.minBottom=-(_+s)),this.lockAspectRatio&&i&&s&&(h.minLeft=Math.min(h.minLeft,-(g+i)),h.minTop=Math.min(h.minTop,-(s+f)),h.minRight=Math.min(h.minRight,-o-i),h.minBottom=Math.min(h.minBottom,-_-s))),h},move(t){this.resizing?this.handleResize(t):this.dragging&&this.handleDrag(t)},async handleDrag(t){const e=this.axis,i=this.grid,s=this.bounds,n=this.mouseClickPosition,l=e&&e!=="y"?n.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,u=e&&e!=="x"?n.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[m,r]=(0,d.xn)(i,l,u,this.scaleRatio),o=(0,d.sg)(n.left-m,s.minLeft,s.maxLeft),_=(0,d.sg)(n.top-r,s.minTop,s.maxTop);if(this.onDrag(o,_)===!1)return;const g=(0,d.sg)(n.right+m,s.minRight,s.maxRight),f=(0,d.sg)(n.bottom+r,s.minBottom,s.maxBottom);this.left=o,this.top=_,this.right=g,this.bottom=f,await this.snapCheck(),this.$emit("dragging",this.left,this.top,this.w,this.h)},moveHorizontally(t){const[e,i]=(0,d.xn)(this.grid,t,this.top,this.scale),s=(0,d.sg)(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=s,this.right=this.parentWidth-this.width-s},moveVertically(t){const[e,i]=(0,d.xn)(this.grid,this.left,t,this.scale),s=(0,d.sg)(i,this.bounds.minTop,this.bounds.maxTop);this.top=s,this.bottom=this.parentHeight-this.height-s},handleResize(t){let e=this.left,i=this.top,s=this.right,n=this.bottom;const l=this.mouseClickPosition,u=this.aspectFactor,m=l.mouseX-(t.touches?t.touches[0].pageX:t.pageX),r=l.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&m&&(this.widthTouched=!0),!this.heightTouched&&r&&(this.heightTouched=!0);const[o,_]=(0,d.xn)(this.grid,m,r,this.scaleRatio);if(this.handle.includes("b")?(n=(0,d.sg)(l.bottom+_,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(s=this.right-(this.bottom-n)*u)):this.handle.includes("t")&&(i=(0,d.sg)(l.top-_,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-i)*u)),this.handle.includes("r")?(s=(0,d.sg)(l.right+o,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(n=this.bottom-(this.right-s)/u)):this.handle.includes("l")&&(e=(0,d.sg)(l.left-o,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(i=this.top-(this.left-e)/u)),this.handle.includes("spin")){let{x:h,y}=this.getMouseCoordinate(t),x=y-this.lastCenterY,S=h-this.lastCenterX;this.rotate=(this.getAngle(S,x)+90)%360,this.$emit("rotating",this.rotate,t)}const g=(0,d.ew)(this.parentWidth,e,s),f=(0,d.le)(this.parentHeight,i,n);this.onResize(this.handle,e,i,g,f)!==!1&&(this.left=e,this.top=i,this.right=s,this.bottom=n,this.width=g,this.height=f,this.$emit("resizing",this.left,this.top,this.width,this.height,this.$el))},getMouseCoordinate(t){return t.type.indexOf("touch")!==-1?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:{x:t.pageX||t.clientX+document.documentElement.scrollLeft,y:t.pageY||t.clientY+document.documentElement.scrollTop}},changeWidth(t){const[e,i]=(0,d.xn)(this.grid,t,0,this.scale);let s=(0,d.sg)(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight),n=this.bottom;this.lockAspectRatio&&(n=this.bottom-(this.right-s)/this.aspectFactor);const l=(0,d.ew)(this.parentWidth,this.left,s),u=(0,d.le)(this.parentHeight,this.top,n);this.right=s,this.bottom=n,this.width=l,this.height=u},changeHeight(t){const[e,i]=(0,d.xn)(this.grid,0,t,this.scale);let s=(0,d.sg)(this.parentHeight-i-this.top,this.bounds.minBottom,this.bounds.maxBottom),n=this.right;this.lockAspectRatio&&(n=this.right-(this.bottom-s)*this.aspectFactor);const l=(0,d.ew)(this.parentWidth,this.left,n),u=(0,d.le)(this.parentHeight,this.top,s);this.right=n,this.bottom=s,this.width=l,this.height=u},async handleUp(t){this.handle=null;const e=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),i={vLine:[],hLine:[]};for(let n in i)i[n]=JSON.parse(JSON.stringify(e));const s=this.$el.parentNode.childNodes;for(let n of s)n.className!==void 0&&n.getAttribute("data-is-snap")!==null&&n.getAttribute("data-is-snap")!=="false"&&n.className.includes("align")&&(n.className=n.className.replace(" align",""));this.resizing&&(this.resizing=!1,await this.conflictCheck(),this.$emit("refLineParams",i,t),this.$emit("resizestop",this.left,this.top,this.width,this.height,t)),this.dragging&&(this.dragging=!1,await this.conflictCheck(),this.$emit("refLineParams",i,t),this.$emit("dragstop",this.left,this.top,t)),this.rotating&&(this.rotating=!1,this.$emit("rotatestop",this.rotate,t)),this.resetBoundsAndMouseState(),(0,p.xC)(document.documentElement,c.move,this.handleResize)},settingAttribute(){this.$el.setAttribute("data-is-check",`${this.isConflictCheck}`),this.$el.setAttribute("data-is-snap",`${this.snap}`)},conflictCheck(){const t=this.top,e=this.left,i=this.width,s=this.height;if(this.isConflictCheck){const n=this.$el.parentNode.childNodes;for(let l of n)if(l.className!==void 0&&!l.className.includes(this.classNameActive)&&l.getAttribute("data-is-check")!==null&&l.getAttribute("data-is-check")!=="false"){const u=l.offsetWidth,m=l.offsetHeight;let[r,o]=this.formatTransformVal(l.style.transform);const _=t>=o&&e>=r&&o+m>t&&r+u>e||t<=o&&e<r&&t+s>o&&e+i>r,g=e<=r&&t>=o&&e+i>r&&t<o+m||t<o&&e>r&&t+s>o&&e<r+u,f=t<=o&&e>=r&&t+s>o&&e<r+u||t>=o&&e<=r&&t<o+m&&e>r+u,h=t<=o&&e>=r&&t+s>o&&e<r+u||t>=o&&e<=r&&t<o+m&&e>r+u,y=e>=r&&t>=o&&e<r+u&&t<o+m||t>o&&e<=r&&e+i>r&&t<o+m,x=t<=o&&e>=r&&t+s>o&&e<r+u||t>=o&&e<=r&&t<o+m&&e+i>r;(_||g||f||h||y||x)&&(this.top=this.mouseClickPosition.top,this.left=this.mouseClickPosition.left,this.right=this.mouseClickPosition.right,this.bottom=this.mouseClickPosition.bottom)}}},async snapCheck(){let t=this.width,e=this.height;if(this.snap){let i=this.left,s=this.left+t,n=this.top,l=this.top+e;const u=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),m={vLine:[],hLine:[]};for(let x in m)m[x]=JSON.parse(JSON.stringify(u));const r=this.$el.parentNode.childNodes;let o={value:{x:[[],[],[]],y:[[],[],[]]},display:[],position:[]};const{groupWidth:_,groupHeight:g,groupLeft:f,groupTop:h,bln:y}=await this.getActiveAll(r);y||(t=_,e=g,i=f,s=f+_,n=h,l=h+g);for(let x of r)if(x.className!==void 0&&!x.className.includes(this.classNameActive)&&x.getAttribute("data-is-snap")!==null&&x.getAttribute("data-is-snap")!=="false"){const S=x.offsetWidth,N=x.offsetHeight,[w,M]=this.formatTransformVal(x.style.transform),T=w+S,k=M+N,W=Math.abs(n+e/2-(M+N/2))<=this.snapTolerance,A=Math.abs(i+t/2-(w+S/2))<=this.snapTolerance,D=Math.abs(M-l)<=this.snapTolerance,$=Math.abs(k-l)<=this.snapTolerance,E=Math.abs(M-n)<=this.snapTolerance,Y=Math.abs(k-n)<=this.snapTolerance,O=Math.abs(w-s)<=this.snapTolerance,X=Math.abs(T-s)<=this.snapTolerance,I=Math.abs(w-i)<=this.snapTolerance,F=Math.abs(T-i)<=this.snapTolerance;o.display=[D,$,E,Y,W,W,O,X,I,F,A,A],o.position=[M,k,M,k,M+N/2,M+N/2,w,T,w,T,w+S/2,w+S/2],D||$||E||Y||W||W||O||X||I||F||A||A?x.className.includes("align")||(x.className+=" align",this.xYShow=!1):x.className.includes("align")&&(x.className=x.className.replace(" align",""),this.xYShow=!0),D&&(y&&(this.top=M-e,this.bottom=this.parentHeight-this.top-e),o.value.y[0].push(w,T,i,s)),E&&(y&&(this.top=M,this.bottom=this.parentHeight-this.top-e),o.value.y[0].push(w,T,i,s)),$&&(y&&(this.top=k-e,this.bottom=this.parentHeight-this.top-e),o.value.y[1].push(w,T,i,s)),Y&&(y&&(this.top=k,this.bottom=this.parentHeight-this.top-e),o.value.y[1].push(w,T,i,s)),O&&(y&&(this.left=w-t,this.right=this.parentWidth-this.left-t),o.value.x[0].push(M,k,n,l)),I&&(y&&(this.left=w,this.right=this.parentWidth-this.left-t),o.value.x[0].push(M,k,n,l)),X&&(y&&(this.left=T-t,this.right=this.parentWidth-this.left-t),o.value.x[1].push(M,k,n,l)),F&&(y&&(this.left=T,this.right=this.parentWidth-this.left-t),o.value.x[1].push(M,k,n,l)),W&&(y&&(this.top=M+N/2-e/2,this.bottom=this.parentHeight-this.top-e),o.value.y[2].push(w,T,i,s)),A&&(y&&(this.left=w+S/2-t/2,this.right=this.parentWidth-this.left-t),o.value.x[2].push(M,k,n,l));const C=[0,1,0,1,2,2,0,1,0,1,2,2];for(let R=0;R<=C.length;R++){const U=R<6?"y":"x",B=R<6?"hLine":"vLine";if(o.display[R]){const{origin:j,length:V}=this.calcLineValues(o.value[U][C[R]]);m[B][C[R]].display=o.display[R],m[B][C[R]].position=o.position[R]+"px",m[B][C[R]].origin=j,m[B][C[R]].lineLength=V}}}this.$emit("refLineParams",m)}},calcLineValues(t){const e=Math.max(...t)-Math.min(...t)+"px",i=Math.min(...t)+"px";return{length:e,origin:i}},async getActiveAll(t){const e=[],i=[],s=[];let n=0,l=0,u=0,m=0;for(let _ of t)_.className!==void 0&&_.className.includes(this.classNameActive)&&e.push(_);const r=e.length;if(r>1){for(let _ of e){const g=_.offsetLeft,f=g+_.offsetWidth,h=_.offsetTop,y=h+_.offsetHeight;i.push(h,y),s.push(g,f)}n=Math.max(...s)-Math.min(...s),l=Math.max(...i)-Math.min(...i),u=Math.min(...s),m=Math.min(...i)}return{groupWidth:n,groupHeight:l,groupLeft:u,groupTop:m,bln:r===1}},formatTransformVal(t){let e=t.match(/\.*translate\((.*?)\)/)[0],[i,s]=e.replace(/[^0-9\-,]/g,"").split(",");return[+i,+s]},getAngle(t,e){let i=Math.atan2(e,t);return i=Math.round(180/Math.PI*i),i<0&&(i=360+i),i}},computed:{handleStyle(){return t=>{if(!this.handleInfo.switch)return{display:this.enabled?"block":"none"};const e=(this.handleInfo.size/this.scaleRatio).toFixed(2),i=(this.handleInfo.offset/this.scaleRatio).toFixed(2),s=(e/2).toFixed(2),n={tl:{top:`${i}px`,left:`${i}px`},tm:{top:`${i}px`,left:`calc(50% - ${s}px)`},tr:{top:`${i}px`,right:`${i}px`},mr:{top:`calc(50% - ${s}px)`,right:`${i}px`},br:{bottom:`${i}px`,right:`${i}px`},bm:{bottom:`${i}px`,right:`calc(50% - ${s}px)`},bl:{bottom:`${i}px`,left:`${i}px`},ml:{top:`calc(50% - ${s}px)`,left:`${i}px`},spin:{top:`${-1*e+2}px`,left:"50%"}},l={width:`${e}px`,height:`${e}px`,top:n[t].top,left:n[t].left,right:n[t].right,bottom:n[t].bottom};return l.display=this.enabled?"block":"none",l}},style(){return{transform:`translate(${this.left}px, ${this.top}px)  rotate(`+this.rotate+"deg)",width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?z:b}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return this.w==="auto"&&!this.widthTouched?"auto":this.width+"px"},computedHeight(){return this.h==="auto"&&!this.heightTouched?"auto":this.height+"px"},resizingOnX(){return!!this.handle&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return!!this.handle&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return!!this.handle&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated",this.event):this.$emit("deactivated")},r(t){t>=0&&(this.rotate=t%360)},z(t){(t>=0||t==="auto")&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t),this.$emit("change",this.w,this.h,this.x,this.y))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t),this.$emit("change",this.w,this.h,this.x,this.y))},lockAspectRatio(t){t?this.aspectFactor=this.width/this.height:this.aspectFactor=void 0},minWidth(t){t>0&&t<=this.width&&(this.minW=t)},minHeight(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth(t){this.maxW=t},maxHeight(t){this.maxH=t},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t),this.$emit("change",this.w,this.h,this.x,this.y))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t),this.$emit("change",this.w,this.h,this.x,this.y))}}}},44921:function(P,L,v){v.d(L,{s:function(){return p},x:function(){return d}});var p=function(){var a=this,z=a._self._c;return z("div",{class:[a.className,{[a.classNameDragging]:a.dragging,[a.classNameResizing]:a.resizing,[a.classNameDraggable]:a.draggable,[a.classNameResizable]:a.resizable,[a.classNameRotatable]:a.rotatable,[a.classNameActive]:a.enabled}],style:a.style,on:{mouseenter:a.elementMouseEnter,mouseleave:a.elementMouseLeave,mousedown:function(b){return b.stopPropagation(),a.elementMouseDown.apply(null,arguments)},touchstart:function(b){return b.preventDefault(),b.stopPropagation(),a.elementTouchDown.apply(null,arguments)}}},[z("div",{staticClass:"align-xy",style:{display:a.enabled?"block":"none"}},[a._v(a._s(a.left+"/"+a.top)+" ")]),a._l(a.actualHandles,function(b){return z("div",{key:b,class:[a.classNameHandle,a.classNameHandle+"-"+b],style:a.handleStyle(b),on:{mousedown:function(c){return c.stopPropagation(),c.preventDefault(),a.handleDown(b,c)},touchstart:function(c){return c.stopPropagation(),c.preventDefault(),a.handleTouchDown(b,c)}}},[a._t(b)],2)}),z("div",{directives:[{name:"show",rawName:"v-show",value:a.xYShow&&(a.rotate===0||a.rotate===360),expression:"xYShow&&(rotate===0||rotate===360)"}]},a._l(a.xYHandles,function(b){return z("div",{key:b,class:"handle-"+b,style:{display:a.enabled?"block":"none"}})}),0),a._t("default")],2)},d=[]},53258:function(P,L,v){v.d(L,{ew:function(){return a},le:function(){return z},mf:function(){return p},sg:function(){return b},xn:function(){return d}});function p(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Function]"}function d(c,t,e,i=1){const s=Math.round(t/i/c[0])*c[0],n=Math.round(e/i/c[1])*c[1];return[s,n]}function H(c){const t=c.getBoundingClientRect();return[parseInt(t.width),parseInt(t.height)]}function a(c,t,e){return c-t-e}function z(c,t,e){return c-t-e}function b(c,t,e){return t!==null&&c<t?t:e!==null&&e<c?e:c}},46207:function(P,L,v){var p=v(44921),d=v(13372),H=v(66630),a=v(68141),z=(0,a.Z)(d.Z,p.s,p.x,!1,null,"5a4f16b5",null);L.Z=z.exports},66630:function(P,L,v){var p=v(57404)},13372:function(P,L,v){var p=v(45597);L.Z=p.Z}}]);
