"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[89277],{569731:function(f,c,s){var g=s(789615);const u=[{name:"rotate-r",label:"\u987A\u65F6\u9488\u65CB\u8F6C",config:{rotate:"360deg"}},{name:"rotate-n",label:"\u9006\u65F6\u9488\u65CB\u8F6C",config:{rotate:"-360deg"}},{name:"opracity",label:"\u900F\u660E\u5EA6",config:{opacity:[0,1]}},{name:"size",label:"\u7F29\u653E",config:{scale:0}},{name:"move-x",label:"\u6C34\u5E73\u79FB\u52A8",config:{translateX:"100%"}},{name:"move-y",label:"\u5782\u76F4\u79FB\u52A8",config:{translateY:"100%"}},{name:"custom",label:"\u81EA\u5B9A\u4E49"}],m=[{value:"linear",label:"\u5300\u901F"},{value:"easeOutQuint",label:"\u5FEB-\u6162"},{value:"easeInQuart",label:"\u6162-\u5FEB"},{value:"easeInOutCirc",label:"\u6162-\u5FEB-\u6162"},{value:"easeOutInCirc",label:"\u5FEB-\u6162-\u5FEB"}],r=[{value:"normal",label:"\u6B63\u653E"},{value:"reverse",label:"\u5012\u653E"},{value:"alternate",label:"\u6B63-\u5012\u653E"}],p=(d,l)=>{if(!l||!l.enabled)return;let i={};return l.type!=="custom"?(i={...JSON.parse(JSON.stringify(u.find(o=>o.name===l.type))).config},l.speed&&(i.easing=l.speed),l.time&&(i.duration=(l.time-0)*1e3,i.duration==0&&(i.duration=1)),l.delay&&(i.delay=(l.delay-0)*1e3),l.endDelay&&(i.endDelay=(l.endDelay-0)*1e3),l.direction&&(i.direction=l.direction),l.repeat&&(l.repeat=="repeat"?i.loop=!0:l.repeat-0>0&&(i.loop=l.repeat-0,i.direction==="alternate"&&(i.loop*=2))),i.targets=d):(i={},l.script&&(i=new Function(l.script).apply(void 0)),i.targets=i.myTargets||d),(0,g.Z)(i)};c.Z={animeType:u,speedType:m,direction:r,doAnime:p}},287547:function(f,c,s){s.r(c),s.d(c,{default:function(){return S}});var g=function(){var e=this,t=e._self._c;return t("div",[t("el-collapse",[t("el-collapse-item",[t("template",{slot:"title"},[t("div",{staticClass:"my-title"},[e._v("\u56FE\u7247\u6837\u5F0F")])]),t("vue-lazy-component",{staticClass:"my-collapse-media"},[t("el-form",{ref:"form",attrs:{size:"mini",model:e.currentWidget.config,"label-width":"85px"}},[t("el-form-item",{attrs:{label:"\u56FE\u7247"}},[t("el-tooltip",{attrs:{disabled:!e.imgConfigDisabled,content:"\u5DF2\u7ECF\u5728\u6570\u636E\u4E2D\u7ED1\u5B9A\u4E86\u56FE\u7247\u5730\u5740\uFF0C\u6B64\u5904\u8BBE\u7F6E\u65E0\u6548"}},[t("div",{style:e.imgConfigDisabled?{cursor:"not-allowed"}:{}},[t("select-img",{style:e.imgConfigDisabled?{pointerEvents:"none",filter:"grayscale(40%)"}:{},attrs:{image:e.currentWidget.config.backgroundImage},on:{change:e.getConfigData,openSelectImage:e.openSelectImage,clearSelectImage:e.clearSelectImage}})],1)])],1),t("el-form-item",{attrs:{label:"\u586B\u5145\u6A21\u5F0F"}},[t("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6A21\u5F0F"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.backgroundSize,callback:function(a){e.$set(e.currentWidget.config,"backgroundSize",a)},expression:"currentWidget.config.backgroundSize"}},e._l(e.backgroundSize,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[t("span",[e._v(e._s(a.label))]),t("el-tooltip",[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(a.desc)},slot:"content"}),t("i",{staticClass:"el-icon-info"})])],1)}),1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.currentWidget.config.backgroundSize=="contain-no-repeat",expression:"currentWidget.config.backgroundSize=='contain-no-repeat'"}],attrs:{label:"\u5BF9\u9F50\u65B9\u5F0F"}},[t("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5BF9\u9F50\u65B9\u5F0F"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.align,callback:function(a){e.$set(e.currentWidget.config,"align",a)},expression:"currentWidget.config.align"}},e._l(e.alignList,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1),t("el-collapse-item",{attrs:{title:"\u52A8\u753B\u914D\u7F6E"}},[t("img-anime-config",{on:{change:e.animeChange},model:{value:e.currentWidget.config.anime,callback:function(a){e.$set(e.currentWidget.config,"anime",a)},expression:"currentWidget.config.anime"}})],1)],1)],1)],2),t("popover",{attrs:{"is-title":!0,title:"\u63D0\u793A\u6846",popover:e.currentWidget.config.popover},on:{getConfigData:e.getConfigData}})],1),t("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,"close-on-click-modal":!1,visible:e.dialogVisible,width:e.dialogWidth},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("div",[t("image-manage",{ref:"imageMange",attrs:{"is-dialog":!0,type:["image"]}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("\u53D6 \u6D88")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getImage}},[e._v("\u786E \u5B9A")])],1)])],1)},u=[],m=s(582333),r=s(555616),p=s(723400),d=s(721829),l=s(104425),i=function(){var e=this,t=e._self._c;return t("el-form",{attrs:{size:"mini","label-width":"82px"}},[t("el-form-item",{attrs:{label:"\u542F\u7528"}},[t("el-switch",{on:{change:e.change},model:{value:e.val.enabled,callback:function(a){e.$set(e.val,"enabled",a)},expression:"val.enabled"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.val.enabled,expression:"val.enabled"}]},[t("el-form-item",{attrs:{label:"\u52A8\u753B\u7C7B\u578B"}},[t("el-select",{style:e.inputWidth,on:{change:e.change},model:{value:e.val.type,callback:function(a){e.$set(e.val,"type",a)},expression:"val.type"}},e._l(e.animeType,function(a){return t("el-option",{attrs:{value:a.name,label:a.label}})}),1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.val.type!=="custom",expression:"val.type !== 'custom'"}]},[t("el-form-item",{attrs:{label:"\u65F6\u957F(\u79D2)"}},[t("el-input-number",{staticClass:"my-style-number",attrs:{step:.1,"controls-position":"right"},on:{change:e.change},model:{value:e.val.time,callback:function(a){e.$set(e.val,"time",a)},expression:"val.time"}})],1),t("el-form-item",{attrs:{label:"\u5EF6\u65F6(\u79D2)"}},[t("el-input-number",{staticClass:"my-style-number",attrs:{step:.1,"controls-position":"right"},on:{change:e.change},model:{value:e.val.delay,callback:function(a){e.$set(e.val,"delay",a)},expression:"val.delay"}})],1),t("el-form-item",{attrs:{label:"\u91CD\u590D\u6B21\u6570"}},[t("el-select",{style:e.inputWidth,attrs:{placeholder:"\u8F93\u5165\u6570\u5B57\u6216\u8005\u9009\u62E9\u5FAA\u73AF","allow-create":!0},on:{change:e.change},model:{value:e.val.repeat,callback:function(a){e.$set(e.val,"repeat",a)},expression:"val.repeat"}},[t("el-option",{attrs:{value:"1",label:"1"}}),t("el-option",{attrs:{value:"2",label:"2"}}),t("el-option",{attrs:{value:"3",label:"3"}}),t("el-option",{attrs:{value:"repeat",label:"\u5FAA\u73AF"}})],1)],1),t("el-form-item",{attrs:{label:"\u95F4\u9694\u65F6\u95F4"}},[t("el-input-number",{staticClass:"my-style-number",attrs:{step:.1,"controls-position":"right"},on:{change:e.change},model:{value:e.val.endDelay,callback:function(a){e.$set(e.val,"endDelay",a)},expression:"val.endDelay"}})],1),t("el-form-item",{attrs:{label:"\u52A8\u753B\u65B9\u5411"}},[t("el-select",{style:e.inputWidth,on:{change:e.change},model:{value:e.val.direction,callback:function(a){e.$set(e.val,"direction",a)},expression:"val.direction"}},e._l(e.directionList,function(a){return t("el-option",{attrs:{value:a.value,label:a.label}})}),1)],1),t("el-form-item",{attrs:{label:"\u884C\u8FDB\u901F\u5EA6"}},[t("el-select",{style:e.inputWidth,on:{change:e.change},model:{value:e.val.speed,callback:function(a){e.$set(e.val,"speed",a)},expression:"val.speed"}},e._l(e.speedType,function(a){return t("el-option",{attrs:{value:a.value,label:a.label}})}),1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.val.type==="custom",expression:"val.type === 'custom'"}]},[t("el-form-item",{attrs:{label:"\u811A\u672C"}},[t("common-custom-script",{attrs:{options:e.scriptOption},on:{change:e.change},model:{value:e.val,callback:function(a){e.val=a},expression:"val"}})],1)],1)],1)],1)},v=[],o=s(569731),h={name:"ImgAnimeConfig",components:{CommonCustomScript:()=>Promise.resolve().then(s.bind(s,406627))},computed:{inputWidth(){return{width:"160px"}}},props:{value:{type:Object,default:()=>({enabled:!1,type:"size",time:3,delay:0,endDelay:0,duration:0,repeat:"1",speed:"linear",direction:"alternate",script:""})}},data(){return{animeType:o.Z.animeType,speedType:o.Z.speedType,directionList:o.Z.direction,val:this.value,scriptOption:{attribute_enable:void 0,attribute_script_content:"script",title:"\u52A8\u753B\u914D\u7F6E",script_examples:`/* \u4F7F\u7528animejs\u5E93\uFF0C\u914D\u7F6E\u9879\u53EF\u53C2\u8003
 * https://animejs.com/documentation/
 *
 * \u53EF\u4EE5\u4F7F\u7528 this \u83B7\u53D6\u5F53\u524D\u7EC4\u4EF6\u76F8\u5173\u914D\u7F6E\u548C\u4FE1\u606F\u3002
 * \u6CE8\uFF1A\u8BF7\u52FF\u4F20\u5165 targets\uFF0C\u7CFB\u7EDF\u9ED8\u8BA4targets\u4E3A\u7EC4\u4EF6\u5185\u90E8\u9ED8\u8BA4\u5143\u7D20
 */

return {
  keyframes: [
    {translateY: -40},
    {translateX: 250},
    {translateY: 40},
    {translateX: 0},
    {translateY: 0}
  ],
  duration: 4000,
  easing: 'easeOutElastic(1, .8)',
  loop: true
};`}}},methods:{change(){this.$emit("change",this.val),this.$emit("input",this.val)}}},y=h,b=s(768141),_=(0,b.Z)(y,i,v,!1,null,"2024be04",null),x=_.exports,W={name:"PictureSingleStyle",components:{ImgAnimeConfig:x,Popover:l.Z,ImageManage:m.default,selectImg:d.Z},mixins:[p.j],props:["currentWidget"],data(){return{dialogVisible:!1,dialogWidth:"0px",backgroundSize:[{value:"auto-no-repeat",label:"\u539F\u59CB\u5927\u5C0F\u4E0D\u91CD\u590D",desc:"\u539F\u59CB\u5927\u5C0F\u4E0D\u91CD\u590D:</br></br>\u56FE\u50CF\u4FDD\u6301\u539F\u59CB\u5927\u5C0F\uFF0C\u4E0D\u968F\u5185\u5BB9\u533A\u57DF\u9AD8\u5BBD\u53D8\u5316"},{value:"auto",label:"\u539F\u59CB\u5927\u5C0F\u91CD\u590D",desc:"\u539F\u59CB\u5927\u5C0F\u91CD\u590D:</br></br>\u56FE\u50CF\u5C06\u4FDD\u6301\u5176\u9ED8\u8BA4\u5927\u5C0F,\u91CD\u590D\u56FE\u50CF\u4EE5\u8986\u76D6\u5185\u5BB9\u533A\u57DF</br>\u6709\u65F6\u53EF\u80FD\u4F1A\u5BFC\u81F4\u56FE\u50CF\u6A21\u7CCA"},{value:"contain-no-repeat",label:"\u9002\u5408\u4E0D\u91CD\u590D",desc:"\u5408\u9002\u4E0D\u91CD\u590D\uFF1A</br></br>\u628A\u56FE\u50CF\u6269\u5C55\u81F3\u6700\u5927\u5C3A\u5BF8\uFF0C\u4F7F\u5176\u5BBD\u5EA6/\u9AD8\u5EA6\u5B8C\u5168\u9002\u5E94\u5185\u5BB9\u533A\u57DF\u3002\u8D85\u51FA\u9AD8\u5BBD\u6BD4\u90E8\u5206\u4E0D\u91CD\u590D"},{value:"contain",label:"\u9002\u5408\u91CD\u590D",desc:"\u9002\u5408\u91CD\u590D\uFF1A</br></br>\u628A\u56FE\u50CF\u6269\u5C55\u81F3\u6700\u5927\u5C3A\u5BF8\uFF0C\u4EE5\u4F7F\u5176\u5BBD\u5EA6\u548C\u9AD8\u5EA6\u5B8C\u5168\u9002\u5E94\u5185\u5BB9\u533A\u57DF\u3002</br>\u8D85\u51FA\u9AD8\u5BBD\u6BD4\u90E8\u5206\u91CD\u590D\u56FE\u50CF\u4EE5\u8986\u76D6\u5185\u5BB9\u533A\u57DF"},{value:"cover",label:"\u5145\u6EE1",desc:"\u5145\u6EE1\uFF1A</br> </br>\u628A\u56FE\u50CF\u6269\u5C55\u81F3\u8DB3\u591F\u5927\uFF0C\u4EE5\u4F7F\u56FE\u50CF\u5B8C\u5168\u8986\u76D6\u533A\u57DF\u3002</br>\u56FE\u50CF\u7684\u67D0\u4E9B\u90E8\u5206\u4E5F\u8BB8\u65E0\u6CD5\u663E\u793A\u5728\u80CC\u666F\u5B9A\u4F4D\u533A\u57DF\u4E2D\u3002"},{value:"100% 100%",label:"\u62C9\u4F38",desc:"\u62C9\u4F38\uFF1A</br></br>\u62C9\u4F38\u56FE\u50CF\u6765\u5B8C\u5168\u8986\u76D6\u5185\u5BB9\u533A\u57DF\u3002"}],alignList:[{value:"left",label:"\u5C45\u5DE6"},{value:"center",label:"\u5C45\u4E2D"},{value:"right",label:"\u5C45\u53F3"}]}},computed:{imgConfigDisabled(){let n=this.currentWidget,e=n.dataset&&n.dataset.type?n.dataset[n.dataset.type]:null;return e&&e.source&&e.dimensions&&e.encode&&e.encode.url}},mounted(){this.dialogWidth=window.innerWidth-170+"px"},methods:{openSelectImage(){let n=this;this.dialogVisible=!0,setTimeout(function(){n.$refs.imageMange.getImageList(null),n.$refs.imageMange.setSelectImage(n.currentWidget.config.backgroundImage)},500)},clearSelectImage(){this.currentWidget.config.backgroundImage="",this.getConfigData()},getImage(){let n=this.$refs.imageMange.getSelectImage();if(n!=null){if(this.$$global.fileType.image.indexOf(n.imageFileType)==-1){r.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}if(this.$$global.fileType.image.indexOf(n.imageFileType)==-1){r.Message.warning("\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247");return}this.dialogVisible=!1,this.currentWidget.config.backgroundImage=n.fileUrlPath,this.getConfigData()}else r.Message.warning("\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247")},cancelEidt(){this.dialogVisible=!1},animeChange(n){this.$set(this.currentWidget.config,"anime",n),this.getConfigData()}}},I=W,k=(0,b.Z)(I,g,u,!1,null,"7d6e255c",null),S=k.exports}}]);
