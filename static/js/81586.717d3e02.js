"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[81586],{681586:function(h,l,i){i.r(l),i.d(l,{default:function(){return f}});var g=function(){var e=this,a=e._self._c;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.openSelectImage()}}},[e._v("\u9009\u62E9\u56FE\u7247 ")]),a("el-button",{attrs:{type:"primary",disabled:e.myImage==""||e.myImage==null},on:{click:function(s){return e.clearSelectImage()}}},[e._v("\u91CD\u7F6E ")]),a("el-dialog",{staticClass:"my-image-dialog",staticStyle:{padding:"0px"},attrs:{title:"\u9009\u62E9\u56FE\u7247",top:"10px","append-to-body":!0,"close-on-click-modal":!1,visible:e.dialogVisible,width:e.dialogWidth},on:{"update:visible":function(s){e.dialogVisible=s}}},[a("div",[a("image-manage",{ref:"imageMange",attrs:{isDialog:!0,type:["image"]}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("\u53D6 \u6D88")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getImage}},[e._v("\u786E \u5B9A")])],1)])],1)},m=[],n=i(555616),o=i(582333),r={props:["image"],name:"select-image",components:{ImageManage:o.default},data(){return{dialogVisible:!1,dialogWidth:"0px",myImage:this.image}},watch:{image(t){this.myImage=t}},mounted(){this.dialogWidth=window.innerWidth-170+"px"},methods:{openSelectImage(){let t=this;this.dialogVisible=!0,setTimeout(function(){t.$refs.imageMange.getImageList(null),t.$refs.imageMange.setSelectImage(t.myImage)},500)},clearSelectImage(){this.myImage="",this.$emit("on-image-change",this.myImage)},getImage(){let t=this.$refs.imageMange.getSelectImage();if(t!=null){if(this.$$global.fileType.image.indexOf(t.imageFileType)==-1){n.Message.warning({message:"\u9009\u62E9\u7684\u4E0D\u662F\u56FE\u7247",offset:60});return}this.myImage=t.fileUrlPath,this.dialogVisible=!1,this.$emit("on-image-change",this.myImage)}else n.Message.warning({message:"\u672A\u9009\u62E9\u4EFB\u4F55\u56FE\u7247",offset:60})},cancelEidt(){this.dialogVisible=!1}}},c=r,d=i(768141),u=(0,d.Z)(c,g,m,!1,null,"1795d48d",null),f=u.exports}}]);
