"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[32630],{932630:function(y,c,s){s.r(c),s.d(c,{default:function(){return W}});var d=function(){var e=this,t=e._self._c;return t("vue-lazy-component",{staticClass:"my-collapse-text"},[t("el-collapse",[t("div",{staticStyle:{"text-align":"right","padding-right":"30px"}},[t("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u6298\u53E0\u5C42","open-delay":1e3,effect:"dark",placement:"top"}},[t("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.addCollapse()}}})],1)],1),t("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:e.currentWidget}},e._l(e.currentWidget.config.collapseList,function(a,n){return t("el-collapse-item",{key:n,attrs:{title:a.label}},[t("el-form-item",{attrs:{label:"\u6807\u9898\u6587\u672C"}},[t("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"\u6807\u9898\u6587\u672C"},model:{value:a.label,callback:function(i){e.$set(a,"label",i)},expression:"collapse.label"}}),n>0?t("el-tooltip",{attrs:{content:"\u79FB\u9664\u6807\u7B7E\u9875","open-delay":1e3,effect:"dark",placement:"top"}},[t("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.deleteCollapse(n)}}})],1):e._e()],1),t("el-collapse",[t("el-collapse-item",{attrs:{title:"\u5F53\u524D\u6298\u53E0\u5C42\u7EC4\u4EF6\u5217\u8868"}},[t("el-form-item",{attrs:{label:"\u53EF\u9009\u7EC4\u4EF6"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",clearable:"",placeholder:"\u4ECE\u770B\u677F\u4E2D\u7684\u7EC4\u4EF6\u9009\u62E9"},model:{value:e.selectWidget[n],callback:function(i){e.$set(e.selectWidget,n,i)},expression:"selectWidget[index]"}},e._l(e.widgetsList,function(i){return t("el-option",{key:i.value,attrs:{label:i.label,value:i.value}})}),1),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u6DFB\u52A0\u7EC4\u4EF6",effect:"dark",placement:"top"}},[t("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(i){return e.addWidgetParent(a.widgets,n)}}})],1)],1),e._l(a.widgets,function(i,o){return t("el-form-item",{key:o,attrs:{label:"\u7EC4\u4EF6\u540D\u79F0"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"\u7EC4\u4EF6\u540D\u79F0",disabled:!0},model:{value:i.name,callback:function(r){e.$set(i,"name",r)},expression:"item.name"}}),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u79FB\u9664\u5230\u770B\u677F",effect:"dark",placement:"top"}},[t("el-button",{staticStyle:{color:"#409EFF","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-back"},on:{click:function(r){return e.removeWidgetParent(n,o)}}})],1),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u5220\u9664\u7EC4\u4EF6",effect:"dark",placement:"top"}},[t("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(r){return e.deleteWidgetParent(n,o)}}})],1)],1)})],2)],1)],1)}),1)],1)],1)},p=[],g=s(663778),u=s(723400),f={name:"container-collapse-data",props:["currentWidget","widgets"],mixins:[u.j,g.a],data(){return{selectWidget:[],newCollapse:{label:"\u6298\u53E0\u5C42",disabled:!1,titleShow:!0,height:100,widgets:[],order:1,active:!1,titleBg:{},contentBg:{},titleLeft:0,style:{fontWeight:"",fontStyle:"",textDecoration:""}}}},methods:{addCollapse(){let l=this.newCollapse;l.id=JSON.parse(JSON.stringify(this.uuid())),l.order=this.currentWidget.config.collapseList.length+1,this.currentWidget.config.collapseList.push(l),this.getConfigData()},deleteCollapse(l){this.currentWidget.config.collapseList.splice(l,1),this.getConfigData()},addWidgetParent(l,e){let t=this.$$lib__.find(this.widgetsList,a=>a.value==this.selectWidget[e]);t&&(l.push({id:t.value,name:t.label}),this.getConfigData(),this.updateWidgetParentId({widgetId:this.selectWidget[e],parentId:this.currentWidget.id}),this.selectWidget[e]="")},removeWidgetParent(l,e){let t=this.currentWidget.config.collapseList[l].widgets[e].id.slice();this.currentWidget.config.collapseList[l].widgets.splice(e,1),this.getConfigData(),this.updateWidgetParentId({widgetId:t,parentId:null})},deleteWidgetParent(l,e){let a={widgetId:this.currentWidget.config.collapseList[l].widgets[e].id.slice(),parentWidgetId:this.currentWidget.id};this.containerDeleteWidget(a),this.currentWidget.config.collapseList[l].widgets.splice(e,1),this.getConfigData()}}},h=f,m=s(768141),v=(0,m.Z)(h,d,p,!1,null,"076e3ec4",null),W=v.exports}}]);
