"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[82504],{682504:function(y,i,n){n.r(i),n.d(i,{default:function(){return h}});var d=function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:t.currentWidget.dataset}},[e("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:t.changeDatasetType},model:{value:t.currentWidget.dataset.type,callback:function(a){t.$set(t.currentWidget.dataset,"type",a)},expression:"currentWidget.dataset.type"}},t._l(this.$$global_editor.dataSourcTypeList3,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1),e("el-form-item",{attrs:{label:"\u6BCF\u5C42\u5BF9\u5E94\u5B57\u6BB5(\u7531\u5185\u5230\u5916)","label-width":"200px"}},[e("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u5B57\u6BB5","open-delay":1e3,effect:"dark",placement:"top"}},[e("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:t.addModel}})],1)],1),t._l(t.currentWidget.dataset[t.currentWidget.dataset.type].encodeList.custom,function(a,l){return e("el-form-item",{key:l,attrs:{label:"\u5B57\u6BB5-"+(l+1)}},[e("el-select",{ref:"encodeY",refInFor:!0,attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:t.getConfigData},model:{value:a.model,callback:function(s){t.$set(a,"model",s)},expression:"item.model"}},t._l(t.currentWidget.dataset[t.currentWidget.dataset.type].dimensionsAlias,function(s){return e("el-option",{key:s.name,attrs:{label:s.alias!=""?s.alias:s.name,value:s.name}})}),1),e("i",{staticClass:"el-icon-delete",staticStyle:{color:"tomato",cursor:"pointer"},attrs:{title:"\u5220\u9664\u5B57\u6BB5"},on:{click:function(s){return t.deleteModel(l)}}})],1)}),e("el-form-item",{attrs:{label:"\u6700\u5916\u5C42\u53D6\u503C\u5B57\u6BB5","label-width":"150px"}}),e("el-form-item",{attrs:{label:"\u6570\u503C\u5B57\u6BB5"}},[e("el-select",{ref:"encodeX",attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:t.getConfigData},model:{value:t.currentWidget.dataset[t.currentWidget.dataset.type].encode.x,callback:function(a){t.$set(t.currentWidget.dataset[t.currentWidget.dataset.type].encode,"x",a)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.x"}},t._l(this.currentWidget.dataset[t.currentWidget.dataset.type].dimensionsAlias,function(a){return e("el-option",{key:a.name,attrs:{label:a.alias!=""?a.alias:a.name,value:a.name}})}),1)],1),e("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:t.currentWidget},on:{getDataSetData:t.getConfigData,clearDynamicEncode:t.clearDynamicEncode}})],2)],1)},o=[],c=n(589908),u=n(723400),g={name:"sunburst-simple-data",components:{SettingDataset:c.Z},mixins:[u.j],props:["currentWidget"],data(){return{}},methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.dataset[this.currentWidget.dataset.type].encode.x=""},addModel(){let r=JSON.parse(JSON.stringify(this.currentWidget.dataset[this.currentWidget.dataset.type].encodeList.default));this.currentWidget.dataset[this.currentWidget.dataset.type].encodeList.custom.push(r),this.getConfigData()},deleteModel(r){this.currentWidget.dataset[this.currentWidget.dataset.type].encodeList.custom.splice(r,1),this.getConfigData()}}},p=g,m=n(768141),f=(0,m.Z)(p,d,o,!1,null,"72ae410d",null),h=f.exports}}]);
