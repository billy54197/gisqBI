"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[1882],{56279:function(F,m,a){a.d(m,{P:function(){return d}});var b=a(86892),u=a(49500);const d={mixins:[b.D],created(){},methods:{lifecycleBeforeChartsLoad(n){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&u.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),u.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let h=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[n]);if(h)return h}return n},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&u.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),u.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},80341:function(F,m,a){a.d(m,{Z:function(){return j}});var b=a(79023),u=a.n(b),d=a(4017),n=a(81602);function c(){return isServer?!1:/android/.test(navigator.userAgent.toLowerCase())}function h(){return n.sk?!1:/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var f=a(40436),I=h();function g(){I&&(0,f.kn)((0,f.oD)())}var o=a(80269),y=a(50068),C=a(39733),k=a(95982),x=a(40321),B=a(53673),$=a(79397),M={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0},clickable:{type:Boolean,default:null}},T=(0,C.d)("cell"),W=T[0],P=T[1];function A(i,t,e,r){var s,l=t.icon,p=t.size,L=t.title,S=t.label,E=t.value,V=t.isLink,O=e.title||(0,n.Xq)(L);function K(){var w=e.label||(0,n.Xq)(S);if(w)return i("div",{class:[P("label"),t.labelClass]},[e.label?e.label():S])}function X(){if(O)return i("div",{class:[P("title"),t.titleClass],style:t.titleStyle},[e.title?e.title():i("span",[L]),K()])}function _(){var w=e.default||(0,n.Xq)(E);if(w)return i("div",{class:[P("value",{alone:!O}),t.valueClass]},[e.default?e.default():i("span",[E])])}function U(){if(e.icon)return e.icon();if(l)return i(x.Z,{class:P("left-icon"),attrs:{name:l,classPrefix:t.iconPrefix}})}function G(){var w=e["right-icon"];if(w)return w();if(V){var D=t.arrowDirection;return i(x.Z,{class:P("right-icon"),attrs:{name:D?"arrow-"+D:"arrow"}})}}function J(w){(0,B.j8)(r,"click",w),(0,$.fz)(r)}var R=(s=t.clickable)!=null?s:V,H={clickable:R,center:t.center,required:t.required,borderless:!t.border};return p&&(H[p]=p),i("div",u()([{class:P(H),attrs:{role:R?"button":null,tabindex:R?0:null},on:{click:J}},(0,B.ED)(r)]),[U(),X(),_(),G(),e.extra==null?void 0:e.extra()])}A.props=(0,d.Z)({},M,$.g2);var N=W(A),z=(0,C.d)("field"),Z=z[0],v=z[1],j=Z({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:(0,d.Z)({},M,{name:String,rules:Array,disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,value:{type:[Number,String],default:""},type:{type:String,default:"text"},error:{type:Boolean,default:null},colon:{type:Boolean,default:null},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}}),data:function(){return{focused:!1,validateFailed:!1,validateMessage:""}},watch:{value:function(){this.updateValue(this.value),this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.updateValue(this.value,this.formatTrigger),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.addField(this)},beforeDestroy:function(){this.vanForm&&this.vanForm.removeField(this)},computed:{showClear:function(){var t=this.getProp("readonly");if(this.clearable&&!t){var e=(0,n.Xq)(this.value)&&this.value!=="",r=this.clearTrigger==="always"||this.clearTrigger==="focus"&&this.focused;return e&&r}},showError:function(){if(this.error!==null)return this.error;if(this.vanForm&&this.vanForm.showError&&this.validateFailed)return!0},listeners:function(){return(0,d.Z)({},this.$listeners,{blur:this.onBlur,focus:this.onFocus,input:this.onInput,click:this.onClickInput,keypress:this.onKeypress})},labelStyle:function(){var t=this.getProp("labelWidth");if(t)return{width:(0,k.N)(t)}},formValue:function(){return this.children&&(this.$scopedSlots.input||this.$slots.input)?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(t,e){return new Promise(function(r){var s=e.validator(t,e);if((0,n.tI)(s))return s.then(r);r(s)})},isEmptyValue:function(t){return Array.isArray(t)?!t.length:t===0?!1:!t},runSyncRule:function(t,e){return!(e.required&&this.isEmptyValue(t)||e.pattern&&!e.pattern.test(t))},getRuleMessage:function(t,e){var r=e.message;return(0,n.mf)(r)?r(t,e):r},runRules:function(t){var e=this;return t.reduce(function(r,s){return r.then(function(){if(!e.validateFailed){var l=e.formValue;if(s.formatter&&(l=s.formatter(l,s)),!e.runSyncRule(l,s)){e.validateFailed=!0,e.validateMessage=e.getRuleMessage(l,s);return}if(s.validator)return e.runValidator(l,s).then(function(p){p===!1&&(e.validateFailed=!0,e.validateMessage=e.getRuleMessage(l,s))})}})},Promise.resolve())},validate:function(t){var e=this;return t===void 0&&(t=this.rules),new Promise(function(r){t||r(),e.resetValidation(),e.runRules(t).then(function(){e.validateFailed?r({name:e.name,message:e.validateMessage}):r()})})},validateWithTrigger:function(t){if(this.vanForm&&this.rules){var e=this.vanForm.validateTrigger===t,r=this.rules.filter(function(s){return s.trigger?s.trigger===t:e});this.validate(r)}},resetValidation:function(){this.validateFailed&&(this.validateFailed=!1,this.validateMessage="")},updateValue:function(t,e){e===void 0&&(e="onChange"),t=(0,n.Xq)(t)?String(t):"";var r=this.maxlength;if((0,n.Xq)(r)&&t.length>r&&(this.value&&this.value.length===+r?t=this.value:t=t.slice(0,r)),this.type==="number"||this.type==="digit"){var s=this.type==="number";t=(0,o.u)(t,s,s)}this.formatter&&e===this.formatTrigger&&(t=this.formatter(t));var l=this.$refs.input;l&&t!==l.value&&(l.value=t),t!==this.value&&this.$emit("input",t)},onInput:function(t){t.target.composing||this.updateValue(t.target.value)},onFocus:function(t){this.focused=!0,this.$emit("focus",t);var e=this.getProp("readonly");e&&this.blur()},onBlur:function(t){this.focused=!1,this.updateValue(this.value,"onBlur"),this.$emit("blur",t),this.validateWithTrigger("onBlur"),g()},onClick:function(t){this.$emit("click",t)},onClickInput:function(t){this.$emit("click-input",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){(0,y.PF)(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){var e=13;if(t.keyCode===e){var r=this.getProp("submitOnEnter");!r&&this.type!=="textarea"&&(0,y.PF)(t),this.type==="search"&&this.blur()}this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if(!(!(this.type==="textarea"&&this.autosize)||!t)){t.style.height="auto";var e=t.scrollHeight;if((0,n.Kn)(this.autosize)){var r=this.autosize,s=r.maxHeight,l=r.minHeight;s&&(e=Math.min(e,s)),l&&(e=Math.max(e,l))}e&&(t.style.height=e+"px")}},genInput:function(){var t=this.$createElement,e=this.type,r=this.getProp("disabled"),s=this.getProp("readonly"),l=this.slots("input"),p=this.getProp("inputAlign");if(l)return t("div",{class:v("control",[p,"custom"]),on:{click:this.onClickInput}},[l]);var L={ref:"input",class:v("control",p),domProps:{value:this.value},attrs:(0,d.Z)({},this.$attrs,{name:this.name,disabled:r,readonly:s,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if(e==="textarea")return t("textarea",u()([{},L]));var S=e,E;return e==="number"&&(S="text",E="decimal"),e==="digit"&&(S="tel",E="numeric"),t("input",u()([{attrs:{type:S,inputmode:E}},L]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:v("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(x.Z,{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,r=e("right-icon")||this.rightIcon;if(r)return t("div",{class:v("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(x.Z,{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.maxlength){var e=(this.value||"").length;return t("div",{class:v("word-limit")},[t("span",{class:v("word-num")},[e]),"/",this.maxlength])}},genMessage:function(){var t=this.$createElement;if(!(this.vanForm&&this.vanForm.showErrorMessage===!1)){var e=this.errorMessage||this.validateMessage;if(e){var r=this.getProp("errorMessageAlign");return t("div",{class:v("error-message",r)},[e])}}},getProp:function(t){if((0,n.Xq)(this[t]))return this[t];if(this.vanForm&&(0,n.Xq)(this.vanForm[t]))return this.vanForm[t]},genLabel:function(){var t=this.$createElement,e=this.getProp("colon")?":":"";if(this.slots("label"))return[this.slots("label"),e];if(this.label)return t("span",[this.label+e])}},render:function(){var t,e=arguments[0],r=this.slots,s=this.getProp("disabled"),l=this.getProp("labelAlign"),p={icon:this.genLeftIcon},L=this.genLabel();L&&(p.title=function(){return L});var S=this.slots("extra");return S&&(p.extra=function(){return S}),e(N,{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:v("value"),titleClass:[v("label",l),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:p,class:v((t={error:this.showError,disabled:s},t["label-"+l]=l,t["min-height"]=this.type==="textarea"&&!this.autosize,t)),on:{click:this.onClick}},[e("div",{class:v("body")},[this.genInput(),this.showClear&&e(x.Z,{attrs:{name:"clear"},class:v("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),r("button")&&e("div",{class:v("button")},[r("button")])]),this.genWordLimit(),this.genMessage()])}})},14387:function(F,m,a){var b=a(86569),u=a(91905),d=a(51595)},44115:function(F,m,a){var b=a(39733),u=a(81602),d=a(79487),n=a(40321),c=(0,b.d)("popup"),h=c[0],f=c[1];m.Z=h({mixins:[(0,d.e)()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var g=this,o=function(C){return function(k){return g.$emit(C,k)}};this.onClick=o("click"),this.onOpened=o("opened"),this.onClosed=o("closed")},methods:{onClickCloseIcon:function(g){this.$emit("click-close-icon",g),this.close()}},render:function(){var g,o=arguments[0];if(this.shouldRender){var y=this.round,C=this.position,k=this.duration,x=C==="center",B=this.transition||(x?"van-fade":"van-popup-slide-"+C),$={};if((0,u.Xq)(k)){var M=x?"animationDuration":"transitionDuration";$[M]=k+"s"}return o("transition",{attrs:{appear:this.transitionAppear,name:B},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[o("div",{directives:[{name:"show",value:this.value}],style:$,class:f((g={round:y},g[C]=C,g["safe-area-inset-bottom"]=this.safeAreaInsetBottom,g)),on:{click:this.onClick}},[this.slots(),this.closeable&&o(n.Z,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:f("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})},80269:function(F,m,a){a.d(m,{u:function(){return d},w:function(){return b}});function b(n,c,h){return Math.min(Math.max(n,c),h)}function u(n,c,h){var f=n.indexOf(c),I="";return f===-1?n:c==="-"&&f!==0?n.slice(0,f):(c==="."&&n.match(/^(\.|-\.)/)&&(I=f?"-0":"0"),I+n.slice(0,f+1)+n.slice(f).replace(h,""))}function d(n,c,h){c===void 0&&(c=!0),h===void 0&&(h=!0),c?n=u(n,".",/\./g):n=n.split(".")[0],h?n=u(n,"-",/-/g):n=n.replace(/-/,"");var f=c?/[^-0-9.]/g:/[^-0-9]/g;return n.replace(f,"")}},44513:function(F,m,a){a.d(m,{Z:function(){return I}});var b=function(){var o=this,y=o._self._c;return o.attr.buttonHide?y("div",{style:{position:"absolute",right:o.attr.buttonHideRight+"px",top:o.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(C){return o.onHide()}}},[o.openTooltip?y("el-tooltip",{attrs:{"open-delay":1e3,content:o.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[y("el-button",{class:o.attr.buttonHideIconClass&&o.attr.buttonHideIconClass!=""?o.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:o.attr.buttonHideColor,fontSize:o.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):y("el-button",{class:o.attr.buttonHideIconClass&&o.attr.buttonHideIconClass!=""?o.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:o.attr.buttonHideColor,fontSize:o.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):o._e()},u=[],d=a(52246),n={props:["attr"],name:"hide-button",data(){return{isPc:d.b}},computed:{openTooltip:function(){let g=!1,o=this.attr.buttonHideTooltipContent;return d.b&&o&&o!=null&&o.trim()!=""&&(g=!0),g}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},c=n,h=a(68141),f=(0,h.Z)(c,b,u,!1,null,"bf399b9a",null),I=f.exports}}]);
