"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[37349],{437349:function(y,r,d){d.r(r),d.d(r,{default:function(){return W}});var n=function(){var e=this,a=e._self._c;return a("div",[a("el-form",{ref:"form",attrs:{size:"mini","label-width":"80px","label-position":"right",rules:e.rules,model:e.currentWidget.dataset[e.currentWidget.dataset.type].encode},on:{validate:e.validate}},[a("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:e.changeDatasetType},model:{value:e.currentWidget.dataset.type,callback:function(t){e.$set(e.currentWidget.dataset,"type",t)},expression:"currentWidget.dataset.type"}},e._l(e.$$global_editor.dataSourcTypeList3,function(t){return a("el-option",{key:t.value,attrs:{disabled:t.disabled,label:t.label,value:t.value}})}),1)],1),a("el-form-item",{ref:"firstPid",attrs:{label:"\u9996\u7EA7\u7236\u503C",prop:"firstPid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"\u7B2C\u4E00\u7EA7\u8282\u70B9\u7684\u7236\u503C",size:"mini"},on:{input:e.getConfigData},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.firstPid,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"firstPid",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.firstPid"}})],1),e.currentWidget.dataset[e.currentWidget.dataset.type].encode.firstPid?a("el-form-item",[a("el-checkbox",{staticStyle:{width:"180px"},attrs:{label:"\u4E0D\u5217\u51FA\u65E0\u7236\u8282\u70B9\u7684\u8282\u70B9",placeholder:"\u4E0D\u5217\u51FA\u65E0\u7236\u8282\u70B9\u7684\u8282\u70B9",size:"mini"},on:{check:e.getConfigData},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.disableEmpty,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"disableEmpty",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.disableEmpty"}})],1):e._e(),a("el-form-item",{ref:"id",attrs:{label:"\u9009\u9879\u7684\u503C",prop:"id"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5217\u9009\u9879\u503C\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.id,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"id",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.id"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),a("el-form-item",{ref:"pid",attrs:{label:"\u9009\u9879\u7236\u503C",prop:"pid"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5217\u9009\u9879\u503C\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.pid,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"pid",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.pid"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),a("el-form-item",{ref:"label",attrs:{label:"\u9009\u9879\u6807\u7B7E",prop:"label"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u9009\u9879\u6807\u7B7E\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.label,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"label",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.label"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u662F\u5426\u7981\u7528"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u7981\u7528\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.dataset[e.currentWidget.dataset.type].encode.disabled,callback:function(t){e.$set(e.currentWidget.dataset[e.currentWidget.dataset.type].encode,"disabled",t)},expression:"currentWidget.dataset[currentWidget.dataset.type].encode.disabled"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),a("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:e.currentWidget},on:{getDataSetData:e.getConfigData,clearDynamicEncode:e.clearDynamicEncode}})],1)],1)},s=[],l=d(589908),c=d(723400),o={name:"tree-data",components:{SettingDataset:l.Z},props:["currentWidget"],mixins:[c.j],data(){return{rules:{id:[{type:"string",required:!0,message:"\u5FC5\u9009\uFF1A\u9009\u9879\u7684\u503C",trigger:"change"}],pid:[{type:"string",required:!0,message:"\u5FC5\u9009\uFF1A\u9009\u9879\u7236\u503C",trigger:"change"}],label:[{type:"string",required:!0,message:"\u5FC5\u9009\uFF1A\u9009\u9879\u6807\u7B7E",trigger:"change"}]}}},methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.dataset[this.currentWidget.dataset.type].encode.firstPid=null,this.currentWidget.dataset[this.currentWidget.dataset.type].encode.id=null,this.currentWidget.dataset[this.currentWidget.dataset.type].encode.pid=null,this.currentWidget.dataset[this.currentWidget.dataset.type].encode.label=null,this.currentWidget.dataset[this.currentWidget.dataset.type].encode.disabled=null},validate(i){let e=this.currentWidget.dataset[this.currentWidget.dataset.type].encode;i=="id"&&(e.id==null||e.id=="")?this.$refs.id.$el.style.paddingBottom="20px":e.id==null||e.id==""||(this.$refs.id.$el.style.paddingBottom="0px"),i=="pid"&&(e.pid==null||e.pid=="")?this.$refs.pid.$el.style.paddingBottom="20px":e.pid==null||e.pid==""||(this.$refs.pid.$el.style.paddingBottom="0px"),i=="label"&&(e.label==null||e.label=="")?this.$refs.label.$el.style.paddingBottom="20px":e.label==null||e.label==""||(this.$refs.label.$el.style.paddingBottom="0px")}}},u=o,g=d(768141),p=(0,g.Z)(u,n,s,!1,null,"8b544a1c",null),W=p.exports}}]);
