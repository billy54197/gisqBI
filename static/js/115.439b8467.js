"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[115],{56279:function(w,f,a){a.d(f,{P:function(){return u}});var p=a(86892),d=a(49500);const u={mixins:[p.D],created(){},methods:{lifecycleBeforeChartsLoad(c){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&d.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),d.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let h=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[c]);if(h)return h}return c},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&d.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),d.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},44513:function(w,f,a){a.d(f,{Z:function(){return I}});var p=function(){var s=this,y=s._self._c;return s.attr.buttonHide?y("div",{style:{position:"absolute",right:s.attr.buttonHideRight+"px",top:s.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(x){return s.onHide()}}},[s.openTooltip?y("el-tooltip",{attrs:{"open-delay":1e3,content:s.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[y("el-button",{class:s.attr.buttonHideIconClass&&s.attr.buttonHideIconClass!=""?s.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:s.attr.buttonHideColor,fontSize:s.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):y("el-button",{class:s.attr.buttonHideIconClass&&s.attr.buttonHideIconClass!=""?s.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:s.attr.buttonHideColor,fontSize:s.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):s._e()},d=[],u=a(52246),c={props:["attr"],name:"hide-button",data(){return{isPc:u.b}},computed:{openTooltip:function(){let g=!1,s=this.attr.buttonHideTooltipContent;return u.b&&s&&s!=null&&s.trim()!=""&&(g=!0),g}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},b=c,h=a(68141),m=(0,h.Z)(b,p,d,!1,null,"bf399b9a",null),I=m.exports},90115:function(w,f,a){a.r(f),a.d(f,{default:function(){return H}});var p=function(){var t=this,o=t._self._c;return o("div",{style:{width:t.widgetInfo.attr.w+"px",height:t.widgetInfo.attr.hh+"px"}},[o("hide-button",{attrs:{attr:t.widgetInfo.attr}}),o("div",{ref:"radioGroupDiv",staticClass:"my-radio-group",style:t.setStyleInfo(t.widgetInfo.config.style)},[o("el-radio-group",{ref:"radioGroup",staticStyle:{height:"100%",width:"100%"},attrs:{size:"mini","text-color":t.widgetInfo.config.textColor,fill:t.widgetInfo.config.fill},on:{change:t.changeRadioGroup},model:{value:t.value,callback:function(i){t.value=i},expression:"value"}},[t.widgetInfo.config.button?o("div",{style:t.setStyleInfo(t.widgetInfo.config.style)},t._l(t.radioInfo,function(i,l){return o("el-radio-button",{key:l,style:t.setRadioStyle(t.widgetInfo.config.style),attrs:{label:i.value,disabled:i.disabled}},[t._v(" "+t._s(i.label)+" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.value===i.value&&t.widgetInfo.config.showCheck,expression:"value === radio.value && widgetInfo.config.showCheck"}],staticClass:"tangle-check",style:{borderTop:`solid ${t.widgetInfo.config.checkMark.height/2}px transparent`,borderLeft:`solid ${t.widgetInfo.config.checkMark.width/2}px transparent`,borderBottom:`solid ${t.widgetInfo.config.checkMark.height/2}px ${t.widgetInfo.config.checkMark.background}`,borderRight:`solid ${t.widgetInfo.config.checkMark.width/2}px ${t.widgetInfo.config.checkMark.background}`}}),o("i",{directives:[{name:"show",rawName:"v-show",value:t.value===i.value&&t.widgetInfo.config.showCheck,expression:"value === radio.value && widgetInfo.config.showCheck"}],staticClass:"el-icon-check check-mark",style:{fontSize:t.widgetInfo.config.checkMark.fontSize+"px",color:t.widgetInfo.config.checkMark.color}})])}),1):o("div",{style:t.setStyleInfo(t.widgetInfo.config.style)},t._l(t.radioInfo,function(i,l){return o("el-radio",{key:l,style:t.setRadioStyle(t.widgetInfo.config.style),attrs:{border:t.widgetInfo.config.border,label:i.value,disabled:i.disabled}},[t._v(" "+t._s(i.label)+" ")])}),1)])],1)],1)},d=[],u=a(21300),c=a(44513),b=a(17333),h=a(45061),m=a(26711),I=a(56279),g=a(27966),s=a(55616),y=a(67157);const x={mixins:[y.c],data(){return{config_extend:{config:{style:{padding:{top:6,left:6},margin:{left:15}},disabledStyle:{borderColor:"#D5D8DE",textColor:"#C0C4CC",fill:"#F0F2F5"}}},filter_config:{fill:"#4C84FF",textColor:"#4C84FF",borderColor:"#4C84FF",fill2:"rgba(0,0,0,0)",textColor2:"#616266",borderColor2:"#DCDFE6",style:{fontStyle:{fontFamily:"alibabaPuHuiTiRegular",color:"#616266"}},disabledStyle:{borderColor:"#D5D8DE",textColor:"#C0C4CC",fill:"#F0F2F5"},checkMark:{background:"#76b0ec",color:"#ffffff"}}}},methods:{filterPredefineColoursSchemeConfig(e,t){this.getNewConfigWithArrary(e,t,this.filter_config)}}};var C=a(75770),S=a(49500),k={props:["widgetInfo"],name:"radio-group",components:{HideButton:c.Z},mixins:[b.u,h.u,m.H,I.P,x],data(){return{lib_:this.$$lib__,value:"",radioInfo:[],actionType:JSON.parse(JSON.stringify(C.Z)),carouselTimer:null}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{loadInfo(e){this.getListInfo(e.dataset[e.dataset.type]),setTimeout(()=>{this.setColor(this.widgetInfo.config)},1),this.initCarousel(e),this.lifecycleAfterLoad()},reLoadInfo(e){this.loadInfo(e)},resize(){this.setColor(this.widgetInfo.config)},getListInfo(e){this.radioInfo=[],this.value=e.value;let t=e.useFirst&&e.value,o=!1;this.lib_.each(e.source,i=>{let l=this.getFieldVal(i,e.dimensions,e.encode.value),n=this.getFieldVal(i,e.dimensions,e.encode.label),r=this.getFieldVal(i,e.dimensions,e.encode.disabled);t&&!o&&(o=l==e.value),this.radioInfo.push({value:l,label:n,disabled:r==1})}),!o&&e.useFirst&&(this.value=this.radioInfo[0].value)},changeRadioGroup(){this.onClick(),this.setColor(this.widgetInfo.config)},initAction(e){this.actionReceive(e),this.actionReceiveExtend(e)},actionReceiveExtend(e){let t=e.action.receive;t.selectedValue&&t.selectedValue.enabled&&t.selectedValue.selectedList.length>0&&this.actionTotal(e.action.receive.selectedValue.selectedList)},actionTotal(e){this.$$lib__.each(e,t=>{let o=t[0][1]+"_"+t[0][0];t[0][1].indexOf("_")>-1&&(o=t[0][1]),g.Z.$on(o,i=>{let l=t[0][2],n=l.indexOf("|");n>-1&&(l=t[0][2].substring(n+1)),this.value=i[l],this.setColor(this.widgetInfo.config)})})},setColor(e){!e.textColor&&!e.textColor2&&!e.fill&&!e.fill2||this.$nextTick(()=>{let t=this.$refs.radioGroup;if(t.$el.childNodes&&t.$el.childNodes.length>0&&t.$el.childNodes[0].childNodes){let l=t.$el.childNodes[0].childNodes;this.$$lib__.each(l,n=>{if(n.className.indexOf("el-radio-button")>-1){let r=n.getElementsByClassName("el-radio-button__inner");this.widgetInfo.config.button&&(r[0].style.textAlign=this.widgetInfo.config.style.fontStyle.horizontalAlignment,r[0].style.textAlignLast=this.widgetInfo.config.style.fontStyle.horizontalAlignment),e.sizeWidth&&(r[0].style.width=this.mUtils.getNewPxW(e.sizeWidth)+"px"),e.sizeHeight&&(r[0].style.height=this.mUtils.getNewPxH(e.sizeHeight)+"px",r[0].style.paddingTop=this.mUtils.getNewPxH((e.sizeHeight-e.style.fontStyle.fontSize)/2)+"px"),n.className.indexOf("is-active")>-1?(r[0].style.borderColor=e.borderColor,r[0].style.color=e.textColor,r[0].style.backgroundColor=e.fill,n.style.backgroundImage=e.backgroundImage!=""?this.getImageUrl(e.backgroundImage):"",n.style.backgroundSize=e.backgroundSize):n.className.indexOf("is-disabled")>-1?(r[0].style.borderColor=e.disabledStyle.borderColor,r[0].style.color=e.disabledStyle.textColor,r[0].style.backgroundColor=e.disabledStyle.fill,n.style.backgroundImage=e.disabledStyle.backgroundImage!=""?this.getImageUrl(e.disabledStyle.backgroundImage):"",n.style.backgroundSize=e.disabledStyle.backgroundSize):(r[0].style.borderColor=e.borderColor2,r[0].style.color=e.textColor2,r[0].style.backgroundColor=e.fill2,n.style.backgroundImage=e.backgroundImage2!=""?this.getImageUrl(e.backgroundImage2):"",n.style.backgroundSize=e.backgroundSize2)}else{let r=n.getElementsByClassName("el-radio__inner"),v=n.getElementsByClassName("el-radio__label");r[0].style.marginBottom=this.mUtils.getNewPxH((e.style.fontStyle.fontSize-14)/2)+"px",n.className.indexOf("is-checked")>-1?(n.style.borderColor=e.borderColor,v[0].style.color=e.textColor,r[0].style.backgroundColor=e.fill,r[0].style.borderColor=e.borderColor):n.className.indexOf("is-disabled")>-1?(n.style.borderColor=e.disabledStyle.borderColor,v[0].style.color=e.disabledStyle.textColor,r[0].style.backgroundColor=e.disabledStyle.fill,r[0].style.borderColor=e.disabledStyle.borderColor):(n.style.borderColor=e.borderColor2,v[0].style.color=e.textColor2,r[0].style.backgroundColor=e.fill2,r[0].style.borderColor=e.borderColor2)}})}let i=this.$refs.radioGroupDiv.querySelectorAll(".el-radio-button__inner");if(i)for(let l=0;l<i.length;l++){let n=i[l].style.paddingTop;n!=""&&n!=null&&(n=parseInt(n.split("px")[0]),i[l].style.paddingTop=this.mUtils.getNewPxH(n-1)+"px")}})},setStyleInfo(e){let t={paddingTop:this.mUtils.getNewPxH(e.padding.top)+"px",paddingLeft:this.mUtils.getNewPxW(e.padding.left)+"px",color:e.fontStyle.color,fontFamily:e.fontStyle.fontFamily,fontWeight:e.fontStyle.fontWeight,fontStyle:e.fontStyle.fontStyle,fontSize:this.mUtils.getNewFontSize(e.fontStyle.fontSize)+"px",textDecoration:e.fontStyle.textDecoration,webkitTextStrokeWidth:e.fontStyle.textStrokeWidth+"px",webkitTextStrokeColor:e.fontStyle.textStrokeColor,textShadow:e.fontStyle.hShadow+"px "+e.fontStyle.vShadow+"px "+e.fontStyle.textShadowBlur+"px "+e.fontStyle.textShadowColor||"rgba(0,0,0,0)"};return this.widgetInfo.config.button||(t.textAlign=e.fontStyle.horizontalAlignment),t},setRadioStyle(e){return{marginTop:this.mUtils.getNewPxH(e.margin.top)+"px",marginLeft:this.mUtils.getNewPxW(e.margin.left)+"px",textDecoration:e.fontStyle.textDecoration?e.fontStyle.textDecoration:"none"}},onClick(){let e=this,t=this.widgetInfo.action.sendOut.actionList;this.$$lib__.each(t,o=>{if(o.enabled){let i={value:this.value};if(o.paramsExtend&&o.paramsExtend.length>0&&this.getExtendParams(i,o.paramsExtend,this.getSelectSource(this.value),e.widgetInfo.dataset[e.widgetInfo.dataset.type].dimensions),o.code==e.actionType.click.code){let l=o.code+"_"+e.widgetInfo.id;if(o.script&&o.script.enabled){if(S.log("Execute script for "+o.name+" component to "+o.script.title+" component"),o.script.content==""){s.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}e.customScript_actionSend_clickParam=new Function("param",o.script.content),i=e.customScript_actionSend_clickParam(i,i)}g.Z.$emit(l,i),this.actionNameList.push(l),o.postMessage&&this.doPostMessage(i)}else o.enabled&&o.code==e.actionType.showPage.code&&this.showPageAction(o,i)}})},getSelectSource(e){let t=-1,o=this.widgetInfo.dataset[this.widgetInfo.dataset.type].dimensions;for(let l=0;l<o.length;l++)o[l]==this.widgetInfo.dataset[this.widgetInfo.dataset.type].encode.value&&(t=l);let i=this.$$lib__.find(this.widgetInfo.dataset[this.widgetInfo.dataset.type].source,l=>l[t]==e);return i||[]},getImageUrl(e){if(e&&e!="")return"url("+u.appendImageBaseURL(e)+")"},getValue(){return this.value},initCarousel(e){let t=this;t.clearCarousel();let o=JSON.parse(JSON.stringify(t.radioInfo)),i=JSON.parse(JSON.stringify(e.config.carousel));o&&i&&i.enabled==!0&&i.interval>0&&(t.carouselTimer=setInterval(()=>{let l=-1;for(let n=0;n<o.length;n++)t.value==o[n].value&&(l=n);i.order=="asc"&&(l==-1||l==o.length-1?l=0:l++),i.order=="desc"&&(l==-1||l==0?l=o.length-1:l--),t.value=o[l].value,t.changeRadioGroup()},i.interval*1e3))},clearCarousel(){this.carouselTimer!=null&&clearInterval(this.carouselTimer)}},destroyed(){this.clearCarousel()}},N=k,z=a(68141),L=(0,z.Z)(N,p,d,!1,null,"a068b00e",null),H=L.exports}}]);
