"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[80886],{752246:function(fe,Y,x){x.d(Y,{X:function(){return E},b:function(){return U}});let E={versions:function(){var k=navigator.userAgent;return{trident:k.indexOf("Trident")>-1,presto:k.indexOf("Presto")>-1,webKit:k.indexOf("AppleWebKit")>-1,gecko:k.indexOf("Gecko")>-1&&k.indexOf("KHTML")==-1,mobile:!!k.match(/AppleWebKit.*Mobile.*/),ios:!!k.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:k.indexOf("Android")>-1,iPhone:k.indexOf("iPhone")>-1,iPad:k.indexOf("iPad")>-1,webApp:k.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},U;E.versions.mobile||E.versions.ios||E.versions.android||E.versions.iPhone||E.versions.iPad?U=!1:U=!0},844513:function(fe,Y,x){x.d(Y,{Z:function(){return P}});var E=function(){var g=this,H=g._self._c;return g.attr.buttonHide?H("div",{style:{position:"absolute",right:g.attr.buttonHideRight+"px",top:g.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(q){return g.onHide()}}},[g.openTooltip?H("el-tooltip",{attrs:{"open-delay":1e3,content:g.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[H("el-button",{class:g.attr.buttonHideIconClass&&g.attr.buttonHideIconClass!=""?g.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:g.attr.buttonHideColor,fontSize:g.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):H("el-button",{class:g.attr.buttonHideIconClass&&g.attr.buttonHideIconClass!=""?g.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:g.attr.buttonHideColor,fontSize:g.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):g._e()},U=[],k=x(752246),s={props:["attr"],name:"hide-button",data(){return{isPc:k.b}},computed:{openTooltip:function(){let z=!1,g=this.attr.buttonHideTooltipContent;return k.b&&g&&g!=null&&g.trim()!=""&&(z=!0),z}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},se=s,re=x(768141),B=(0,re.Z)(se,E,U,!1,null,"bf399b9a",null),P=B.exports},180886:function(fe,Y,x){x.r(Y),x.d(Y,{default:function(){return Ge}});var E={};x.r(E);var U=function(){var a=this,t=a._self._c;return t("div",{ref:"threeDimensional",style:{width:a.widgetInfo.attr.w+"px",height:a.widgetInfo.attr.hh+"px",overflow:"hidden"}},[t("hide-button",{attrs:{attr:a.widgetInfo.attr}}),t("div",{ref:"model",staticClass:"model"})],1)},k=[],s=x(414031),se=x(844513),re=x(149500),B=function(e){s.aNw.call(this,e)};B.prototype=Object.assign(Object.create(s.aNw.prototype),{constructor:B,load:function(e,a,t,i){var r=this,h=this.path===""?s.Zp0.extractUrlBase(e):this.path,n=new s.hH6(this.manager);n.setPath(this.path),n.load(e,function(l){try{a(r.parse(l,h))}catch(u){i?i(u):re.error(u),r.manager.itemError(e)}},t,i)},setMaterialOptions:function(e){return this.materialOptions=e,this},parse:function(e,a){for(var t=e.split(`
`),i={},r=/\s+/,h={},n=0;n<t.length;n++){var l=t[n];if(l=l.trim(),!(l.length===0||l.charAt(0)==="#")){var u=l.indexOf(" "),d=u>=0?l.substring(0,u):l;d=d.toLowerCase();var c=u>=0?l.substring(u+1):"";if(c=c.trim(),d==="newmtl")i={name:c},h[c]=i;else if(d==="ka"||d==="kd"||d==="ks"||d==="ke"){var f=c.split(r,3);i[d]=[parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2])]}else i[d]=c}}var p=new B.MaterialCreator(this.resourcePath||a,this.materialOptions);return p.setCrossOrigin(this.crossOrigin),p.setManager(this.manager),p.setMaterials(h),p}}),B.MaterialCreator=function(e,a){this.baseUrl=e||"",this.options=a,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:s.Wl3,this.wrap=this.options&&this.options.wrap?this.options.wrap:s.rpg},B.MaterialCreator.prototype={constructor:B.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(e){return this.crossOrigin=e,this},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var a={};for(var t in e){var i=e[t],r={};a[t]=r;for(var h in i){var n=!0,l=i[h],u=h.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(l=[l[0]/255,l[1]/255,l[2]/255]),this.options&&this.options.ignoreZeroRGBs&&l[0]===0&&l[1]===0&&l[2]===0&&(n=!1);break;default:break}n&&(r[u]=l)}}return a},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var a in this.materialsInfo)this.materialsArray[e]=this.create(a),this.nameLookup[a]=e,e++;return this.materialsArray},create:function(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var a=this,t=this.materialsInfo[e],i={name:e,side:this.side};function r(d,c){return typeof c!="string"||c===""?"":/^https?:\/\//i.test(c)?c:d+c}function h(d,c){if(!i[d]){var f=a.getTextureParams(c,i),p=a.loadTexture(r(a.baseUrl,f.url));p.repeat.copy(f.scale),p.offset.copy(f.offset),p.wrapS=a.wrap,p.wrapT=a.wrap,i[d]=p}}for(var n in t){var l=t[n],u;if(l!=="")switch(n.toLowerCase()){case"kd":i.color=new s.Ilk().fromArray(l);break;case"ks":i.specular=new s.Ilk().fromArray(l);break;case"ke":i.emissive=new s.Ilk().fromArray(l);break;case"map_kd":h("map",l);break;case"map_ks":h("specularMap",l);break;case"map_ke":h("emissiveMap",l);break;case"norm":h("normalMap",l);break;case"map_bump":case"bump":h("bumpMap",l);break;case"map_d":h("alphaMap",l),i.transparent=!0;break;case"ns":i.shininess=parseFloat(l);break;case"d":u=parseFloat(l),u<1&&(i.opacity=u,i.transparent=!0);break;case"tr":u=parseFloat(l),this.options&&this.options.invertTrProperty&&(u=1-u),u>0&&(i.opacity=1-u,i.transparent=!0);break;default:break}}return this.materials[e]=new s.xoR(i),this.materials[e]},getTextureParams:function(e,a){var t={scale:new s.FM8(1,1),offset:new s.FM8(0,0)},i=e.split(/\s+/),r;return r=i.indexOf("-bm"),r>=0&&(a.bumpScale=parseFloat(i[r+1]),i.splice(r,2)),r=i.indexOf("-s"),r>=0&&(t.scale.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),r=i.indexOf("-o"),r>=0&&(t.offset.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),t.url=i.join(" ").trim(),t},loadTexture:function(e,a,t,i,r){var h,n=this.manager!==void 0?this.manager:s.tEQ,l=n.getHandler(e);return l===null&&(l=new s.dpR(n)),l.setCrossOrigin&&l.setCrossOrigin(this.crossOrigin),h=l.load(e,t,i,r),a!==void 0&&(h.mapping=a),h}};var P=x(149500);const z=function(){this.logging={enabled:!1,debug:!1};let e=this;this.callbacks={onProgress:function(a){e._onProgress(a)},onAssetAvailable:function(a){e._onAssetAvailable(a)},onError:function(a){e._onError(a)},onLoad:function(a,t){e._onLoad(a,t)}},this.contentRef=null,this.legacyMode=!1,this.materials={},this.materialPerSmoothingGroup=!1,this.useOAsMesh=!1,this.useIndices=!1,this.disregardNormals=!1,this.vertices=[],this.colors=[],this.normals=[],this.uvs=[],this.rawMesh={objectName:"",groupName:"",activeMtlName:"",mtllibName:"",faceType:-1,subGroups:[],subGroupInUse:null,smoothingGroup:{splitMaterials:!1,normalized:-1,real:-1},counts:{doubleIndicesCount:0,faceCount:0,mtlCount:0,smoothingGroupCount:0}},this.inputObjectCount=1,this.outputObjectCount=1,this.globalCounts={vertices:0,faces:0,doubleIndicesCount:0,lineByte:0,currentByte:0,totalBytes:0}};z.prototype={constructor:z,_resetRawMesh:function(){this.rawMesh.subGroups=[],this.rawMesh.subGroupInUse=null,this.rawMesh.smoothingGroup.normalized=-1,this.rawMesh.smoothingGroup.real=-1,this._pushSmoothingGroup(1),this.rawMesh.counts.doubleIndicesCount=0,this.rawMesh.counts.faceCount=0,this.rawMesh.counts.mtlCount=0,this.rawMesh.counts.smoothingGroupCount=0},setMaterialPerSmoothingGroup:function(e){return this.materialPerSmoothingGroup=e===!0,this},setUseOAsMesh:function(e){return this.useOAsMesh=e===!0,this},setUseIndices:function(e){return this.useIndices=e===!0,this},setDisregardNormals:function(e){return this.disregardNormals=e===!0,this},setMaterials:function(e){this.materials=Object.assign({},e)},setCallbackOnAssetAvailable:function(e){return e!=null&&e instanceof Function&&(this.callbacks.onAssetAvailable=e),this},setCallbackOnProgress:function(e){return e!=null&&e instanceof Function&&(this.callbacks.onProgress=e),this},setCallbackOnError:function(e){return e!=null&&e instanceof Function&&(this.callbacks.onError=e),this},setCallbackOnLoad:function(e){return e!=null&&e instanceof Function&&(this.callbacks.onLoad=e),this},_onProgress:function(e){let a=e||"";this.logging.enabled&&this.logging.debug&&P.log(a)},_onError:function(e){this.logging.enabled&&this.logging.debug&&P.error(e)},_onAssetAvailable:function(e){let a="OBJLoader2Parser does not provide implementation for onAssetAvailable. Aborting...";throw this.callbacks.onError(a),a},_onLoad:function(e,a){P.log("You reached parser default onLoad callback: "+a)},setLogging:function(e,a){return this.logging.enabled=e===!0,this.logging.debug=a===!0,this},_configure:function(){if(this._pushSmoothingGroup(1),this.logging.enabled){let e=Object.keys(this.materials),t="OBJLoader.Parser configuration:"+(e.length>0?`
	materialNames:
		- `+e.join(`
		- `):`
	materialNames: None`)+`
	materialPerSmoothingGroup: `+this.materialPerSmoothingGroup+`
	useOAsMesh: `+this.useOAsMesh+`
	useIndices: `+this.useIndices+`
	disregardNormals: `+this.disregardNormals;t+=`
	callbacks.onProgress: `+this.callbacks.onProgress.name,t+=`
	callbacks.onAssetAvailable: `+this.callbacks.onAssetAvailable.name,t+=`
	callbacks.onError: `+this.callbacks.onError.name,P.info(t)}},execute:function(e){this.logging.enabled&&P.time("OBJLoader2Parser.execute"),this._configure();let a=new Uint8Array(e);this.contentRef=a;let t=a.byteLength;this.globalCounts.totalBytes=t;let i=new Array(128),r=0,h=0,n="",l=0;for(let u,d=0;d<t;d++)switch(u=a[d],u){case 32:n.length>0&&(i[r++]=n),n="";break;case 47:n.length>0&&(i[r++]=n),h++,n="";break;case 10:this._processLine(i,r,h,n,d),n="",r=0,h=0;break;case 13:break;default:n+=String.fromCharCode(u);break}this._processLine(i,r,h,n,l),this._finalizeParsing(),this.logging.enabled&&P.timeEnd("OBJLoader2Parser.execute")},executeLegacy:function(e){this.logging.enabled&&P.time("OBJLoader2Parser.executeLegacy"),this._configure(),this.legacyMode=!0,this.contentRef=e;let a=e.length;this.globalCounts.totalBytes=a;let t=new Array(128),i=0,r=0,h="",n=0;for(let l;n<a;n++)switch(l=e[n],l){case" ":h.length>0&&(t[i++]=h),h="";break;case"/":h.length>0&&(t[i++]=h),r++,h="";break;case`
`:this._processLine(t,i,r,h,n),h="",i=0,r=0;break;case"\r":break;default:h+=l}this._processLine(t,i,h,r),this._finalizeParsing(),this.logging.enabled&&P.timeEnd("OBJLoader2Parser.executeLegacy")},_processLine:function(e,a,t,i,r){if(this.globalCounts.lineByte=this.globalCounts.currentByte,this.globalCounts.currentByte=r,a<1)return;i.length>0&&(e[a++]=i);let h=function(c,f,p,b){let M="";if(b>p){let v;if(f)for(v=p;v<b;v++)M+=c[v];else for(v=p;v<b;v++)M+=String.fromCharCode(c[v]);M=M.trim()}return M},n,l,u,d;switch(d=e[0],d){case"v":this.vertices.push(parseFloat(e[1])),this.vertices.push(parseFloat(e[2])),this.vertices.push(parseFloat(e[3])),a>4&&(this.colors.push(parseFloat(e[4])),this.colors.push(parseFloat(e[5])),this.colors.push(parseFloat(e[6])));break;case"vt":this.uvs.push(parseFloat(e[1])),this.uvs.push(parseFloat(e[2]));break;case"vn":this.normals.push(parseFloat(e[1])),this.normals.push(parseFloat(e[2])),this.normals.push(parseFloat(e[3]));break;case"f":if(n=a-1,t===0)for(this._checkFaceType(0),u=2,l=n;u<l;u++)this._buildFace(e[1]),this._buildFace(e[u]),this._buildFace(e[u+1]);else if(n===t*2)for(this._checkFaceType(1),u=3,l=n-2;u<l;u+=2)this._buildFace(e[1],e[2]),this._buildFace(e[u],e[u+1]),this._buildFace(e[u+2],e[u+3]);else if(n*2===t*3)for(this._checkFaceType(2),u=4,l=n-3;u<l;u+=3)this._buildFace(e[1],e[2],e[3]),this._buildFace(e[u],e[u+1],e[u+2]),this._buildFace(e[u+3],e[u+4],e[u+5]);else for(this._checkFaceType(3),u=3,l=n-2;u<l;u+=2)this._buildFace(e[1],void 0,e[2]),this._buildFace(e[u],void 0,e[u+1]),this._buildFace(e[u+2],void 0,e[u+3]);break;case"l":case"p":if(n=a-1,n===t*2)for(this._checkFaceType(4),u=1,l=n+1;u<l;u+=2)this._buildFace(e[u],e[u+1]);else for(this._checkFaceType(d==="l"?5:6),u=1,l=n+1;u<l;u++)this._buildFace(e[u]);break;case"s":this._pushSmoothingGroup(e[1]);break;case"g":this._processCompletedMesh(),this.rawMesh.groupName=h(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"o":this.useOAsMesh&&this._processCompletedMesh(),this.rawMesh.objectName=h(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"mtllib":this.rawMesh.mtllibName=h(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);break;case"usemtl":let c=h(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);c!==""&&this.rawMesh.activeMtlName!==c&&(this.rawMesh.activeMtlName=c,this.rawMesh.counts.mtlCount++,this._checkSubGroup());break;default:break}},_pushSmoothingGroup:function(e){let a=parseInt(e);isNaN(a)&&(a=e==="off"?0:1);let t=this.rawMesh.smoothingGroup.normalized;this.rawMesh.smoothingGroup.normalized=this.rawMesh.smoothingGroup.splitMaterials?a:a===0?0:1,this.rawMesh.smoothingGroup.real=a,t!==a&&(this.rawMesh.counts.smoothingGroupCount++,this._checkSubGroup())},_checkFaceType:function(e){this.rawMesh.faceType!==e&&(this._processCompletedMesh(),this.rawMesh.faceType=e,this._checkSubGroup())},_checkSubGroup:function(){let e=this.rawMesh.activeMtlName+"|"+this.rawMesh.smoothingGroup.normalized;this.rawMesh.subGroupInUse=this.rawMesh.subGroups[e],(this.rawMesh.subGroupInUse===void 0||this.rawMesh.subGroupInUse===null)&&(this.rawMesh.subGroupInUse={index:e,objectName:this.rawMesh.objectName,groupName:this.rawMesh.groupName,materialName:this.rawMesh.activeMtlName,smoothingGroup:this.rawMesh.smoothingGroup.normalized,vertices:[],indexMappingsCount:0,indexMappings:[],indices:[],colors:[],uvs:[],normals:[]},this.rawMesh.subGroups[e]=this.rawMesh.subGroupInUse)},_buildFace:function(e,a,t){let i=this.rawMesh.subGroupInUse,r=this,h=function(){let n=parseInt(e),l=3*(n>0?n-1:n+r.vertices.length/3),u=r.colors.length>0?l:null,d=i.vertices;if(d.push(r.vertices[l++]),d.push(r.vertices[l++]),d.push(r.vertices[l]),u!==null){let c=i.colors;c.push(r.colors[u++]),c.push(r.colors[u++]),c.push(r.colors[u])}if(a){let c=parseInt(a),f=2*(c>0?c-1:c+r.uvs.length/2),p=i.uvs;p.push(r.uvs[f++]),p.push(r.uvs[f])}if(t&&!r.disregardNormals){let c=parseInt(t),f=3*(c>0?c-1:c+r.normals.length/3),p=i.normals;p.push(r.normals[f++]),p.push(r.normals[f++]),p.push(r.normals[f])}};if(this.useIndices){this.disregardNormals&&(t=void 0);let n=e+(a?"_"+a:"_n")+(t?"_"+t:"_n"),l=i.indexMappings[n];l==null?(l=this.rawMesh.subGroupInUse.vertices.length/3,h(),i.indexMappings[n]=l,i.indexMappingsCount++):this.rawMesh.counts.doubleIndicesCount++,i.indices.push(l)}else h();this.rawMesh.counts.faceCount++},_createRawMeshReport:function(e){return"Input Object number: "+e+`
	Object name: `+this.rawMesh.objectName+`
	Group name: `+this.rawMesh.groupName+`
	Mtllib name: `+this.rawMesh.mtllibName+`
	Vertex count: `+this.vertices.length/3+`
	Normal count: `+this.normals.length/3+`
	UV count: `+this.uvs.length/2+`
	SmoothingGroup count: `+this.rawMesh.counts.smoothingGroupCount+`
	Material count: `+this.rawMesh.counts.mtlCount+`
	Real MeshOutputGroup count: `+this.rawMesh.subGroups.length},_finalizeRawMesh:function(){let e=[],a,t=0,i=0,r=0,h=0,n=0,l=0,u;for(let c in this.rawMesh.subGroups)if(a=this.rawMesh.subGroups[c],a.vertices.length>0){if(u=a.indices,u.length>0&&i>0)for(let f=0;f<u.length;f++)u[f]=u[f]+i;e.push(a),t+=a.vertices.length,i+=a.indexMappingsCount,r+=a.indices.length,h+=a.colors.length,l+=a.uvs.length,n+=a.normals.length}let d=null;return e.length>0&&(d={name:this.rawMesh.groupName!==""?this.rawMesh.groupName:this.rawMesh.objectName,subGroups:e,absoluteVertexCount:t,absoluteIndexCount:r,absoluteColorCount:h,absoluteNormalCount:n,absoluteUvCount:l,faceCount:this.rawMesh.counts.faceCount,doubleIndicesCount:this.rawMesh.counts.doubleIndicesCount}),d},_processCompletedMesh:function(){let e=this._finalizeRawMesh(),a=e!==null;if(a){this.colors.length>0&&this.colors.length!==this.vertices.length&&this.callbacks.onError("Vertex Colors were detected, but vertex count and color count do not match!"),this.logging.enabled&&this.logging.debug&&P.debug(this._createRawMeshReport(this.inputObjectCount)),this.inputObjectCount++,this._buildMesh(e);let t=this.globalCounts.currentByte/this.globalCounts.totalBytes;this._onProgress("Completed [o: "+this.rawMesh.objectName+" g:"+this.rawMesh.groupName+"] Total progress: "+(t*100).toFixed(2)+"%"),this._resetRawMesh()}return a},_buildMesh:function(e){let a=e.subGroups,t=new Float32Array(e.absoluteVertexCount);this.globalCounts.vertices+=e.absoluteVertexCount/3,this.globalCounts.faces+=e.faceCount,this.globalCounts.doubleIndicesCount+=e.doubleIndicesCount;let i=e.absoluteIndexCount>0?new Uint32Array(e.absoluteIndexCount):null,r=e.absoluteColorCount>0?new Float32Array(e.absoluteColorCount):null,h=e.absoluteNormalCount>0?new Float32Array(e.absoluteNormalCount):null,n=e.absoluteUvCount>0?new Float32Array(e.absoluteUvCount):null,l=r!==null,u,d=[],c=a.length>1,f=0,p=[],b,M,v=[],y=0,C=0,R=0,N=0,D=0,L=0,j=0,J,A,T,I;for(let $ in a)if(a.hasOwnProperty($)){if(u=a[$],I=u.materialName,this.rawMesh.faceType<4?T=I+(l?"_vertexColor":"")+(u.smoothingGroup===0?"_flat":""):T=this.rawMesh.faceType===6?"defaultPointMaterial":"defaultLineMaterial",J=this.materials[I],A=this.materials[T],J==null&&A==null&&(T=l?"defaultVertexColorMaterial":"defaultMaterial",A=this.materials[T],this.logging.enabled&&P.info('object_group "'+u.objectName+"_"+u.groupName+'" was defined with unresolvable material "'+I+'"! Assigning "'+T+'".')),A==null){let G={materialNameOrg:I,materialName:T,materialProperties:{vertexColors:l?2:0,flatShading:u.smoothingGroup===0}},F={cmd:"assetAvailable",type:"material",materials:{materialCloneInstructions:G}};this.callbacks.onAssetAvailable(F);let Q=this.materials[T];Q==null&&(this.materials[T]=G)}if(c?(b=p[T],b||(b=f,p[T]=f,d.push(T),f++),j=this.useIndices?u.indices.length:u.vertices.length/3,M={start:L,count:j,index:b},v.push(M),L+=j):d.push(T),t.set(u.vertices,y),y+=u.vertices.length,i&&(i.set(u.indices,C),C+=u.indices.length),r&&(r.set(u.colors,R),R+=u.colors.length),h&&(h.set(u.normals,N),N+=u.normals.length),n&&(n.set(u.uvs,D),D+=u.uvs.length),this.logging.enabled&&this.logging.debug){let G="";b&&(G=`
		materialIndex: `+b);let F="	Output Object no.: "+this.outputObjectCount+`
		groupName: `+u.groupName+`
		Index: `+u.index+`
		faceType: `+this.rawMesh.faceType+`
		materialName: `+u.materialName+`
		smoothingGroup: `+u.smoothingGroup+G+`
		objectName: `+u.objectName+`
		#vertices: `+u.vertices.length/3+`
		#indices: `+u.indices.length+`
		#colors: `+u.colors.length/3+`
		#uvs: `+u.uvs.length/2+`
		#normals: `+u.normals.length/3;P.debug(F)}}this.outputObjectCount++,this.callbacks.onAssetAvailable({cmd:"assetAvailable",type:"mesh",progress:{numericalValue:this.globalCounts.currentByte/this.globalCounts.totalBytes},params:{meshName:e.name},materials:{multiMaterial:c,materialNames:d,materialGroups:v},buffers:{vertices:t,indices:i,colors:r,normals:h,uvs:n},geometryType:this.rawMesh.faceType<4?0:this.rawMesh.faceType===6?2:1},[t.buffer],i!==null?[i.buffer]:null,r!==null?[r.buffer]:null,h!==null?[h.buffer]:null,n!==null?[n.buffer]:null)},_finalizeParsing:function(){if(this.logging.enabled&&P.info("Global output object count: "+this.outputObjectCount),this._processCompletedMesh()&&this.logging.enabled){let e=`Overall counts: 
	Vertices: `+this.globalCounts.vertices+`
	Faces: `+this.globalCounts.faces+`
	Multiple definitions: `+this.globalCounts.doubleIndicesCount;P.info(e)}}};const g=function(e){this.logging={enabled:!1,debug:!1},this.callbacks={onProgress:null,onMeshAlter:null},this.materialHandler=e};g.prototype={constructor:g,setLogging:function(e,a){this.logging.enabled=e===!0,this.logging.debug=a===!0},_setCallbacks:function(e,a){e!=null&&e instanceof Function&&(this.callbacks.onProgress=e),a!=null&&a instanceof Function&&(this.callbacks.onMeshAlter=a)},buildMeshes:function(e){let a=e.params.meshName,t=e.buffers,i=new s.u9r;t.vertices!==void 0&&t.vertices!==null&&i.setAttribute("position",new s.TlE(new Float32Array(t.vertices),3)),t.indices!==void 0&&t.indices!==null&&i.setIndex(new s.TlE(new Uint32Array(t.indices),1)),t.colors!==void 0&&t.colors!==null&&i.setAttribute("color",new s.TlE(new Float32Array(t.colors),3)),t.normals!==void 0&&t.normals!==null?i.setAttribute("normal",new s.TlE(new Float32Array(t.normals),3)):i.computeVertexNormals(),t.uvs!==void 0&&t.uvs!==null&&i.setAttribute("uv",new s.TlE(new Float32Array(t.uvs),2)),t.skinIndex!==void 0&&t.skinIndex!==null&&i.setAttribute("skinIndex",new s.TlE(new Uint16Array(t.skinIndex),4)),t.skinWeight!==void 0&&t.skinWeight!==null&&i.setAttribute("skinWeight",new s.TlE(new Float32Array(t.skinWeight),4));let r,h,n,l=e.materials.materialNames,u=e.materials.multiMaterial,d=[];for(n in l)h=l[n],r=this.materialHandler.getMaterial(h),u&&d.push(r);if(u){r=d;let y=e.materials.materialGroups,C;for(n in y)C=y[n],i.addGroup(C.start,C.count,C.index)}let c=[],f,p,b=!0,M=e.geometryType===null?0:e.geometryType;if(this.callbacks.onMeshAlter&&(p=this.callbacks.onMeshAlter({detail:{meshName:a,bufferGeometry:i,material:r,geometryType:M}})),p){if(p.isDisregardMesh())b=!1;else if(p.providesAlteredMeshes()){for(let y in p.meshes)c.push(p.meshes[y]);b=!1}}b&&(e.computeBoundingSphere&&i.computeBoundingSphere(),M===0?f=new s.Kj0(i,r):M===1?f=new s.ejS(i,r):f=new s.woe(i,r),f.name=a,c.push(f));let v=e.params.meshName;if(c.length>0){let y=[];for(let C in c)f=c[C],y[C]=f.name;v+=": Adding mesh(es) ("+y.length+": "+y+") from input mesh: "+a,v+=" ("+(e.progress.numericalValue*100).toFixed(2)+"%)"}else v+=": Not adding mesh: "+a,v+=" ("+(e.progress.numericalValue*100).toFixed(2)+"%)";return this.callbacks.onProgress&&this.callbacks.onProgress("progress",v,e.progress.numericalValue),c}};const H=function(e,a){this.disregardMesh=e===!0,this.alteredMesh=a===!0,this.meshes=[]};H.prototype={constructor:H,addMesh:function(e){this.meshes.push(e),this.alteredMesh=!0},isDisregardMesh:function(){return this.disregardMesh},providesAlteredMeshes:function(){return this.alteredMesh}};var q=x(149500);const ne=function(){this.logging={enabled:!1,debug:!1},this.callbacks={onLoadMaterials:null},this.materials={}};ne.prototype={constructor:ne,setLogging:function(e,a){this.logging.enabled=e===!0,this.logging.debug=a===!0},_setCallbacks:function(e){e!=null&&e instanceof Function&&(this.callbacks.onLoadMaterials=e)},createDefaultMaterials:function(e){let a=new s.Wid({color:14479871});a.name="defaultMaterial";let t=new s.Wid({color:14479871});t.name="defaultVertexColorMaterial",t.vertexColors=!0;let i=new s.nls;i.name="defaultLineMaterial";let r=new s.UY4({size:.1});r.name="defaultPointMaterial";let h={};h[a.name]=a,h[t.name]=t,h[i.name]=i,h[r.name]=r,this.addMaterials(h,e)},addPayloadMaterials:function(e){let a,t,i=e.materials.materialCloneInstructions,r={};if(i!=null){let n=i.materialNameOrg;n=n??"";let l=this.materials[n];l?(a=l.clone(),t=i.materialName,a.name=t,Object.assign(a,i.materialProperties),this.materials[t]=a,r[t]=a):this.logging.enabled&&q.info('Requested material "'+n+'" is not available!')}let h=e.materials.serializedMaterials;if(h!=null&&Object.keys(h).length>0){let n=new s.u7G,l;for(t in h)l=h[t],l!=null&&(a=n.parse(l),this.logging.enabled&&q.info('De-serialized material with name "'+t+'" will be added.'),this.materials[t]=a,r[t]=a)}return h=e.materials.runtimeMaterials,r=this.addMaterials(h,!0,r),r},addMaterials:function(e,a,t){if(t==null&&(t={}),e!=null&&Object.keys(e).length>0){let i,r,h;for(let n in e)i=e[n],h=a===!0,h||(r=this.materials[n],h=r==null),h&&(this.materials[n]=i,t[n]=i),this.logging.enabled&&this.logging.debug&&q.info('Material with name "'+n+'" was added.')}return this.callbacks.onLoadMaterials&&this.callbacks.onLoadMaterials(t),t},getMaterials:function(){return this.materials},getMaterial:function(e){return this.materials[e]},getMaterialsJSON:function(){let e={},a;for(let t in this.materials)a=this.materials[t],e[t]=a.toJSON();return e},clearMaterials:function(){this.materials={}}};var X=x(149500);const K=function(e){s.aNw.call(this,e),this.parser=new z,this.modelName="",this.instanceNo=0,this.baseObject3d=new s.Tme,this.materialHandler=new ne,this.meshReceiver=new g(this.materialHandler);let a=this,t=function(i){a._onAssetAvailable(i)};this.parser.setCallbackOnAssetAvailable(t)};K.OBJLOADER2_VERSION="3.2.0",X.info("Using OBJLoader2 version: "+K.OBJLOADER2_VERSION),K.prototype=Object.assign(Object.create(s.aNw.prototype),{constructor:K,setLogging:function(e,a){return this.parser.setLogging(e,a),this},setMaterialPerSmoothingGroup:function(e){return this.parser.setMaterialPerSmoothingGroup(e),this},setUseOAsMesh:function(e){return this.parser.setUseOAsMesh(e),this},setUseIndices:function(e){return this.parser.setUseIndices(e),this},setDisregardNormals:function(e){return this.parser.setDisregardNormals(e),this},setModelName:function(e){return this.modelName=e||this.modelName,this},setBaseObject3d:function(e){return this.baseObject3d=e??this.baseObject3d,this},addMaterials:function(e,a){return this.materialHandler.addMaterials(e,a),this},setCallbackOnAssetAvailable:function(e){return this.parser.setCallbackOnAssetAvailable(e),this},setCallbackOnProgress:function(e){return this.parser.setCallbackOnProgress(e),this},setCallbackOnError:function(e){return this.parser.setCallbackOnError(e),this},setCallbackOnLoad:function(e){return this.parser.setCallbackOnLoad(e),this},setCallbackOnMeshAlter:function(e){return this.meshReceiver._setCallbacks(this.parser.callbacks.onProgress,e),this},setCallbackOnLoadMaterials:function(e){return this.materialHandler._setCallbacks(e),this},load:function(e,a,t,i,r){let h=this;if(a==null||!(a instanceof Function)){let f="onLoad is not a function! Aborting...";throw h.parser.callbacks.onError(f),f}else this.parser.setCallbackOnLoad(a);(i==null||!(i instanceof Function))&&(i=function(f){let p=f;f.currentTarget&&f.currentTarget.statusText!==null&&(p=`Error occurred while downloading!
url: `+f.currentTarget.responseURL+`
status: `+f.currentTarget.statusText),h.parser.callbacks.onError(p)}),e||i("An invalid url was provided. Unable to continue!");let n=new URL(e,window.location.href).href,l=n,u=n.split("/");if(u.length>2&&(l=u[u.length-1],this.path=u.slice(0,u.length-1).join("/")+"/"),t==null||!(t instanceof Function)){let f=0,p=0;t=function(b){if(b.lengthComputable&&(p=b.loaded/b.total,p>f)){f=p;let M='Download of "'+e+'": '+(p*100).toFixed(2)+"%";h.parser.callbacks.onProgress("progressLoad",M,p)}}}this.setCallbackOnMeshAlter(r);let d=function(f){h.parser.callbacks.onLoad(h.parse(f),"OBJLoader2#load: Parsing completed")},c=new s.hH6(this.manager);c.setPath(this.path||this.resourcePath),c.setResponseType("arraybuffer"),c.load(l,d,t,i)},parse:function(e){if(e==null)throw"Provided content is not a valid ArrayBuffer or String. Unable to continue parsing";return this.parser.logging.enabled&&X.time("OBJLoader parse: "+this.modelName),this.materialHandler.createDefaultMaterials(!1),this.parser.setMaterials(this.materialHandler.getMaterials()),e instanceof ArrayBuffer||e instanceof Uint8Array?(this.parser.logging.enabled&&X.info("Parsing arrayBuffer..."),this.parser.execute(e)):typeof e=="string"||e instanceof String?(this.parser.logging.enabled&&X.info("Parsing text..."),this.parser.executeLegacy(e)):this.parser.callbacks.onError("Provided content was neither of type String nor Uint8Array! Aborting..."),this.parser.logging.enabled&&X.timeEnd("OBJLoader parse: "+this.modelName),this.baseObject3d},_onAssetAvailable:function(e){if(e.cmd==="assetAvailable")if(e.type==="mesh"){let a=this.meshReceiver.buildMeshes(e);for(let t of a)this.baseObject3d.add(t)}else e.type==="material"&&this.materialHandler.addPayloadMaterials(e)}});const Fe={link:function(e,a){typeof a.addMaterials=="function"&&a.addMaterials(this.addMaterialsFromMtlLoader(e),!0)},addMaterialsFromMtlLoader:function(e){let a={};return e instanceof B.MaterialCreator&&(e.preload(),a=e.materials),a}};var ee={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},_e=x(149500);function S(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(S.prototype,{setSize:function(){},render:function(){_e.error("THREE.Pass: .render() must be implemented in derived pass.")}}),S.FullScreenQuad=function(){var e=new s.iKG(-1,1,1,-1,0,1),a=new s.BKK(2,2),t=function(i){this._mesh=new s.Kj0(a,i)};return Object.defineProperty(t.prototype,"material",{get:function(){return this._mesh.material},set:function(i){this._mesh.material=i}}),Object.assign(t.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(i){i.render(this._mesh,e)}}),t}();var te=function(e,a){S.call(this),this.textureID=a!==void 0?a:"tDiffuse",e instanceof s.jyz?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=s.rDY.clone(e.uniforms),this.material=new s.jyz({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new S.FullScreenQuad(this.material)};te.prototype=Object.assign(Object.create(S.prototype),{constructor:te,render:function(e,a,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(a),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var ae=function(e,a){S.call(this),this.scene=e,this.camera=a,this.clear=!0,this.needsSwap=!1,this.inverse=!1};ae.prototype=Object.assign(Object.create(S.prototype),{constructor:ae,render:function(e,a,t){var i=e.getContext(),r=e.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);var h,n;this.inverse?(h=0,n=1):(h=1,n=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),r.buffers.stencil.setFunc(i.ALWAYS,h,4294967295),r.buffers.stencil.setClear(n),r.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(a),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(i.EQUAL,1,4294967295),r.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),r.buffers.stencil.setLocked(!0)}});var oe=function(){S.call(this),this.needsSwap=!1};oe.prototype=Object.create(S.prototype),Object.assign(oe.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var le=x(149500),pe=function(e,a){if(this.renderer=e,a===void 0){var t={minFilter:s.wem,magFilter:s.wem,format:s.wk1,stencilBuffer:!1},i=e.getSize(new s.FM8);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,a=new s.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio,t),a.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=a.width,this._height=a.height;this.renderTarget1=a,this.renderTarget2=a.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],ee===void 0&&le.error("THREE.EffectComposer relies on CopyShader"),te===void 0&&le.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new te(ee),this.clock=new s.SUY};Object.assign(pe.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,a){this.passes.splice(a,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(var a=e+1;a<this.passes.length;a++)if(this.passes[a].enabled)return!1;return!0},render:function(e){e===void 0&&(e=this.clock.getDelta());var a=this.renderer.getRenderTarget(),t=!1,i,r,h=this.passes.length;for(r=0;r<h;r++)if(i=this.passes[r],i.enabled!==!1){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),i.needsSwap){if(t){var n=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(n.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(n.EQUAL,1,4294967295)}this.swapBuffers()}ae!==void 0&&(i instanceof ae?t=!0:i instanceof oe&&(t=!1))}this.renderer.setRenderTarget(a)},reset:function(e){if(e===void 0){var a=this.renderer.getSize(new s.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=a.width,this._height=a.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,a){this._width=e,this._height=a;var t=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(t,i),this.renderTarget2.setSize(t,i);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(t,i)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var me=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(me.prototype,{setSize:function(){},render:function(){le.error("THREE.Pass: .render() must be implemented in derived pass.")}}),me.FullScreenQuad=function(){var e=new s.iKG(-1,1,1,-1,0,1),a=new s.BKK(2,2),t=function(i){this._mesh=new s.Kj0(a,i)};return Object.defineProperty(t.prototype,"material",{get:function(){return this._mesh.material},set:function(i){this._mesh.material=i}}),Object.assign(t.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(i){i.render(this._mesh,e)}}),t}();var ue=function(e,a,t,i,r){S.call(this),this.scene=e,this.camera=a,this.overrideMaterial=t,this.clearColor=i,this.clearAlpha=r!==void 0?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};ue.prototype=Object.assign(Object.create(S.prototype),{constructor:ue,render:function(e,a,t){var i=e.autoClear;e.autoClear=!1;var r,h,n;this.overrideMaterial!==void 0&&(n=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(r=e.getClearColor().getHex(),h=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(r,h),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=n),e.autoClear=i}});var Ne=x(149500),_=function(e,a,t,i){this.renderScene=a,this.renderCamera=t,this.selectedObjects=i!==void 0?i:[],this.visibleEdgeColor=new s.Ilk(1,1,1),this.hiddenEdgeColor=new s.Ilk(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,S.call(this),this.resolution=e!==void 0?new s.FM8(e.x,e.y):new s.FM8(256,256);var r={minFilter:s.wem,magFilter:s.wem,format:s.wk1},h=Math.round(this.resolution.x/this.downSampleRatio),n=Math.round(this.resolution.y/this.downSampleRatio);this.maskBufferMaterial=new s.vBJ({color:16777215}),this.maskBufferMaterial.side=s.ehD,this.renderTargetMaskBuffer=new s.dd2(this.resolution.x,this.resolution.y,r),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new s.lRF,this.depthMaterial.side=s.ehD,this.depthMaterial.depthPacking=s.mSO,this.depthMaterial.blending=s.jFi,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=s.ehD,this.prepareMaskMaterial.fragmentShader=c(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new s.dd2(this.resolution.x,this.resolution.y,r),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new s.dd2(h,n,r),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new s.dd2(h,n,r),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new s.dd2(Math.round(h/2),Math.round(n/2),r),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new s.dd2(h,n,r),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new s.dd2(Math.round(h/2),Math.round(n/2),r),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;var l=4,u=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(l),this.separableBlurMaterial1.uniforms.texSize.value.set(h,n),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(u),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(h/2),Math.round(n/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=u,this.overlayMaterial=this.getOverlayMaterial(),ee===void 0&&Ne.error("OutlinePass relies on CopyShader");var d=ee;this.copyUniforms=s.rDY.clone(d.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new s.jyz({uniforms:this.copyUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:s.jFi,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new s.Ilk,this.oldClearAlpha=1,this.fsQuad=new S.FullScreenQuad(null),this.tempPulseColor1=new s.Ilk,this.tempPulseColor2=new s.Ilk,this.textureMatrix=new s.yGw;function c(f,p){var b=p.isPerspectiveCamera?"perspective":"orthographic";return f.replace(/DEPTH_TO_VIEW_Z/g,b+"DepthToViewZ")}};_.prototype=Object.assign(Object.create(S.prototype),{constructor:_,dispose:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()},setSize:function(e,a){this.renderTargetMaskBuffer.setSize(e,a);var t=Math.round(e/this.downSampleRatio),i=Math.round(a/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(t,i),this.renderTargetBlurBuffer1.setSize(t,i),this.renderTargetEdgeBuffer1.setSize(t,i),this.separableBlurMaterial1.uniforms.texSize.value.set(t,i),t=Math.round(t/2),i=Math.round(i/2),this.renderTargetBlurBuffer2.setSize(t,i),this.renderTargetEdgeBuffer2.setSize(t,i),this.separableBlurMaterial2.uniforms.texSize.value.set(t,i)},changeVisibilityOfSelectedObjects:function(e){function a(r){r.isMesh&&(e?(r.visible=r.userData.oldVisible,delete r.userData.oldVisible):(r.userData.oldVisible=r.visible,r.visible=e))}for(var t=0;t<this.selectedObjects.length;t++){var i=this.selectedObjects[t];i.traverse(a)}},changeVisibilityOfNonSelectedObjects:function(e){var a=[];function t(n){n.isMesh&&a.push(n)}for(var i=0;i<this.selectedObjects.length;i++){var r=this.selectedObjects[i];r.traverse(t)}function h(n){if(n.isMesh||n.isLine||n.isSprite){for(var l=!1,u=0;u<a.length;u++){var d=a[u].id;if(d===n.id){l=!0;break}}if(!l){var c=n.visible;(!e||n.bVisible)&&(n.visible=e),n.bVisible=c}}}this.renderScene.traverse(h)},updateTextureMatrix:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},render:function(e,a,t,i,r){if(this.selectedObjects.length>0){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var h=e.autoClear;e.autoClear=!1,r&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);var n=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this.renderScene.background=n,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var l=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(l),this.tempPulseColor2.multiplyScalar(l)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=_.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=_.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=_.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=_.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,r&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(t),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=h}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=t.texture,e.setRenderTarget(null),this.fsQuad.render(e))},getPrepareMaskMaterial:function(){return new s.jyz({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new s.FM8(.5,.5)},textureMatrix:{value:null}},vertexShader:["#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","varying vec4 projTexCoord;","varying vec4 vPosition;","uniform mat4 textureMatrix;","void main() {","	#include <skinbase_vertex>","	#include <begin_vertex>","	#include <morphtarget_vertex>","	#include <skinning_vertex>","	#include <project_vertex>","	vPosition = mvPosition;","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	projTexCoord = textureMatrix * worldPosition;","}"].join(`
`),fragmentShader:["#include <packing>","varying vec4 vPosition;","varying vec4 projTexCoord;","uniform sampler2D depthTexture;","uniform vec2 cameraNearFar;","void main() {","	float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));","	float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );","	float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;","	gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);","}"].join(`
`)})},getEdgeDetectionMaterial:function(){return new s.jyz({uniforms:{maskTexture:{value:null},texSize:{value:new s.FM8(.5,.5)},visibleEdgeColor:{value:new s.Pa4(1,1,1)},hiddenEdgeColor:{value:new s.Pa4(1,1,1)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;				uniform sampler2D maskTexture;				uniform vec2 texSize;				uniform vec3 visibleEdgeColor;				uniform vec3 hiddenEdgeColor;								void main() {
					vec2 invSize = 1.0 / texSize;					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);					float diff1 = (c1.r - c2.r)*0.5;					float diff2 = (c3.r - c4.r)*0.5;					float d = length( vec2(diff1, diff2) );					float a1 = min(c1.g, c2.g);					float a2 = min(c3.g, c4.g);					float visibilityFactor = min(a1, a2);					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);				}`})},getSeperableBlurMaterial:function(e){return new s.jyz({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new s.FM8(.5,.5)},direction:{value:new s.FM8(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:"#include <common>				varying vec2 vUv;				uniform sampler2D colorTexture;				uniform vec2 texSize;				uniform vec2 direction;				uniform float kernelRadius;								float gaussianPdf(in float x, in float sigma) {					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;				}				void main() {					vec2 invSize = 1.0 / texSize;					float weightSum = gaussianPdf(0.0, kernelRadius);					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);					vec2 uvOffset = delta;					for( int i = 1; i <= MAX_RADIUS; i ++ ) {						float w = gaussianPdf(uvOffset.x, kernelRadius);						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);						diffuseSum += ((sample1 + sample2) * w);						weightSum += (2.0 * w);						uvOffset += delta;					}					gl_FragColor = diffuseSum/weightSum;				}"})},getOverlayMaterial:function(){return new s.jyz({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:"varying vec2 vUv;				uniform sampler2D maskTexture;				uniform sampler2D edgeTexture1;				uniform sampler2D edgeTexture2;				uniform sampler2D patternTexture;				uniform float edgeStrength;				uniform float edgeGlow;				uniform bool usePatternTexture;								void main() {					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);					vec4 maskColor = texture2D(maskTexture, vUv);					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;					if(usePatternTexture)						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);					gl_FragColor = finalColor;				}",blending:s.WMw,depthTest:!1,depthWrite:!1,transparent:!0})}}),_.BlurDirectionX=new s.FM8(1,0),_.BlurDirectionY=new s.FM8(0,1);var W=x(149500),ie=function(e,a){a===void 0&&W.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&W.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=a,this.enabled=!0,this.target=new s.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:s.RsA.ROTATE,MIDDLE:s.RsA.DOLLY,RIGHT:s.RsA.PAN},this.touches={ONE:s.QmN.ROTATE,TWO:s.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return d.phi},this.getAzimuthalAngle=function(){return d.theta},this.saveState=function(){t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=function(){t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(i),t.update(),l=n.NONE},this.update=function(){var o=new s.Pa4,m=new s._fP().setFromUnitVectors(e.up,new s.Pa4(0,1,0)),w=m.clone().inverse(),O=new s.Pa4,V=new s._fP;return function(){var Z=t.object.position;return o.copy(Z).sub(t.target),o.applyQuaternion(m),d.setFromVector3(o),t.autoRotate&&l===n.NONE&&T(J()),t.enableDamping?(d.theta+=c.theta*t.dampingFactor,d.phi+=c.phi*t.dampingFactor):(d.theta+=c.theta,d.phi+=c.phi),d.theta=Math.max(t.minAzimuthAngle,Math.min(t.maxAzimuthAngle,d.theta)),d.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=f,d.radius=Math.max(t.minDistance,Math.min(t.maxDistance,d.radius)),t.enableDamping===!0?t.target.addScaledVector(p,t.dampingFactor):t.target.add(p),o.setFromSpherical(d),o.applyQuaternion(w),Z.copy(t.target).add(o),t.object.lookAt(t.target),t.enableDamping===!0?(c.theta*=1-t.dampingFactor,c.phi*=1-t.dampingFactor,p.multiplyScalar(1-t.dampingFactor)):(c.set(0,0,0),p.set(0,0,0)),f=1,b||O.distanceToSquared(t.object.position)>u||8*(1-V.dot(t.object.quaternion))>u?(t.dispatchEvent(i),O.copy(t.object.position),V.copy(t.object.quaternion),b=!1,!0):!1}}(),this.dispose=function(){t.domElement.removeEventListener("contextmenu",Be,!1),t.domElement.removeEventListener("mousedown",Oe,!1),t.domElement.removeEventListener("wheel",ke,!1),t.domElement.removeEventListener("touchstart",Se,!1),t.domElement.removeEventListener("touchend",Ae,!1),t.domElement.removeEventListener("touchmove",Ee,!1),document.removeEventListener("mousemove",ce,!1),document.removeEventListener("mouseup",de,!1),t.domElement.removeEventListener("keydown",Pe,!1)};var t=this,i={type:"change"},r={type:"start"},h={type:"end"},n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=n.NONE,u=1e-6,d=new s.$V,c=new s.$V,f=1,p=new s.Pa4,b=!1,M=new s.FM8,v=new s.FM8,y=new s.FM8,C=new s.FM8,R=new s.FM8,N=new s.FM8,D=new s.FM8,L=new s.FM8,j=new s.FM8;function J(){return 2*Math.PI/60/60*t.autoRotateSpeed}function A(){return Math.pow(.95,t.zoomSpeed)}function T(o){c.theta-=o}function I(o){c.phi-=o}var $=function(){var o=new s.Pa4;return function(w,O){o.setFromMatrixColumn(O,0),o.multiplyScalar(-w),p.add(o)}}(),G=function(){var o=new s.Pa4;return function(w,O){t.screenSpacePanning===!0?o.setFromMatrixColumn(O,1):(o.setFromMatrixColumn(O,0),o.crossVectors(t.object.up,o)),o.multiplyScalar(w),p.add(o)}}(),F=function(){var o=new s.Pa4;return function(w,O){var V=t.domElement;if(t.object.isPerspectiveCamera){var Re=t.object.position;o.copy(Re).sub(t.target);var Z=o.length();Z*=Math.tan(t.object.fov/2*Math.PI/180),$(2*w*Z/V.clientHeight,t.object.matrix),G(2*O*Z/V.clientHeight,t.object.matrix)}else t.object.isOrthographicCamera?($(w*(t.object.right-t.object.left)/t.object.zoom/V.clientWidth,t.object.matrix),G(O*(t.object.top-t.object.bottom)/t.object.zoom/V.clientHeight,t.object.matrix)):(W.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}}();function Q(o){t.object.isPerspectiveCamera?f/=o:t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom*o)),t.object.updateProjectionMatrix(),b=!0):(W.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function ge(o){t.object.isPerspectiveCamera?f*=o:t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/o)),t.object.updateProjectionMatrix(),b=!0):(W.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function be(o){M.set(o.clientX,o.clientY)}function Ue(o){D.set(o.clientX,o.clientY)}function ve(o){C.set(o.clientX,o.clientY)}function ze(o){v.set(o.clientX,o.clientY),y.subVectors(v,M).multiplyScalar(t.rotateSpeed);var m=t.domElement;T(2*Math.PI*y.x/m.clientHeight),I(2*Math.PI*y.y/m.clientHeight),M.copy(v),t.update()}function He(o){L.set(o.clientX,o.clientY),j.subVectors(L,D),j.y>0?Q(A()):j.y<0&&ge(A()),D.copy(L),t.update()}function Ve(o){R.set(o.clientX,o.clientY),N.subVectors(R,C).multiplyScalar(t.panSpeed),F(N.x,N.y),C.copy(R),t.update()}function Je(){}function Ye(o){o.deltaY<0?ge(A()):o.deltaY>0&&Q(A()),t.update()}function Qe(o){var m=!1;switch(o.keyCode){case t.keys.UP:F(0,t.keyPanSpeed),m=!0;break;case t.keys.BOTTOM:F(0,-t.keyPanSpeed),m=!0;break;case t.keys.LEFT:F(t.keyPanSpeed,0),m=!0;break;case t.keys.RIGHT:F(-t.keyPanSpeed,0),m=!0;break}m&&(o.preventDefault(),t.update())}function Me(o){if(o.touches.length==1)M.set(o.touches[0].pageX,o.touches[0].pageY);else{var m=.5*(o.touches[0].pageX+o.touches[1].pageX),w=.5*(o.touches[0].pageY+o.touches[1].pageY);M.set(m,w)}}function we(o){if(o.touches.length==1)C.set(o.touches[0].pageX,o.touches[0].pageY);else{var m=.5*(o.touches[0].pageX+o.touches[1].pageX),w=.5*(o.touches[0].pageY+o.touches[1].pageY);C.set(m,w)}}function xe(o){var m=o.touches[0].pageX-o.touches[1].pageX,w=o.touches[0].pageY-o.touches[1].pageY,O=Math.sqrt(m*m+w*w);D.set(0,O)}function Ze(o){t.enableZoom&&xe(o),t.enablePan&&we(o)}function Xe(o){t.enableZoom&&xe(o),t.enableRotate&&Me(o)}function ye(o){if(o.touches.length==1)v.set(o.touches[0].pageX,o.touches[0].pageY);else{var m=.5*(o.touches[0].pageX+o.touches[1].pageX),w=.5*(o.touches[0].pageY+o.touches[1].pageY);v.set(m,w)}y.subVectors(v,M).multiplyScalar(t.rotateSpeed);var O=t.domElement;T(2*Math.PI*y.x/O.clientHeight),I(2*Math.PI*y.y/O.clientHeight),M.copy(v)}function Ce(o){if(o.touches.length==1)R.set(o.touches[0].pageX,o.touches[0].pageY);else{var m=.5*(o.touches[0].pageX+o.touches[1].pageX),w=.5*(o.touches[0].pageY+o.touches[1].pageY);R.set(m,w)}N.subVectors(R,C).multiplyScalar(t.panSpeed),F(N.x,N.y),C.copy(R)}function Te(o){var m=o.touches[0].pageX-o.touches[1].pageX,w=o.touches[0].pageY-o.touches[1].pageY,O=Math.sqrt(m*m+w*w);L.set(0,O),j.set(0,Math.pow(L.y/D.y,t.zoomSpeed)),Q(j.y),D.copy(L)}function Ke(o){t.enableZoom&&Te(o),t.enablePan&&Ce(o)}function We(o){t.enableZoom&&Te(o),t.enableRotate&&ye(o)}function $e(){}function Oe(o){if(t.enabled!==!1){o.preventDefault(),t.domElement.focus?t.domElement.focus():window.focus();var m;switch(o.button){case 0:m=t.mouseButtons.LEFT;break;case 1:m=t.mouseButtons.MIDDLE;break;case 2:m=t.mouseButtons.RIGHT;break;default:m=-1}switch(m){case s.RsA.DOLLY:if(t.enableZoom===!1)return;Ue(o),l=n.DOLLY;break;case s.RsA.ROTATE:if(o.ctrlKey||o.metaKey||o.shiftKey){if(t.enablePan===!1)return;ve(o),l=n.PAN}else{if(t.enableRotate===!1)return;be(o),l=n.ROTATE}break;case s.RsA.PAN:if(o.ctrlKey||o.metaKey||o.shiftKey){if(t.enableRotate===!1)return;be(o),l=n.ROTATE}else{if(t.enablePan===!1)return;ve(o),l=n.PAN}break;default:l=n.NONE}l!==n.NONE&&(document.addEventListener("mousemove",ce,!1),document.addEventListener("mouseup",de,!1),t.dispatchEvent(r))}}function ce(o){if(t.enabled!==!1)switch(o.preventDefault(),l){case n.ROTATE:if(t.enableRotate===!1)return;ze(o);break;case n.DOLLY:if(t.enableZoom===!1)return;He(o);break;case n.PAN:if(t.enablePan===!1)return;Ve(o);break}}function de(o){t.enabled!==!1&&(document.removeEventListener("mousemove",ce,!1),document.removeEventListener("mouseup",de,!1),t.dispatchEvent(h),l=n.NONE)}function ke(o){t.enabled===!1||t.enableZoom===!1||l!==n.NONE&&l!==n.ROTATE||(o.preventDefault(),o.stopPropagation(),t.dispatchEvent(r),Ye(o),t.dispatchEvent(h))}function Pe(o){t.enabled===!1||t.enableKeys===!1||t.enablePan===!1||Qe(o)}function Se(o){if(t.enabled!==!1){switch(o.preventDefault(),o.touches.length){case 1:switch(t.touches.ONE){case s.QmN.ROTATE:if(t.enableRotate===!1)return;Me(o),l=n.TOUCH_ROTATE;break;case s.QmN.PAN:if(t.enablePan===!1)return;we(o),l=n.TOUCH_PAN;break;default:l=n.NONE}break;case 2:switch(t.touches.TWO){case s.QmN.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Ze(o),l=n.TOUCH_DOLLY_PAN;break;case s.QmN.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Xe(o),l=n.TOUCH_DOLLY_ROTATE;break;default:l=n.NONE}break;default:l=n.NONE}l!==n.NONE&&t.dispatchEvent(r)}}function Ee(o){if(t.enabled!==!1)switch(o.preventDefault(),o.stopPropagation(),l){case n.TOUCH_ROTATE:if(t.enableRotate===!1)return;ye(o),t.update();break;case n.TOUCH_PAN:if(t.enablePan===!1)return;Ce(o),t.update();break;case n.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Ke(o),t.update();break;case n.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;We(o),t.update();break;default:l=n.NONE}}function Ae(o){t.enabled!==!1&&(t.dispatchEvent(h),l=n.NONE)}function Be(o){t.enabled!==!1&&o.preventDefault()}t.domElement.addEventListener("contextmenu",Be,!1),t.domElement.addEventListener("mousedown",Oe,!1),t.domElement.addEventListener("wheel",ke,!1),t.domElement.addEventListener("touchstart",Se,!1),t.domElement.addEventListener("touchend",Ae,!1),t.domElement.addEventListener("touchmove",Ee,!1),t.domElement.addEventListener("keydown",Pe,!1),t.domElement.tabIndex===-1&&(t.domElement.tabIndex=0),this.update()};ie.prototype=Object.create(s.pBf.prototype),ie.prototype.constructor=ie;var he=function(e,a){ie.call(this,e,a),this.mouseButtons.LEFT=s.RsA.PAN,this.mouseButtons.RIGHT=s.RsA.ROTATE,this.touches.ONE=s.QmN.PAN,this.touches.TWO=s.QmN.DOLLY_ROTATE};he.prototype=Object.create(s.pBf.prototype),he.prototype.constructor=he;var De={name:"other-3Dmodel",props:["widgetInfo"],components:{HideButton:se.Z},data(){return{scene:null,camera:null,renderer:null,light:null,controls:null,composer:null,publicPath:"",satellite:null,stop:null,angle:0}},mounted(){this.renderer=new s.CP7({antialias:!0}),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{loadInfo(e){window.cancelAnimationFrame(this.stop),this.initRender(e),this.initScene(),this.initCamera(e),this.initLight(e),this.initModel(e),this.initControls(),this.animate()},reLoadInfo(e){this.loadInfo(e)},initRender(e){this.renderer.setSize(e.attr.w,e.attr.hh),this.renderer.setClearColor(16777215),this.$refs.model.appendChild(this.renderer.domElement)},initScene(){this.scene=new s.xsS},initCamera(e){this.camera=new s.cPb(e.config.camera.width,e.attr.w/e.attr.hh,.1,1e3),this.camera.position.set(e.config.camera.x,e.config.camera.y,e.config.camera.z),this.camera.lookAt(new s.Pa4(0,0,0))},initLight(e){let a=null;e.config.lights.type=="AmbientLight"?a=new s.Mig(e.config.lights.color):e.config.lights.type=="DirectionalLight"?a=new s.Ox3(e.config.lights.color,e.config.lights.intensity):e.config.lights.type=="PointLight"?a=new s.cek(e.config.lights.color,e.config.lights.intensity):e.config.lights.type=="SpotLight"?a=new s.PMe(e.config.lights.color,e.config.lights.intensity):e.config.lights.type=="HemisphereLight"&&(a=new s.vmT(e.config.lights.color,e.config.lights.intensity)),a.position.set(e.config.lights.x,e.config.lights.y,e.config.lights.z),this.scene.add(a)},SphereGeometry(e,a,t,i){const r=new s.dpR().load(`${this.publicPath}models/dituNL2048.jpg`);let h=new s.xo$(e,32,32),n=new s.xoR({map:r}),l=new s.Kj0(h,n);return l.translateX(a),l.translateY(t),l.translateZ(i),this.scene.add(l),l},PlaneGeometry(e){const a=new s.dpR().load(`${this.publicPath}models/\u5149\u5708 2\u6D451024.png`);let t=new s.trn(e*3,32),i=new s.xoR({map:a,opacity:1,side:s.ehD}),r=new s.Kj0(t,i);return r.material.transparent=!0,this.scene.add(r),r},MoonGeometry(e,a,t,i){const r=new s.dpR().load(`${this.publicPath}models/moon.jpeg`);let h=new s.xo$(e,32,32),n=new s.xoR({map:r});n.map.matrix.rotate(2);let l=new s.Kj0(h,n);l.translateX(a),l.translateY(t),l.translateZ(i),this.scene.add(l);const u=new s.dpR().load(`${this.publicPath}models/\u5149\u5708 2\u6D451024.png`);let d=new s._12(e+20,e+20,20),c=new s.vBJ({map:u,opacity:1,side:s.ehD}),f=new s.Kj0(d,c);return f.material.transparent=!0,f.translateX(a),f.translateY(t),f.translateZ(i),this.spherePlane=f,this.scene.add(f),l},SatelliteGeometry(e,a,t){const i=new s.dpR().load(`${this.publicPath}models/\u5149\u5708 2.png`);let r=new s.trn(4,32),h=new s.vBJ({map:i,opacity:1,side:s.ehD}),n=new s.Kj0(r,h);n.material.transparent=!0,n.translateX(e),n.translateY(a+1),n.translateZ(t),this.satePlane=n,this.scene.add(n);let l=this;new B().load(`${l.publicPath}models/satellite_01.mtl`,function(d){var c=new K;const f=Fe.addMaterialsFromMtlLoader(d);for(let p in f)f[p].emissive=new s.Ilk(16777215),f[p].emissiveMap=new s.dpR().load(`${l.publicPath}models/satellite_01.jpg`);c.addMaterials(f),c.load(`${l.publicPath}models/satellite_01.obj`,function(p){p.scale.set(.03,.03,.03),p.rotation.set(0,0,0),l.pointLight([55,30,10],"#FFFF98"),p.translateX(e),p.translateY(a),p.translateZ(t),l.scene.add(p),l.satellite=p})})},initModel(e){let a=e.config.model[0],t=e.config.model[1],i=e.config.model[2];this.earth=this.SphereGeometry(a.radius,a.x,a.y,a.z),this.plane=this.PlaneGeometry(a.radius),this.moon=this.MoonGeometry(t.radius,t.x,t.y,t.z),this.SatelliteGeometry(i.x,i.y,i.z),this.scene.background=new s.Ilk(0),this.composer=new pe(this.renderer);let r=new ue(this.scene,this.camera);this.composer.addPass(r);let h=new _(new s.FM8(window.innerWidth,window.innerHeight),this.scene,this.camera);this.composer.addPass(h),h.visibleEdgeColor.set("#130AF2"),h.edgeStrength=5,h.edgeGlow=1.5},initControls(){this.controls=new E.default(this.camera,this.renderer.domElement)},render(){this.composer.render(),this.renderer.render(this.scene,this.camera)},makeRotationAxis(e,a){var t=new s.Pa4(0,0,1),i=new s.yGw;i.makeRotationAxis(t.normalize(),a*Math.PI/180),i.multiply(e.matrix),e.matrix=i,e.rotation.setFromRotationMatrix(e.matrix)},rotate(e,a,t){this.angle-=1e-4*t;var i=a[0]*Math.sin(this.angle),r=a[1]*Math.cos(this.angle),h=a[2]*Math.tan(this.angle);e.position.set(i,r,h)},animate(){if(this.$refs.model){let e=this.widgetInfo.config.model;this.render(),this.earth.rotation.z+=5e-4*e[0].speed,this.plane.rotation.z+=5e-4*e[0].speed,this.rotate(this.moon,[40,40,0],e[1].speed),this.makeRotationAxis(this.moon,1),this.rotate(this.spherePlane,[40,40,0],e[1].speed),this.makeRotationAxis(this.spherePlane,1),this.satellite&&this.satellite.rotation&&(this.rotate(this.satellite,[26,26,0],e[2].speed),this.satellite.rotation.x=20),this.satePlane&&this.satePlane.rotation&&(this.rotate(this.satePlane,[26,26,0],e[2].speed),this.satePlane.rotation.z+=.002),this.stop=window.requestAnimationFrame(this.animate)}else window.cancelAnimationFrame(this.stop)},pointLight(e,a){let t=new s.cek(a);t.position.set(e[0],e[1],e[2]),t.castShadow=!0,this.scene.add(t)}}},Le=De,je=x(768141),Ie=(0,je.Z)(Le,U,k,!1,null,"3a20157e",null),Ge=Ie.exports}}]);
