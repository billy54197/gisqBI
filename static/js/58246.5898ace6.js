"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[58246,16362],{999860:function(v,c,s){var d=s(808041),f=s(321300);c.Z={name:"font-select",props:["value"],data(){return{selectedValue:this.value,fontList:[]}},watch:{value(){this.selectedValue=this.value}},mounted(){this.initData()},methods:{initData(){let _={pageName:1,pageSize:9999999,fontFile:JSON.stringify({fontName:""})};d.N.getListByPage(_).then(a=>{if(a&&a.status==200){let r={label:"\u81EA\u5B9A\u4E49",options:[]};if(a.data.list){let i=[];for(let u=0;u<a.data.list.length;u++){let e=a.data.list[u];e.label=e.fontFamily,e.value=e.fontId,e.resId=e.fontId,i.push(e)}this.setFonts(i),r.options=i}this.fontList.push(r);let n={label:"\u7CFB\u7EDF\u5185\u7F6E",options:[]},o=this.$$global_editor.fontFamily;for(let i=0;i<o.length;i++){let u={};u.fontId="",u.fontFamily=o[i].label,u.fontName=o[i].value,u.createdByName="\u7CFB\u7EDF\u5185\u7F6E",u.label=o[i].label,u.value=o[i].value,n.options.push(u)}this.fontList.push(n)}})},change(){this.$emit("input",this.selectedValue),this.$emit("change",this.selectedValue)},setFonts(_){if(_&&_.length>0){_=_.filter((r,n)=>{let o=[];return _.forEach(i=>o.push(i.resId)),o.indexOf(r.resId)==n});let a="";_.forEach(r=>{let n=r.resId;if(n){let o=n.split("-")[1],i=`./resource/font/${n}.${o}`;a+=`@font-face {font-family: "${n}"; src: url('${i}') format('${o}')}`}}),f.appendCss("font-style",a)}}}}},353422:function(v,c,s){s.d(c,{s:function(){return d},x:function(){return f}});var d=function(){var a=this,r=a._self._c;return r("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9"},on:{change:a.change},model:{value:a.selectedValue,callback:function(n){a.selectedValue=n},expression:"selectedValue"}},a._l(a.fontList,function(n){return r("el-option-group",{key:n.label,attrs:{label:n.label}},a._l(n.options,function(o){return r("el-option",{key:o.value,style:{fontFamily:o.value},attrs:{label:o.label,value:o.value}})}),1)}),1)},f=[]},958246:function(v,c,s){s.r(c),s.d(c,{default:function(){return i}});var d=function(){var e=this,l=e._self._c;return l("div",[l("el-collapse",[l("el-collapse-item",{attrs:{title:e.title}},[l("el-form",{ref:"form",attrs:{size:"mini",model:e.textStyle,"label-width":"75px"}},[l("el-form-item",{attrs:{label:"\u6587\u5B57\u989C\u8272"}},[l("el-row",[l("el-col",{attrs:{span:18}},[l("el-input",{attrs:{placeholder:"\u6587\u5B57\u989C\u8272"},on:{change:e.getConfigData},model:{value:e.textStyle.color,callback:function(t){e.$set(e.textStyle,"color",t)},expression:"textStyle.color"}})],1),l("el-col",{attrs:{span:6}},[l("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:this.$$global_editor.predefineColors},on:{change:e.getConfigData},model:{value:e.textStyle.color,callback:function(t){e.$set(e.textStyle,"color",t)},expression:"textStyle.color"}})],1)],1)],1),l("el-form-item",{attrs:{label:"\u6587\u5B57\u98CE\u683C"}},[l("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5B57\u4F53\u98CE\u683C"},on:{change:e.getConfigData},model:{value:e.textStyle.fontStyle,callback:function(t){e.$set(e.textStyle,"fontStyle",t)},expression:"textStyle.fontStyle"}},e._l(e.fontStyleList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),l("el-form-item",{attrs:{label:"\u6587\u5B57\u7C97\u7EC6"}},[l("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5B57\u4F53\u7C97\u7EC6"},on:{change:e.getConfigData},model:{value:e.textStyle.fontWeight,callback:function(t){e.$set(e.textStyle,"fontWeight",t)},expression:"textStyle.fontWeight"}},e._l(e.fontWeightList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),l("el-form-item",{attrs:{label:"\u6587\u5B57\u5B57\u4F53"}},[l("font-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5B57\u4F53"},on:{change:e.getConfigData},model:{value:e.textStyle.fontFamily,callback:function(t){e.$set(e.textStyle,"fontFamily",t)},expression:"textStyle.fontFamily"}})],1),l("el-form-item",{attrs:{label:"\u6587\u5B57\u5927\u5C0F"}},[l("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6587\u5B57\u7684\u5B57\u4F53\u5927\u5C0F","controls-position":"right",min:1,step:.5},on:{change:e.getConfigData},model:{value:e.textStyle.fontSize,callback:function(t){e.$set(e.textStyle,"fontSize",t)},expression:"textStyle.fontSize"}})],1),e.removeAlign?e._e():l("el-form-item",{attrs:{label:"\u6C34\u5E73\u5BF9\u9F50"}},[l("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F"},on:{change:e.getConfigData},model:{value:e.textStyle.align,callback:function(t){e.$set(e.textStyle,"align",t)},expression:"textStyle.align"}},e._l(e.alignList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),e.removeVerticalAlign?e._e():l("el-form-item",{attrs:{label:"\u5782\u76F4\u5BF9\u9F50"}},[l("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5782\u76F4\u5BF9\u9F50\u65B9\u5F0F"},on:{change:e.getConfigData},model:{value:e.textStyle.verticalAlign,callback:function(t){e.$set(e.textStyle,"verticalAlign",t)},expression:"textStyle.verticalAlign"}},e._l(e.verticalAlignList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)],1)],1)},f=[],_=s(916362),a={name:"text-style",components:{FontSelect:_.default},props:{textStyle:{},title:{type:String,default:"\u6587\u5B57\u6837\u5F0F"},removeAlign:{type:Boolean,default:!1},removeVerticalAlign:{type:Boolean,default:!1}},data(){return{fontStyleList:[{value:"normal",label:"\u6B63\u5E38"},{value:"italic",label:"\u659C\u4F53\u5B57"},{value:"oblique",label:"\u503E\u659C"}],alignList:[{value:"left",label:"\u5C45\u5DE6"},{value:"center",label:"\u5C45\u4E2D"},{value:"right",label:"\u5C45\u53F3"}],verticalAlignList:[{value:"top",label:"\u5C45\u4E0A"},{value:"middle",label:"\u5C45\u4E2D"},{value:"bottom",label:"\u5C45\u4E0B"}],fontWeightList:[{value:"normal",label:"\u6B63\u5E38"},{value:"bolder",label:"\u7C97\u4F53"},{value:"lighter",label:"\u7EC6\u4F53"},{value:"100",label:"100"},{value:"200",label:"200"},{value:"400",label:"400"},{value:"600",label:"600"},{value:"800",label:"800"},{value:"1000",label:"1000"}]}},methods:{getConfigData(){this.$emit("textStyleChange",this.textStyle)}}},r=a,n=s(768141),o=(0,n.Z)(r,d,f,!1,null,"324ca6c8",null),i=o.exports},916362:function(v,c,s){s.r(c);var d=s(353422),f=s(278528),_=s(768141),a=(0,_.Z)(f.Z,d.s,d.x,!1,null,"449172f0",null);c.default=a.exports},278528:function(v,c,s){var d=s(999860);c.Z=d.Z}}]);
