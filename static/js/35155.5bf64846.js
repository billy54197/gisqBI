"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[35155],{735155:function(v,a,r){r.r(a),r.d(a,{default:function(){return y}});var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"my-operate-history-div"},[i("el-drawer",{attrs:{modal:!1,"modal-append-to-body":!1,visible:t.visible,direction:"ltr",size:"260px",title:"\u64CD\u4F5C\u8BB0\u5F55"},on:{"update:visible":function(e){t.visible=e},opened:t.onOpened}},t._l(t.history_list,function(e){return i("div",{class:"history-item history-item-"+e.type,on:{click:function(f){return t.clickHistory(e)}}},[i("span",{staticClass:"iconfont bi_edit3"}),i("el-tooltip",{attrs:{content:e.name,effect:"dark",placement:"right"}},[i("div",{staticClass:"history-item-text"},[t._v(t._s(e.name))])])],1)}),0)],1)},l=[],o=r(148836),h=r(927966),d={name:"operate-history-drawer",data(){return{visible:!1,history_list:[]}},computed:{...(0,o.Se)(["getOperateHistory","getWidgets"])},watch:{"getOperateHistory.currentStore":{deep:!0,handler:function(){this.getHistoryList()}}},methods:{...(0,o.nv)(["toOperateHistory"]),getHistoryList(){this.history_list=[];let s=[];this.$$lib__.each(this.getOperateHistory.behind,e=>{s.push({id:e.id,name:e.name,type:"behind"})}),this.history_list=this.$$lib__.union(this.history_list,s);let t=JSON.parse(this.getOperateHistory.currentStore);t&&this.history_list.push({id:t.id,name:t.name,type:"current"});let i=[];this.$$lib__.each(this.getOperateHistory.previous,e=>{i.push({id:e.id,name:e.name,type:"previous"})}),this.history_list=this.$$lib__.union(this.history_list,i.reverse())},clickHistory(s){s.type!="current"&&(this.toOperateHistory(s),setTimeout(()=>{for(let t in this.getWidgets){let i=this.getWidgets[t];h.Z.$emit("reloadBoardArea",i)}},100))},onOpened(){this.getHistoryList()},openDrawer(){this.visible=!this.visible}}},p=d,u=r(768141),c=(0,u.Z)(p,n,l,!1,null,"af87316a",null),y=c.exports}}]);
