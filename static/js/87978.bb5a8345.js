"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[87978],{987978:function(b,r,l){l.r(r),l.d(r,{default:function(){return h}});var s=function(){var e=this,n=e._self._c;return n("div",[n("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:e.currentWidget.dataset}},[n("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[n("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:e.changeDatasetType},model:{value:e.currentWidget.dataset.type,callback:function(t){e.$set(e.currentWidget.dataset,"type",t)},expression:"currentWidget.dataset.type"}},e._l(this.$$global_editor.dataSourcTypeList3,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),n("el-form-item",{attrs:{label:"\u533A\u57DF\u6807\u9898"}},[n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u533A\u57DF\u6807\u9898\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.contentArea.title.encode.field,callback:function(t){e.$set(e.currentWidget.config.contentArea.title.encode,"field",t)},expression:"currentWidget.config.contentArea.title.encode.field"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return n("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),n("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u5185\u5BB9","open-delay":1e3,effect:"dark",placement:"top"}},[n("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.addContent()}}})],1)],1),n("el-form-item",{attrs:{label:"\u533A\u57DF\u6807\u8BC6"}},[n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u533A\u57DF\u6807\u8BC6\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.contentArea.title.encode.key,callback:function(t){e.$set(e.currentWidget.config.contentArea.title.encode,"key",t)},expression:"currentWidget.config.contentArea.title.encode.key"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return n("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),n("div",{staticClass:"my-collapse-text"},[n("el-collapse",e._l(e.currentWidget.config.content,function(t,y){return n("el-collapse-item",{key:t.id},[n("template",{slot:"title"},[n("div",{staticClass:"my-title"},[e._v(e._s("\u5185\u5BB9\uFF1A"+t.lable))])]),n("el-form-item",[n("el-tooltip",{attrs:{content:"\u79FB\u9664\u5185\u5BB9","open-delay":1e3,effect:"dark",placement:"top"}},[n("el-button",{staticStyle:{float:"right",color:"#f6061b","margin-right":"20px","margin-bottom":"2px",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.deleteContent(t.id,y)}}})],1)],1),n("el-form-item",{attrs:{label:"\u5185\u5BB9\u6807\u9898"}},[n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u6807\u9898\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:t.title.encode.field,callback:function(i){e.$set(t.title.encode,"field",i)},expression:"con.title.encode.field"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(i){return n("el-option",{key:i.name,attrs:{label:i.alias!=""?i.alias:i.name,value:i.name}})}),1)],1),n("el-form-item",{attrs:{label:"\u5185\u5BB9\u6587\u672C"}},[n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u6587\u672C\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:t.number.encode.field,callback:function(i){e.$set(t.number.encode,"field",i)},expression:"con.number.encode.field"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(i){return n("el-option",{key:i.name,attrs:{label:i.alias!=""?i.alias:i.name,value:i.name}})}),1)],1)],2)}),1)],1),n("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:e.currentWidget},on:{getDataSetData:e.getConfigData,clearDynamicEncode:e.clearDynamicEncode}})],1)],1)},o=[],c=l(589908),d=l(846577),u=l(723400),g={name:"list-pane-text-data",props:["currentWidget"],components:{SettingDataset:c.Z},mixins:[u.j],methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.clearDynamicEncode(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.config.contentArea.title.encode.field="",this.$$lib__.each(this.currentWidget.config.content,a=>{a.title.encode.field="",a.number.encode.field=""})},addContent(){let a=JSON.parse(JSON.stringify(d.Z.text.list.list_pane_text.config.content[0]));a.id=JSON.parse(JSON.stringify(this.uuid())),a.lable="\u65B0\u589E\u5185\u5BB9",a.title.encode={field:""},a.number.encode={field:""},this.currentWidget.config.content.push(JSON.parse(JSON.stringify(a)))},deleteContent(a,e){this.deleteContentClick(a),this.currentWidget.config.content.splice(e,1),this.getConfigData()},deleteContentClick(a){if(a&&a!="")for(let e=0;e<this.currentWidget.action.sendOut.actionList.length;e++)this.currentWidget.action.sendOut.actionList[e].contentId==a&&this.currentWidget.action.sendOut.actionList.splice(e,1)},uuid(){let a=[],e="0123456789abcdef";for(let t=0;t<36;t++)a[t]=e.substr(Math.floor(Math.random()*16),1);return a[14]="4",a[19]=e.substr(a[19]&3|8,1),a[8]=a[13]=a[18]=a[23]="-",a.join("").replace(/-/g,"")}}},f=g,p=l(768141),m=(0,p.Z)(f,s,o,!1,null,"f55f382c",null),h=m.exports}}]);
