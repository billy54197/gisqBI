"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[81078],{432904:function(R,P,p){var m=p(609465),y=p(95232),f=function(){var c=function(u,i){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(a[v]=l[v])},c(u,i)};return function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");c(u,i);function a(){this.constructor=u}u.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),x=function(c){f(u,c);function u(){return c.call(this)||this}return u.prototype.getType=function(){return"text"},u.prototype.readFeature=function(i,a){return this.readFeatureFromText(T(i),this.adaptOptions(a))},u.prototype.readFeatureFromText=function(i,a){return(0,y.O3)()},u.prototype.readFeatures=function(i,a){return this.readFeaturesFromText(T(i),this.adaptOptions(a))},u.prototype.readFeaturesFromText=function(i,a){return(0,y.O3)()},u.prototype.readGeometry=function(i,a){return this.readGeometryFromText(T(i),this.adaptOptions(a))},u.prototype.readGeometryFromText=function(i,a){return(0,y.O3)()},u.prototype.readProjection=function(i){return this.readProjectionFromText(T(i))},u.prototype.readProjectionFromText=function(i){return this.dataProjection},u.prototype.writeFeature=function(i,a){return this.writeFeatureText(i,this.adaptOptions(a))},u.prototype.writeFeatureText=function(i,a){return(0,y.O3)()},u.prototype.writeFeatures=function(i,a){return this.writeFeaturesText(i,this.adaptOptions(a))},u.prototype.writeFeaturesText=function(i,a){return(0,y.O3)()},u.prototype.writeGeometry=function(i,a){return this.writeGeometryText(i,this.adaptOptions(a))},u.prototype.writeGeometryText=function(i,a){return(0,y.O3)()},u}(m.ZP);function T(c){return typeof c=="string"?c:""}P.Z=x},581078:function(R,P,p){var m=p(313811),y=p(872018),f=p(251154),x=p(359225),T=p(504889),c=p(922683),u=p(507522),i=p(413798),a=p(144727),l=p(432904),v=p(609465),I=function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var _ in n)Object.prototype.hasOwnProperty.call(n,_)&&(r[_]=n[_])},o(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C={POINT:i.Z,LINESTRING:x.Z,POLYGON:a.ZP,MULTIPOINT:c.Z,MULTILINESTRING:T.Z,MULTIPOLYGON:u.Z},g="EMPTY",L="Z",O="M",F="ZM",s={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},A={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"},Z=function(){function o(t){this.wkt=t,this.index_=-1}return o.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},o.prototype.isNumeric_=function(t,e){var r=e!==void 0?e:!1;return t>="0"&&t<="9"||t=="."&&!r},o.prototype.isWhiteSpace_=function(t){return t==" "||t=="	"||t=="\r"||t==`
`},o.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},o.prototype.nextToken=function(){var t=this.nextChar_(),e=this.index_,r=t,n;if(t=="(")n=s.LEFT_PAREN;else if(t==",")n=s.COMMA;else if(t==")")n=s.RIGHT_PAREN;else if(this.isNumeric_(t)||t=="-")n=s.NUMBER,r=this.readNumber_();else if(this.isAlpha_(t))n=s.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(t==="")n=s.EOF;else throw new Error("Unexpected character: "+t)}return{position:e,value:r,type:n}},o.prototype.readNumber_=function(){var t,e=this.index_,r=!1,n=!1;do t=="."?r=!0:(t=="e"||t=="E")&&(n=!0),t=this.nextChar_();while(this.isNumeric_(t,r)||!n&&(t=="e"||t=="E")||n&&(t=="-"||t=="+"));return parseFloat(this.wkt.substring(e,this.index_--))},o.prototype.readText_=function(){var t,e=this.index_;do t=this.nextChar_();while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},o}(),k=function(){function o(t){this.lexer_=t,this.token_={position:0,type:s.START},this.layout_=f.Z.XY}return o.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},o.prototype.isTokenType=function(t){return this.token_.type==t},o.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},o.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},o.prototype.parseGeometryLayout_=function(){var t=f.Z.XY,e=this.token_;if(this.isTokenType(s.TEXT)){var r=e.value;r===L?t=f.Z.XYZ:r===O?t=f.Z.XYM:r===F&&(t=f.Z.XYZM),t!==f.Z.XY&&this.consume_()}return t},o.prototype.parseGeometryCollectionText_=function(){if(this.match(s.LEFT_PAREN)){var t=[];do t.push(this.parseGeometry_());while(this.match(s.COMMA));if(this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parsePointText_=function(){if(this.match(s.LEFT_PAREN)){var t=this.parsePoint_();if(this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parseLineStringText_=function(){if(this.match(s.LEFT_PAREN)){var t=this.parsePointList_();if(this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parsePolygonText_=function(){if(this.match(s.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parseMultiPointText_=function(){if(this.match(s.LEFT_PAREN)){var t=void 0;if(this.token_.type==s.LEFT_PAREN?t=this.parsePointTextList_():t=this.parsePointList_(),this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parseMultiLineStringText_=function(){if(this.match(s.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parseMultiPolygonText_=function(){if(this.match(s.LEFT_PAREN)){var t=this.parsePolygonTextList_();if(this.match(s.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},o.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var n=this.token_;if(this.match(s.NUMBER))t.push(n.value);else break}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},o.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(s.COMMA);)t.push(this.parsePoint_());return t},o.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(s.COMMA);)t.push(this.parsePointText_());return t},o.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(s.COMMA);)t.push(this.parseLineStringText_());return t},o.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(s.COMMA);)t.push(this.parsePolygonText_());return t},o.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(s.TEXT)&&this.token_.value==g;return t&&this.consume_(),t},o.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},o.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(s.TEXT)){var e=t.value;this.layout_=this.parseGeometryLayout_();var r=this.isEmptyGeometry_();if(e=="GEOMETRYCOLLECTION"){if(r)return new y.Z([]);var n=this.parseGeometryCollectionText_();return new y.Z(n)}else{var _=C[e];if(!_)throw new Error("Invalid geometry type: "+e);var h=void 0;if(r)e=="POINT"?h=[NaN,NaN]:h=[];else switch(e){case"POINT":{h=this.parsePointText_();break}case"LINESTRING":{h=this.parseLineStringText_();break}case"POLYGON":{h=this.parsePolygonText_();break}case"MULTIPOINT":{h=this.parseMultiPointText_();break}case"MULTILINESTRING":{h=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{h=this.parseMultiPolygonText_();break}default:break}return new _(h,this.layout_)}}throw new Error(this.formatErrorMessage_())},o}(),S=function(o){I(t,o);function t(e){var r=o.call(this)||this,n=e||{};return r.splitCollection_=n.splitCollection!==void 0?n.splitCollection:!1,r}return t.prototype.parse_=function(e){var r=new Z(e),n=new k(r);return n.parse()},t.prototype.readFeatureFromText=function(e,r){var n=this.readGeometryFromText(e,r),_=new m.Z;return _.setGeometry(n),_},t.prototype.readFeaturesFromText=function(e,r){var n=[],_=this.readGeometryFromText(e,r);this.splitCollection_&&_.getType()=="GeometryCollection"?n=_.getGeometriesArray():n=[_];for(var h=[],E=0,K=n.length;E<K;++E){var N=new m.Z;N.setGeometry(n[E]),h.push(N)}return h},t.prototype.readGeometryFromText=function(e,r){var n=this.parse_(e);return(0,v.fI)(n,!1,r)},t.prototype.writeFeatureText=function(e,r){var n=e.getGeometry();return n?this.writeGeometryText(n,r):""},t.prototype.writeFeaturesText=function(e,r){if(e.length==1)return this.writeFeatureText(e[0],r);for(var n=[],_=0,h=e.length;_<h;++_)n.push(e[_].getGeometry());var E=new y.Z(n);return this.writeGeometryText(E,r)},t.prototype.writeGeometryText=function(e,r){return w((0,v.fI)(e,!0,r))},t}(l.Z);function d(o){var t=o.getCoordinates();return t.length===0?"":t.join(" ")}function j(o){for(var t=[],e=o.getPoints(),r=0,n=e.length;r<n;++r)t.push("("+d(e[r])+")");return t.join(",")}function U(o){for(var t=[],e=o.getGeometries(),r=0,n=e.length;r<n;++r)t.push(w(e[r]));return t.join(",")}function M(o){for(var t=o.getCoordinates(),e=[],r=0,n=t.length;r<n;++r)e.push(t[r].join(" "));return e.join(",")}function D(o){for(var t=[],e=o.getLineStrings(),r=0,n=e.length;r<n;++r)t.push("("+M(e[r])+")");return t.join(",")}function G(o){for(var t=[],e=o.getLinearRings(),r=0,n=e.length;r<n;++r)t.push("("+M(e[r])+")");return t.join(",")}function Y(o){for(var t=[],e=o.getPolygons(),r=0,n=e.length;r<n;++r)t.push("("+G(e[r])+")");return t.join(",")}function W(o){var t=o.getLayout(),e="";return(t===f.Z.XYZ||t===f.Z.XYZM)&&(e+=L),(t===f.Z.XYM||t===f.Z.XYZM)&&(e+=O),e}var B={Point:d,LineString:M,Polygon:G,MultiPoint:j,MultiLineString:D,MultiPolygon:Y,GeometryCollection:U};function w(o){var t=o.getType(),e=B[t],r=e(o),n=A[t];if(typeof o.getFlatCoordinates=="function"){var _=W(o);_.length>0&&(n+=" "+_)}return r.length===0?n+" "+g:n+"("+r+")"}P.Z=S}}]);
