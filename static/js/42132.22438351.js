"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[42132],{392112:function(h,i,l){l.d(i,{Z:function(){return d}});var r=function(){var e=this,n=e._self._c;return n("div",[n("el-collapse",[n("el-collapse-item",{attrs:{title:e.title}},[n("el-form",{ref:"form",attrs:{size:"mini",model:e.fontStyle,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{label:"\u5B57\u4F53\u5927\u5C0F"}},[n("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u5B57\u53F7\u5927\u5C0F","controls-position":"right",step:.5,min:10,max:100},on:{change:e.getConfigData},model:{value:e.fontStyle.fontSize,callback:function(t){e.$set(e.fontStyle,"fontSize",t)},expression:"fontStyle.fontSize"}})],1),e.removeFamily?e._e():n("el-form-item",{attrs:{label:"\u5B57\u4F53"}},[n("font-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5B57\u4F53"},on:{change:e.getConfigData},model:{value:e.fontStyle.fontFamily,callback:function(t){e.$set(e.fontStyle,"fontFamily",t)},expression:"fontStyle.fontFamily"}})],1),e.removeColor?e._e():n("el-form-item",{attrs:{label:"\u5B57\u4F53\u989C\u8272"}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{placeholder:"\u9009\u62E9\u989C\u8272"},on:{change:e.getConfigData},model:{value:e.fontStyle.color,callback:function(t){e.$set(e.fontStyle,"color",t)},expression:"fontStyle.color"}})],1),n("el-col",{attrs:{span:6}},[n("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{"show-alpha":"",predefine:e.$$global_editor.predefineColors},on:{change:e.getConfigData},model:{value:e.fontStyle.color,callback:function(t){e.$set(e.fontStyle,"color",t)},expression:"fontStyle.color"}})],1)],1)],1),e.removeFontWeight&&e.removeFontStyle&&e.removeTextDecoration?e._e():n("el-form-item",{attrs:{label:"\u5B57\u4F53\u6837\u5F0F"}},[e.removeFontWeight?e._e():n("el-checkbox-button",{attrs:{"true-label":"bolder","false-label":"normal"},on:{change:e.getConfigData},model:{value:e.fontStyle.fontWeight,callback:function(t){e.$set(e.fontStyle,"fontWeight",t)},expression:"fontStyle.fontWeight"}},[n("i",{staticClass:"iconfont bi_bold"})]),e.removeFontStyle?e._e():n("el-checkbox-button",{attrs:{"true-label":"italic","false-label":"normal"},on:{change:e.getConfigData},model:{value:e.fontStyle.fontStyle,callback:function(t){e.$set(e.fontStyle,"fontStyle",t)},expression:"fontStyle.fontStyle"}},[n("i",{staticClass:"iconfont bi_italic"})]),e.removeTextDecoration?e._e():n("el-checkbox-button",{attrs:{"true-label":"underline","false-label":"none"},on:{change:e.getConfigData},model:{value:e.fontStyle.textDecoration,callback:function(t){e.$set(e.fontStyle,"textDecoration",t)},expression:"fontStyle.textDecoration"}},[n("i",{staticClass:"iconfont bi_underline"})])],1),e.removeHorizontalAlignment?e._e():n("el-form-item",{attrs:{label:"\u6C34\u5E73\u5BF9\u9F50"}},[n("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5BF9\u9F50\u65B9\u5F0F"},on:{change:e.getConfigData},model:{value:e.fontStyle.horizontalAlignment,callback:function(t){e.$set(e.fontStyle,"horizontalAlignment",t)},expression:"fontStyle.horizontalAlignment"}},e._l(e.$$global_editor.horizontalAlignment,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)],1)],1)},s=[],c=l(723400),m={name:"FontStyle",components:{FontSelect:()=>l.e(16362).then(l.bind(l,916362))},mixins:[c.j],props:{fontStyle:{},title:{type:String,default:"\u5B57\u4F53"},removeColor:{type:Boolean,default:!1},removeFamily:{type:Boolean,default:!1},removeFontWeight:{type:Boolean,default:!1},removeFontStyle:{type:Boolean,default:!1},removeTextDecoration:{type:Boolean,default:!1},removeHorizontalAlignment:{type:Boolean,default:!1}},mounted(){this.fontStyle.fontWeight||(this.fontStyle.fontWeight="normal"),this.fontStyle.textDecoration||(this.fontStyle.textDecoration="none"),this.fontStyle.fontStyle||(this.fontStyle.fontStyle="normal")},methods:{getConfigData(){this.$emit("fontStyleChange",this.fontStyle)}}},f=m,g=l(768141),u=(0,g.Z)(f,r,s,!1,null,"0ad99d94",null),d=u.exports},142132:function(h,i,l){l.r(i),l.d(i,{default:function(){return e}});var r=function(){var t=this,o=t._self._c;return o("vue-lazy-component",[o("el-collapse",[o("el-collapse-item",[o("template",{slot:"title"},[o("div",{staticClass:"my-title"},[t._v("\u6C34\u5370\u6837\u5F0F")])]),o("vue-lazy-component",{staticClass:"my-collapse-chart"},[o("el-form",{ref:"form",attrs:{size:"mini",model:t.currentWidget.config,"label-width":"110px"}},[o("el-form-item",{attrs:{label:"\u5E94\u7528\u6574\u4E2A\u770B\u677F"}},[o("el-switch",{on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.all,callback:function(a){t.$set(t.currentWidget.config.watermark,"all",a)},expression:"currentWidget.config.watermark.all"}})],1),t.currentWidget.config.watermark.all?t._e():[o("el-form-item",{attrs:{label:"\u6C34\u5370\u884C\u6570"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6C34\u5370\u884C\u6570","controls-position":"right",step:1,min:1},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.rows,callback:function(a){t.$set(t.currentWidget.config.watermark,"rows",a)},expression:"currentWidget.config.watermark.rows"}})],1),o("el-form-item",{attrs:{label:"\u6C34\u5370\u5217\u6570"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6C34\u5370\u5217\u6570","controls-position":"right",step:1,min:1},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.cols,callback:function(a){t.$set(t.currentWidget.config.watermark,"cols",a)},expression:"currentWidget.config.watermark.cols"}})],1)],o("el-form-item",{attrs:{label:"\u6C34\u5370\u5BBD\u5EA6"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6C34\u5370\u5BBD\u5EA6","controls-position":"right",step:1,min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.singleWidth,callback:function(a){t.$set(t.currentWidget.config.watermark,"singleWidth",a)},expression:"currentWidget.config.watermark.singleWidth"}})],1),o("el-form-item",{attrs:{label:"\u6C34\u5370\u9AD8\u5EA6"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6C34\u5370\u9AD8\u5EA6","controls-position":"right",step:1,min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.singleHeight,callback:function(a){t.$set(t.currentWidget.config.watermark,"singleHeight",a)},expression:"currentWidget.config.watermark.singleHeight"}})],1),o("el-form-item",{attrs:{label:"\u6C34\u5370\u6C34\u5E73\u95F4\u8DDD"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6C34\u5370\u6C34\u5E73\u95F4\u8DDD","controls-position":"right",step:1,min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.xSpace,callback:function(a){t.$set(t.currentWidget.config.watermark,"xSpace",a)},expression:"currentWidget.config.watermark.xSpace"}})],1),o("el-form-item",{attrs:{label:"\u6C34\u5370\u5782\u76F4\u95F4\u8DDD"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u6C34\u5370\u6C34\u5E73\u95F4\u8DDD","controls-position":"right",step:1,min:0},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.ySpace,callback:function(a){t.$set(t.currentWidget.config.watermark,"ySpace",a)},expression:"currentWidget.config.watermark.ySpace"}})],1),o("el-form-item",{attrs:{label:"\u503E\u659C\u5EA6\u6570"}},[o("el-input-number",{staticClass:"my-style-number",staticStyle:{width:"160px"},attrs:{placeholder:"\u503E\u659C\u5EA6\u6570","controls-position":"right",step:1,min:0,max:360},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.angle,callback:function(a){t.$set(t.currentWidget.config.watermark,"angle",a)},expression:"currentWidget.config.watermark.angle"}})],1),o("el-form-item",{staticClass:"opcity",attrs:{label:"\u4E0D\u900F\u660E\u5EA6"}},[o("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark.opacity,callback:function(a){t.$set(t.currentWidget.config.watermark,"opacity",a)},expression:"currentWidget.config.watermark.opacity"}})],1),o("font-style",{attrs:{"font-style":t.currentWidget.config.watermark.fontStyle,"remove-horizontal-alignment":!0,"remove-font-weight":!0,"remove-font-style":!0,"remove-text-decoration":!0,title:"\u6587\u5B57\u6837\u5F0F"},on:{fontStyleChange:t.fontStyleChange}}),o("el-form-item",{attrs:{label:"\u542F\u7528\u811A\u672C"}},[o("common-custom-script",{attrs:{options:t.script_options},on:{change:t.getConfigData},model:{value:t.currentWidget.config.watermark,callback:function(a){t.$set(t.currentWidget.config,"watermark",a)},expression:"currentWidget.config.watermark"}})],1)],2)],1)],2)],1)],1)},s=[],c=l(723400),m=l(148836),f=l(392112),g={name:"ComWatermarkStyle",components:{FontStyle:f.Z,MyMonacoEditor:()=>Promise.resolve().then(l.bind(l,980424)),CommonCustomScript:()=>Promise.resolve().then(l.bind(l,406627))},mixins:[c.j],props:["currentWidget","widgets"],data(){return{globalEditor:this.$$global_editor,ScriptContent:"",divH:"0",dialogVisible:!1,dialogWidth:"0px",script_content:"",script_options:{attribute_enable:"enabled",attribute_script_content:"ScriptContent",title:"\u6C34\u5370\u56FE\u5185\u5BB9",script_examples:`/*\u5F53\u524D\u65B9\u6CD5\u4E2D\u53EF\u4F7F\u7528\u7684\u53C2\u6570\uFF1A
content:\u6570\u636E\u96C6\u7ED1\u5B9A\u201C\u663E\u793A\u5185\u5BB9\u201D\u5B57\u6BB5\uFF1B
ip\uFF1A\u5F53\u524D\u8BBE\u5907ip; 
new Date().getFullYear():\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u5E74\u4EFD; 
new Date().getMonth()+1\uFF1A\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u6708\u4EFD; 
new Date().getDate():\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u65E5\u671F; 
new Date().getDay()\uFF1A\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u5468\u51E0; 
new Date().getHours():\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u5C0F\u65F6; 
new Date().getMinutes()\uFF1A\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u5206\u949F; 
new Date().getSeconds():\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\u79D2; 
*/ 
let str = new Date().getFullYear() + "\u5E74" + (new Date().getMonth() + 1) + "\u6708" + new Date().getDate() + "\u65E5"; 
return str; 
`}}},mounted(){this.dialogWidth=window.innerWidth-170+"px",this.divH=window.innerHeight-160},methods:{...(0,m.nv)(["updateWidgetBindId"]),fontStyleChange(n){this.currentWidget.config.watermark.fontStyle=n,this.getConfigData()},editScript(n){this.dialogVisible=!0,setTimeout(()=>{this.$refs.scriptContent.setValue(n)},1)},cancel(){this.dialogVisible=!1,this.$refs.scriptContent.setValue("")},confirm(){this.currentWidget.config.watermark.ScriptContent=this.script_content,this.getConfigData(),this.dialogVisible=!1},afterEnter(){this.$refs.sampleCode.initEditor()}}},u=g,d=l(768141),p=(0,d.Z)(u,r,s,!1,null,"3488befa",null),e=p.exports}}]);
