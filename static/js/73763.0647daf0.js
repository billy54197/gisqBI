"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[73763],{56279:function(m,r,e){e.d(r,{P:function(){return i}});var o=e(386892),s=e(149500);const i={mixins:[o.D],created(){},methods:{lifecycleBeforeChartsLoad(a){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&s.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),s.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let d=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[a]);if(d)return d}return a},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&s.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),s.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},752246:function(m,r,e){e.d(r,{X:function(){return o},b:function(){return s}});let o={versions:function(){var i=navigator.userAgent;return{trident:i.indexOf("Trident")>-1,presto:i.indexOf("Presto")>-1,webKit:i.indexOf("AppleWebKit")>-1,gecko:i.indexOf("Gecko")>-1&&i.indexOf("KHTML")==-1,mobile:!!i.match(/AppleWebKit.*Mobile.*/),ios:!!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:i.indexOf("Android")>-1,iPhone:i.indexOf("iPhone")>-1,iPad:i.indexOf("iPad")>-1,webApp:i.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},s;o.versions.mobile||o.versions.ios||o.versions.android||o.versions.iPhone||o.versions.iPad?s=!1:s=!0},844513:function(m,r,e){e.d(r,{Z:function(){return p}});var o=function(){var t=this,n=t._self._c;return t.attr.buttonHide?n("div",{style:{position:"absolute",right:t.attr.buttonHideRight+"px",top:t.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(g){return t.onHide()}}},[t.openTooltip?n("el-tooltip",{attrs:{"open-delay":1e3,content:t.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[n("el-button",{class:t.attr.buttonHideIconClass&&t.attr.buttonHideIconClass!=""?t.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:t.attr.buttonHideColor,fontSize:t.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):n("el-button",{class:t.attr.buttonHideIconClass&&t.attr.buttonHideIconClass!=""?t.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:t.attr.buttonHideColor,fontSize:t.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):t._e()},s=[],i=e(752246),a={props:["attr"],name:"hide-button",data(){return{isPc:i.b}},computed:{openTooltip:function(){let l=!1,t=this.attr.buttonHideTooltipContent;return i.b&&t&&t!=null&&t.trim()!=""&&(l=!0),l}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},h=a,d=e(768141),v=(0,d.Z)(h,o,s,!1,null,"bf399b9a",null),p=v.exports},940097:function(m,r,e){e.d(r,{Z:function(){return l}});var o=function(){var n=this,g=n._self._c;return g("div",{staticClass:"my_class",style:n.svgStyle(),domProps:{innerHTML:n._s(n.html_svg)}})},s=[],i=e(321300),a=e(149500),h={name:"background-svg",props:{svg_info:{},svg_info_extend:{},widgetInfo:{},mounted_load:{type:Boolean,default:!1}},data(){return{html_svg:"",svg_attribute:{},dimensionsAliasEx:null,negative:null}},mounted(){this.mounted_load&&this.getHtmlSvg()},methods:{resize(){this.getHtmlSvg()},getHtmlSvg(){if(this.html_svg="",this.svg_attribute=this.$$lib__.extend(this.svg_info,this.svg_info_extend),this.svg_attribute.svg_content)try{let t=new Function("svg_attribute","widgetInfo",this.svg_attribute.svg_content);this.html_svg=t.apply(this,[this.svg_attribute,this.widgetInfo])}catch(t){this.widgetInfo&&this.widgetInfo.name?a.error("\u7EC4\u4EF6\uFF1A"+this.widgetInfo.name+" \u7684\u88C5\u9970\u80CC\u666F\uFF0CSVG\u4EE3\u7801\u6267\u884C\u62A5\u9519\uFF1A"+t.message):a.error("SVG\u4EE3\u7801\u6267\u884C\u62A5\u9519\uFF1A"+t.message)}else this.widgetInfo&&this.widgetInfo.name?a.error("\u7EC4\u4EF6\uFF1A"+this.widgetInfo.name+" \u7684\u88C5\u9970\u80CC\u666F\uFF0CSVG\u4EE3\u7801\u4E3A\u7A7A"):a.error("SVG\u4EE3\u7801\u4E3A\u7A7A")},svgStyle(){let t={width:this.svg_attribute.width+"px",height:this.svg_attribute.height+"px"};return this.svg_attribute.turn==!0&&(t.mozTransform="scale(1,-1)",t.webkitTransform="scale(1,-1)",t.oTransform="scale(1,-1)",t.transform="scale(1,-1)",t.filter="FlipV"),t},getText(){let t=this.getDataSourceList();return t&&t.length>0?t[0][this.widgetInfo.dataset[this.widgetInfo.dataset.type].encode.text]:""},getDataSourceList(){let t=[];if(this.widgetInfo&&this.widgetInfo.dataset[this.widgetInfo.dataset.type]&&this.widgetInfo.dataset[this.widgetInfo.dataset.type].dimensions&&this.widgetInfo.dataset[this.widgetInfo.dataset.type].dimensions.length>0)for(let n=0;n<this.widgetInfo.dataset[this.widgetInfo.dataset.type].source.length;n++){let g={};for(let u=0;u<this.widgetInfo.dataset[this.widgetInfo.dataset.type].dimensions.length;u++)g[this.widgetInfo.dataset[this.widgetInfo.dataset.type].dimensions[u]]=this.widgetInfo.dataset[this.widgetInfo.dataset.type].source[n][u];t.push(g)}return t},getRandom(t){return i.randomString(t)},colorToRgb(t){return i.colorToRgb(t)}}},d=h,v=e(768141),p=(0,v.Z)(d,o,s,!1,null,"826862c2",null),l=p.exports},73763:function(m,r,e){e.r(r),e.d(r,{default:function(){return u}});var o=function(){var f=this,w=f._self._c;return w("div",{style:{width:f.widgetInfo.attr.w+"px",height:f.widgetInfo.attr.hh+"px",overflow:"hidden"}},[w("hide-button",{attrs:{attr:f.widgetInfo.attr},on:{sendButtonHide:f.sendButtonHide}}),w("background-svg",{ref:"refBackgroundSvg",attrs:{svg_info:f.svg_info,svg_info_extend:f.svg_info_extend,"widget-info":f.widgetInfo}})],1)},s=[],i=e(521109),a=e(126711),h=e(445061),d=e(940097),v=e(844513),p=e(56279),l={name:"DecorateBackground",components:{HideButton:v.Z,BackgroundSvg:d.Z},mixins:[i.baseConfig,a.H,h.u,p.P],props:["widgetInfo"],data(){return{svg_info:{},svg_info_extend:{}}},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},methods:{loadInfo(c){this.svg_info={},this.svg_info_extend={},this.svg_info=JSON.parse(JSON.stringify(c.config.svg)),this.svg_info_extend.width=c.attr.widgetW,this.svg_info_extend.height=c.attr.h,this.$nextTick(()=>{this.svg_info.svgType&&this.svg_info.svgType!=""&&this.$refs.refBackgroundSvg.getHtmlSvg()}),this.lifecycleAfterLoad()},reLoadInfo(c){this.loadInfo(c)},initAction(c){this.actionReceive(c)},resize(){this.loadInfo(this.widgetInfo)}}},t=l,n=e(768141),g=(0,n.Z)(t,o,s,!1,null,"14297b60",null),u=g.exports}}]);
