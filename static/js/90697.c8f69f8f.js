"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[90697],{590697:function(y,r,l){l.r(r),l.d(r,{default:function(){return h}});var s=function(){var e=this,a=e._self._c;return a("div",[a("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:e.currentWidget.dataset}},[a("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:e.changeDatasetType},model:{value:e.currentWidget.dataset.type,callback:function(t){e.$set(e.currentWidget.dataset,"type",t)},expression:"currentWidget.dataset.type"}},e._l(this.$$global_editor.dataSourcTypeList3,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"\u533A\u57DF\u6807\u9898"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u533A\u57DF\u6807\u9898\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.contentArea.title.encode.field,callback:function(t){e.$set(e.currentWidget.config.contentArea.title.encode,"field",t)},expression:"currentWidget.config.contentArea.title.encode.field"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u6807\u9898\u80CC\u666F"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u6807\u9898\u80CC\u666F\u56FE\u7247\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.contentArea.title.encode.image,callback:function(t){e.$set(e.currentWidget.config.contentArea.title.encode,"image",t)},expression:"currentWidget.config.contentArea.title.encode.image"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u533A\u57DF\u80CC\u666F"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u533A\u57DF\u80CC\u666F\u56FE\u7247\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:e.currentWidget.config.contentArea.imageField,callback:function(t){e.$set(e.currentWidget.config.contentArea,"imageField",t)},expression:"currentWidget.config.contentArea.imageField"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(t){return a("el-option",{key:t.name,attrs:{label:t.alias!=""?t.alias:t.name,value:t.name}})}),1),a("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u5185\u5BB9","open-delay":1e3,effect:"light",placement:"top"}},[a("el-button",{staticClass:"el-icon-plus",staticStyle:{color:"#13CE66","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.addContent()}}})],1)],1),a("div",{staticClass:"my-collapse-text"},[a("el-collapse",e._l(e.currentWidget.config.content,function(t,b){return a("el-collapse-item",{key:t.id},[a("template",{slot:"title"},[a("div",{staticClass:"my-title"},[e._v(e._s("\u5185\u5BB9\uFF1A"+t.lable))])]),a("el-form-item",[a("el-tooltip",{attrs:{content:"\u79FB\u9664\u5185\u5BB9","open-delay":1e3,effect:"light",placement:"top"}},[a("el-button",{staticStyle:{float:"right",color:"#f6061b","margin-right":"20px","margin-bottom":"2px",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteContent(t.id,b)}}})],1)],1),a("el-form-item",{attrs:{label:"\u6807\u9898\u6587\u672C"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u6807\u9898\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:t.title.encode.field,callback:function(n){e.$set(t.title.encode,"field",n)},expression:"con.title.encode.field"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(n){return a("el-option",{key:n.name,attrs:{label:n.alias!=""?n.alias:n.name,value:n.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u5185\u5BB9\u6587\u672C"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u6587\u672C\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:t.number.encode.field,callback:function(n){e.$set(t.number.encode,"field",n)},expression:"con.number.encode.field"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(n){return a("el-option",{key:n.name,attrs:{label:n.alias!=""?n.alias:n.name,value:n.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u6807\u9898\u80CC\u666F"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u6807\u9898\u80CC\u666F\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:t.title.encode.image,callback:function(n){e.$set(t.title.encode,"image",n)},expression:"con.title.encode.image"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(n){return a("el-option",{key:n.name,attrs:{label:n.alias!=""?n.alias:n.name,value:n.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u5185\u5BB9\u80CC\u666F"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u80CC\u666F\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:e.getConfigData},model:{value:t.imageField,callback:function(n){e.$set(t,"imageField",n)},expression:"con.imageField"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(n){return a("el-option",{key:n.name,attrs:{label:n.alias!=""?n.alias:n.name,value:n.name}})}),1)],1),a("el-form-item",{attrs:{label:"\u6587\u672C\u80CC\u666F"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{clearable:"",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u5185\u5BB9\u6587\u672C\u6620\u5C04\u7684\u56FE\u7247\u94FE\u63A5"},on:{change:e.getConfigData},model:{value:t.number.imageField,callback:function(n){e.$set(t.number,"imageField",n)},expression:"con.number.imageField"}},e._l(e.currentWidget.dataset[e.currentWidget.dataset.type].dimensionsAlias,function(n){return a("el-option",{key:n.name,attrs:{label:n.alias!=""?n.alias:n.name,value:n.name}})}),1)],1)],2)}),1)],1),a("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:e.currentWidget},on:{getDataSetData:e.getConfigData,clearDynamicEncode:e.clearDynamicEncode}})],1)],1)},c=[],o=l(589908),d=l(846577),g=l(723400),u={name:"list-carousel-text-data",props:["currentWidget"],components:{SettingDataset:o.Z},mixins:[g.j],methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.clearDynamicEncode(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.config.contentArea.title.encode.field="",this.currentWidget.config.contentArea.title.encode.image="",this.currentWidget.config.contentArea.imageField="",this.$$lib__.each(this.currentWidget.config.content,i=>{i.title.encode.field="",i.number.encode.field="",i.title.encode.image="",i.imageField=""})},addContent(){let i=JSON.parse(JSON.stringify(d.Z.text.list.list_pane_text.config.content[0]));i.id=JSON.parse(JSON.stringify(this.uuid())),i.lable="\u65B0\u589E\u5185\u5BB9",i.title.encode={field:"",image:""},i.imageField="",i.number.encode={field:""},this.currentWidget.config.content.push(JSON.parse(JSON.stringify(i)))},deleteContent(i,e){this.deleteContentClick(i),this.currentWidget.config.content.splice(e,1),this.getConfigData()},deleteContentClick(i){if(i&&i!="")for(let e=0;e<this.currentWidget.action.sendOut.actionList.length;e++)this.currentWidget.action.sendOut.actionList[e].contentId==i&&this.currentWidget.action.sendOut.actionList.splice(e,1)},uuid(){let i=[],e="0123456789abcdef";for(let t=0;t<36;t++)i[t]=e.substr(Math.floor(Math.random()*16),1);return i[14]="4",i[19]=e.substr(i[19]&3|8,1),i[8]=i[13]=i[18]=i[23]="-",i.join("").replace(/-/g,"")}}},f=u,m=l(768141),p=(0,m.Z)(f,s,c,!1,null,"a5a1576e",null),h=p.exports}}]);
