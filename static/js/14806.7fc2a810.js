"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[14806],{56279:function(m,l,n){n.d(l,{P:function(){return s}});var a=n(386892),r=n(149500);const s={mixins:[a.D],created(){},methods:{lifecycleBeforeChartsLoad(c){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&r.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),r.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let f=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[c]);if(f)return f}return c},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&r.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),r.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},752246:function(m,l,n){n.d(l,{X:function(){return a},b:function(){return r}});let a={versions:function(){var s=navigator.userAgent;return{trident:s.indexOf("Trident")>-1,presto:s.indexOf("Presto")>-1,webKit:s.indexOf("AppleWebKit")>-1,gecko:s.indexOf("Gecko")>-1&&s.indexOf("KHTML")==-1,mobile:!!s.match(/AppleWebKit.*Mobile.*/),ios:!!s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:s.indexOf("Android")>-1,iPhone:s.indexOf("iPhone")>-1,iPad:s.indexOf("iPad")>-1,webApp:s.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},r;a.versions.mobile||a.versions.ios||a.versions.android||a.versions.iPhone||a.versions.iPad?r=!1:r=!0},844513:function(m,l,n){n.d(l,{Z:function(){return p}});var a=function(){var i=this,d=i._self._c;return i.attr.buttonHide?d("div",{style:{position:"absolute",right:i.attr.buttonHideRight+"px",top:i.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(y){return i.onHide()}}},[i.openTooltip?d("el-tooltip",{attrs:{"open-delay":1e3,content:i.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[d("el-button",{class:i.attr.buttonHideIconClass&&i.attr.buttonHideIconClass!=""?i.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:i.attr.buttonHideColor,fontSize:i.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):d("el-button",{class:i.attr.buttonHideIconClass&&i.attr.buttonHideIconClass!=""?i.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:i.attr.buttonHideColor,fontSize:i.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):i._e()},r=[],s=n(752246),c={props:["attr"],name:"hide-button",data(){return{isPc:s.b}},computed:{openTooltip:function(){let h=!1,i=this.attr.buttonHideTooltipContent;return s.b&&i&&i!=null&&i.trim()!=""&&(h=!0),h}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},u=c,f=n(768141),g=(0,f.Z)(u,a,r,!1,null,"bf399b9a",null),p=g.exports},614806:function(m,l,n){n.r(l),n.d(l,{default:function(){return w}});var a=function(){var t=this,o=t._self._c;return o("div",{ref:"comTime",staticStyle:{overflow:"hidden"}},[o("hide-button",{attrs:{attr:t.widgetInfo.attr}}),o("div",{style:t.style},[t.widgetInfo.config.style.hours.show?o("span",[o("span",[t._v(t._s(t.time.hours))]),o("span",{style:t.formatHoursStyle},[t._v(t._s(t.widgetInfo.config.style.hours.format.text))])]):t._e(),t.widgetInfo.config.style.minute.show?o("span",[o("span",[t._v(t._s(t.time.minute))]),o("span",{style:t.formatMinuteStyle},[t._v(t._s(t.widgetInfo.config.style.minute.format.text))])]):t._e(),t.widgetInfo.config.style.second.show?o("span",[o("span",[t._v(t._s(t.time.second))]),o("span",{style:t.formatSecondStyle},[t._v(t._s(t.widgetInfo.config.style.second.format.text))])]):t._e(),t.widgetInfo.config.style.hours.system===12&&t.widgetInfo.config.style.hours.meridiem.show?o("span",[o("span",[t._v(t._s(t.meridiem))])]):t._e()])],1)},r=[],s=n(844513),c=n(445061),u=n(56279),f=n(688775),g=n(67157);const p={mixins:[g.c],data(){return{config_extend:{},filter_config:{global:{label:{fontFamily:"alibabaPuHuiTiRegular",color:"rgba(48, 49, 51, 1)"}},style:{hours:{format:{color:""}},minute:{format:{color:""}},second:{show:!0,format:{color:""}}}}}},methods:{filterPredefineColoursSchemeConfig(e,t){this.getNewConfigWithArrary(e,t,this.filter_config)}}};var h={props:["widgetInfo"],name:"com-time",components:{HideButton:s.Z},mixins:[f.baseConfig,c.u,u.P,p],data(){return{style:{},formatHoursStyle:{},formatMinuteStyle:{},formatSecondStyle:{},time:{hours:"",minute:"",second:""},meridiem:""}},mounted(){this.initAction(this.widgetInfo),this.loadInfo(this.widgetInfo)},watch:{"widgetInfo.attr.hide":function(){this.$emit("attrChange",this.widgetInfo)}},methods:{loadInfo(e){this.timmer(),this.getStyleInfo(e),this.lifecycleAfterLoad()},initAction(e){this.actionReceive(e)},timmer(){let e=new Date;setTimeout(()=>{e=new Date,this.timmer()},1e3);let t=this.widgetInfo.config.style.hours.system==12?this.widgetInfo.config.style.hours.system:0;this.meridiem=e.getHours()>12?"pm":"am";let o=e.getHours()-t;o=o<=0?e.getHours():o,this.time.hours=this.format(o),this.time.minute=this.format(e.getMinutes()),this.time.second=this.format(e.getSeconds())},format(e){let t;return e<10&&e>0?t=`0${e}`:e===0?t=`0${e}`:t=e,t},getStyleInfo(e){let t=e.config.global,o=e.config.style;this.style={width:e.attr.w+"px",height:e.attr.hh+"px",fontSize:this.mUtils.getNewFontSize(t.label.fontSize)+"px",color:t.label.color,fontWeight:t.label.fontWeight,fontFamily:t.label.fontFamily,fontStyle:t.label.fontStyle,textDecoration:t.label.textDecoration,textAlign:t.label.horizontalAlignment,lineHeight:this.mUtils.getNewPxH(t.label.lineHeight)+"px"},this.formatHoursStyle=this.formatStyle(o.hours.format),this.formatMinuteStyle=this.formatStyle(o.minute.format),this.formatSecondStyle=this.formatStyle(o.second.format)},formatStyle(e){return{display:"inline-block",width:this.mUtils.getNewPxW(e.width)+"px",textAlign:e.textAlign,color:e.color}},reLoadInfo(e){this.loadInfo(e)}}},i=h,d=n(768141),y=(0,d.Z)(i,a,r,!1,null,"ea7a79ec",null),w=y.exports}}]);
