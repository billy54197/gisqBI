"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[36689],{56279:function(m,p,s){s.d(p,{P:function(){return b}});var u=s(386892),g=s(149500);const b={mixins:[u.D],created(){},methods:{lifecycleBeforeChartsLoad(t){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&g.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),g.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let n=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[t]);if(n)return n}return t},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&g.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),g.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},483577:function(m,p,s){s.d(p,{i:function(){return b}});var u=s(148836),g=s(927966);const b={created(){},computed:{...(0,u.Se)(["getCurrentWidget","getKeydown","getSelectMultiple","getMultipleWidget","getWidgets"])},methods:{...(0,u.nv)(["setCurrentWidget","setCurrentWidgetXYWHR","setActiveScreen","removeMultipleWidget","addMultipleWidget","setSelectMultiple","clearMultipleWidget"]),reLoadInfo(t){this.widgetInfo.id!=t.id&&this.$refs["comp_"+t.id]&&setTimeout(()=>{this.$refs["comp_"+t.id][0].reLoadInfo(t),this.$refs["comp_frame_"+t.id][0].initSvg()},500),this.loadInfo(t)},orgWidget(t,i){let n=[];return this.$$lib__.each(t,r=>{for(let a=0;a<this.widgetArr.length;a++){let d=this.widgetArr[a];d.parentId==this.widgetInfo.id&&d.id==r.id&&(!i||i(d))&&n.push(JSON.parse(JSON.stringify(d)))}}),n},setTitleText(t,i){i?this.$$lib__.each(i,n=>{this.$$lib__.each(this.orgWidget(n.widgets,r=>!r.title.hide&&r.title.text),r=>{r.attr.widgetW||(r.attr.widgetW=r.attr.w),this.$refs["title_"+r.id]&&this.$refs["title_"+r.id][0]&&(this.$refs["title_"+r.id][0].innerHTML=this.initTextPosition(r)),r.title.position||(r.title.position="top")})}):this.$$lib__.each(this.orgWidget(t,n=>!n.title.hide&&n.title.text),n=>{this.$refs["title_"+n.id]&&this.$refs["title_"+n.id][0]&&(this.$refs["title_"+n.id][0].innerHTML=this.initTextPosition(n)),n.title.position||(n.title.position="top")})},initTextPosition(t){return t.title.text===void 0||!t.title.text?"":t.title.text&&(t.title.position==="left"||t.title.position==="right")?t.title.text.split("").join("<br />"):t.title.text},onActive(t){return this.getSelectMultiple?this.getMultipleWidget[t.id]!=null:t.id===this.getCurrentWidget.id},onClicked(t){if(t&&t.currentTarget){let i=t.currentTarget.id;if(i&&i.indexOf(this.prefix.widget)>-1){let n=i.substr(this.prefix.widget.length);if(n!=this.getCurrentWidget.id){this.setActiveScreen(!1),this.setCurrentWidget(n);let r=this.$$lib__.keys(this.getMultipleWidget);this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[n]?this.removeMultipleWidget(n):this.addMultipleWidget(n)):this.getMultipleWidget[n]==null?(this.setSelectMultiple(!1),this.clearMultipleWidget(),this.addMultipleWidget(n)):r&&r.length==1&&(this.setSelectMultiple(!1),this.setCurrentWidget(r[0]),this.clearMultipleWidget(),this.addMultipleWidget(r[0]))}g.Z.$emit("autoScrollIntoViewWidgetTree",n)}}},onMouseEnter(t){this.onWidgetLayerMouseOver("push",t)},onMouseLeave(t){this.onWidgetLayerMouseOver("pop",t)},onWidgetLayerMouseOver(t,i){if(i&&i.currentTarget){let n=i.currentTarget.id;if(n&&n.indexOf(this.prefix.widget)>-1){let r=n.substr(this.prefix.widget.length);r&&r!=this.getCurrentWidget.id&&this.getMultipleWidget[r]==null&&t=="push"&&this.widget_layer_mouse_over.push(r),t=="pop"&&(this.widget_layer_mouse_over=this.$$lib__.without(this.widget_layer_mouse_over,r))}}},onDragstop(t,i){let n=this.getCurrentWidget.attr;n&&(n.x!=t||n.y!=i)&&this.setCurrentWidgetXYWHR({x:t,y:i})},dragging(t,i,n,r){if(this.getSelectMultiple){let a=this.getCurrentWidget.attr;a&&(a.x!=t||a.y!=i)&&this.setCurrentWidgetXYWHR({x:t,y:i})}},onResizstop(t,i,n,r){this.setCurrentWidgetXYWHR({x:t,y:i,w:n,h:r})},onRotatestop(t){this.setCurrentWidgetXYWHR({r:t})},getdraggableHW(t){let i={h:t.attr.h,w:t.attr.w?t.attr.widgetW:t.attr.w};return t.border.hide!=!0&&(t.border.type==!1?(t.border.widthT&&t.border.styleT&&t.border.styleT!=="none"&&(i.h=i.h+t.border.widthT),t.border.widthB&&t.border.styleB&&t.border.styleB!=="none"&&(i.h=i.h+t.border.widthB),t.border.widthR&&t.border.styleR&&t.border.styleR!=="none"&&(i.w=i.w+t.border.widthR),t.border.widthL&&t.border.styleL&&t.border.styleL!=="none"&&(i.w=i.w+t.border.widthL)):t.border.type==!0&&(t.border.breadthT&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.h=i.h+t.border.breadthT),t.border.breadthB&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.h=i.h+t.border.breadthB),t.border.breadthR&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.w=i.w+t.border.breadthR),t.border.breadthL&&t.border.borderStyle&&t.border.borderStyle!=="none"&&(i.w=i.w+t.border.breadthL))),i},getDraggableStyle(t){let i={};return!t.isContainer&&!t.attr.pointerEvents&&(i.pointerEvents="none",t.id===this.getCurrentWidget.id&&(i.backgroundColor="rgba(236, 240, 241, 1)",i.filter="Alpha(Opacity=50)")),typeof t.attr.opacity=="number"&&(i.opacity=t.attr.opacity),t.attr.backgroundColor&&(i.backgroundColor=t.attr.backgroundColor),t.attr.backgroundImage&&(i.backgroundImage=this.getImageUrl(t.attr.backgroundImage)),t.attr.backgroundSize&&(i.backgroundSize=t.attr.backgroundSize),i.overflow=t.border.overflowShow?"hidden":"visible",t.border.hide!=!0&&((t.border.hShadow||t.border.vShadow)&&(i.boxShadow=(t.border.hShadow||0)+"px "+(t.border.vShadow||0)+"px "+(t.border.blur||0)+"px "+t.border.blurColor||"rgba(0,0,0,0)"),t.border.type==!1?(i.borderTopWidth=t.border.widthT+"px",i.borderRightWidth=t.border.widthR+"px",i.borderBottomWidth=t.border.widthB+"px",i.borderLeftWidth=t.border.widthL+"px",i.borderTopStyle=t.border.styleT,i.borderRightStyle=t.border.styleR,i.borderBottomStyle=t.border.styleB,i.borderLeftStyle=t.border.styleL,i.borderTopColor=t.border.colorT,i.borderRightColor=t.border.colorR,i.borderBottomColor=t.border.colorB,i.borderLeftColor=t.border.colorL,i.borderTopLeftRadius=t.border.radiusTL+"px",i.borderTopRightRadius=t.border.radiusTR+"px",i.borderBottomLeftRadius=t.border.radiusBL+"px",i.borderBottomRightRadius=t.border.radiusBR+"px"):t.border.type==!0&&(i.borderStyle=t.border.borderStyle,i.borderTopWidth=t.border.breadthT+"px",i.borderRightWidth=t.border.breadthR+"px",i.borderBottomWidth=t.border.breadthB+"px",i.borderLeftWidth=t.border.breadthL+"px",i.borderImageSource=this.getImageUrl(t.border.borderImage),i.borderImageSlice=t.border.cutT+" "+t.border.cutR+" "+t.border.cutB+" "+t.border.cutL,i.borderImageRepeat=t.border.repeat)),i.float="left !important",i}}}},459738:function(m,p,s){s.d(p,{OW:function(){return g},m3:function(){return n},nm:function(){return b},vP:function(){return t},xC:function(){return i}});var u=s(153258);function g(r,a,d){let c=r;const f=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(y=>(0,u.mf)(c[y]));if(!(0,u.mf)(c[f]))return!1;do{if(c[f](a))return!0;if(c===d)return!1;c=c.parentNode}while(c);return!1}function b(r){const a=window.getComputedStyle(r);return[parseFloat(a.getPropertyValue("width"),10),parseFloat(a.getPropertyValue("height"),10)]}function t(r,a,d){r&&(r.attachEvent?r.attachEvent("on"+a,d):r.addEventListener?r.addEventListener(a,d,!0):r["on"+a]=d)}function i(r,a,d){r&&(r.detachEvent?r.detachEvent("on"+a,d):r.removeEventListener?r.removeEventListener(a,d,!0):r["on"+a]=null)}function n(r,a,d,c){var f=0,y=setInterval(()=>{f<d?(f++,r()):(clearInterval(y),c&&c())},a);return y}},980512:function(m,p,s){s.d(p,{Z:function(){return d}});var u=function(){var f=this,y=f._self._c;return y("div",{class:"container_child_"+f.widgetData.id,attrs:{id:"container_child_"+f.widgetData.id}},[y("keep-alive",[y(f.isView&&f.widgetData.isContainer?f.widgetData.typeName+"-view":f.widgetData.typeName,{ref:"com_"+f.widgetData.id,tag:"component",attrs:{"widget-info":f.widgetData,"widget-arr":f.getWidgetAllArr,"current-widget":f.currentWidget},on:{doGetPreviewData:f.doGetPreviewData,doReSetBoardId:f.doReSetBoardId,attrChange:f.attrChange}})],1)],1)},g=[],b=s(513229),t=s(148836),i={name:"DraggableComponent",extends:b.Z,computed:{...(0,t.Se)(["getWidgetAllArr","isView"])},methods:{reLoadInfo(c){if(c.id){let f=this.$refs["com_"+c.id];f&&f.reLoadInfo(c)}},doReSetBoardId(c){this.$emit("doReSetBoardId",c)},attrChange(c){this.$emit("attrChange",c)}}},n=i,r=s(768141),a=(0,r.Z)(n,u,g,!1,null,"41d16aa2",null),d=a.exports},503392:function(m,p,s){s.r(p),s.d(p,{default:function(){return L}});var u=function(){var e=this,l=e._self._c;return l("div",{directives:[{name:"show",rawName:"v-show",value:e.widgetInfo.attr.hide!=!0,expression:"widgetInfo.attr.hide != true"}],ref:"dialog",style:{width:e.widgetInfo.attr.w+"px",overflow:"hidden",height:e.widgetInfo.attr.hh+"px"}},[l("div",{staticStyle:{overflow:"hidden",width:"100%"},style:e.getTitleStyle(e.widgetInfo.config.dialog),attrs:{slot:"title"},slot:"title"},[l("div",{style:{marginLeft:e.widgetInfo.config.dialog.title.label.left+"px",marginTop:e.widgetInfo.config.dialog.title.label.top+"px"}},[l("span",{style:e.getTitleSpanStyle(e.widgetInfo.config.dialog)},[e._v(" "+e._s(e.widgetInfo.config.dialog.title.text)+" ")])]),l("button",{directives:[{name:"show",rawName:"v-show",value:e.widgetInfo.config.dialog.showClose,expression:"widgetInfo.config.dialog.showClose"}],ref:"myButton",staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"}},[e.widgetInfo.config.dialog.buttonClose.iconPosition==="left"?[l("i",{staticClass:"el-dialog__close el-icon",class:[e.widgetInfo.config.dialog.buttonClose.iconClass?e.widgetInfo.config.dialog.buttonClose.iconClass:" el-icon-close"],style:{color:e.widgetInfo.config.dialog.buttonClose.iconColor}}),l("span",[e._v(e._s(e.widgetInfo.config.dialog.buttonClose.text))])]:[l("span",[e._v(e._s(e.widgetInfo.config.dialog.buttonClose.text))]),l("i",{staticClass:"el-dialog__close el-icon",class:[e.widgetInfo.config.dialog.buttonClose.iconClass?e.widgetInfo.config.dialog.buttonClose.iconClass:" el-icon-close"],style:{color:e.widgetInfo.config.dialog.buttonClose.iconColor}})]],2)]),l("div",{staticClass:"my-screen",style:{width:e.widgetInfo.attr.w+"px",height:e.widgetInfo.attr.hh-e.widgetInfo.config.dialog.title.h+"px",backgroundColor:e.widgetInfo.config.dialog.background.backgroundColor,backgroundImage:this.getImageUrl(e.widgetInfo.config.dialog.background.backgroundImage),backgroundSize:e.widgetInfo.config.dialog.background.backgroundSize},on:{click:e.onClick}},[e.widgetInfo.config.container.scroll.show?l("happy-scroll",{attrs:{color:e.widgetInfo.config.container.scroll.color,size:e.widgetInfo.config.container.scroll.width,resize:""}},e._l(e.orgWidget(e.widgetInfo.config.container.widgets),function(o){return l("draggable",{directives:[{name:"show",rawName:"v-show",value:o.attr.hideEditor!==!0,expression:"widget.attr.hideEditor !== true"}],key:e.prefix.widget+o.id,ref:e.prefix.widget+o.id,refInFor:!0,attrs:{rotatable:!0,resizable:!o.attr.locked,draggable:!o.attr.locked,snap:!0,id:e.prefix.widget+o.id,x:o.attr.x,y:o.attr.y,z:e.getZ(o),r:o.attr.deg,h:e.getdraggableHW(o).h,w:e.getdraggableHW(o).w,minw:o.attr.minw,minh:o.attr.minh,deselectCancel:".unboardArea",active:e.onActive(o)},on:{onClicked:e.onClicked,dragstop:e.onDragstop,dragging:e.dragging,resizestop:e.onResizstop,rotatestop:e.onRotatestop,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}},[l("widget-action-icon",{attrs:{widget:o}}),l("div",{style:e.getDraggableMouseOver(o)}),l("div",{directives:[{name:"show",rawName:"v-show",value:o.attr.hide!==!0,expression:"widget.attr.hide !== true"}],staticClass:"my-drag-widget",style:e.getDraggableStyle(o)},[l("external-frame-svg",{ref:"comp_frame_"+o.id,refInFor:!0,attrs:{"widget-info":o}}),o.title.position==="top"||o.title.position==="left"?l("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(v){return e.openLink(o)}}},[l("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[l("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e(),l("draggable-component-container",{ref:"comp_"+o.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:e.getInfoStyle(o),attrs:{widgetData:o,currentWidget:e.getCurrentWidget}}),o.title.position==="bottom"||o.title.position==="right"?l("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(v){return e.openLink(o)}}},[l("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[l("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e()],1)],1)}),1):e._l(e.orgWidget(e.widgetInfo.config.container.widgets),function(o){return l("draggable",{directives:[{name:"show",rawName:"v-show",value:o.attr.hideEditor!==!0,expression:"widget.attr.hideEditor !== true"}],key:e.prefix.widget+o.id,ref:e.prefix.widget+o.id,refInFor:!0,attrs:{rotatable:!0,resizable:!o.attr.locked,draggable:!o.attr.locked,snap:!0,id:e.prefix.widget+o.id,x:o.attr.x,y:o.attr.y,z:e.getZ(o),r:o.attr.deg,h:o.attr.h,w:o.attr.widgetW?o.attr.widgetW:o.attr.w,minw:o.attr.minw,minh:o.attr.minh,deselectCancel:".unboardArea",active:e.onActive(o)},on:{onClicked:e.onClicked,dragstop:e.onDragstop,dragging:e.dragging,resizestop:e.onResizstop,rotatestop:e.onRotatestop,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}},[l("widget-action-icon",{attrs:{widget:o}}),l("div",{style:e.getDraggableMouseOver(o)}),l("div",{directives:[{name:"show",rawName:"v-show",value:o.attr.hide!==!0,expression:"widget.attr.hide !== true"}],staticClass:"my-drag-widget",style:e.getDraggableStyle(o)},[l("external-frame-svg",{ref:"comp_frame_"+o.id,refInFor:!0,attrs:{"widget-info":o}}),o.title.position==="top"||o.title.position==="left"?l("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(v){return e.openLink(o)}}},[l("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[l("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e(),l("draggable-component-container",{ref:"comp_"+o.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:e.getInfoStyle(o),attrs:{widgetData:o,currentWidget:e.getCurrentWidget}}),o.title.position==="bottom"||o.title.position==="right"?l("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(o),on:{click:function(v){return e.openLink(o)}}},[l("div",{style:{marginLeft:o.title.label.left+"px",marginTop:o.title.label.top+"px"}},[l("span",{ref:"title_"+o.id,refInFor:!0,style:e.getTitleSpanStyle(o)})])]):e._e()],1)],1)})],2)])},g=[],b=s(787479),t=s(980512),i=s(723400),n=s(483577),r=s(185406),a=s(977863),d=s(321300),c=s(213743),f=s(67157);const y={mixins:[f.c],data(){return{config_extend:{config:{dialog:{title:{label:{color:"rgba(48, 49, 51, 1)",fontFamily:"alibabaPuHuiTiMedium"}}}}},filter_config:{dialog:{background:{backgroundColor:"rgba(255, 255, 255, 1)"},title:{backgroundColor:"rgba(255, 255, 255, 1)",border:{colorB:"rgba(189, 195, 199, 1)"},label:{startColor:"rgba(30, 144, 255, 1)",endColor:"rgba(255, 0, 0, 1)",color:"rgba(48, 49, 51, 1)",fontFamily:"alibabaPuHuiTiMedium"}}},container:{scroll:{color:"rgba(48, 49, 51, 1)"}}}}},methods:{filterPredefineColoursSchemeConfig(h,e){this.getNewConfigWithArrary(h,e,this.filter_config)}}};var I=s(56279),_=s(629466),C={props:["widgetInfo","widgetArr","currentWidget"],name:"container-dialog",components:{WidgetActionIcon:_.Z,ExternalFrameSvg:c.Z,DraggableComponentContainer:t.Z,draggable:b.Z,HappyScroll:a.HappyScroll},mixins:[r.baseConfig,i.j,n.i,y,I.P],watch:{"currentWidget.config.dialog.buttonClose":{deep:!0,handler:function(){this.currentWidget&&this.currentWidget.id==this.widgetInfo.id&&this.setButtonStyle(this.currentWidget)}},"currentWidget.id":{deep:!0,handler:function(){!this.currentWidget.id||this.currentWidget.id==this.widgetInfo.id||this.currentWidget.parentId==this.widgetInfo.id?this.widgetInfo.attr.hide=!1:this.widgetInfo.attr.hide=!0}},getCurrentWidget:{deep:!0,handler:function(){!this.currentWidget.id||this.currentWidget.id==this.widgetInfo.id||this.currentWidget.parentId==this.widgetInfo.id?this.widgetInfo.attr.hide=!1:this.widgetInfo.attr.hide=!0,this.$nextTick(()=>{this.setTitleText(this.widgetInfo.config.container.widgets)})}}},mounted(){this.widgetInfo.attr.hide=!0,this.loadInfo(this.widgetInfo)},methods:{loadInfo(h){this.widgetInfo.id==h.id&&(this.setButtonStyle(h),this.lifecycleAfterLoad())},onClick(h){typeof h.target.className=="string"&&h.target.className.indexOf("my-screen")>-1&&(this.getKeydown.ctrlKey?(this.setSelectMultiple(!0),this.getMultipleWidget[this.widgetInfo.id]?this.removeMultipleWidget(this.widgetInfo.id):(this.$$lib__.each(this.widgetInfo.config.widgets,e=>{this.removeMultipleWidget(e.id)}),this.addMultipleWidget(this.widgetInfo.id))):this.setCurrentWidget(this.widgetInfo.id))},setButtonStyle(h){let e=this.$refs.myButton;e&&(h.config&&h.config.dialog&&h.config.dialog.buttonClose&&h.config.dialog.buttonClose.custom?(e.style.top=h.config.dialog.buttonClose.top+"px",e.style.right=h.config.dialog.buttonClose.right+"px",e.style.fontSize=h.config.dialog.buttonClose.fontStyle.fontSize+"px",e.style.fontFamily=h.config.dialog.buttonClose.fontStyle.fontFamily,e.style.color=h.config.dialog.buttonClose.fontStyle.color,e.style.zIndex=999,e.style.backgroundImage=this.getImageUrl(h.config.dialog.buttonClose.backgroundImage),e.style.backgroundSize="100% 100%",e.style.width=h.config.dialog.buttonClose.width+"px",e.style.height=h.config.dialog.buttonClose.height+"px",e.style.fontWeight=h.config.dialog.buttonClose.fontWeight?"bolder":"normal"):(e.style.top="0px",e.style.right="20px",e.style.fontSize="16px",e.childNodes&&e.childNodes.length>0&&(e.childNodes[0].style.color="#909399",e.childNodes[0].style.fontWeight="normal")))},getImageUrl(h){return h&&h!=""?"url("+d.appendImageBaseURL(h)+")":null}}},S=C,x=s(768141),W=(0,x.Z)(S,u,g,!1,null,"789dda6a",null),L=W.exports},629466:function(m,p,s){s.d(p,{Z:function(){return r}});var u=function(){var d=this,c=d._self._c;return d.action_info.is_action?c("div",{staticClass:"widget-action-icon"},[c("el-tooltip",{attrs:{"open-delay":1e3,effect:"light",placement:"top"}},[c("div",{attrs:{slot:"content"},slot:"content"},[c("el-table",{attrs:{data:d.action_info.tableData,"span-method":d.objectSpanMethod,border:"",size:"mini",stripe:""}},[c("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u7C7B\u578B",prop:"action_type"}}),c("el-table-column",{attrs:{label:"\u4E8B\u4EF6\u540D\u79F0",prop:"action_name"}})],1)],1),c("i",{staticClass:"iconfont bi_jh"})])],1):d._e()},g=[],b={name:"widget-action-icon",props:["widget"],data(){return{action_info:{is_action:!1,tableData:[]},position:0,rowSpanArr:[]}},watch:{widget:{deep:!0,handler:function(){this.initInfo()}}},mounted(){this.initInfo()},methods:{initInfo(){if(this.action_info.is_action=!1,this.action_info.tableData=[],this.widget&&this.widget.action){if(this.widget.action.lifecycle)for(let a in this.widget.action.lifecycle)this.widget.action.lifecycle[a].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u751F\u547D\u5468\u671F",action_name:this.widget.action.lifecycle[a].name}));if(this.widget.action.sendOut&&this.widget.action.sendOut.actionList&&this.$$lib__.each(this.widget.action.sendOut.actionList,a=>{a.enabled==!0&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u53D1\u9001\u4E8B\u4EF6",action_name:a.name}))}),this.widget.action.receive)for(let a in this.widget.action.receive)this.widget.action.receive[a].enabled&&(this.action_info.is_action=!0,this.action_info.tableData.push({action_type:"\u63A5\u6536\u4E8B\u4EF6",action_name:this.widget.action.receive[a].name}))}this.rowSpanArr=[],this.action_info.tableData.forEach((a,d)=>{d==0?(this.rowSpanArr.push(1),this.position=0):this.action_info.tableData[d].action_type==this.action_info.tableData[d-1].action_type?(this.rowSpanArr[this.position]+=1,this.rowSpanArr.push(0),this.action_info.tableData[d].action_type=this.action_info.tableData[d-1].action_type):(this.rowSpanArr.push(1),this.position=d)})},objectSpanMethod({row:a,column:d,rowIndex:c,columnIndex:f}){if(f!=1)return{rowspan:this.rowSpanArr[c],colspan:1}}}},t=b,i=s(768141),n=(0,i.Z)(t,u,g,!1,null,"cd1e86ee",null),r=n.exports}}]);
