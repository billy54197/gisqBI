"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[92427],{292427:function(L,c,i){i.r(c),i.d(c,{default:function(){return C}});var _=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{model:e.attributes_value,inline:!0,size:"mini"}},[t("el-form-item",{attrs:{label:"\u6839\u8282\u70B9"}},[t("select-tree-region-code",{attrs:{placeholder:"\u6839\u8282\u70B9",clearable:!0},on:{change:e.changeAttributes,"select-tree-click":e.changeAttributes},model:{value:e.attributes_value.root,callback:function(l){e.$set(e.attributes_value,"root",l)},expression:"attributes_value.root"}})],1),t("el-form-item",{attrs:{label:"\u5C55\u793A\u65B9\u5F0F"}},[t("el-radio-group",{staticClass:"redio-2",on:{change:e.changeAttributes},model:{value:e.attributes_value.display_mode,callback:function(l){e.$set(e.attributes_value,"display_mode",l)},expression:"attributes_value.display_mode"}},e._l(e.global_query.xzq_display_mode_list,function(l){return t("el-radio-button",{key:l.value,attrs:{label:l.value}},[e._v(" "+e._s(l.label)+" ")])}),1)],1),e.attributes_value.display_mode==e.global_query.xzq_display_mode.select.code?[t("el-form-item",{attrs:{label:"\u6807\u7B7E\u5BBD\u5EA6"}},[t("el-input-number",{attrs:{"controls-position":"right",step:1,min:0},on:{change:e.changeAttributes},model:{value:e.attributes_value.label_width,callback:function(l){e.$set(e.attributes_value,"label_width",l)},expression:"attributes_value.label_width"}})],1),t("el-form-item",{attrs:{label:"\u9690\u85CF\u6807\u7B7E"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.hide_label,callback:function(l){e.$set(e.attributes_value,"hide_label",l)},expression:"attributes_value.hide_label"}})],1),t("el-form-item",{attrs:{label:"\u679A\u4E3E\u8FC7\u6EE4"}},[t("query-script",{attrs:{options:e.options},on:{change:e.changeAttributes},model:{value:e.attributes_value,callback:function(l){e.attributes_value=l},expression:"attributes_value"}})],1)]:e._e(),e.enableAddSelect()?t("el-form-item",{attrs:{label:"\u6DFB\u52A0\u4E0B\u62C9\u9009\u62E9\u9879"}},[t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u6DFB\u52A0\u884C\u653F\u533A\u4E0B\u62C9\u9009\u62E9\u9879",effect:"light",placement:"top"}},[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:()=>e.addSelect()}},[t("i",{staticClass:"el-icon-plus",staticStyle:{color:"#67C23A"}})])],1)],1):e._e()],2),e.attributes_value.display_mode==e.global_query.xzq_display_mode.cascader.code?[t("el-form",{attrs:{size:"mini"}},[e._t("default"),t("attributes-xzq-cascader",{attrs:{attributes:e.attributes_value},on:{changeAttributes:e.changeAttributes}})],2)]:e.attributes_value.display_mode==e.global_query.xzq_display_mode.select.code?[t("attributes-xzq-select",{attrs:{attributes:e.attributes_value},on:{changeAttributes:e.changeAttributes}})]:e._e()],2)},b=[],r=i(8877),v=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{inline:!0,size:"mini",model:e.attributes_value}},[t("div",{staticClass:"form-container input-min"},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.attributes_value.show_all_levels,expression:"attributes_value.show_all_levels"}],attrs:{label:"\u9009\u9879\u5206\u9694\u7B26","label-width":"90px"}},[t("el-input",{attrs:{placeholder:"\u8F93\u5165\u9009\u9879\u5206\u9694\u7B26"},on:{change:e.changeAttributes},model:{value:e.attributes_value.separator,callback:function(l){e.$set(e.attributes_value,"separator",l)},expression:"attributes_value.separator"}})],1),t("el-form-item",{attrs:{label:"\u5B50\u7EA7\u83DC\u5355\u5C55\u5F00\u65B9\u5F0F"}},[t("el-select",{attrs:{"popper-class":"white-bgc",placeholder:"\u8BF7\u9009\u62E9\u5C55\u5F00\u65B9\u5F0F"},on:{change:e.changeAttributes},model:{value:e.attributes_value.expandTrigger,callback:function(l){e.$set(e.attributes_value,"expandTrigger",l)},expression:"attributes_value.expandTrigger"}},e._l(e.expandTrigger_list,function(l){return t("el-option",{key:l.value,attrs:{label:l.label,value:l.value}})}),1)],1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.attributes_value.multiple,expression:"attributes_value.multiple"}],attrs:{label:"\u9009\u4E2D\u503C\u6309\u6570\u5B57\u5C55\u793A"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.collapse_tags,callback:function(l){e.$set(e.attributes_value,"collapse_tags",l)},expression:"attributes_value.collapse_tags"}})],1),t("div",{staticClass:"form-container button-min"},[t("el-form-item",{attrs:{label:"\u7236\u5B50\u8282\u70B9\u4E0D\u5173\u8054"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.checkStrictly,callback:function(l){e.$set(e.attributes_value,"checkStrictly",l)},expression:"attributes_value.checkStrictly"}})],1),t("el-form-item",{attrs:{label:"\u591A\u9009"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.multiple,callback:function(l){e.$set(e.attributes_value,"multiple",l)},expression:"attributes_value.multiple"}})],1),t("el-form-item",{attrs:{label:"\u5B8C\u6574\u8DEF\u5F84"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.show_all_levels,callback:function(l){e.$set(e.attributes_value,"show_all_levels",l)},expression:"attributes_value.show_all_levels"}})],1),t("el-form-item",{attrs:{label:"\u53EF\u641C\u7D22"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.filterable,callback:function(l){e.$set(e.attributes_value,"filterable",l)},expression:"attributes_value.filterable"}})],1),t("el-form-item",{attrs:{label:"\u53EF\u6E05\u7A7A"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:e.attributes_value.clearable,callback:function(l){e.$set(e.attributes_value,"clearable",l)},expression:"attributes_value.clearable"}})],1),t("el-form-item",{attrs:{label:"\u679A\u4E3E\u8FC7\u6EE4"}},[t("query-script",{attrs:{options:e.options},on:{change:e.changeAttributes},model:{value:e.attributes_value,callback:function(l){e.attributes_value=l},expression:"attributes_value"}})],1)],1)],1)],1)},d=[],o=i(848384),h={name:"attributes-xzq-cascader",components:{QueryScript:o.Z},mixins:[r._],data(){return{expandTrigger_list:[{value:"click",label:"\u70B9\u51FB"},{value:"hover",label:"\u60AC\u505C"}],options:{attribute_enable:"is_enum_filter",attribute_script_content:"script_enum_filter",title:"\u679A\u4E3E\u8FC7\u6EE4",api:"api-enum-filter"}}}},p=h,n=i(768141),m=(0,n.Z)(p,v,d,!1,null,"271d809e",null),f=m.exports,g=i(381623),x=function(){var e=this,t=e._self._c;return t("div",{ref:"attrSelectList"},[t("el-collapse",{on:{change:e.handleChange}},e._l(e.attributes_value.select_list,function(l,u){return t("el-collapse-item",{key:u,staticClass:"slide-down-up"},[t("p",{staticClass:"header-title",staticStyle:{width:"100%"},attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"iconfont bi_right",attrs:{name:"param"}}),t("span",{staticClass:"title-name"},[e._v("\u4E0B\u62C9\u9009\u62E9\u9879-"+e._s(e.getLevelName(l.xzq_level)))]),t("el-tooltip",{attrs:{"open-delay":1e3,content:"\u79FB\u9664\u4E0B\u62C9\u9009\u62E9\u9879",effect:"light",placement:"top"}},[t("el-button",{staticStyle:{float:"right","margin-right":"20px","margin-top":"15px"},attrs:{type:"text",size:"mini"},on:{click:()=>e.removeSelectList(u)}},[t("i",{staticClass:"el-icon-delete",staticStyle:{color:"#F56C6C"}})])],1)],1),t("el-form",{attrs:{inline:!0,size:"mini",model:l},nativeOn:{submit:function(a){a.preventDefault()}}},[t("div",{staticClass:"form-container input-min"},[t("el-form-item",{attrs:{label:"\u7EA7\u522B"}},[t("el-select",{staticClass:"white-bgc",attrs:{placeholder:"\u8BF7\u9009\u62E9\u884C\u653F\u533A\u7EA7\u522B","popper-class":"white-bgc"},on:{change:function(a){return e.changeXzqLevel(u)}},model:{value:l.xzq_level,callback:function(a){e.$set(l,"xzq_level",a)},expression:"item.xzq_level"}},e._l(e.xzq_level_list,function(a){return t("el-option",{key:a.value,attrs:{disabled:a.disabled,label:a.label,value:a.value}})}),1)],1),l.xzq_level?[t("el-form-item",{attrs:{label:"\u6807\u7B7E\u6807\u9898"}},[t("el-input",{attrs:{placeholder:"\u8F93\u5165\u6807\u7B7E\u6807\u9898"},on:{change:e.changeAttributes},model:{value:l.label,callback:function(a){e.$set(l,"label",a)},expression:"item.label"}})],1),t("el-form-item",{attrs:{label:"\u6807\u7B7E\u5BBD\u5EA6"}},[t("el-input-number",{attrs:{"controls-position":"right",step:1,min:0},on:{change:e.changeAttributes},model:{value:l.label_width,callback:function(a){e.$set(l,"label_width",a)},expression:"item.label_width"}})],1),t("el-form-item",{attrs:{label:"\u63A7\u4EF6\u5BBD\u5EA6"}},[t("el-input-number",{attrs:{"controls-position":"right",step:1,min:0},on:{change:e.changeAttributes},model:{value:l.width_control,callback:function(a){e.$set(l,"width_control",a)},expression:"item.width_control"}})],1),t("el-form-item",{attrs:{label:"\u5C3A\u5BF8\u5927\u5C0F"}},[t("el-select",{staticClass:"white-bgc",attrs:{placeholder:"\u8BF7\u9009\u62E9\u5C3A\u5BF8\u5927\u5C0F","popper-class":"white-bgc"},on:{change:e.changeAttributes},model:{value:l.size,callback:function(a){e.$set(l,"size",a)},expression:"item.size"}},e._l(e.global_query.size_list,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1),t("el-form-item",{attrs:{label:"\u5360\u4F4D\u6587\u672C"}},[t("el-input",{attrs:{placeholder:"\u63D0\u793A\u6587\u5B57"},on:{change:e.changeAttributes},model:{value:l.placeholder,callback:function(a){e.$set(l,"placeholder",a)},expression:"item.placeholder"}})],1)]:e._e()],2),l.xzq_level?t("div",{staticClass:"form-container button-min"},[t("el-form-item",{attrs:{label:"\u9690\u85CF\u6807\u7B7E"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:l.hide_label,callback:function(a){e.$set(l,"hide_label",a)},expression:"item.hide_label"}})],1),t("el-form-item",{attrs:{label:"\u662F\u5426\u7981\u7528"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:l.disabled,callback:function(a){e.$set(l,"disabled",a)},expression:"item.disabled"}})],1),t("el-form-item",{attrs:{label:"\u53EF\u6E05\u7A7A"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:l.clearable,callback:function(a){e.$set(l,"clearable",a)},expression:"item.clearable"}})],1),t("el-form-item",{attrs:{label:"\u53EF\u641C\u7D22"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:l.filterable,callback:function(a){e.$set(l,"filterable",a)},expression:"item.filterable"}})],1)],1):e._e(),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:l.filterable==!0&&l.xzq_level,expression:"item.filterable == true && item.xzq_level"}],attrs:{label:"\u6309\u4E0B\u56DE\u8F66\u9009\u62E9\u7B2C\u4E00\u4E2A\u5339\u914D\u9879"}},[t("el-switch",{on:{change:e.changeAttributes},model:{value:l.default_first_option,callback:function(a){e.$set(l,"default_first_option",a)},expression:"item.default_first_option"}})],1)],1)],1)}),1)],1)},y=[],z={name:"attributes-xzq-select",mixins:[r._],data(){return{xzq_level_list:[]}},watch:{"attributes_value.select_list":{deep:!0,handler:function(){this.getXzqLevelList()}}},methods:{changeXzqLevel(s){(!this.attributes_value.select_list[s].label||this.attributes_value.select_list[s].label=="")&&(this.attributes_value.select_list[s].label=this.getLevelName(this.attributes_value.select_list[s].xzq_level)),this.attributes_value.select_list=this.$$lib__.sortBy(this.attributes_value.select_list,e=>parseInt(e.xzq_level)),this.changeAttributes()},handleChange(){let s=this.$refs.attrSelectList.querySelector(".bi_right");s.style.transform==""||s.style.transform=="rotate(0deg)"?s.style.transform="rotate(-90deg)":s.style.transform="rotate(0deg)"},removeSelectList(s){this.attributes_value.select_list.splice(s,1),this.changeAttributes()},getXzqLevelList(){this.xzq_level_list=JSON.parse(JSON.stringify(this.global_query.xzq_level_list));let s=this.$$lib__.pluck(this.attributes_value.select_list,"xzq_level");this.$$lib__.each(this.xzq_level_list,e=>{this.$$lib__.contains(s,e.value)&&(e.disabled=!0)})},getLevelName(s){return this.global_query.xzq_level[s]?this.global_query.xzq_level[s].name:"\u8BF7\u9009\u62E9\u884C\u653F\u533A\u7EA7\u522B"}}},q=z,w=(0,n.Z)(q,x,y,!1,null,"78429c4e",null),k=w.exports,A={name:"attributes-cascaderXzq",components:{QueryScript:o.Z,AttributesXzqSelect:k,SelectTreeRegionCode:g.Z,AttributesXzqCascader:f},mixins:[r._],data(){return{options:{attribute_enable:"is_enum_filter",attribute_script_content:"script_enum_filter",title:"\u679A\u4E3E\u8FC7\u6EE4",api:"api-enum-filter"},default_select_config:{size:"mini",clearable:!0,filterable:!0,default_first_option:!0}}},methods:{addSelect(){this.attributes_value.select_list==null&&(this.attributes_value.select_list=[]),this.attributes_value.select_list.push(JSON.parse(JSON.stringify(this.default_select_config))),this.changeAttributes()},enableAddSelect(){return this.attributes_value.select_list?this.attributes_value.display_mode==this.global_query.xzq_display_mode.select.code&&this.attributes_value.select_list.length<5:this.attributes_value.display_mode==this.global_query.xzq_display_mode.select.code}}},$=A,S=(0,n.Z)($,_,b,!1,null,"2fe62cce",null),C=S.exports}}]);
