"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[50410],{850410:function(W,r,i){i.r(r),i.d(r,{default:function(){return v}});var c=function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",attrs:{size:"mini","label-width":"70px","label-position":"right",model:t.currentWidget.dataset}},[e("el-form-item",{attrs:{label:"\u6570\u636E\u7C7B\u578B"}},[e("el-select",{staticStyle:{width:"150px","margin-left":"20px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90\u7C7B\u578B"},on:{change:t.changeDatasetType},model:{value:t.currentWidget.dataset.type,callback:function(a){t.$set(t.currentWidget.dataset,"type",a)},expression:"currentWidget.dataset.type"}},t._l(this.$$global_editor.dataSourcTypeList3,function(a){return e("el-option",{key:a.value,attrs:{disabled:a.disabled,label:a.label,value:a.value}})}),1)],1),e("vue-lazy-component",[e("el-form-item",{attrs:{label:"\u6DFB\u52A0\u53D8\u91CF"}},[e("el-tooltip",{attrs:{content:"\u6DFB\u52A0\u53C2\u6570\u53D8\u91CF",effect:"dark",placement:"top"}},[e("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"text"},on:{click:function(a){return t.add()}}})],1)],1),t._l(t.currentWidget.dataset[t.currentWidget.dataset.type].encode.paramsList,function(a,l){return e("el-form-item",{key:l,attrs:{"label-width":"0"}},[e("el-input",{staticClass:"params_input",staticStyle:{width:"80px"},on:{input:t.getConfigData},model:{value:a.key,callback:function(s){t.$set(a,"key",s)},expression:"ser.key"}}),e("el-select",{staticStyle:{width:"150px","margin-left":"16px"},attrs:{size:"mini",placeholder:"\u8BF7\u9009\u62E9\u53C2\u6570\u53D8\u91CF\u6620\u5C04\u7684\u5B57\u6BB5"},on:{change:t.getConfigData},model:{value:a.val,callback:function(s){t.$set(a,"val",s)},expression:"ser.val"}},t._l(t.currentWidget.dataset[t.currentWidget.dataset.type].dimensionsAlias,function(s){return e("el-option",{key:s.name,attrs:{label:s.alias!=""?s.alias:s.name,value:s.name}})}),1),e("el-tooltip",{attrs:{content:"\u79FB\u9664\u53C2\u6570\u53D8\u91CF",effect:"dark",placement:"top"}},[e("el-button",{staticStyle:{color:"#f6061b","margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(s){return t.del(l)}}})],1)],1)})],2),e("setting-dataset",{ref:"settingDataset",attrs:{currentWidget:t.currentWidget},on:{getDataSetData:t.getConfigData,clearDynamicEncode:t.clearDynamicEncode}})],1)],1)},d=[],o=i(589908),p=i(723400),u=i(149500),g={name:"picture-svg-data",components:{SettingDataset:o.Z},props:["currentWidget"],mixins:[p.j],mounted(){},methods:{changeDatasetType(){this.$refs.settingDataset.loadPreview(),this.getConfigData()},clearDynamicEncode(){this.currentWidget.dataset[this.currentWidget.dataset.type].encode.paramsList=[]},getparamsList(n){let t=/\${.*?}/g,e=n.match(t);e&&e.forEach(a=>{let l=a.split("${")[1].split(",").length>1?a.split("${")[1].split(",")[0]:a.split("${")[1].split(",")[0].split("}")[0],s=this.currentWidget.dataset[this.currentWidget.dataset.type].encode.paramsList;s.forEach(y=>{y!=l}),u.log(s)})},add(){let n=this.currentWidget.dataset[this.currentWidget.dataset.type].encode.paramsList;n.push({key:"params"+n.length,val:""}),this.getConfigData()},del(n){this.currentWidget.dataset[this.currentWidget.dataset.type].encode.paramsList.splice(n,1),this.getConfigData()}}},f=g,m=i(768141),h=(0,m.Z)(f,c,d,!1,null,"262e7f2a",null),v=h.exports}}]);
