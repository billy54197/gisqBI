"use strict";(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[53059],{777712:function(S,y,p){p.d(y,{C2:function(){return _},IH:function(){return l},IV:function(){return L},S1:function(){return d},cn:function(){return I},on:function(){return v},pv:function(){return u}});var c=p(42160);const a=c.default.prototype.$isServer,r=/([\:\-\_]+(.))/g,m=/^moz([A-Z])/,b=a?0:Number(document.documentMode),g=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},w=function(t){return t.replace(r,function(e,n,s,f){return f?s.toUpperCase():s}).replace(m,"Moz$1")},v=function(){return!a&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),d=function(){return!a&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}(),l=function(t,e,n){var s=function(){n&&n.apply(this,arguments),d(t,e,s)};v(t,e,s)};function u(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function I(t,e){if(t){for(var n=t.className,s=(e||"").split(" "),f=0,C=s.length;f<C;f++){var h=s[f];h&&(t.classList?t.classList.add(h):u(t,h)||(n+=" "+h))}t.classList||t.setAttribute("class",n)}}function L(t,e){if(!(!t||!e)){for(var n=e.split(" "),s=" "+t.className+" ",f=0,C=n.length;f<C;f++){var h=n[f];h&&(t.classList?t.classList.remove(h):u(t,h)&&(s=s.replace(" "+h+" "," ")))}t.classList||t.setAttribute("class",g(s))}}const _=b<9?function(t,e){if(!a){if(!t||!e)return null;e=w(e),e==="float"&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch{return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch{return t.style[e]}}}:function(t,e){if(!a){if(!t||!e)return null;e=w(e),e==="float"&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch{return t.style[e]}}};function x(t,e,n){if(!(!t||!e))if(typeof e=="object")for(var s in e)e.hasOwnProperty(s)&&x(t,s,e[s]);else e=w(e),e==="opacity"&&b<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+n*100+")":t.style[e]=n}const O=(t,e)=>a?void 0:(e!=null?e?_(t,"overflow-y"):_(t,"overflow-x"):_(t,"overflow")).match(/(scroll|auto|overlay)/),o=(t,e)=>{if(a)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(O(n,e))return n;n=n.parentNode}return n},i=(t,e)=>{if(a||!t||!e)return!1;const n=t.getBoundingClientRect();let s;return[window,document,document.documentElement,null,void 0].includes(e)?s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:s=e.getBoundingClientRect(),n.top<s.bottom&&n.bottom>s.top&&n.right>s.left&&n.left<s.right}},595058:function(S,y,p){p.d(y,{q:function(){return u}});var c=p(42160),a=p(677296),r=p(777712);let m=!1,b=!1,g;const w=function(){if(c.default.prototype.$isServer)return;let o=d.modalDom;return o?m=!0:(m=!1,o=document.createElement("div"),d.modalDom=o,o.addEventListener("touchmove",function(i){i.preventDefault(),i.stopPropagation()}),o.addEventListener("click",function(){d.doOnModalClick&&d.doOnModalClick()})),o},v={},d={modalFade:!0,getInstance:function(o){return v[o]},register:function(o,i){o&&i&&(v[o]=i)},deregister:function(o){o&&(v[o]=null,delete v[o])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){const o=d.modalStack[d.modalStack.length-1];if(!o)return;const i=d.getInstance(o.id);i&&i.closeOnClickModal&&i.close()},openModal:function(o,i,t,e,n){if(c.default.prototype.$isServer||!o||i===void 0)return;this.modalFade=n;const s=this.modalStack;for(let C=0,h=s.length;C<h;C++)if(s[C].id===o)return;const f=w();(0,r.cn)(f,"v-modal"),this.modalFade&&!m&&(0,r.cn)(f,"v-modal-enter"),e&&e.trim().split(/\s+/).forEach(h=>(0,r.cn)(f,h)),setTimeout(()=>{(0,r.IV)(f,"v-modal-enter")},200),t&&t.parentNode&&t.parentNode.nodeType!==11?t.parentNode.appendChild(f):document.body.appendChild(f),i&&(f.style.zIndex=i),f.tabIndex=0,f.style.display="",this.modalStack.push({id:o,zIndex:i,modalClass:e})},closeModal:function(o){const i=this.modalStack,t=w();if(i.length>0){const e=i[i.length-1];if(e.id===o)e.modalClass&&e.modalClass.trim().split(/\s+/).forEach(s=>(0,r.IV)(t,s)),i.pop(),i.length>0&&(t.style.zIndex=i[i.length-1].zIndex);else for(let n=i.length-1;n>=0;n--)if(i[n].id===o){i.splice(n,1);break}}i.length===0&&(this.modalFade&&(0,r.cn)(t,"v-modal-leave"),setTimeout(()=>{i.length===0&&(t.parentNode&&t.parentNode.removeChild(t),t.style.display="none",d.modalDom=void 0),(0,r.IV)(t,"v-modal-leave")},200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get(){return b||(g=g||(c.default.prototype.$ELEMENT||{}).zIndex||2e3,b=!0),g},set(o){g=o}});const l=function(){if(!c.default.prototype.$isServer&&d.modalStack.length>0){const o=d.modalStack[d.modalStack.length-1];return o?d.getInstance(o.id):void 0}};c.default.prototype.$isServer||window.addEventListener("keydown",function(o){if(o.keyCode===27){const i=l();i&&i.closeOnPressEscape&&(i.handleClose?i.handleClose():i.handleAction?i.handleAction("cancel"):i.close())}});var u=d;let I;function L(){if(c.default.prototype.$isServer)return 0;if(I!==void 0)return I;const o=document.createElement("div");o.className="el-scrollbar__wrap",o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const i=o.offsetWidth;o.style.overflow="scroll";const t=document.createElement("div");t.style.width="100%",o.appendChild(t);const e=t.offsetWidth;return o.parentNode.removeChild(o),I=i-e,I}let _=1,x;var O={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount(){this._popupId="popup-"+_++,u.register(this._popupId,this)},beforeDestroy(){u.deregister(this._popupId),u.closeModal(this._popupId),this.restoreBodyStyle()},data(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible(o){if(o){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,c.default.nextTick(()=>{this.open()}))}else this.close()}},methods:{open(o){this.rendered||(this.rendered=!0);const i=(0,a.Z)({},this.$props||this,o);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);const t=Number(i.openDelay);t>0?this._openTimer=setTimeout(()=>{this._openTimer=null,this.doOpen(i)},t):this.doOpen(i)},doOpen(o){if(this.$isServer||this.willOpen&&!this.willOpen()||this.opened)return;this._opening=!0;const i=this.$el,t=o.modal,e=o.zIndex;if(e&&(u.zIndex=e),t&&(this._closing&&(u.closeModal(this._popupId),this._closing=!1),u.openModal(this._popupId,u.nextZIndex(),this.modalAppendToBody?void 0:i,o.modalClass,o.modalFade),o.lockScroll)){this.withoutHiddenClass=!(0,r.pv)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,r.C2)(document.body,"paddingRight"),10)),x=L();let n=document.documentElement.clientHeight<document.body.scrollHeight,s=(0,r.C2)(document.body,"overflowY");x>0&&(n||s==="scroll")&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+x+"px"),(0,r.cn)(document.body,"el-popup-parent--hidden")}getComputedStyle(i).position==="static"&&(i.style.position="absolute"),i.style.zIndex=u.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()},doAfterOpen(){this._opening=!1},close(){if(this.willClose&&!this.willClose())return;this._openTimer!==null&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);const o=Number(this.closeDelay);o>0?this._closeTimer=setTimeout(()=>{this._closeTimer=null,this.doClose()},o):this.doClose()},doClose(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose(){u.closeModal(this._popupId),this._closing=!1},restoreBodyStyle(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,r.IV)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}}},56279:function(S,y,p){p.d(y,{P:function(){return r}});var c=p(386892),a=p(149500);const r={mixins:[c.D],created(){},methods:{lifecycleBeforeChartsLoad(m){if(this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.beforeChartsLoad&&this.widgetInfo.action.lifecycle.beforeChartsLoad.enabled){(!this.widgetInfo.action.lifecycle.beforeChartsLoad.script||!this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content||this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content=="")&&a.warn("\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C\u4E3A\u7A7A"),a.info("\u6267\u884C\u5E38\u89C4\u56FE\u8868["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u524D\u7684\u811A\u672C");let g=new Function("option",this.widgetInfo.action.lifecycle.beforeChartsLoad.script.content).apply(this,[m]);if(g)return g}return m},lifecycleAfterLoad(){this.widgetInfo.action&&this.widgetInfo.action.lifecycle&&this.widgetInfo.action.lifecycle.afterLoad&&this.widgetInfo.action.lifecycle.afterLoad.enabled&&((!this.widgetInfo.action.lifecycle.afterLoad.script||!this.widgetInfo.action.lifecycle.afterLoad.script.content||this.widgetInfo.action.lifecycle.afterLoad.script.content=="")&&a.warn("\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C\u4E3A\u7A7A"),a.info("\u6267\u884C\u7EC4\u4EF6["+this.widgetInfo.name+"]\u52A0\u8F7D\u4E4B\u540E\u7684\u811A\u672C"),new Function("",this.widgetInfo.action.lifecycle.afterLoad.script.content).apply(this,[]))}}}},752246:function(S,y,p){p.d(y,{X:function(){return c},b:function(){return a}});let c={versions:function(){var r=navigator.userAgent;return{trident:r.indexOf("Trident")>-1,presto:r.indexOf("Presto")>-1,webKit:r.indexOf("AppleWebKit")>-1,gecko:r.indexOf("Gecko")>-1&&r.indexOf("KHTML")==-1,mobile:!!r.match(/AppleWebKit.*Mobile.*/),ios:!!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:r.indexOf("Android")>-1,iPhone:r.indexOf("iPhone")>-1,iPad:r.indexOf("iPad")>-1,webApp:r.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},a;c.versions.mobile||c.versions.ios||c.versions.android||c.versions.iPhone||c.versions.iPad?a=!1:a=!0},844513:function(S,y,p){p.d(y,{Z:function(){return v}});var c=function(){var l=this,u=l._self._c;return l.attr.buttonHide?u("div",{style:{position:"absolute",right:l.attr.buttonHideRight+"px",top:l.attr.buttonHideTop+"px",width:"30px",height:"25px",cursor:"pointer",zIndex:"9999"},on:{click:function(I){return l.onHide()}}},[l.openTooltip?u("el-tooltip",{attrs:{"open-delay":1e3,content:l.attr.buttonHideTooltipContent,effect:"dark",placement:"top"}},[u("el-button",{class:l.attr.buttonHideIconClass&&l.attr.buttonHideIconClass!=""?l.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:l.attr.buttonHideColor,fontSize:l.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):u("el-button",{class:l.attr.buttonHideIconClass&&l.attr.buttonHideIconClass!=""?l.attr.buttonHideIconClass:"iconfont bi_eyeslash",staticStyle:{"margin-left":"6px",padding:"3px 0",width:"15px",height:"15px"},style:{color:l.attr.buttonHideColor,fontSize:l.attr.buttonHideIconFontSize+"px"},attrs:{size:"small",type:"text"}})],1):l._e()},a=[],r=p(752246),m={props:["attr"],name:"hide-button",data(){return{isPc:r.b}},computed:{openTooltip:function(){let d=!1,l=this.attr.buttonHideTooltipContent;return r.b&&l&&l!=null&&l.trim()!=""&&(d=!0),d}},methods:{onHide(){this.attr.hide=!0,this.$emit("sendButtonHide")}}},b=m,g=p(768141),w=(0,g.Z)(b,c,a,!1,null,"bf399b9a",null),v=w.exports}}]);
