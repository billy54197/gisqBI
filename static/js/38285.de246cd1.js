(self.webpackChunkdatavisual=self.webpackChunkdatavisual||[]).push([[38285],{752246:function(A,x,h){"use strict";h.d(x,{X:function(){return b},b:function(){return y}});let b={versions:function(){var f=navigator.userAgent;return{trident:f.indexOf("Trident")>-1,presto:f.indexOf("Presto")>-1,webKit:f.indexOf("AppleWebKit")>-1,gecko:f.indexOf("Gecko")>-1&&f.indexOf("KHTML")==-1,mobile:!!f.match(/AppleWebKit.*Mobile.*/),ios:!!f.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:f.indexOf("Android")>-1,iPhone:f.indexOf("iPhone")>-1,iPad:f.indexOf("iPad")>-1,webApp:f.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},y;b.versions.mobile||b.versions.ios||b.versions.android||b.versions.iPhone||b.versions.iPad?y=!1:y=!0},438285:function(A,x,h){"use strict";h.r(x),h.d(x,{default:function(){return yt}});var b=function(){var e=this,i=e._self._c;return i("div",[i("el-dialog",{staticClass:"dialog-import-html",attrs:{"append-to-body":!0,"close-on-click-modal":!1,"modal-append-to-body":!0,visible:e.dialog.visible,width:e.dialog.width+"px"},on:{"update:visible":function(s){return e.$set(e.dialog,"visible",s)}}},[i("div",{style:{height:e.dialog.height+"px"}},[i("designer2web-index",{directives:[{name:"show",rawName:"v-show",value:e.steps=="svg",expression:"steps == 'svg'"}],ref:"refDesigner2webIndex",staticStyle:{height:"inherit"},attrs:{"is-import-html":!0}}),i("import-dialog-html",{directives:[{name:"show",rawName:"v-show",value:e.steps=="html",expression:"steps == 'html'"}],ref:"refImportDialogHtml",staticStyle:{height:"inherit"},on:{showDocHtml:e.showDocHtml}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.steps=="doc_html",expression:"steps == 'doc_html'"}],staticClass:"dialog-import-html-body"},[i("import-dialog-html-instructions",{ref:"importDialogHtmlInstructions"})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("\u5173 \u95ED")]),e.steps=="svg"?[i("el-button",{attrs:{disabled:e.disabledNextSvg,size:"mini",type:"primary"},on:{click:e.nextSvg}},[e._v("\u4E0B\u4E00\u6B65")])]:e._e(),e.steps=="html"?[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.prevHtml}},[e._v("\u4E0A\u4E00\u6B65")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.confirm}},[e._v("\u786E \u5B9A")])]:e._e(),e.steps=="doc_html"?[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.rollback}},[e._v("\u8FD4 \u56DE")])]:e._e()],2)])],1)},y=[],f=h(148836),_=h(500986),L=function(){var e=this,i=e._self._c;return i("div",{staticStyle:{height:"inherit"}},[i("div",{staticClass:"dialog-import-html-body"},[i("div",{staticClass:"dialog-import-html-center"},[i("el-upload",{ref:"selectFile",staticStyle:{display:"inline","margin-left":"10px"},attrs:{"auto-upload":!1,multiple:!1,"on-change":e.handleChange,"show-file-list":!1,accept:"text/html",action:""}},[i("el-button",{staticStyle:{"margin-top":"0px"},attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("\u9009\u62E9HTML\u6587\u4EF6 ")])],1),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.str_html&&e.str_html!="",expression:"str_html && str_html != ''"}],staticStyle:{"margin-left":"10px"},attrs:{type:e.flag.enableTag==!0?"success":"primary",size:"mini"},on:{click:e.changeTag}},[e._v(" "+e._s(e.flag.enableTag==!0?"\u505C\u6B62\u6807\u8BB0":"\u5F00\u542F\u6807\u8BB0")+" ")]),i("el-select",{directives:[{name:"show",rawName:"v-show",value:e.flag.enableTag==!0,expression:"flag.enableTag == true"}],ref:"select",staticClass:"white-bgc",staticStyle:{"margin-left":"10px","line-height":"40px"},attrs:{"filter-method":e.dataFilter,"popper-append-to-body":!1,value:e.widgetTemplate.widgetName,clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u5C06\u8981\u6807\u8BB0\u7684\u7EC4\u4EF6\u7C7B\u578B",size:"mini"},on:{clear:e.clearSelect,"visible-change":e.visibleChange}},[i("el-option",{staticStyle:{height:"auto"},attrs:{label:e.widgetTemplate.widgetName,value:e.widgetTemplate.widgetId}},[i("el-tree",{ref:"selectTree",attrs:{data:e.widgetTemplate.templateTree,"filter-node-method":e.filterNode,"highlight-current":"","node-key":"id"},on:{"node-click":e.handleNodeClick2},scopedSlots:e._u([{key:"default",fn:function({node:s,data:a}){return i("span",{staticClass:"custom-tree-node"},[a.type!="template"?i("span",[s.expanded?i("i",{staticClass:"el-icon-folder-opened",staticStyle:{color:"#e6a23c"}}):i("i",{staticClass:"el-icon-folder",staticStyle:{color:"#e6a23c"}}),e._v(" "+e._s(s.label)+" ")]):i("span",[i("el-tooltip",{attrs:{placement:"right"}},[i("div",{staticClass:"image",style:e.setImgStyle(a),attrs:{slot:"content"},slot:"content"}),i("el-button",{staticStyle:{color:"#303133"},attrs:{type:"text"}},[e._v(" "+e._s(s.label)+" ")])],1)],1)])}}])})],1)],1),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.flag.enableTag==!0&&e.widgetTemplate.widgetId&&e.widgetTemplate.widgetId!="",expression:"flag.enableTag == true && widgetTemplate.widgetId && widgetTemplate.widgetId != ''"}],staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.clearSelect}},[e._v(" \u91CD\u7F6E\u7EC4\u4EF6\u7C7B\u578B ")]),e.str_html&&e.str_html!=""?[i("el-button",{staticStyle:{float:"right","margin-top":"9px","margin-right":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.exportHtml}},[e._v(" \u5BFC\u51FA\u5DF2\u6807\u8BB0\u7684HTML\u6587\u4EF6 ")]),i("el-button",{staticStyle:{float:"right","margin-top":"9px","margin-right":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.analysisBoard}},[e._v(" \u89E3\u6790\u770B\u677F ")]),i("div",{staticStyle:{float:"right","margin-right":"10px"}},[i("el-tooltip",{attrs:{content:"\u52FE\u9009\u540E\uFF0C\u5C06\u672A\u6807\u8BB0\u7684\u6240\u6709\u6587\u672C\u89E3\u6790\u4E3A[\u901A\u7528\u6807\u9898]\u7EC4\u4EF6\uFF0C\u5C06\u672A\u6807\u8BB0\u7684\u6240\u6709\u56FE\u7247\u89E3\u6790\u4E3A[\u5355\u5F20\u56FE\u7247]\u7EC4\u4EF6",effect:"light",placement:"bottom"}},[i("el-checkbox",{model:{value:e.isAutoAnalysis,callback:function(s){e.isAutoAnalysis=s},expression:"isAutoAnalysis"}})],1)],1),i("el-tooltip",{attrs:{content:"\u9009\u62E9\u5C06\u7EC4\u4EF6\u89E3\u6790\u5230\u6307\u5B9A\u9875\u9762",effect:"light",placement:"bottom"}},[i("el-select",{ref:"treeSelectScenesPage",staticStyle:{float:"right",width:"140px","margin-right":"10px"},attrs:{placeholder:"\u8BF7\u9009\u62E9\u9875\u9762","popper-class":"white-bgc",size:"mini"},on:{"visible-change":e.visibleChangePage},model:{value:e.scenes_page.pageGuid,callback:function(s){e.$set(e.scenes_page,"pageGuid",s)},expression:"scenes_page.pageGuid"}},[i("el-option",{staticStyle:{height:"auto"},attrs:{label:e.scenes_page.pageLabel,value:e.scenes_page.pageGuid}},[i("el-tree",{ref:"selectTreeScenesPage",attrs:{"current-node-key":e.scenes_page.pageGuid,data:e.selectTreeData,"expand-on-click-node":!1,props:e.defaultProps,"default-expand-all":"","highlight-current":"","node-key":"guid"},on:{"node-click":e.selectValue}})],1)],1)],1)]:e._e(),i("el-button",{staticStyle:{float:"right","margin-top":"9px","margin-right":"10px"},attrs:{size:"mini",type:"info"},on:{click:e.showDoc}},[e._v(" \u4F7F\u7528\u8BF4\u660E ")])],2),i("div",{ref:"htmlLeft",staticClass:"dialog-import-html-left",domProps:{innerHTML:e._s(e.str_html)},on:{mouseover:function(s){return e.changeflag(!1)},scroll:function(s){return e.leftScroll()}}}),i("div",{ref:"htmlRight",staticClass:"dialog-import-html-right",on:{mouseover:function(s){return e.changeflag(!0)},scroll:function(s){return e.rightScroll()}}},[i("board-area-view",{ref:"boardAreaView",attrs:{backAndRollback:e.backAndRollback,"no-onresize":!0}})],1)])])},$=[],S=h(555616),F=function(){var e=this,i=e._self._c;return i("div",{staticClass:"my-screen",class:e.canvasClass,style:e.canvasSetting,attrs:{id:"my_bi_screen"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.backAndRollback.previous.length>0,expression:"backAndRollback.previous.length > 0"}],staticClass:"my-nav my-undo"},[i("i",{staticClass:"iconfont bi_chevronleft command",attrs:{title:"\u64A4\u9500"},on:{click:e.doBack}})]),e._l(e.currentScenes.page,function(s){return[s.initLoad==!0?i("div",{directives:[{name:"show",rawName:"v-show",value:s.initShow==!0,expression:"page.initShow == true"}],key:s.guid,staticClass:"my-board-page",style:{zIndex:s.zIndex,pointerEvents:"none"},attrs:{id:"page_"+s.guid}},[e._l(e.sortWidgetParentArr(s.guid),function(a){return[i("div",{key:a.id,style:e.getWidgetStyle(a)},[i("div",{key:"widget_"+a.id,ref:"widget_"+a.id,refInFor:!0,class:e.getWidgetClass(a),style:e.getBindStyle(a),attrs:{id:"widget_"+a.id}},[!a.border.hide&&a.border.type==="svg"?i("external-frame-svg",{ref:"comp_frame_"+a.id,refInFor:!0,attrs:{"widget-info":a}}):e._e(),a.title.position==="top"||a.title.position==="left"?i("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(a)},[i("div",{style:{marginLeft:a.title.label.left+"px",marginTop:a.title.label.top+"px"},on:{click:function(o){return e.openLink(a)}}},[i("span",{ref:"title_"+a.id,refInFor:!0,style:e.getTitleSpanStyle(a),domProps:{innerHTML:e._s(e.getTitleText(a))}})])]):e._e(),i("draggable-component",{ref:"comp_"+a.id,refInFor:!0,staticStyle:{display:"inline-block",float:"left"},style:e.getInfoStyle(a),attrs:{"is-view":!0,"widget-data":a},on:{attrChange:e.attrChange,doGetPreviewData:e.getPreviewData,doReSetBoardId:e.doReSetBoardId}}),a.title.position==="bottom"||a.title.position==="right"?i("div",{staticStyle:{overflow:"hidden",float:"left"},style:e.getWidgetTitleStyle(a)},[i("div",{style:{marginLeft:a.title.label.left+"px",marginTop:a.title.label.top+"px"},on:{click:function(o){return e.openLink(a)}}},[i("span",{ref:"title_"+a.id,refInFor:!0,style:e.getTitleSpanStyle(a),domProps:{innerHTML:e._s(e.getTitleText(a))}})])]):e._e()],1)])]})],2):e._e()]})],2)},P=[],w=h(42160),T=h(927966),B=h(295338),z=h(193575),M=h(8662),O=h(752246),j=h(126711),J=h(275770);const H={methods:{fitSize(t){const e=(l,n,p,C,N)=>{Object.keys(l).forEach(u=>{n.indexOf(u)>-1?l[u]=this.fit(l[u],!1):p.indexOf(u)>-1?l[u]=this.fit(l[u],!0):C&&C.test(u)?l[u]=this.fit(l[u],!1):N&&N.test(u)?l[u]=this.fit(l[u],!0):typeof l[u]=="object"&&l[u]!==null&&e(l[u],n,p,C,N)})};if(t.attr.lockedScale){let l=this.fit(t.attr.hh,!0,!1),n=this.fit(t.attr.hh,!0,!0);t.attr.h=this.fit(t.attr.h,!0,!t.attr.lockedScale),t.attr.hh=this.fit(t.attr.hh,!0,!t.attr.lockedScale),t.attr.w=this.fit(t.attr.w),t.attr.widgetW=this.fit(t.attr.widgetW),t.attr.x=this.fit(t.attr.x),t.attr.y=t.attr.lockedY?t.attr.y:this.fit(t.attr.y,!0,!0)-(l-n)/2}else t.attr.h=t.attr.lockedH?t.attr.h:this.fit(t.attr.h,!0,!0),t.attr.hh=t.attr.lockedH?t.attr.hh:this.fit(t.attr.hh,!0,!0),t.attr.w=t.attr.lockedW?t.attr.w:this.fit(t.attr.w),t.attr.widgetW=t.attr.lockedW?t.attr.widgetW:this.fit(t.attr.widgetW),t.attr.x=t.attr.lockedX?t.attr.x:this.fit(t.attr.x),t.attr.y=t.attr.lockedY?t.attr.y:this.fit(t.attr.y,!0,!0);let i=["widthR","widthL","radiusBL","radiusBR","radiusTL","radiusTR","breadthL","breadthR","cutL","cutR"],s=["widthT","widthB","breadthT","breadthB","cutT","cutB"];e(t.border,i,s);let a=["fontSize","widthR","widthL","radiusBL","radiusBR","radiusTL","radiusTR"],o=["widthT","widthB"];e(t.title,a,o);let c=["width","w","fontSize","minWidth","maxWidth","borderRadius","borderWidth","marginLeft","marginRight","paddingLeft","paddingRight","left","right","size"],g=["height","h","minHeight","maxHeight","marginTop","marginBottom","paddingTop","paddingBottom","top","bottom"],r=/(Width|Gap|FontSize|Padding|Margin)$/,d=/Height$/;e(t.config,c,g,r,d)},fit(t,e,i){if(typeof t!="number"||!this.isView||!/^mobile/.test(this.getCanvasSetting.transformType))return t;let s=this.getCanvasSetting.width/document.body.clientWidth,a=this.getCanvasSetting.minHeight/s,o=this.getCanvasSetting.height/(document.body.clientHeight<a?a:document.body.clientHeight),c="";switch(this.getCanvasSetting.transformType){case"mobileAutoWidth":e?c=t:c=t/s;break;case"mobileAutoBoth":c=t/s;break;default:e&&i?c=t/o:c=t/s}return c}}};var v=h(321300),D=h(921772),R=h(213743),G=h(151246),E=h(453148),V=h(678481),U=h(935051),Z=h(231954),m=h(149500),X={name:"BoardAreaView",components:{ExternalFrameSvg:R.Z,DraggableComponent:B.Z},mixins:[j.H,z.E,M.j,H,H],props:["backAndRollback","noOnresize"],data(){return{globalEditor:this.$$global_editor,canvasSetting:{minHeight:0,minWidth:0,overflow:"hidden"},timerArr:[],autoUpdateWidget:{},layout:{fixedHeight:0,fixedWidth:0,loaded:!1},first:{},transformType:null,resizing:!1}},watch:{getCanvasSetting:{deep:!0,handler:function(){setTimeout(()=>{this.autoSize(),this.receiveOpenAndClosePage()},0)}},"getCanvasSetting.transformType":{deep:!0,handler:function(){this.transformType!=this.getCanvasSetting.transformType&&(setTimeout(()=>{this.orgWidget(this.getWidgets)},0),this.transformType=this.getCanvasSetting.transformType)}},"getChildInit.finish":{deep:!0,handler:function(){this.getChildInit.count!=0&&this.getChildInit.count<=this.getChildInit.finish&&this.sendoutTotal()}}},computed:{...(0,f.Se)(["getCanvasSettingInfo","getCurrentScenesPage","getCanvasSetting","getWidgets","getWidgetAllArr","getDynamicWidgets","getWidgetParentArr","getChildInit","bodyFraction","isView","viewType","getURLParams"]),newCanvasSetting(){if(!/^mobile/.test(this.getCanvasSetting.transformType))return this.canvasSetting;let t=JSON.parse(JSON.stringify(this.canvasSetting));return t.width&&(t.width=this.fit(Number(t.width.split("px")[0]))),t.height&&(t.height=this.fit(Number(t.height.split("px")[0]),!0,!0)),t.width+="px",t.height+="px",t},currentScenes(){let t=this.$$lib__.find(this.getCanvasSetting.scenes,e=>e.guid==this.getCurrentScenesPage.scenesGuid);return t||{}},canvasClass(){return window.parent===window?"my-screen-scale-filter":""}},methods:{...(0,f.nv)(["updateCanvasSettingData","updateCanvasSettingInfoData","updateCanvasSettingInfoTransform","addWidgetParentArr2","setWidgets","setWidgetXYWHR","addWidgetAllArr2","updateWidgetParentArrDataset","updateWidgetAllArrDataset","clearWidgetParentArr","clearWidgetAllArr","setFraction","updateCurrentScenesPage"]),arraySort(t){return function(e,i){let s=e[t].z,a=i[t].z;return s-a}},loadBoardAreaView(){if(typeof this.getCanvasSetting.transformType>"u"&&Object.keys(this.getWidgets).length==0)return;this.autoUpdateWidget={},this.layout={fixedHeight:0,fixedWidth:0,loaded:!1};try{this.clear()}catch(e){m.log("\u6E05\u7A7A\u6570\u636E\u5237\u65B0\u5B9A\u65F6\u5668\u5931\u8D25",e)}this.transformType=this.getCanvasSetting.transformType,this.canvasSetting=this.getCanvasSettingInfo,this.canvasSetting.data&&this.canvasSetting.data.globalParams&&this.updateCanvasSettingInfoData(JSON.parse(JSON.stringify(this.canvasSetting.data))),this.serverBeforeLoad(),this.beforeWidgetsLoad(),this.orgWidget(this.getWidgets),this.getDynamicWidgetsSource(this.getDynamicWidgets),this.setFonts(),this.setBackground(),this.setAction(),this.setWidgetAnime(this.getCanvasSetting,this.getWidgets),this.setWaterMark();let t=this.canvasSetting.action?this.canvasSetting.action.receive.replaceGlobalParams:"";this.canvasSetting.action&&t&&t.enabled&&this.initReceiveAction(t,this.canvasSetting),this.receiveOpenAndClosePage(),this.noOnresize!=!0&&(window.onresize=()=>{if(!(!O.b&&window.innerHeight<600)&&(this.orgWidgetOnresize(this.getWidgetAllArr),/^mobile/.test(this.getCanvasSetting.transformType)&&Array.from(document.body.classList).indexOf("pc-device")!==-1&&window.frameElement&&window.frameElement.className!=="pc"||/^mobile/.test(this.getCanvasSetting.transformType)&&v.isMobile())){if(this.resizing)return;this.resizing=!0,setTimeout(()=>{this.resizing=!1,this.$emit("reset"),this.doMobileResize(this.getWidgetAllArr)},150)}})},serverBeforeLoad(){let t=this.canvasSetting.beforeLoad;if(t&&t.enabled&&t.result&&t.result.data)if(t.script)try{new Function("status","data",t.script).call(this,t.result.status,t.result.data)}catch(e){m.log("serverBeforeLoad error"),m.log(e.message)}else t.result.status!=200&&this.$message.error(t.result.data)},orgWidget(t){this.autoSize(),this.clearWidgetParentArr(),this.clearWidgetAllArr();let e=this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code;m.log(""),e&&!this.layout.loaded&&this.autoBothInit(t);let i=Math.max(this.layout.fixedWidth,window.innerWidth),s=Math.max(this.layout.fixedHeight,window.innerHeight),a=this.getFixPercent(s,this.layout.fixedHeight,this.getCanvasSetting.height),o=this.getFixPercent(i,this.layout.fixedWidth,this.getCanvasSetting.width),c={},g={},r=[],d=[];for(let l in t){let n=JSON.parse(JSON.stringify(t[l]));if(e&&n.layout&&(n.attr.forceAbsolute?(n.attr.x=n.attr.lockedX==!0?n.layout.x.old:n.layout.x.old*this.bodyFraction.windowW,n.attr.y=n.attr.lockedY==!0?n.layout.y.old:n.layout.y.old*this.bodyFraction.windowH,n.attr.w=n.attr.lockedW==!0?n.layout.w.old:n.layout.w.old*this.bodyFraction.windowW,n.attr.widgetW=n.attr.lockedW==!0?n.layout.widgetW.old:n.layout.widgetW.old*this.bodyFraction.windowW,n.attr.h=n.attr.lockedH==!0?n.layout.h.old:n.layout.h.old*this.bodyFraction.windowH,n.attr.hh=n.attr.lockedH==!0?n.layout.hh.old:n.layout.hh.old*this.bodyFraction.windowH):(n.attr.x=n.layout.x.fixed+n.layout.x.per*o,n.attr.y=n.layout.y.fixed+n.layout.y.per*a,n.attr.w=n.layout.w.fixed+n.layout.w.per*o,n.attr.widgetW=n.layout.widgetW.fixed+n.layout.widgetW.per*o,n.attr.h=n.layout.h.fixed+n.layout.h.per*a,n.attr.hh=n.attr.h-(n.layout.h.old-n.layout.hh.old))),(n.parentId==null||n.parentId==null)&&(r.push(n),n.attr.hide!=!0&&n.dataset&&n.dataset[n.dataset.type]&&(n.dataset.type==this.$$global_editor.dataSourcType.dynamic.code||n.dataset.type==this.$$global_editor.dataSourcType.local.code)&&n.dataset[n.dataset.type].autoUpdate==!0&&w.default.set(this.autoUpdateWidget,l,n)),n?.dataset?.type==this.$$global_editor.dataSourcType.mqtt.code&&n?.dataset?.mqtt){let p=n.dataset.mqtt;p.source=[],g[p.dataSetId]=g[p.dataSetId]||[],g[p.dataSetId].push(JSON.parse(JSON.stringify(n)))}if(this.getCanvasSetting.data.widgetDataAsync){if(n.dataset&&n.dataset[n.dataset.type])if(n.dataset.type==this.$$global_editor.dataSourcType.dynamic.code&&n.dataset.dynamic.openUnLoad!=!0&&n.dataset.dynamic.dataSetId&&n.dataset.dynamic.noRequest!=!0){let p=JSON.stringify({dataSetId:n.dataset.dynamic.dataSetId,dimensions:n.dataset.dynamic.dimensions,columnList:n.dataset.dynamic.columnList,dimensionsAlias:n.dataset.dynamic.dimensionsAlias,query:n.dataset.dynamic.query});c[p]==null&&w.default.set(c,p,[]),c[p].push(JSON.parse(JSON.stringify(n)))}else n.dataset.type==this.$$global_editor.dataSourcType.local.code&&setTimeout(()=>{this.getPreviewData(n)},50)}else if(n.dataset&&n.dataset[n.dataset.type]){let p={columnList:n.dataset[n.dataset.type].columnList,data:n.dataset[n.dataset.type].source,total:n.dataset[n.dataset.type].total};this.sendoutDataloadSuccess(n),this.sendoutResponseData(n,p,{}),this.updateWidgetAllArrDataset(n),this.updateWidgetParentArrDataset(n)}d.push(n)}this.addWidgetParentArr2(r),this.addWidgetAllArr2(d);for(let l in c)this.loadDynamicWidget(l,c[l]);Object.keys(g).length>0&&this.loadMqttWidget(g)},autoBothInit(t){let e={},i={};if(this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code&&!this.layout.loaded){let s=0,a=0;for(let g in t){let r=t[g];if(r.attr.x=Math.floor(r.attr.x),r.attr.y=Math.floor(r.attr.y),r.attr.h=Math.floor(r.attr.h),r.attr.w=Math.floor(r.attr.w),r.attr.hh=Math.floor(r.attr.hh),r.parentId&&(t[r.parentId]&&t[r.parentId].attr.lockedH&&(r.attr.lockedH=r.attr.forceAbsolute=r.attr.lockedY=!0),t[r.parentId]&&t[r.parentId].attr.lockedW&&(r.attr.lockedW=r.attr.forceAbsolute=r.attr.lockedX=!0)),!r.attr.forceAbsolute){if(r.attr.lockedW)for(let d=0;d<r.attr.w;d++){let l=r.attr.x+d;e[l]||(e[l]=!0,l>-1&&l<this.getCanvasSetting.width&&++a)}if(r.attr.lockedH)for(let d=0;d<r.attr.h;d++){let l=r.attr.y+d;i[l]||(i[l]=!0,l>-1&&l<this.getCanvasSetting.height&&++s)}}}this.layout.fixedHeight=s,this.layout.fixedWidth=a,this.layout.loaded=!0;let o=Math.max(this.getCanvasSetting.minHeight,s),c=Math.max(this.getCanvasSetting.minWidth,a);this.canvasSetting.minHeight=`${o}px`,this.canvasSetting.minWidth=`${c}px`,this.$el.parentElement.style.overflowX=window.innerWidth>=c?"hidden":"auto",this.$el.parentElement.style.overflowY=window.innerHeight>=o?"hidden":"auto";for(let g in t){let r=JSON.parse(JSON.stringify(t[g].attr)),d={x:null,y:null,h:null,w:null,hh:null},l=0;if(r.x<0)for(let n=r.x;n<0;++n)e[n]&&++l;else for(let n=r.x-1;n>-1;--n)e[n]&&++l;if(d.x={old:r.x-0,fixed:l-0,per:r.x>0?r.x-l:r.x+l},l=0,r.y<0)for(let n=r.y;n<0;++n)i[n]&&++l;else for(let n=0;n<r.y;++n)i[n]&&++l;d.y={old:r.y-0,fixed:l-0,per:r.y>0?r.y-l:r.y+l},l=0;for(let n=0;n<r.w;++n)e[r.x+n]&&l++;d.w={old:r.w-0,fixed:l-0,per:r.w-l},l=0;for(let n=0;n<r.widgetW;++n)e[r.x+n]&&l++;d.widgetW={old:r.widgetW-0,fixed:l-0,per:r.widgetW-l},l=0;for(let n=0;n<r.h;++n)i[r.y+n]&&l++;d.h={old:r.h-0,fixed:l-0,per:r.h-l},d.hh={old:r.hh-0},t[g].layout=d}}},getFixPercent(t,e,i){return i>e?t>e?(t-e)/(i-e):0:1},loadMqttWidget(t,e){const i=this;G.n.getMqttDataSource(Object.keys(t),!0).then(s=>{if(s?.status===200){const a=s.data;let o={};Object.keys(a).forEach(g=>{let r=a[g];r.config=JSON.parse(a[g].config),Object.keys(r.dataSet).forEach(d=>{r.dataSet[d]={topic:r.dataSet[d],widgets:t[d].map(l=>l.id)},o[d]=g})}),this.mqttDataSources=a;const c=this.isView&&this.viewType;Object.keys(a).forEach(g=>{let r=a[g];c&&r.config.publicEnabled&&r.config.publicConfig&&(r.config.publicConfig.server&&(r.config.server=r.config.publicConfig.server),r.config.publicConfig.port&&(r.config.port=r.config.publicConfig.port),r.config.publicConfig.user&&(r.config.user=r.config.publicConfig.user),r.config.publicConfig.pass&&(r.config.pass=r.config.publicConfig.pass)),r.client=(0,E.S)({protocol:r.config.protocol,port:r.config.port-0,host:r.config.server,endpoint:r.config.baseUrl,username:r.config.user,password:r.config.pass?v.AES.decrypt(r.config.pass):r.config.pass},null,null,null,!0),Object.keys(r.dataSet).forEach(d=>{let l=r.dataSet[d];r.client.subscribe(`dataset-${d}`,l.topic,(n,p)=>{l.widgets.forEach(C=>{this.updateMqttWidget(C,n,p)})})})})}})},updateMqttWidget:function(t,e,i){let s=this.getWidgetObject(t),a=s.widgetInfo||s.widgetData;if(a?.dataset?.mqtt){let o=a.dataset.mqtt;try{if((!o.columnList||o.columnList.length==0)&&(o.columnList=o.dimensionsAlias.map((c,g)=>({index:g,aggType:null,name:c.name}))),o.query.script.enabled&&o.query.script.content){let g=new Function("jsonObject","result",o.query.script.content).call(this,{_topic:e,_message:i},o);o.columnList=g.columnList,o.source=g.data,o.toal=g.total}else{let c=JSON.parse(i);if(Array.isArray(c)||(c=[c]),o.source=[],c?.length>0){o.dimensionsAlias?.length==0&&(o.dimensionsAlias=o.dimensionsAlias||[],o.dimensionsAlias.push({name:"_topic",alias:"topic"}),o.dimensionsAlias.push({name:"_message",alias:"message"}));for(let g=0;g<c.length;++g){let r=[];for(let d=0;d<o.dimensionsAlias.length;++d){let l=o.dimensionsAlias[d];l.name=="_topic"?r[d]=e:l.name=="_message"?r[d]=i:r[d]=c[g][o.dimensionsAlias[d].name]}o.source.push(r)}o.dimensions?.length||(o.dimensions=o.dimensionsAlias.map(g=>g.name))}}}catch(c){m.error("\u5904\u7406mqtt\u6D88\u606F\u5931\u8D25",c)}this.updateWidgetAllArrDataset(a),this.updateWidgetParentArrDataset(a),s.reLoadInfo(a)}},loadDynamicWidget(t,e){let i={dataSet:t};this.getDynamicSource(i,s=>{if(s&&s.status==200)this.$$lib__.each(e,a=>{a.dataset.dynamic.source=[],a.dataset.dynamic.total=0;let o=this.getDataSetData(s.data,a.dataset.dynamic.query,a.dataset.dynamic.dimensionsAlias,a.dataset.dynamic.dataSetId);this.updataWidgetSource(a,o,s.jsonObject)});else{let a=e[0],o=a.dataset.dynamic.dataSetName&&a.dataset.dynamic.dataSetName!=""?a.dataset.dynamic.dataSetName:a.dataset.dynamic.dataSetId;S.Message.error({message:"\u6570\u636E\u96C6:[ "+o+" ]\u83B7\u53D6\u5931\u8D25\uFF0C"+s.msg,offset:60})}})},orgWidgetOnresize(t){if(this.autoSize())this.doAutoBothResize(t);else return},doAutoBothResize(t){if(this.getCanvasSetting.transformType!=this.$$global_editor.transformType.autoBoth.code)return;let e=Math.max(this.layout.fixedWidth,this.getCanvasSetting.minWidth,window.innerWidth),i=Math.max(this.layout.fixedHeight,this.getCanvasSetting.minHeight,window.innerHeight);this.$el.parentElement.style.overflowX=window.innerWidth==e?"hidden":"auto",this.$el.parentElement.style.overflowY=window.innerHeight==i?"hidden":"auto";let s=this.getFixPercent(i,this.layout.fixedHeight,this.getCanvasSetting.height),a=this.getFixPercent(e,this.layout.fixedWidth,this.getCanvasSetting.width),o=JSON.parse(JSON.stringify(t)),c=this,g=[],r=[];this.$$lib__.each(o,l=>{if(l.layout){l.attr.forceAbsolute?(l.attr.x=l.attr.lockedX==!0?l.layout.x.old:l.layout.x.old*this.bodyFraction.windowW,l.attr.y=l.attr.lockedY==!0?l.layout.y.old:l.layout.y.old*this.bodyFraction.windowH,l.attr.w=l.attr.lockedW==!0?l.layout.w.old:l.layout.w.old*this.bodyFraction.windowW,l.attr.widgetW=l.attr.lockedW==!0?l.layout.widgetW.old:l.layout.widgetW.old*this.bodyFraction.windowW,l.attr.h=l.attr.lockedH==!0?l.layout.h.old:l.layout.h.old*this.bodyFraction.windowH,l.attr.hh=l.attr.lockedH==!0?l.layout.hh.old:l.layout.hh.old*this.bodyFraction.windowH):(l.attr.x=l.layout.x.fixed+l.layout.x.per*a,l.attr.y=l.layout.y.fixed+l.layout.y.per*s,l.attr.w=l.layout.w.fixed+l.layout.w.per*a,l.attr.widgetW=l.layout.widgetW.fixed+l.layout.widgetW.per*a,l.attr.h=l.layout.h.fixed+l.layout.h.per*s,l.attr.hh=l.attr.h-(l.layout.h.old-l.layout.hh.old));const n=this.getWidgetObjectChild(c,"com_"+l.id);this.setAttrSize(n,l),(l.isParent?g:r).push({component:n,item:l})}});let d=g.concat(r);for(let l=0;l<d.length;++l)try{let n=d[l].component||this.getWidgetObject(d[l].item.id);n&&typeof n.resize=="function"?this.$nextTick(function(){n.resize({windowW:a,windowH:s,bodyFraction:this.bodyFraction,widgetInfo:d[l].item})}):n&&n.echarts!=null&&typeof n.echarts.resize=="function"&&this.$nextTick(function(){n.echarts.resize()})}catch{m.log("resize error: ",d[l])}},doMobileResize(t){let e=Math.max(this.layout.fixedWidth,this.getCanvasSetting.minWidth,window.innerWidth),i=Math.max(this.layout.fixedHeight,this.getCanvasSetting.minHeight,window.innerHeight);this.$el.parentElement.style.overflowX=window.innerWidth==e?"hidden":"auto",this.$el.parentElement.style.overflowY=window.innerHeight==i?"hidden":"auto";let s=this.getFixPercent(i,this.layout.fixedHeight,this.getCanvasSetting.height),a=this.getFixPercent(e,this.layout.fixedWidth,this.getCanvasSetting.width),o=JSON.parse(JSON.stringify(t)),c=[],g=this;this.$$lib__.each(o,r=>{const d=this.getWidgetObjectChild(g,"com_"+r.id);c.push({component:d,item:r})});for(let r=0;r<c.length;++r)try{let d=c[r].component;typeof d.resize=="function"?this.$nextTick(function(){d.resize({windowW:a,windowH:s,bodyFraction:this.bodyFraction,widgetInfo:c[r].item})}):d.echarts&&typeof d.echarts.resize=="function"&&this.$nextTick(function(){d.echarts.resize()})}catch{m.log("resize error: ",c[r])}},setAttrSize(t,e){this.setWidgetXYWHR(e);const i=e.attr;if(t&&t.widgetInfo&&t.widgetInfo.attr){const s=t.widgetInfo.attr;s.x=i.x,s.y=i.y,s.w=i.w,s.h=i.h,s.widgetW=i.widgetW,s.hh=i.hh}else if(e.parentId){let s=this.getWidgetObjectChild(this,"com_"+e.parentId);if(s&&s.containerViewSubWidgetList){let a=s.containerViewSubWidgetList.find(o=>o.id===e.id);if(a){const o=a.attr;o.x=i.x,o.y=i.y,o.w=i.w,o.h=i.h,o.widgetW=i.widgetW,o.hh=i.hh}}}},calc(t,e,i){if(i==0)return e;{let s=t-e;return s>0?s*i/100+e:0}},autoSize(){this.getCanvasSetting.minWidth=this.getCanvasSetting.minWidth?this.getCanvasSetting.minWidth:0,this.getCanvasSetting.minHeight=this.getCanvasSetting.minHeight?this.getCanvasSetting.minHeight:0,this.getCanvasSetting.width=this.getCanvasSetting.width?this.getCanvasSetting.width:0,this.getCanvasSetting.height=this.getCanvasSetting.height?this.getCanvasSetting.height:0;let t=!1,e=Math.max(window.innerWidth,this.getCanvasSetting.minWidth),i=Math.max(window.innerHeight,this.getCanvasSetting.minHeight);this.getCanvasSetting.transform&&(this.getCanvasSetting.transformType=this.getCanvasSetting.transform==!0?this.$$global_editor.transformType.auto.code:this.$$global_editor.transformType.none.code),this.canvasSetting.top="0px",this.canvasSetting.left="0px",this.canvasSetting.transform="none",this.canvasSetting.width=this.getCanvasSetting.width+"px",this.canvasSetting.height=this.getCanvasSetting.height+"px";let s="";return this.getCanvasSetting.transformType!=this.$$global_editor.transformType.none.code?(/^mobile/.test(this.getCanvasSetting.transformType)||this.setFraction({width:e,height:i}),this.getCanvasSetting.transformType==this.$$global_editor.transformType.auto.code?this.canvasSetting.transform="scale("+this.bodyFraction.windowScaleW+", "+this.bodyFraction.windowScaleH+")":this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoWidth.code?(this.canvasSetting.transform="scale("+this.bodyFraction.windowScaleW+")",this.getCanvasSetting.height*this.bodyFraction.windowScaleW>i&&(this.canvasSetting.width=this.getCanvasSetting.width-8/this.bodyFraction.windowScaleW+"px"),this.setVerticalAlignment(this.bodyFraction.windowScaleW)):this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoHeight.code?(this.canvasSetting.transform="scale("+this.bodyFraction.windowScaleH+")",this.canvasSetting.overflowY="hidden",this.getCanvasSetting.width*this.bodyFraction.windowScaleH>e&&(this.canvasSetting.height=this.getCanvasSetting.height-8/this.bodyFraction.windowScaleH+"px"),this.setAlignment(this.bodyFraction.windowScaleH)):this.getCanvasSetting.transformType==this.$$global_editor.transformType.autoBoth.code?(this.canvasSetting.width=e+"px",this.canvasSetting.height=i+"px",this.canvasSetting.overflow="hidden",t=!0):(this.canvasSetting.width=this.newCanvasSetting.width,this.canvasSetting.height=this.newCanvasSetting.height),s=`.gisqbi-body-dialog-scale {transform:${this.canvasSetting.transform};transform-origin:center top;}
                .gisqbi-body-popper-scale {transform:${this.canvasSetting.transform};transform-origin:left top !important;}
                `,this.mUtils.appendCss("gisqbiBodyDialogScale",s),this.canvasSetting.margin="0",this.updateCanvasSettingInfoTransform(this.canvasSetting.transform)):(this.setFraction({width:this.getCanvasSetting.width,height:this.getCanvasSetting.height}),this.setAlignment(1),this.setVerticalAlignment(1)),t},getTitleText(t){return t.title.text===void 0||!t.title.text?"":t.title.text&&(t.title.position==="left"||t.title.position==="right")?t.title.text.split("").join("<br />"):t.title.text},beforeWidgetsLoad(){if(this.canvasSetting.action&&this.canvasSetting.action.lifecycle&&this.canvasSetting.action.lifecycle[D.default.beforeWidgetsLoad.code]){let t=this.canvasSetting.action.lifecycle[D.default.beforeWidgetsLoad.code];if(t&&t.enabled==!0){if(!t.script||!t.script.content||t.script.content==""){m.warn(t.name+"\u811A\u672C\u4E3A\u7A7A");return}m.info("\u6267\u884C "+t.name+" \u811A\u672C");let e=new Function("widgets",t.script.content),i=JSON.parse(JSON.stringify(this.getWidgets));try{let s=e.apply(this,[i]);s&&(i=s),this.setWidgets(i)}catch{m.error("\u6267\u884C "+t.name+" \u811A\u672C\u62A5\u9519\u5F02\u5E38")}}}},setAction(){const t=this;this.canvasSetting.action&&this.canvasSetting.action.sendOut&&this.canvasSetting.action.sendOut.actionList&&this.canvasSetting.action.sendOut.actionList.map(e=>{if(e.code=="postMessage"&&e.enabled){let i=this.onPostMessage,s=e.config.origin;window.addEventListener("message",function(a){s&&(s==="*"||s!="*"&&s.indexOf(a.origin)>-1)&&i.apply(t,[e,a])})}})},changeGlobalParams(t){if(this.canvasSetting.action&&this.canvasSetting.action.sendOut&&this.canvasSetting.action.sendOut.actionList){let e=this.$$lib__.find(this.canvasSetting.action.sendOut.actionList,i=>i.code==J.default.changeGlobalParams.code);if(e&&e.enabled){let i=e.code+"_canvas",s={};if(e.paramsExtend&&e.paramsExtend.length>0&&this.getParamsExtend(s,e.paramsExtend,this.canvasSetting),e.script&&e.script.enabled){if(m.log("Execute script for "+e.name+" action"),e.script.content==""){S.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param,param_change",e.script.content),t=this.customScript(s,t)}T.Z.$emit(i,t),e.postMessage&&this.doPostMessage(s),this.actionNameList.push(i)}}},initReceiveAction(t,e){let i={};if(this.$$lib__.each(t.replaceList,s=>{let a=s.replaceParam;for(let o=0;o<a.length;o++)if(a[o].length==3){let c=a[o][1]+"_"+a[o][0],g=a[o][2],r=g.indexOf("|");a[o][1].indexOf("_")>-1&&(c=a[o][1]),r>-1&&(g=a[o][2].substring(r+1)),i[c]||w.default.set(i,c,{}),i[c][s.param]||w.default.set(i[c],s.param,g)}}),!this.$$lib__.isEmpty(i))for(let s in i)T.Z.$on(s,a=>{if(t.script&&t.script.enabled){if(m.log("Execute script for \u770B\u677F\u753B\u5E03  to "+t.name+" component"),t.script.content==""){S.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.reGlobalParams=new Function("actionParam","dataSetParams","data",t.script.content)}this.reGlobalParams(i[s],e.data.globalParams.params,a)})},reGlobalParams(t,e,i){let s={},a=Object.keys(i);for(let o in t)this.$$lib__.each(e,(c,g)=>{if(g==o){let r=t[o];this.$$lib__.contains(a,r)?(e[g]=i[r],s[g]=i[r]):(e[g]=null,s[g]=null)}});this.canvasSetting.data.globalParams.params=JSON.parse(JSON.stringify(e)),this.updateCanvasSettingData(JSON.parse(JSON.stringify(this.canvasSetting.data))),this.updateCanvasSettingInfoData(JSON.parse(JSON.stringify(this.canvasSetting.data))),this.changeGlobalParams(s)},onPostMessage(t,e){if(t.config.filterScriptEnabled&&t.config.filterScript)try{if(this.filterFunction=this.filterFunction||new Function("data","source",t.config.filterScript),this.filterFunction(e.data,e)!==!0)return!1}catch(a){return m.log("\u6267\u884CpostMessage\u8F6C\u53D1\u4E8B\u4EF6\uFF0C\u811A\u672C\u8FC7\u6EE4\u65F6\u51FA\u73B0\u9519\u8BEF\u3002",a),!1}let i=t.code+"_canvas",s={data:e.data,source:e};if(this.getExtendParams(s,t.paramsExtend,[],[]),t&&t.script&&t.script.enabled&&t.script.content){m.log("Execute script for "+t.name+" action");try{if(t.script.content==""){S.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}this.customScript=new Function("param",t.script.content),s=this.customScript(s)}catch(a){m.log("\u6267\u884CpostMessage_canvas\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u51FA\u9519"),m.log(a)}}T.Z.$emit(i,s),t.postMessage&&this.doPostMessage(s),this.actionNameList.push(i)},setFonts(){let t=this.getCanvasSetting.fonts;if(t){t=t.filter((i,s)=>{let a=[];return t.forEach(o=>a.push(o.resId)),a.indexOf(i.resId)==s});let e="";t.forEach(i=>{let s=i.resId;if(s){let a=s.split("-")[1],o=`./resource/font/${s}.${a}`;e+=`@font-face {font-family: "${s}"; src: url('${o}') format('${a}')}`}}),v.appendCss("font-style",e)}},setBackground(){if(this.getCanvasSetting.fillLocation==="page"){if(this.getCanvasSetting.transformType=="none"||this.getCanvasSetting.transformType=="autoBoth"){let e=this.mUtils.getNewPxH(this.getCanvasSetting.height);document.querySelector("body").offsetHeight<e&&document.querySelector("body").setAttribute("style","height:"+e+"px!important")}let t=document.querySelector("body").style;t.backgroundColor=this.canvasSetting.backgroundColor,t.backgroundImage=this.canvasSetting.backgroundImage,t.backgroundSize=this.canvasSetting.backgroundSize,this.canvasSetting.backgroundImage="",this.canvasSetting.backgroundColor=""}},setAlignment(t){let e="0px",i=this.getCanvasSetting.alignmentOffset;this.getCanvasSetting.alignment=="left"?(e="0px",i&&this.$$lib__.isNumber(i)&&(e=i*t+"px")):this.getCanvasSetting.alignment=="center"?(e="calc(50% - "+this.getCanvasSetting.width/2*t+"px)",i&&this.$$lib__.isNumber(i)&&(e="calc(50% - "+(this.getCanvasSetting.width/2-i)*t+"px)")):this.getCanvasSetting.alignment=="right"&&(e="calc(100% - "+this.getCanvasSetting.width*t+"px)",i&&this.$$lib__.isNumber(i)&&(e="calc(100% - "+(this.getCanvasSetting.width+i)*t+"px)")),this.canvasSetting.left=e},setVerticalAlignment(t){let e="0px",i=this.getCanvasSetting.verticalAlignmentOffset;this.getCanvasSetting.verticalAlignment=="top"?(e="0px",i&&this.$$lib__.isNumber(i)&&(e=i*t+"px")):this.getCanvasSetting.verticalAlignment=="middle"?this.getCanvasSetting.height*t>window.innerHeight?(e="0px",i&&this.$$lib__.isNumber(i)&&(e=i*t+"px")):(e="calc(50% - "+this.getCanvasSetting.height/2*t+"px)",i&&this.$$lib__.isNumber(i)&&(e="calc(50% - "+(this.getCanvasSetting.height/2-i)*t+"px)")):this.getCanvasSetting.verticalAlignment=="bottom"&&(e="calc(100% - "+this.getCanvasSetting.height*t+"px)",i&&this.$$lib__.isNumber(i)&&(e="calc(100% - "+(this.getCanvasSetting.height+i)*t+"px)")),this.canvasSetting.top=e},setWidgetAnime(t,e){if(t&&e){let i="";for(let s in e){let a=e[s],o={};if(t.widgetAnime&&t.widgetAnime.hover&&t.widgetAnime.hover.enabled&&(o=JSON.parse(JSON.stringify(t.widgetAnime.hover))),a.anime&&a.anime.hover){let c=JSON.parse(JSON.stringify(a.anime.hover));c.inherit||(o={backgroundColor:"",boxShadowColor:"",boxShadowH:0,boxShadowV:0,boxShadowBlur:0,boxShadowSpread:0}),c.enabled&&(c.backgroundColor&&c.backgroundColor!=""&&(o.backgroundColor=c.backgroundColor),c.boxShadowColor&&c.boxShadowColor!=""&&(o.boxShadowColor=c.boxShadowColor),v.isNumber(c.boxShadowH)&&parseInt(c.boxShadowH)!=0&&(o.boxShadowH=parseInt(c.boxShadowH)),v.isNumber(c.boxShadowV)&&parseInt(c.boxShadowV)!=0&&(o.boxShadowV=parseInt(c.boxShadowV)),v.isNumber(c.boxShadowBlur)&&parseInt(c.boxShadowBlur)>0&&(o.boxShadowBlur=parseInt(c.boxShadowBlur)),v.isNumber(c.boxShadowSpread)&&parseInt(c.boxShadowSpread)>0&&(o.boxShadowSpread=parseInt(c.boxShadowSpread)))}if(i+=".widget_"+a.id+"_show:hover {",o.boxShadowColor&&o.boxShadowColor!=""){let c="box-shadow: "+(o.boxShadowH?o.boxShadowH:0)+"px "+(o.boxShadowV?o.boxShadowV:0)+"px "+(o.boxShadowBlur?o.boxShadowBlur:0)+"px "+(o.boxShadowSpread?o.boxShadowSpread:0)+"px "+o.boxShadowColor+" !important;";i+=c,o.backgroundColor&&o.backgroundColor!=""&&(i+="background-color: "+o.backgroundColor+" !important;")}i+="}"}v.appendCss("widgets-style",i)}},setWaterMark(){if(Z.Z.baseConfig.isPlatform&&window.parent===window&&this.viewType!=="public"){let t="/identity/getPlatInfo/explorer";(0,U.platformGetRequest)(t).then(e=>{e&&e.status==200&&e.data.waterMark&&V.GisqWaterMarkService.create(e.data.waterMark,!0)})}},doBack(){this.$emit("doBack")},doRollback(){this.$emit("doRollback")},doReSetBoardId(t){this.$emit("doReSetBoardId",t)},updataWidgetSource(t,e,i){if(e)try{switch(t.dataset.type){case this.$$global_editor.dataSourcType.dynamic.code:if(t.dataset.dynamic.source=e.data,e.columnList)try{t.dataset.dynamic.columnList=e.columnList,t.dataset.dynamic.dimensions=e.columnList.map(c=>c.name);let s={},a=e.columnList.map(c=>(s[c.name]={name:c.name,alias:""},s[c.name])),o=t.dataset.dynamic.dimensionsAlias;o&&o.length>0&&o.forEach(c=>{s[c.name]&&(s[c.name].alias=c.alias)}),t.dataset.dynamic.dimensionsAlias=a}catch(s){m.error("Refresh Data Dimensions Error",s)}e.total&&(t.dataset.dynamic.total=e.total);break;case this.$$global_editor.dataSourcType.local.code:t.dataset.local.dimensionsAlias=[],t.dataset.local.columnList=[],t.dataset.local.source=[],t.dataset.local.dimensions=[],t.dataset.local.dimensionsAlias=e.dimensionsAlias,t.dataset.local.columnList=e.columnList,t.dataset.local.source=e.source,t.dataset.local.dimensions=e.dimensions;break}}catch(s){m&&m.log&&m.log(s)}if(this.updateWidgetAllArrDataset(t),this.updateWidgetParentArrDataset(t),t.parentId){let s=this.$refs["comp_"+t.parentId];if(s&&s.length>0){let a=this.getWidgetObjectChild(s[0],"comp_"+t.id);a&&a.reLoadInfo(JSON.parse(JSON.stringify(t)))}}else{let s=this.$refs["comp_"+t.id];s&&s.length>0&&s[0].reLoadInfo(JSON.parse(JSON.stringify(t)))}this.sendoutDataloadSuccess(t),this.sendoutResponseData(t,e,i)},getWidgetObjectChild(t,e){if(this.refsList=this.refsList||[],this.refsList&&this.refsList[e])return this.refsList[e];if(t&&e&&t.$refs){let i=t.$refs[e];if(i&&i.length>0)return i[0];for(let s in t.$refs){let a=t.$refs[s];if(a&&a.$el?this.refsList[s]=a:a&&a.length>0&&a[0].$el?this.refsList[s]=a[0]:this.refsList[s]=null,this.refsList[s]){let o=this.getWidgetObjectChild(this.refsList[s],e);if(o)return o}}}},sendoutTotal(){this.$$lib__.each(this.getWidgetAllArr,t=>{this.sendTotal(t)})},sortWidgetParentArr(t){let e=this.$$lib__.filter(this.getWidgetParentArr,i=>i.scenesId==this.currentScenes.guid&&i.pageId==t);return e?e.sort(this.arraySort("attr")):[]},receiveOpenAndClosePage(){this.canvasSetting.action&&this.canvasSetting.action.receive&&this.canvasSetting.action.receive.openPage&&this.canvasSetting.action.receive.openPage.enabled&&this.openAndClosePage(this.canvasSetting.action.receive.openPage,!0),this.canvasSetting.action&&this.canvasSetting.action.receive&&this.canvasSetting.action.receive.closePage&&this.canvasSetting.action.receive.closePage.enabled&&this.openAndClosePage(this.canvasSetting.action.receive.closePage,!1)},openAndClosePage(t,e){let i=null;if(t.script&&t.script.enabled){if(m.log("Execute script for \u770B\u677F\u753B\u5E03  to "+t.name+" component"),t.script.content==""){S.Message.warning({message:"\u81EA\u5B9A\u4E49\u811A\u672C\u5DF2\u542F\u7528\uFF0C\u4F46\u672A\u7F16\u5199\u4EFB\u4F55\u811A\u672C",offset:60});return}i=new Function("data, param_key, values, scenesId, pageId, type",t.script.content)}this.$$lib__.each(t.actionList,s=>{s&&s.widgetList&&s.widgetList.length>0&&this.$$lib__.each(s.widgetList,a=>{if(a&&a.length>0){let o=a[0][1]+"_"+a[0][0];a[0][1].indexOf("_")>-1&&(o=a[0][1]),T.Z.$on(o,c=>{let g=a[0][2];if(g){let r=g.indexOf("|");r>-1&&(g=a[0][2].substring(r+1))}t.script&&t.script.enabled?i.apply(this,[c,g,s.values,s.scenesId,s.pageId,e]):this.openOrClosePage(c,g,s.values,s.scenesId,s.pageId,e)})}})})},openOrClosePage(t,e,i,s,a,o){(i==null||i.length==0||this.$$lib__.contains(i,t[e]))&&this.updateCurrentScenesPage({scenesId:s,pageId:a,value:o})}},created:function(){this.clear()},mounted(){this.$nextTick(function(){this.loadBoardAreaView()}),O.X.versions.trident&&this.$message({message:"\u60A8\u6B63\u5728\u4F7F\u7528IE\u6D4F\u89C8\u5668\u6216IE\u5185\u6838\u6D4F\u89C8\u5668\uFF0CBI\u7CFB\u7EDF\u90E8\u5206\u529F\u80FD\u4E0D\u517C\u5BB9\uFF0C\u8BF7\u5207\u6362\u8C37\u6B4C\u6D4F\u89C8\u5668\u8FDB\u884C\u9884\u89C8\uFF01",type:"warning"})},destroyed:function(){this.clear(),window.onresize=null}},Y=X,k=h(768141),K=(0,k.Z)(Y,F,P,!1,null,"5505e7eb",null),q=K.exports,W=h(846577),Q=h(125682),tt=h(645617),et=h.n(tt),it=h(351073),at=h(149500),st={name:"import-dialog-html",components:{BoardAreaView:q},data(){return{isAutoAnalysis:!1,file_name:null,str_html:null,backAndRollback:{previous:[],behind:[]},config_json:{image_list:[],real:null,template:{canvasSetting:{},widgets:{}}},widgetTemplate:{templateTree:[],widgetId:null,widgetName:null},flag:{scroll:!1,enableTag:!1},scenes_page:{pageGuid:null,pageLabel:null,scenesGuid:null},defaultProps:{children:"page"}}},computed:{...(0,f.Se)(["editorBiId","getBoardConfig","getCanvasSetting","getWidgetTemplateList","getWidgetTemplateGroupTree","getCurrentScenesPage"]),selectTreeData:function(){let t=[];if(this.getCanvasSetting&&this.getCanvasSetting.scenes){let e=JSON.parse(JSON.stringify(this.getCanvasSetting.scenes));this.$$lib__.each(e,i=>{i.page=this.$$lib__.sortBy(i.page,"zIndex").reverse()}),t=this.$$lib__.sortBy(e,"zIndex")}return t}},mounted(){this.scenes_page.pageGuid=this.getCurrentScenesPage.pageGuid,this.scenes_page.pageLabel=this.getCurrentScenesPage.pageLabel,this.scenes_page.scenesGuid=this.getCurrentScenesPage.scenesGuid,this.getTemplateTreeData()},methods:{...(0,f.nv)(["setBoardConfig","setCurrentScenesPage"]),confirm(t){this.upLoadImageList(()=>{this.$nextTick(()=>{let e=JSON.stringify(this.config_json.template);this.$$lib__.each(this.config_json.image_list,i=>{let s=e.indexOf(i.url_temp);for(;s>-1;)e=e.replace(i.url_temp,i.url_real),s=e.indexOf(i.url_temp)}),this.setBoardConfig(e),this.config_json.image_list=[],this.config_json.template={canvasSetting:{},widgets:{}},t&&t()})})},cancel(){this.setBoardConfig(this.config_json.real)},setFileInfo(t){this.file_name=t.fileName,this.str_html=t.htmlDoc,this.config_json.real=JSON.stringify(this.getBoardConfig),this.setBoardConfig(JSON.stringify(this.getBoardConfig)),this.$refs.boardAreaView.loadBoardAreaView(),this.flag.enableTag=!1},setRealConfigJson(){this.config_json.real=JSON.stringify(this.getBoardConfig),this.setBoardConfig(JSON.stringify(this.getBoardConfig)),this.$refs.boardAreaView.loadBoardAreaView()},handleChange(t){t.raw.type!="text/html"&&S.Message.error({message:t.name+"\u4E0D\u662Fjson\u6587\u4EF6",offset:60}),this.file_name=t.name;let e=new FileReader,i=this;e.readAsText(t.raw),e.onload=s=>{i.str_html=s.target.result,this.config_json.real=JSON.stringify(this.getBoardConfig),this.flag.enableTag=!1}},async analysisBoard(){if(!this.scenes_page||!this.scenes_page.pageGuid||this.scenes_page.pageGuid==""){S.Message.warning({message:"\u8BF7\u9009\u62E9\u7EC4\u4EF6\u89E3\u6790\u7684\u9875\u9762",offset:60});return}this.config_json.image_list=[];let t=JSON.parse(this.config_json.real);this.config_json.template.canvasSetting=JSON.parse(JSON.stringify(t.canvasSetting)),this.$$lib__.each(this.config_json.template.canvasSetting.scenes,a=>{if(a.guid==this.scenes_page.scenesGuid){a.initShow=!0,a.initLoad=!0;let o=a.page.length;this.$$lib__.each(a.page,(c,g)=>{c.guid==this.scenes_page.pageGuid?(c.initShow=!0,c.initLoad=!0,c.zIndex=o-1):c.zIndex=g})}else a.initLoad=!1});let e=this.$refs.htmlLeft;this.config_json.template.canvasSetting.width=e.scrollWidth,this.config_json.template.canvasSetting.height=e.scrollHeight,this.config_json.template.widgets={};for(let a in t.widgets){let o=JSON.parse(JSON.stringify(t.widgets[a]));o.pageId!=this.scenes_page.pageGuid&&w.default.set(this.config_json.template.widgets,a,o)}let i=this.$$lib__.find(e.children,a=>a.tagName.toLocaleLowerCase()=="div"),s=null;if(i&&i.children&&i.children.length>0)s=i.children;else{let a=this.$$lib__.filter(e.children,o=>o.tagName.toLocaleLowerCase()=="div");a&&a.length>0&&(s=a)}if(s){for(let a=0;a<s.length;a++){let o=s[a],c=o.getAttribute("widget_name"),g=window.getComputedStyle(o,"");if(c=="background"){if(g.width&&g.width!=""&&(this.config_json.template.canvasSetting.width=parseFloat(g.width)),g.height&&g.height!=""&&(this.config_json.template.canvasSetting.height=parseFloat(g.height)),g.backgroundColor&&g.backgroundColor!=""&&(this.config_json.template.canvasSetting.backgroundColor=g.backgroundColor),g.backgroundSize&&g.backgroundSize!=""&&(this.config_json.template.canvasSetting.backgroundSize=g.backgroundSize),g.backgroundImage&&g.backgroundImage!=""&&g.backgroundImage!="none"){let r=v.getHtmlImageInfo(o,g.backgroundImage);r&&(this.config_json.image_list.push(r),this.config_json.template.canvasSetting.backgroundImage=r.url_temp)}}else if(this.isAutoAnalysis==!0&&(c&&c!=""||(c=o.textContent&&o.textContent!=""?"title-general":"picture-single")),c&&c!=""){let r=this.$$lib__.find(this.getWidgetTemplateList,d=>d.widgetName==c);if(r){let d=this.getWidgetConfig(r,o,g,a);await this.analysisWidgetHtml(d,o,g),w.default.set(this.config_json.template.widgets,d.id,JSON.parse(JSON.stringify(d)))}}}this.setBoardConfig(JSON.stringify(this.config_json.template)),this.$refs.boardAreaView.loadBoardAreaView()}},async analysisWidgetHtml(t,e,i){const s=await h(842512)("./"+t.widgetType+"/"+t.widgetGroup+"/"+t.typeName+"/"+t.typeName+"-config");let{htmlToWidget:a}=s;a&&a(t,e,i,this.config_json.image_list)},upLoadImageList(t){const e=this.$loading({lock:!0,text:"\u6B63\u5728\u4E0A\u4F20\u770B\u677F\u4E2D\u7684\u56FE\u7247\u4FE1\u606F\uFF0C\u8BF7\u7A0D\u7B49\u3002\u3002\u3002",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.config_json.image_list&&this.config_json.image_list.length>0?it.i.upLoadImageList({editorId:this.editorBiId,imageList:this.config_json.image_list}).then(i=>{e.close(),i&&i.status==200?t&&t():S.Message.error({message:i.msg,offset:60})}):(e.close(),t())},getWidgetConfig(t,e,i,s){let a={},o=e.id&&e.id!=""?e.id:t.widgetTitle+"_"+v.randomString(),c=t.widgetName.replace(/-/g,"_");if(W.Z[t.widgetType]&&W.Z[t.widgetType][t.widgetGroup]&&W.Z[t.widgetType][t.widgetGroup][c])a=JSON.parse(JSON.stringify(W.Z[t.widgetType][t.widgetGroup][c]));else if(t.configJson!=null&&t.configJson!="")a=JSON.parse(t.configJson);else{let g=JSON.parse(JSON.stringify(Q.Z));a={isDefaultBaseConfig:!0,attr:g.attr,border:g.border,title:g.title,config:{}}}return a.id=et().v4().replace(/-/g,""),a.name=o,a.typeId=t.widgetTemplateId,a.typeName=t.widgetName,a.widgetType=t.widgetType,a.widgetGroup=t.widgetGroup,a.typeTitle=t.widgetTitle,a.pageId=this.scenes_page.pageGuid,a.scenesId=this.scenes_page.scenesGuid,a.attr.predefineColoursScheme=this.getCanvasSetting.predefineColoursScheme,i.width&&i.width!=""&&(a.attr.w=parseFloat(i.width)),i.height&&i.height!=""&&(a.attr.h=parseFloat(i.height),a.attr.hh=a.attr.h),i.left&&i.left!=""&&(a.attr.x=parseFloat(i.left)),i.top&&i.top!=""&&(a.attr.y=parseFloat(i.top)),i.zIndex&&i.zIndex!=""&&i.zIndex!="0"&&i.zIndex!=0?a.attr.z=parseFloat(i.zIndex):a.attr.z=s,a},visibleChange(t){t&&this.$refs.selectTree.setCurrentKey(this.widgetTemplate.widgetId)},handleNodeClick2(t){t.type=="template"&&(this.widgetTemplate.widgetId=t.id,this.widgetTemplate.widgetName=t.label,this.$refs.select.blur(),this.$forceUpdate(),this.divTagList(!0))},changeTag(){this.flag.enableTag=!this.flag.enableTag,this.$refs.htmlLeft.style.cursor=this.flag.enableTag==!0?"pointer":"",this.divAddAction(),this.divTagList(this.flag.enableTag)},divAddAction(){let t=null,e=this,i=this.$$lib__.find(this.$refs.htmlLeft.children,s=>s.tagName.toLocaleLowerCase()=="div");if(i&&i.children&&i.children.length>0)t=i.children;else{let s=this.$$lib__.filter(this.$refs.htmlLeft.children,a=>a.tagName.toLocaleLowerCase()=="div");s&&s.length>0&&(t=s)}if(t&&t.length>0)for(let s=0;s<t.length;s++)t[s].tagName.toLocaleLowerCase()=="div"&&(this.flag.enableTag?(t[s].onclick=function(){let a=this.getAttribute("widget_name");if(e.widgetTemplate.widgetId)a&&a==e.widgetTemplate.widgetId?(this.removeAttribute("widget_name"),this.removeAttribute("widget_title"),this.style.boxShadow="",this.removeAttribute("highlight")):(this.setAttribute("widget_name",e.widgetTemplate.widgetId),this.setAttribute("widget_title",e.widgetTemplate.widgetName),this.style.boxShadow="rgb(0 255 0) 0px 0px 5px 3px",this.setAttribute("highlight",!0));else if(a&&a!=""){let o=this.getAttribute("widget_title");if(!o){let c=e.$$lib__.find(e.getWidgetTemplateList,g=>g.widgetName==a);c&&(o=c.widgetTitle)}e.widgetTemplate.widgetId=a,e.widgetTemplate.widgetName=o,e.$refs.selectTree.setCurrentKey(e.widgetTemplate.widgetId),e.$forceUpdate(),e.divTagList(!0)}else S.Message.warning({message:"\u8BF7\u5148\u9009\u62E9\u7EC4\u4EF6\u7C7B\u578B,\u518D\u8FDB\u884C\u6807\u8BB0",offset:60})},t[s].onmouseover=function(){this.style.boxShadow=" 0 0 2px 1px rgb(0 0 255)"},t[s].onmouseout=function(){this.getAttribute("highlight")?this.style.boxShadow="rgb(0 255 0) 0px 0px 5px 3px":this.style.boxShadow=""}):(t[s].onclick=null,t[s].onmouseover=null,t[s].onmouseout=null))},divTagList(t){let e=null,i=this.$$lib__.find(this.$refs.htmlLeft.children,s=>s.tagName.toLocaleLowerCase()=="div");if(i&&i.children&&i.children.length>0)e=i.children;else{let s=this.$$lib__.filter(this.$refs.htmlLeft.children,a=>a.tagName.toLocaleLowerCase()=="div");s&&s.length>0&&(e=s)}if(e&&e.length>0){for(let s=0;s<e.length;s++)if(e[s].tagName.toLocaleLowerCase()=="div"){let a=e[s].getAttribute("widget_name");t&&a!=null&&a==this.widgetTemplate.widgetId?(e[s].style.boxShadow="rgb(0 255 0) 0px 0px 5px 3px",e[s].setAttribute("highlight",!0)):(e[s].style.boxShadow="",e[s].removeAttribute("highlight"))}}},clearSelect(){this.widgetTemplate.widgetId=null,this.widgetTemplate.widgetName=null,this.$refs.selectTree.setCurrentKey(null),this.$refs.selectTree.filter(null),this.divTagList(!1)},dataFilter(t){this.$refs.selectTree.filter(t)},filterNode(t,e){return t?e.label.indexOf(t)!==-1:!0},getTemplateTreeData(){this.widgetTemplate.templateTree=[{type:"template",id:"background",label:"\u770B\u677F\u80CC\u666F"}],this.$$lib__.each(this.getWidgetTemplateGroupTree,t=>{if(t.isDeleted==0){let e={id:t.groupId,label:t.groupName,type:t.type,children:[]};this.$$lib__.each(t.children,i=>{if(i.isDeleted==0){let s={type:i.type,id:i.groupId,label:i.groupName,children:[]};this.$$lib__.each(this.getWidgetTemplateList,a=>{if(a.isDeleted==0&&a.isShow==1&&s.id==a.widgetGroupId){let o={type:"template",id:a.widgetName,label:a.widgetTitle,widgetType:a.widgetType,widgetGroup:a.widgetGroup,widgetImg:a.widgetImg};s.children.push(o)}}),e.children.push(s)}}),this.widgetTemplate.templateTree.push(e)}})},exportHtml(){this.$confirm("\u662F\u5426\u786E\u5B9A\u5BFC\u51FAHTML\u6587\u4EF6\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",closeOnClickModal:!1,closeOnPressEscape:!1,customClass:"deleteBoardC"}).then(()=>{let t=this.$refs.htmlLeft.innerHTML,e=new Blob([t],{type:"text/html;charset=utf-8"}),i=window.URL.createObjectURL(e);const s=document.createElement("a");s.href=i,s.download=this.file_name,s.click(),URL.revokeObjectURL(i)}).catch(t=>{at.log(t)})},changeflag(t){this.flag.scroll=t},leftScroll(){this.flag.scroll||(this.$refs.htmlRight.scrollTop=this.$refs.htmlLeft.scrollTop,this.$refs.htmlRight.scrollLeft=this.$refs.htmlLeft.scrollLeft)},rightScroll(){this.flag.scroll&&(this.$refs.htmlLeft.scrollTop=this.$refs.htmlRight.scrollTop,this.$refs.htmlLeft.scrollLeft=this.$refs.htmlRight.scrollLeft)},setImgStyle(t){return v.setImgStyle(t)},showDoc(){this.$emit("showDocHtml")},visibleChangePage(){this.$refs.selectTreeScenesPage.setCurrentKey(this.scenes_page.pageGuid)},selectValue(t,e){e.level==2&&(this.scenes_page.pageGuid=t.guid,this.scenes_page.pageLabel=t.label,this.scenes_page.scenesGuid=e.parent.data.guid,this.$refs.treeSelectScenesPage.blur(),this.setCurrentScenesPage({scenesGuid:e.parent.data.guid,scenesLabel:e.parent.data.label,pageGuid:t.guid,pageLabel:t.label}))}}},nt=st,ot=(0,k.Z)(nt,L,$,!1,null,"2d44391a",null),rt=ot.exports,lt=function(){var e=this,i=e._self._c;return i("div",{staticClass:"markdown-body",staticStyle:{"overflow-y":"auto"}},[i("vue-markdown",{staticClass:"my-markdown",attrs:{source:e.htmlMD}})],1)},ct=[],gt=h(17977),dt=h.n(gt),I=h(149500),ht={name:"import-dialog-html-instructions",components:{VueMarkdown:()=>Promise.all([h.e(824),h.e(61188)]).then(h.t.bind(h,659832,23))},data(){return{htmlMD:""}},methods:{getDoc(){dt().get("./static/md/tools/import-html-doc.md",{Message:{error:I.log,info:I.info,log:I.log}}).then(t=>{this.htmlMD=t||`## \u63D0\u793A \r
  \u6682\u672A\u63D0\u4F9B\u7EC4\u4EF6API . `})}}},ft=ht,mt=(0,k.Z)(ft,lt,ct,!1,null,"198872fd",null),pt=mt.exports,ut={name:"import-html-dialog",components:{ImportDialogHtmlInstructions:pt,ImportDialogHtml:rt,Designer2webIndex:_.Z},data(){return{steps:"svg",doc_type:null,dialog:{width:0,height:0,isFirst:!0,visible:!1},disabledNextSvg:!1}},computed:{...(0,f.Se)(["editorBiId","getBoardConfig","getCanvasSetting","getWidgetTemplateList","getWidgetTemplateGroupTree"])},mounted(){this.dialog.height=window.innerHeight-70,this.dialog.width=window.innerWidth-10,window.$bus.$on("busUploadDesignerFile",t=>{t==null?this.disabledNextSvg=!0:this.disabledNextSvg=!1})},methods:{openDialog(){this.dialog.visible=!0,this.$nextTick(()=>{this.$refs.refImportDialogHtml.setRealConfigJson()})},nextSvg(){let t=this.$refs.refDesigner2webIndex.getDesignerInfo();t.htmlDoc&&this.$refs.refImportDialogHtml.setFileInfo(t),this.steps="html"},prevHtml(){this.steps="svg"},cancel(){this.$refs.refImportDialogHtml.cancel(),this.dialog.visible=!1},confirm(){this.$refs.refImportDialogHtml.confirm(()=>{this.dialog.visible=!1})},showDocHtml(){this.doc_type="html",this.steps="doc_html",this.$refs.importDialogHtmlInstructions.getDoc()},rollback(){this.steps=this.doc_type}}},bt=ut,vt=(0,k.Z)(bt,b,y,!1,null,"400e869d",null),yt=vt.exports},842512:function(A,x,h){var b={"./charts/bar/bar-line-mix/bar-line-mix-config":[828309,9],"./charts/bar/bar-negative/bar-negative-config":[994480,9],"./charts/bar/bar-simple/bar-simple-config":[889086,9],"./charts/bar/bar-stack/bar-stack-config":[166758,9],"./charts/bar/bar-three-dimensional/bar-three-dimensional-config":[77403,9],"./charts/candlestick/candlestick-simple/candlestick-simple-config":[167616,9],"./charts/common/attribute/animation/animation-config":[469135,9],"./charts/common/attribute/area-style/area-style-config":[429790,9],"./charts/common/attribute/axis-label/axis-label-config":[628260,9],"./charts/common/attribute/axis-line/axis-line-config":[564714,9],"./charts/common/attribute/axis-pointer/axis-pointer-config":[528597,9],"./charts/common/attribute/axis-pointer2/axis-pointer2-config":[192411,9],"./charts/common/attribute/axis-tick/axis-tick-config":[38581,9],"./charts/common/attribute/color-info/color-info-config":[943115,9],"./charts/common/attribute/cross-style/cross-style-config":[305233,9],"./charts/common/attribute/emphasis-color/emphasis-color-config":[626949,9],"./charts/common/attribute/formatter/formatter-config":[325251,9],"./charts/common/attribute/geo3D/geo3D-config":[842189,9],"./charts/common/attribute/item-style/item-style-config":[150285,9],"./charts/common/attribute/label-layout/label-layout-config":[751394,9],"./charts/common/attribute/label-line/label-line-config":[888014,9],"./charts/common/attribute/label-style/label-style-config":[858989,9],"./charts/common/attribute/line-style/line-style-config":[569174,9],"./charts/common/attribute/mark-area/mark-area-config":[45589,9],"./charts/common/attribute/mark-line/mark-line-config":[569065,9],"./charts/common/attribute/mark-line2/mark-line2-config":[74755,9],"./charts/common/attribute/mark-point/mark-point-config":[899786,9],"./charts/common/attribute/name-text-style/name-text-style-config":[294648,9],"./charts/common/attribute/select-style/select-style-config":[363697,9],"./charts/common/attribute/shadow-style/shadow-style-config":[329103,9],"./charts/common/attribute/split-area/split-area-config":[325240,9],"./charts/common/attribute/split-line/split-line-config":[775455,9],"./charts/common/attribute/text-style/text-style-config":[585428,9],"./charts/common/common-config":[738002,9],"./charts/custom/gantt-chart/gantt-chart-config":[930103,9],"./charts/funnel/funnel-simple/funnel-simple-config":[677928,9],"./charts/funnel/funnel-three-dimensional/funnel-three-dimensional-config":[307984,9],"./charts/gauge/gauge-simple/gauge-simple-config":[264196,9],"./charts/graph/graph-simple/graph-simple-config":[459499,9],"./charts/heatmap/heatmap-calendar/heatmap-calendar-config":[721552,7],"./charts/heatmap/heatmap-cartesian/heatmap-cartesian-config":[349385,9],"./charts/line/line-area-stack/line-area-stack-config":[697490,9],"./charts/line/line-simple/line-simple-config":[804617,9],"./charts/line/line-stack/line-stack-config":[597910,9],"./charts/line/line-three-dimensional/line-three-dimensional-config":[832475,9],"./charts/pictorial/pictorial-bar-line-mix/pictorial-bar-line-mix-config":[575797,9],"./charts/pictorial/pictorial-bar/pictorial-bar-config":[711334,9],"./charts/pie/pie-doughnut-multi/pie-doughnut-multi-config":[843674,9],"./charts/pie/pie-doughnut/pie-doughnut-config":[490359,9],"./charts/pie/pie-nested/pie-nested-config":[107797,9],"./charts/pie/pie-three-dimensional/pie-three-dimensional-config":[368326,9],"./charts/radar/radar-complete/radar-complete-config":[149047,9],"./charts/radar/radar-simple/radar-simple-config":[459754,9],"./charts/sankey/sankey-simple/sankey-simple-config":[624553,9],"./charts/scatter/scatter-cartesian/scatter-cartesian-config":[778323,9],"./charts/scatter/scatter-simple/scatter-simple-config":[267163,9],"./charts/scatter/scatter-single-axis/scatter-single-axis-config":[400617,9],"./charts/scatter/scatter-three-dimensional/scatter-three-dimensional-config":[461366,9],"./charts/sunburst/sunburst-simple/sunburst-simple-config":[558608,9],"./charts/venn/venn-simple/venn-simple-config":[435584,9],"./common/action/lifecycle/action-lifecycle-default-config":[921772,9],"./common/action/receive/action-receive-default-config":[649658,9],"./common/action/send/action-send-default-config":[275770,9],"./common/svg-custom/border-svg/border-svg-config":[892465,9],"./interactive/all/all-iframe/all-iframe-config":[616739,9],"./interactive/basic/adaptive/adaptive-config":[445929,9],"./interactive/basic/check-box/check-box-config":[738430,9],"./interactive/basic/close-page/close-page-config":[400470,9],"./interactive/basic/com-button/com-button-config":[981555,9],"./interactive/basic/com-cascader/com-cascader-config":[443227,9],"./interactive/basic/com-date-picker/com-date-picker-config":[70662,9],"./interactive/basic/com-input/com-input-config":[158116,9],"./interactive/basic/com-select/com-select-config":[362016,9],"./interactive/basic/com-time-line/com-time-line-config":[70411,9],"./interactive/basic/com-time-picker/com-time-picker-config":[716560,9],"./interactive/basic/com-time-progress/com-time-progress-config":[851161,9],"./interactive/basic/download-excel/download-excel-config":[575416,9],"./interactive/basic/full-screen/full-screen-config":[257562,9],"./interactive/basic/pagination/pagination-config":[643731,9],"./interactive/basic/radio-group/radio-group-config":[817333,9],"./interactive/basic/tree-select/tree-select-config":[364803,9],"./interactive/basic/tree/tree-config":[308338,9],"./interactive/platform/log/log-config":[782815,9],"./interactive/platform/login/login-config":[587485,9],"./interactive/platform/modify-password/modify-password-config":[239202,9],"./interactive/platform/modify-userinfo/modify-userinfo-config":[814041,9],"./interactive/platform/nav-menu/nav-menu-config":[474668,9],"./interactive/platform/platform-interactive/platform-interactive-config":[135862,9],"./interactive/platform/platform-menu/platform-menu-config":[987580,9],"./interactive/platform/platform-tabs/platform-tabs-config":[70362,9],"./map/base/country-map-bar/country-map-bar-config":[252274,9],"./map/base/country-map-lines/country-map-lines-config":[433578,9],"./map/base/country-map-liquidfill/country-map-liquidfill-config":[105572,9],"./map/base/country-map-scatter/country-map-scatter-config":[103540,9],"./map/base/country-map/country-map-config":[485982,9],"./map/bmap/bmap-point/bmap-point-config":[265840,9],"./map/control/control-ai/control-ai-config":[56751,9],"./map/control/control-data/control-data-config":[718389,9],"./map/gis/gis-3dmap/gis-3dmap-config":[123166,9],"./map/gis/gis-analysis/gis-analysis-config":[92918,9],"./map/gis/gis-base-control3d/gis-base-control3d-config":[942530,9],"./map/gis/gis-base-map/gis-base-map-config":[680661,9,80661],"./map/gis/gis-base/gis-base-config":[334333,9],"./map/gis/gis-book-mark3d/gis-book-mark3d-config":[22126,9],"./map/gis/gis-clip-tools/gis-clip-tools-config":[828044,9],"./map/gis/gis-compass/gis-compass-config":[26748,9],"./map/gis/gis-copy/gis-copy-config":[723592,9],"./map/gis/gis-covermask/gis-covermask-config":[468099,9],"./map/gis/gis-cutting/gis-cutting-config":[578904,9],"./map/gis/gis-delete/gis-delete-config":[377815,9],"./map/gis/gis-draw-line/gis-draw-line-config":[370080,9],"./map/gis/gis-draw-modify/gis-draw-modify-config":[408636,9],"./map/gis/gis-draw-point/gis-draw-point-config":[574223,9],"./map/gis/gis-draw-polygon/gis-draw-polygon-config":[845249,9],"./map/gis/gis-draw-tool3d/gis-draw-tool3d-config":[587699,9],"./map/gis/gis-draw/gis-draw-config":[194296,9],"./map/gis/gis-edit/gis-edit-config":[146258,9],"./map/gis/gis-file-export/gis-file-export-config":[235718,9],"./map/gis/gis-file-import/gis-file-import-config":[403575,9],"./map/gis/gis-flatten-tools/gis-flatten-tools-config":[247639,9],"./map/gis/gis-identify/gis-identify-config":[171298,9],"./map/gis/gis-kh-analysis/gis-kh-analysis-config":[589075,9],"./map/gis/gis-layer-base/gis-layer-base-config":[398834,9],"./map/gis/gis-layer-scheme/gis-layer-scheme-config":[499686,9],"./map/gis/gis-legend-common/gis-legend-common-config":[137353,9],"./map/gis/gis-legend/gis-legend-config":[581889,9],"./map/gis/gis-map-measure3d/gis-map-measure3d-config":[906747,9],"./map/gis/gis-map/gis-map-config":[716971,9],"./map/gis/gis-measure/gis-measure-config":[413732,9],"./map/gis/gis-mobile-toc/gis-mobile-toc-config":[213249,9],"./map/gis/gis-navigate/gis-navigate-config":[946899,9],"./map/gis/gis-paste/gis-paste-config":[277655,9],"./map/gis/gis-place-search/gis-place-search-config":[265915,9],"./map/gis/gis-plot/gis-plot-config":[316188,9],"./map/gis/gis-roam3d/gis-roam3d-config":[46756,9],"./map/gis/gis-save/gis-save-config":[112411,9],"./map/gis/gis-scale/gis-scale-config":[44003,9],"./map/gis/gis-scene-split3d/gis-scene-split3d-config":[153278,9],"./map/gis/gis-search-address/gis-search-address-config":[832214,9],"./map/gis/gis-select/gis-select-config":[136425,9],"./map/gis/gis-spatial-analysis3d/gis-spatial-analysis3d-config":[624859,9],"./map/gis/gis-split/gis-split-config":[652485,9],"./map/gis/gis-theme-bubble/gis-theme-bubble-config":[26538,9],"./map/gis/gis-theme-categorize/gis-theme-categorize-config":[753946,9],"./map/gis/gis-theme-charts/gis-theme-charts-config":[625400,9],"./map/gis/gis-theme-cluster/gis-theme-cluster-config":[318418,9],"./map/gis/gis-theme-heatmap/gis-theme-heatmap-config":[580659,9],"./map/gis/gis-theme-scatter/gis-theme-scatter-config":[118327,9],"./map/gis/gis-threed/gis-threed-config":[995403,9,95403],"./map/gis/gis-toc/gis-toc-config":[275530,9],"./map/gis/gis-union/gis-union-config":[602292,9],"./map/gis/gis-xmlocation/gis-xmlocation-config":[29340,9],"./map/gis/ol-base-map/ol-base-map-config":[677245,9],"./map/gis/ol-scatter-map/ol-scatter-map-config":[546309,9],"./material/decorate/decorate-background/background-svg/background-svg-config":[813550,9,13550],"./material/decorate/decorate-background/decorate-background-config":[521109,9],"./media/container/container-carousel/container-carousel-config":[523930,9],"./media/container/container-collapse/container-collapse-config":[925791,9],"./media/container/container-dialog/container-dialog-config":[185406,9],"./media/container/container-drawer/container-drawer-config":[955477,9],"./media/container/container-pane/container-pane-config":[80161,9],"./media/container/container-split/components/recursion-splitpanes/container-split-data-config":[197551,9,97551],"./media/container/container-split/components/recursion-splitpanes/container-split-pane-config":[878020,9,78020],"./media/container/container-split/container-split-config":[661174,9],"./media/container/container-tabs/container-tabs-config":[15577,9],"./media/picture/picture-list/picture-list-config":[569861,9],"./media/picture/picture-single/picture-single-config":[744658,9],"./media/picture/picture-svg/picture-svg-config":[142196,9],"./media/picture/picture-svg/svg-content-config":[461401,9],"./media/picture/picture-swiper/picture-swiper-config":[965426,9],"./media/picture/picture-turns/picture-turns-config":[305983,7],"./media/video/video-hikvision/video-hikvision-config":[391909,9],"./media/video/video-list/video-list-config":[304237,9],"./media/video/video-single/video-single-config":[6061,9],"./middleground/portal/file-bag/file-bag-config":[610995,9],"./middleground/portal/portal-home/portal-home-config":[918280,9],"./middleground/task/task-assist/task-assist-config":[694228,9],"./middleground/task/task-back/task-back-config":[865324,9],"./middleground/task/task-end/task-end-config":[234044,9],"./middleground/task/task-exceed/task-exceed-config":[136105,9],"./middleground/task/task-have/task-have-config":[341102,9],"./middleground/task/task-query/task-query-config":[615118,9],"./middleground/task/task-suspend/task-suspend-config":[828658,9],"./middleground/task/task-wait/task-wait-config":[289844,9],"./mobile/container/container-drawer/container-drawer-config":[701753,9],"./mobile/container/container-list/container-list-config":[281573,9],"./mobile/container/container-tabs/container-tabs-config":[670894,9],"./mobile/display/picture-swipe/picture-swipe-config":[475224,9],"./mobile/form/form-datetime-picker/form-datetime-picker-config":[219073,9],"./mobile/form/form-history/form-history-config":[495549,9],"./mobile/form/form-location/form-location-config":[472318,9],"./mobile/form/form-radio-group/form-radio-group-config":[568510,9],"./mobile/form/form-signature/form-signature-config":[767467,9],"./mobile/form/form-slider/form-slider-config":[91673,9],"./mobile/form/form-upload-file/form-upload-file-config":[426082,9],"./mobile/navigation/navigation-map/navigation-map-config":[547361,9],"./mobile/navigation/navigation-tabbar/navigation-tabbar-config":[843514,9],"./mobile/tool/mobile-interactive/mobile-interactive-config":[845320,9],"./other/other/custom-develop/custom-develop-config":[998072,9],"./other/other/other-3Dmodel/other-3Dmodel-config":[185548,9],"./text/com/com-date/com-date-config":[172229,9],"./text/com/com-fixedbox/com-fixedbox-config":[921917,9],"./text/com/com-liquid-fill/com-liquid-fill-config":[852290,9],"./text/com/com-progress-list/com-progress-list-config":[669028,9],"./text/com/com-progress/com-progress-config":[653692,9],"./text/com/com-ranking-carousel/com-ranking-carousel-config":[147921,9],"./text/com/com-time/com-time-config":[688775,9],"./text/com/com-watermark/com-watermark-config":[221207,9],"./text/com/com-wordCloud3d/com-wordCloud3d-config":[868279,9],"./text/com/text-area/text-area-config":[926912,9],"./text/com/text-show/text-show-config":[557761,9],"./text/list/list-carousel-text/list-carousel-text-config":[766059,9],"./text/list/list-gisq-form/list-gisq-form-config":[136396,9],"./text/list/list-pane-text/list-pane-text-config":[616033,9],"./text/list/list-query/list-query-config":[126265,9],"./text/list/list-table/list-table-config":[338376,9],"./text/list/list-turns/list-turns-config":[436641,9],"./text/title/digital-scrolling/digital-scrolling-config":[161709,9],"./text/title/title-anime/title-anime-config":[224513,9],"./text/title/title-flip/title-flip-config":[228617,9],"./text/title/title-general/title-general-config":[169184,9]};function y(f){if(!h.o(b,f))return Promise.resolve().then(function(){var $=new Error("Cannot find module '"+f+"'");throw $.code="MODULE_NOT_FOUND",$});var _=b[f],L=_[0];return Promise.all(_.slice(2).map(h.e)).then(function(){return h.t(L,_[1]|16)})}y.keys=function(){return Object.keys(b)},y.id=842512,A.exports=y}}]);
