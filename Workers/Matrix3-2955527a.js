/**
 * @license
 * Cesium - https://github.com/CesiumGS/cesium
 * Version 1.99.9
 *
 * Copyright 2011-2022 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/CesiumGS/cesium/blob/main/LICENSE.md for full licensing details.
 */define(["exports","./defaultValue-ebbd2e4d","./Math-1fe079f3"],function(A,u,y){"use strict";function R(i){let t;this.name="DeveloperError",this.message=i;try{throw new Error}catch(a){t=a.stack}this.stack=t}function e(i,t,a){this.x=u.defaultValue(i,0),this.y=u.defaultValue(t,0),this.z=u.defaultValue(a,0)}u.defined(Object.create)&&(R.prototype=Object.create(Error.prototype),R.prototype.constructor=R),R.prototype.toString=function(){let i=`${this.name}: ${this.message}`;return u.defined(this.stack)&&(i+=`
${this.stack.toString()}`),i},R.throwInstantiationError=function(){throw new R("This function defines an interface and should not be called directly.")},e.fromSpherical=function(i,t){u.defined(t)||(t=new e);const a=i.clock,o=i.cone,r=u.defaultValue(i.magnitude,1),c=r*Math.sin(o);return t.x=c*Math.cos(a),t.y=c*Math.sin(a),t.z=r*Math.cos(o),t},e.fromElements=function(i,t,a,o){return u.defined(o)?(o.x=i,o.y=t,o.z=a,o):new e(i,t,a)},e.clone=function(i,t){if(u.defined(i))return u.defined(t)?(t.x=i.x,t.y=i.y,t.z=i.z,t):new e(i.x,i.y,i.z)},e.fromCartesian4=e.clone,e.packedLength=3,e.pack=function(i,t,a){return a=u.defaultValue(a,0),t[a++]=i.x,t[a++]=i.y,t[a]=i.z,t},e.unpack=function(i,t,a){return t=u.defaultValue(t,0),u.defined(a)||(a=new e),a.x=i[t++],a.y=i[t++],a.z=i[t],a},e.packArray=function(i,t){const a=i.length,o=3*a;if(u.defined(t)){if(!Array.isArray(t)&&t.length!==o)throw new R("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==o&&(t.length=o)}else t=new Array(o);for(let r=0;r<a;++r)e.pack(i[r],t,3*r);return t},e.unpackArray=function(i,t){const a=i.length;u.defined(t)?t.length=a/3:t=new Array(a/3);for(let o=0;o<a;o+=3){const r=o/3;t[r]=e.unpack(i,o,t[r])}return t},e.fromArray=e.unpack,e.maximumComponent=function(i){return Math.max(i.x,i.y,i.z)},e.minimumComponent=function(i){return Math.min(i.x,i.y,i.z)},e.minimumByComponent=function(i,t,a){return a.x=Math.min(i.x,t.x),a.y=Math.min(i.y,t.y),a.z=Math.min(i.z,t.z),a},e.maximumByComponent=function(i,t,a){return a.x=Math.max(i.x,t.x),a.y=Math.max(i.y,t.y),a.z=Math.max(i.z,t.z),a},e.clamp=function(i,t,a,o){const r=y.CesiumMath.clamp(i.x,t.x,a.x),c=y.CesiumMath.clamp(i.y,t.y,a.y),s=y.CesiumMath.clamp(i.z,t.z,a.z);return o.x=r,o.y=c,o.z=s,o},e.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y+i.z*i.z},e.magnitude=function(i){return Math.sqrt(e.magnitudeSquared(i))};const I=new e;e.distance=function(i,t){return e.subtract(i,t,I),e.magnitude(I)},e.distanceSquared=function(i,t){return e.subtract(i,t,I),e.magnitudeSquared(I)},e.normalize=function(i,t){const a=e.magnitude(i);if(t.x=i.x/a,t.y=i.y/a,t.z=i.z/a,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new R("normalized result is not a number");return t},e.dot=function(i,t){return i.x*t.x+i.y*t.y+i.z*t.z},e.multiplyComponents=function(i,t,a){return a.x=i.x*t.x,a.y=i.y*t.y,a.z=i.z*t.z,a},e.divideComponents=function(i,t,a){return a.x=i.x/t.x,a.y=i.y/t.y,a.z=i.z/t.z,a},e.add=function(i,t,a){return a.x=i.x+t.x,a.y=i.y+t.y,a.z=i.z+t.z,a},e.subtract=function(i,t,a){return a.x=i.x-t.x,a.y=i.y-t.y,a.z=i.z-t.z,a},e.multiplyByScalar=function(i,t,a){return a.x=i.x*t,a.y=i.y*t,a.z=i.z*t,a},e.divideByScalar=function(i,t,a){return a.x=i.x/t,a.y=i.y/t,a.z=i.z/t,a},e.negate=function(i,t){return t.x=-i.x,t.y=-i.y,t.z=-i.z,t},e.abs=function(i,t){return t.x=Math.abs(i.x),t.y=Math.abs(i.y),t.z=Math.abs(i.z),t};const F=new e;e.lerp=function(i,t,a,o){return e.multiplyByScalar(t,a,F),o=e.multiplyByScalar(i,1-a,o),e.add(F,o,o)};const V=new e,L=new e;e.angleBetween=function(i,t){e.normalize(i,V),e.normalize(t,L);const a=e.dot(V,L),o=e.magnitude(e.cross(V,L,V));return Math.atan2(o,a)};const ot=new e;e.mostOrthogonalAxis=function(i,t){const a=e.normalize(i,ot);return e.abs(a,a),t=a.x<=a.y?a.x<=a.z?e.clone(e.UNIT_X,t):e.clone(e.UNIT_Z,t):a.y<=a.z?e.clone(e.UNIT_Y,t):e.clone(e.UNIT_Z,t)},e.projectVector=function(i,t,a){const o=e.dot(i,t)/e.dot(t,t);return e.multiplyByScalar(t,o,a)},e.equals=function(i,t){return i===t||u.defined(i)&&u.defined(t)&&i.x===t.x&&i.y===t.y&&i.z===t.z},e.equalsArray=function(i,t,a){return i.x===t[a]&&i.y===t[a+1]&&i.z===t[a+2]},e.equalsEpsilon=function(i,t,a,o){return i===t||u.defined(i)&&u.defined(t)&&y.CesiumMath.equalsEpsilon(i.x,t.x,a,o)&&y.CesiumMath.equalsEpsilon(i.y,t.y,a,o)&&y.CesiumMath.equalsEpsilon(i.z,t.z,a,o)},e.cross=function(i,t,a){const o=i.x,r=i.y,c=i.z,s=t.x,d=t.y,l=t.z,f=r*l-c*d,h=c*s-o*l,g=o*d-r*s;return a.x=f,a.y=h,a.z=g,a},e.midpoint=function(i,t,a){return a.x=.5*(i.x+t.x),a.y=.5*(i.y+t.y),a.z=.5*(i.z+t.z),a},e.fromDegrees=function(i,t,a,o,r){return i=y.CesiumMath.toRadians(i),t=y.CesiumMath.toRadians(t),e.fromRadians(i,t,a,o,r)};let z=new e,O=new e;const et=new e(40680631590769,40680631590769,40408299984661445e-3);e.fromRadians=function(i,t,a,o,r){a=u.defaultValue(a,0);const c=u.defined(o)?o.radiiSquared:et,s=Math.cos(t);z.x=s*Math.cos(i),z.y=s*Math.sin(i),z.z=Math.sin(t),z=e.normalize(z,z),e.multiplyComponents(c,z,O);const d=Math.sqrt(e.dot(z,O));return O=e.divideByScalar(O,d,O),z=e.multiplyByScalar(z,a,z),u.defined(r)||(r=new e),e.add(O,z,r)},e.fromDegreesArray=function(i,t,a){const o=i.length;u.defined(a)?a.length=o/2:a=new Array(o/2);for(let r=0;r<o;r+=2){const c=i[r],s=i[r+1],d=r/2;a[d]=e.fromDegrees(c,s,0,t,a[d])}return a},e.fromRadiansArray=function(i,t,a){const o=i.length;u.defined(a)?a.length=o/2:a=new Array(o/2);for(let r=0;r<o;r+=2){const c=i[r],s=i[r+1],d=r/2;a[d]=e.fromRadians(c,s,0,t,a[d])}return a},e.fromDegreesArrayHeights=function(i,t,a){const o=i.length;u.defined(a)?a.length=o/3:a=new Array(o/3);for(let r=0;r<o;r+=3){const c=i[r],s=i[r+1],d=i[r+2],l=r/3;a[l]=e.fromDegrees(c,s,d,t,a[l])}return a},e.fromRadiansArrayHeights=function(i,t,a){const o=i.length;u.defined(a)?a.length=o/3:a=new Array(o/3);for(let r=0;r<o;r+=3){const c=i[r],s=i[r+1],d=i[r+2],l=r/3;a[l]=e.fromRadians(c,s,d,t,a[l])}return a},e.ZERO=Object.freeze(new e(0,0,0)),e.ONE=Object.freeze(new e(1,1,1)),e.UNIT_X=Object.freeze(new e(1,0,0)),e.UNIT_Y=Object.freeze(new e(0,1,0)),e.UNIT_Z=Object.freeze(new e(0,0,1)),e.prototype.clone=function(i){return e.clone(this,i)},e.prototype.equals=function(i){return e.equals(this,i)},e.prototype.equalsEpsilon=function(i,t,a){return e.equalsEpsilon(this,i,t,a)},e.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};const rt=new e,nt=new e;function X(i,t,a,o,r){const c=i.x,s=i.y,d=i.z,l=t.x,f=t.y,h=t.z,g=c*c*l*l,x=s*s*f*f,M=d*d*h*h,S=g+x+M,w=Math.sqrt(1/S),q=e.multiplyByScalar(i,w,rt);if(S<o)return isFinite(w)?e.clone(q,r):void 0;const C=a.x,b=a.y,E=a.z,_=nt;_.x=q.x*C*2,_.y=q.y*b*2,_.z=q.z*E*2;let D,J,T,N,v,P,W,Z,K,tt,it,U=(1-w)*e.magnitude(i)/(.5*e.magnitude(_)),at=0;do U-=at,T=1/(1+U*C),N=1/(1+U*b),v=1/(1+U*E),P=T*T,W=N*N,Z=v*v,K=P*T,tt=W*N,it=Z*v,D=g*P+x*W+M*Z-1,J=g*K*C+x*tt*b+M*it*E,at=D/(-2*J);while(Math.abs(D)>y.CesiumMath.EPSILON12);return u.defined(r)?(r.x=c*T,r.y=s*N,r.z=d*v,r):new e(c*T,s*N,d*v)}function p(i,t,a){this.longitude=u.defaultValue(i,0),this.latitude=u.defaultValue(t,0),this.height=u.defaultValue(a,0)}p.fromRadians=function(i,t,a,o){return a=u.defaultValue(a,0),u.defined(o)?(o.longitude=i,o.latitude=t,o.height=a,o):new p(i,t,a)},p.fromDegrees=function(i,t,a,o){return i=y.CesiumMath.toRadians(i),t=y.CesiumMath.toRadians(t),p.fromRadians(i,t,a,o)};const ut=new e,st=new e,ct=new e,dt=new e(1/6378137,1/6378137,1/6356752314245179e-9),lt=new e(1/40680631590769,1/40680631590769,1/40408299984661445e-3),ft=y.CesiumMath.EPSILON1;function Y(i,t,a,o){t=u.defaultValue(t,0),a=u.defaultValue(a,0),o=u.defaultValue(o,0),i._radii=new e(t,a,o),i._radiiSquared=new e(t*t,a*a,o*o),i._radiiToTheFourth=new e(t*t*t*t,a*a*a*a,o*o*o*o),i._oneOverRadii=new e(t===0?0:1/t,a===0?0:1/a,o===0?0:1/o),i._oneOverRadiiSquared=new e(t===0?0:1/(t*t),a===0?0:1/(a*a),o===0?0:1/(o*o)),i._minimumRadius=Math.min(t,a,o),i._maximumRadius=Math.max(t,a,o),i._centerToleranceSquared=y.CesiumMath.EPSILON1,i._radiiSquared.z!==0&&(i._squaredXOverSquaredZ=i._radiiSquared.x/i._radiiSquared.z)}function m(i,t,a){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,Y(this,i,t,a)}p.fromCartesian=function(i,t,a){const o=u.defined(t)?t.oneOverRadii:dt,r=u.defined(t)?t.oneOverRadiiSquared:lt,c=X(i,o,r,u.defined(t)?t._centerToleranceSquared:ft,st);if(!u.defined(c))return;let s=e.multiplyComponents(c,r,ut);s=e.normalize(s,s);const d=e.subtract(i,c,ct),l=Math.atan2(s.y,s.x),f=Math.asin(s.z),h=y.CesiumMath.sign(e.dot(d,i))*e.magnitude(d);return u.defined(a)?(a.longitude=l,a.latitude=f,a.height=h,a):new p(l,f,h)},p.toCartesian=function(i,t,a){return e.fromRadians(i.longitude,i.latitude,i.height,t,a)},p.clone=function(i,t){if(u.defined(i))return u.defined(t)?(t.longitude=i.longitude,t.latitude=i.latitude,t.height=i.height,t):new p(i.longitude,i.latitude,i.height)},p.equals=function(i,t){return i===t||u.defined(i)&&u.defined(t)&&i.longitude===t.longitude&&i.latitude===t.latitude&&i.height===t.height},p.equalsEpsilon=function(i,t,a){return a=u.defaultValue(a,0),i===t||u.defined(i)&&u.defined(t)&&Math.abs(i.longitude-t.longitude)<=a&&Math.abs(i.latitude-t.latitude)<=a&&Math.abs(i.height-t.height)<=a},p.ZERO=Object.freeze(new p(0,0,0)),p.prototype.clone=function(i){return p.clone(this,i)},p.prototype.equals=function(i){return p.equals(this,i)},p.prototype.equalsEpsilon=function(i,t){return p.equalsEpsilon(this,i,t)},p.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`},Object.defineProperties(m.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),m.clone=function(i,t){if(!u.defined(i))return;const a=i._radii;return u.defined(t)?(e.clone(a,t._radii),e.clone(i._radiiSquared,t._radiiSquared),e.clone(i._radiiToTheFourth,t._radiiToTheFourth),e.clone(i._oneOverRadii,t._oneOverRadii),e.clone(i._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=i._minimumRadius,t._maximumRadius=i._maximumRadius,t._centerToleranceSquared=i._centerToleranceSquared,t):new m(a.x,a.y,a.z)},m.fromCartesian3=function(i,t){return u.defined(t)||(t=new m),u.defined(i)&&Y(t,i.x,i.y,i.z),t},m.CGCS2000=Object.freeze(new m(6378137,6378137,6356752314140356e-9)),m.WGS84=Object.freeze(new m(6378137,6378137,6356752314245179e-9)),m.UNIT_SPHERE=Object.freeze(new m(1,1,1)),m.MOON=Object.freeze(new m(y.CesiumMath.LUNAR_RADIUS,y.CesiumMath.LUNAR_RADIUS,y.CesiumMath.LUNAR_RADIUS)),m.prototype.clone=function(i){return m.clone(this,i)},m.packedLength=e.packedLength,m.pack=function(i,t,a){return a=u.defaultValue(a,0),e.pack(i._radii,t,a),t},m.unpack=function(i,t,a){t=u.defaultValue(t,0);const o=e.unpack(i,t);return m.fromCartesian3(o,a)},m.prototype.geocentricSurfaceNormal=e.normalize,m.prototype.geodeticSurfaceNormalCartographic=function(i,t){const a=i.longitude,o=i.latitude,r=Math.cos(o),c=r*Math.cos(a),s=r*Math.sin(a),d=Math.sin(o);return u.defined(t)||(t=new e),t.x=c,t.y=s,t.z=d,e.normalize(t,t)},m.prototype.geodeticSurfaceNormal=function(i,t){if(!e.equalsEpsilon(i,e.ZERO,y.CesiumMath.EPSILON14))return u.defined(t)||(t=new e),t=e.multiplyComponents(i,this._oneOverRadiiSquared,t),e.normalize(t,t)};const ht=new e,mt=new e;m.prototype.cartographicToCartesian=function(i,t){const a=ht,o=mt;this.geodeticSurfaceNormalCartographic(i,a),e.multiplyComponents(this._radiiSquared,a,o);const r=Math.sqrt(e.dot(a,o));return e.divideByScalar(o,r,o),e.multiplyByScalar(a,i.height,a),u.defined(t)||(t=new e),e.add(o,a,t)},m.prototype.cartographicArrayToCartesianArray=function(i,t){const a=i.length;u.defined(t)?t.length=a:t=new Array(a);for(let o=0;o<a;o++)t[o]=this.cartographicToCartesian(i[o],t[o]);return t};const yt=new e,pt=new e,gt=new e;m.prototype.cartesianToCartographic=function(i,t){const a=this.scaleToGeodeticSurface(i,pt);if(!u.defined(a))return;const o=this.geodeticSurfaceNormal(a,yt),r=e.subtract(i,a,gt),c=Math.atan2(o.y,o.x),s=Math.asin(o.z),d=y.CesiumMath.sign(e.dot(r,i))*e.magnitude(r);return u.defined(t)?(t.longitude=c,t.latitude=s,t.height=d,t):new p(c,s,d)},m.prototype.cartesianArrayToCartographicArray=function(i,t){const a=i.length;u.defined(t)?t.length=a:t=new Array(a);for(let o=0;o<a;++o)t[o]=this.cartesianToCartographic(i[o],t[o]);return t},m.prototype.scaleToGeodeticSurface=function(i,t){return X(i,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},m.prototype.scaleToGeocentricSurface=function(i,t){u.defined(t)||(t=new e);const a=i.x,o=i.y,r=i.z,c=this._oneOverRadiiSquared,s=1/Math.sqrt(a*a*c.x+o*o*c.y+r*r*c.z);return e.multiplyByScalar(i,s,t)},m.prototype.transformPositionToScaledSpace=function(i,t){return u.defined(t)||(t=new e),e.multiplyComponents(i,this._oneOverRadii,t)},m.prototype.transformPositionFromScaledSpace=function(i,t){return u.defined(t)||(t=new e),e.multiplyComponents(i,this._radii,t)},m.prototype.equals=function(i){return this===i||u.defined(i)&&e.equals(this._radii,i._radii)},m.prototype.toString=function(){return this._radii.toString()},m.prototype.getSurfaceNormalIntersectionWithZAxis=function(i,t,a){t=u.defaultValue(t,0);const o=this._squaredXOverSquaredZ;if(u.defined(a)||(a=new e),a.x=0,a.y=0,a.z=i.z*(1-o),!(Math.abs(a.z)>=this._radii.z-t))return a};const xt=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],zt=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function G(i,t,a){const o=.5*(t+i),r=.5*(t-i);let c=0;for(let s=0;s<5;s++){const d=r*xt[s];c+=zt[s]*(a(o+d)+a(o-d))}return c*=r,c}function n(i,t,a,o,r,c,s,d,l){this[0]=u.defaultValue(i,0),this[1]=u.defaultValue(o,0),this[2]=u.defaultValue(s,0),this[3]=u.defaultValue(t,0),this[4]=u.defaultValue(r,0),this[5]=u.defaultValue(d,0),this[6]=u.defaultValue(a,0),this[7]=u.defaultValue(c,0),this[8]=u.defaultValue(l,0)}m.prototype.surfaceArea=function(i){const t=i.west;let a=i.east;const o=i.south,r=i.north;for(;a<t;)a+=y.CesiumMath.TWO_PI;const c=this._radiiSquared,s=c.x,d=c.y,l=c.z,f=s*d;return G(o,r,function(h){const g=Math.cos(h),x=Math.sin(h);return Math.cos(h)*G(t,a,function(M){const S=Math.cos(M),w=Math.sin(M);return Math.sqrt(f*x*x+l*(d*S*S+s*w*w)*g*g)})})},n.packedLength=9,n.pack=function(i,t,a){return a=u.defaultValue(a,0),t[a++]=i[0],t[a++]=i[1],t[a++]=i[2],t[a++]=i[3],t[a++]=i[4],t[a++]=i[5],t[a++]=i[6],t[a++]=i[7],t[a++]=i[8],t},n.unpack=function(i,t,a){return t=u.defaultValue(t,0),u.defined(a)||(a=new n),a[0]=i[t++],a[1]=i[t++],a[2]=i[t++],a[3]=i[t++],a[4]=i[t++],a[5]=i[t++],a[6]=i[t++],a[7]=i[t++],a[8]=i[t++],a},n.packArray=function(i,t){const a=i.length,o=9*a;u.defined(t)?(Array.isArray(t)||t.length===o)&&t.length!==o&&(t.length=o):t=new Array(o);for(let r=0;r<a;++r)n.pack(i[r],t,9*r);return t},n.unpackArray=function(i,t){const a=i.length;u.defined(t)?t.length=a/9:t=new Array(a/9);for(let o=0;o<a;o+=9){const r=o/9;t[r]=n.unpack(i,o,t[r])}return t},n.clone=function(i,t){if(u.defined(i))return u.defined(t)?(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t):new n(i[0],i[3],i[6],i[1],i[4],i[7],i[2],i[5],i[8])},n.fromArray=n.unpack,n.fromColumnMajorArray=function(i,t){return n.clone(i,t)},n.fromRowMajorArray=function(i,t){return u.defined(t)?(t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],t):new n(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},n.fromQuaternion=function(i,t){const a=i.x*i.x,o=i.x*i.y,r=i.x*i.z,c=i.x*i.w,s=i.y*i.y,d=i.y*i.z,l=i.y*i.w,f=i.z*i.z,h=i.z*i.w,g=i.w*i.w,x=a-s-f+g,M=2*(o-h),S=2*(r+l),w=2*(o+h),q=-a+s-f+g,C=2*(d-c),b=2*(r-l),E=2*(d+c),_=-a-s+f+g;return u.defined(t)?(t[0]=x,t[1]=w,t[2]=b,t[3]=M,t[4]=q,t[5]=E,t[6]=S,t[7]=C,t[8]=_,t):new n(x,M,S,w,q,C,b,E,_)},n.fromHeadingPitchRoll=function(i,t){const a=Math.cos(-i.pitch),o=Math.cos(-i.heading),r=Math.cos(i.roll),c=Math.sin(-i.pitch),s=Math.sin(-i.heading),d=Math.sin(i.roll),l=a*o,f=-r*s+d*c*o,h=d*s+r*c*o,g=a*s,x=r*o+d*c*s,M=-d*o+r*c*s,S=-c,w=d*a,q=r*a;return u.defined(t)?(t[0]=l,t[1]=g,t[2]=S,t[3]=f,t[4]=x,t[5]=w,t[6]=h,t[7]=M,t[8]=q,t):new n(l,f,h,g,x,M,S,w,q)},n.fromScale=function(i,t){return u.defined(t)?(t[0]=i.x,t[1]=0,t[2]=0,t[3]=0,t[4]=i.y,t[5]=0,t[6]=0,t[7]=0,t[8]=i.z,t):new n(i.x,0,0,0,i.y,0,0,0,i.z)},n.fromUniformScale=function(i,t){return u.defined(t)?(t[0]=i,t[1]=0,t[2]=0,t[3]=0,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=i,t):new n(i,0,0,0,i,0,0,0,i)},n.fromCrossProduct=function(i,t){return u.defined(t)?(t[0]=0,t[1]=i.z,t[2]=-i.y,t[3]=-i.z,t[4]=0,t[5]=i.x,t[6]=i.y,t[7]=-i.x,t[8]=0,t):new n(0,-i.z,i.y,i.z,0,-i.x,-i.y,i.x,0)},n.fromRotationX=function(i,t){const a=Math.cos(i),o=Math.sin(i);return u.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=a,t[5]=o,t[6]=0,t[7]=-o,t[8]=a,t):new n(1,0,0,0,a,-o,0,o,a)},n.fromRotationY=function(i,t){const a=Math.cos(i),o=Math.sin(i);return u.defined(t)?(t[0]=a,t[1]=0,t[2]=-o,t[3]=0,t[4]=1,t[5]=0,t[6]=o,t[7]=0,t[8]=a,t):new n(a,0,o,0,1,0,-o,0,a)},n.fromRotationZ=function(i,t){const a=Math.cos(i),o=Math.sin(i);return u.defined(t)?(t[0]=a,t[1]=o,t[2]=0,t[3]=-o,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new n(a,-o,0,o,a,0,0,0,1)},n.toArray=function(i,t){return u.defined(t)?(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t):[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8]]},n.getElementIndex=function(i,t){return 3*i+t},n.getColumn=function(i,t,a){const o=3*t,r=i[o],c=i[o+1],s=i[o+2];return a.x=r,a.y=c,a.z=s,a},n.setColumn=function(i,t,a,o){const r=3*t;return(o=n.clone(i,o))[r]=a.x,o[r+1]=a.y,o[r+2]=a.z,o},n.getRow=function(i,t,a){const o=i[t],r=i[t+3],c=i[t+6];return a.x=o,a.y=r,a.z=c,a},n.setRow=function(i,t,a,o){return(o=n.clone(i,o))[t]=a.x,o[t+3]=a.y,o[t+6]=a.z,o};const Mt=new e;n.setScale=function(i,t,a){const o=n.getScale(i,Mt),r=t.x/o.x,c=t.y/o.y,s=t.z/o.z;return a[0]=i[0]*r,a[1]=i[1]*r,a[2]=i[2]*r,a[3]=i[3]*c,a[4]=i[4]*c,a[5]=i[5]*c,a[6]=i[6]*s,a[7]=i[7]*s,a[8]=i[8]*s,a};const wt=new e;n.setUniformScale=function(i,t,a){const o=n.getScale(i,wt),r=t/o.x,c=t/o.y,s=t/o.z;return a[0]=i[0]*r,a[1]=i[1]*r,a[2]=i[2]*r,a[3]=i[3]*c,a[4]=i[4]*c,a[5]=i[5]*c,a[6]=i[6]*s,a[7]=i[7]*s,a[8]=i[8]*s,a};const j=new e;n.getScale=function(i,t){return t.x=e.magnitude(e.fromElements(i[0],i[1],i[2],j)),t.y=e.magnitude(e.fromElements(i[3],i[4],i[5],j)),t.z=e.magnitude(e.fromElements(i[6],i[7],i[8],j)),t};const H=new e;n.getMaximumScale=function(i){return n.getScale(i,H),e.maximumComponent(H)};const St=new e;n.setRotation=function(i,t,a){const o=n.getScale(i,St);return a[0]=t[0]*o.x,a[1]=t[1]*o.x,a[2]=t[2]*o.x,a[3]=t[3]*o.y,a[4]=t[4]*o.y,a[5]=t[5]*o.y,a[6]=t[6]*o.z,a[7]=t[7]*o.z,a[8]=t[8]*o.z,a};const qt=new e;n.getRotation=function(i,t){const a=n.getScale(i,qt);return t[0]=i[0]/a.x,t[1]=i[1]/a.x,t[2]=i[2]/a.x,t[3]=i[3]/a.y,t[4]=i[4]/a.y,t[5]=i[5]/a.y,t[6]=i[6]/a.z,t[7]=i[7]/a.z,t[8]=i[8]/a.z,t},n.multiply=function(i,t,a){const o=i[0]*t[0]+i[3]*t[1]+i[6]*t[2],r=i[1]*t[0]+i[4]*t[1]+i[7]*t[2],c=i[2]*t[0]+i[5]*t[1]+i[8]*t[2],s=i[0]*t[3]+i[3]*t[4]+i[6]*t[5],d=i[1]*t[3]+i[4]*t[4]+i[7]*t[5],l=i[2]*t[3]+i[5]*t[4]+i[8]*t[5],f=i[0]*t[6]+i[3]*t[7]+i[6]*t[8],h=i[1]*t[6]+i[4]*t[7]+i[7]*t[8],g=i[2]*t[6]+i[5]*t[7]+i[8]*t[8];return a[0]=o,a[1]=r,a[2]=c,a[3]=s,a[4]=d,a[5]=l,a[6]=f,a[7]=h,a[8]=g,a},n.add=function(i,t,a){return a[0]=i[0]+t[0],a[1]=i[1]+t[1],a[2]=i[2]+t[2],a[3]=i[3]+t[3],a[4]=i[4]+t[4],a[5]=i[5]+t[5],a[6]=i[6]+t[6],a[7]=i[7]+t[7],a[8]=i[8]+t[8],a},n.subtract=function(i,t,a){return a[0]=i[0]-t[0],a[1]=i[1]-t[1],a[2]=i[2]-t[2],a[3]=i[3]-t[3],a[4]=i[4]-t[4],a[5]=i[5]-t[5],a[6]=i[6]-t[6],a[7]=i[7]-t[7],a[8]=i[8]-t[8],a},n.multiplyByVector=function(i,t,a){const o=t.x,r=t.y,c=t.z,s=i[0]*o+i[3]*r+i[6]*c,d=i[1]*o+i[4]*r+i[7]*c,l=i[2]*o+i[5]*r+i[8]*c;return a.x=s,a.y=d,a.z=l,a},n.multiplyByScalar=function(i,t,a){return a[0]=i[0]*t,a[1]=i[1]*t,a[2]=i[2]*t,a[3]=i[3]*t,a[4]=i[4]*t,a[5]=i[5]*t,a[6]=i[6]*t,a[7]=i[7]*t,a[8]=i[8]*t,a},n.multiplyByScale=function(i,t,a){return a[0]=i[0]*t.x,a[1]=i[1]*t.x,a[2]=i[2]*t.x,a[3]=i[3]*t.y,a[4]=i[4]*t.y,a[5]=i[5]*t.y,a[6]=i[6]*t.z,a[7]=i[7]*t.z,a[8]=i[8]*t.z,a},n.multiplyByUniformScale=function(i,t,a){return a[0]=i[0]*t,a[1]=i[1]*t,a[2]=i[2]*t,a[3]=i[3]*t,a[4]=i[4]*t,a[5]=i[5]*t,a[6]=i[6]*t,a[7]=i[7]*t,a[8]=i[8]*t,a},n.negate=function(i,t){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t[3]=-i[3],t[4]=-i[4],t[5]=-i[5],t[6]=-i[6],t[7]=-i[7],t[8]=-i[8],t},n.transpose=function(i,t){const a=i[0],o=i[3],r=i[6],c=i[1],s=i[4],d=i[7],l=i[2],f=i[5],h=i[8];return t[0]=a,t[1]=o,t[2]=r,t[3]=c,t[4]=s,t[5]=d,t[6]=l,t[7]=f,t[8]=h,t};const B=[1,0,0],$=[2,2,1];function Rt(i){let t=0;for(let a=0;a<3;++a){const o=i[n.getElementIndex($[a],B[a])];t+=2*o*o}return Math.sqrt(t)}function _t(i,t){const a=y.CesiumMath.EPSILON15;let o=0,r=1;for(let f=0;f<3;++f){const h=Math.abs(i[n.getElementIndex($[f],B[f])]);h>o&&(r=f,o=h)}let c=1,s=0;const d=B[r],l=$[r];if(Math.abs(i[n.getElementIndex(l,d)])>a){const f=(i[n.getElementIndex(l,l)]-i[n.getElementIndex(d,d)])/2/i[n.getElementIndex(l,d)];let h;h=f<0?-1/(-f+Math.sqrt(1+f*f)):1/(f+Math.sqrt(1+f*f)),c=1/Math.sqrt(1+h*h),s=h*c}return(t=n.clone(n.IDENTITY,t))[n.getElementIndex(d,d)]=t[n.getElementIndex(l,l)]=c,t[n.getElementIndex(l,d)]=s,t[n.getElementIndex(d,l)]=-s,t}const k=new n,Q=new n;n.computeEigenDecomposition=function(i,t){const a=y.CesiumMath.EPSILON20;let o=0,r=0;u.defined(t)||(t={});const c=t.unitary=n.clone(n.IDENTITY,t.unitary),s=t.diagonal=n.clone(i,t.diagonal),d=a*function(l){let f=0;for(let h=0;h<9;++h){const g=l[h];f+=g*g}return Math.sqrt(f)}(s);for(;r<10&&Rt(s)>d;)_t(s,k),n.transpose(k,Q),n.multiply(s,k,s),n.multiply(Q,s,s),n.multiply(c,k,c),++o>2&&(++r,o=0);return t},n.abs=function(i,t){return t[0]=Math.abs(i[0]),t[1]=Math.abs(i[1]),t[2]=Math.abs(i[2]),t[3]=Math.abs(i[3]),t[4]=Math.abs(i[4]),t[5]=Math.abs(i[5]),t[6]=Math.abs(i[6]),t[7]=Math.abs(i[7]),t[8]=Math.abs(i[8]),t},n.determinant=function(i){const t=i[0],a=i[3],o=i[6],r=i[1],c=i[4],s=i[7],d=i[2],l=i[5],f=i[8];return t*(c*f-l*s)+r*(l*o-a*f)+d*(a*s-c*o)},n.inverse=function(i,t){const a=i[0],o=i[1],r=i[2],c=i[3],s=i[4],d=i[5],l=i[6],f=i[7],h=i[8],g=n.determinant(i);t[0]=s*h-f*d,t[1]=f*r-o*h,t[2]=o*d-s*r,t[3]=l*d-c*h,t[4]=a*h-l*r,t[5]=c*r-a*d,t[6]=c*f-l*s,t[7]=l*o-a*f,t[8]=a*s-c*o;const x=1/g;return n.multiplyByScalar(t,x,t)};const Ot=new n;n.inverseTranspose=function(i,t){return n.inverse(n.transpose(i,Ot),t)},n.equals=function(i,t){return i===t||u.defined(i)&&u.defined(t)&&i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]&&i[4]===t[4]&&i[5]===t[5]&&i[6]===t[6]&&i[7]===t[7]&&i[8]===t[8]},n.equalsEpsilon=function(i,t,a){return a=u.defaultValue(a,0),i===t||u.defined(i)&&u.defined(t)&&Math.abs(i[0]-t[0])<=a&&Math.abs(i[1]-t[1])<=a&&Math.abs(i[2]-t[2])<=a&&Math.abs(i[3]-t[3])<=a&&Math.abs(i[4]-t[4])<=a&&Math.abs(i[5]-t[5])<=a&&Math.abs(i[6]-t[6])<=a&&Math.abs(i[7]-t[7])<=a&&Math.abs(i[8]-t[8])<=a},n.IDENTITY=Object.freeze(new n(1,0,0,0,1,0,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0,0,0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN0ROW2=2,n.COLUMN1ROW0=3,n.COLUMN1ROW1=4,n.COLUMN1ROW2=5,n.COLUMN2ROW0=6,n.COLUMN2ROW1=7,n.COLUMN2ROW2=8,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(i){return n.clone(this,i)},n.prototype.equals=function(i){return n.equals(this,i)},n.equalsArray=function(i,t,a){return i[0]===t[a]&&i[1]===t[a+1]&&i[2]===t[a+2]&&i[3]===t[a+3]&&i[4]===t[a+4]&&i[5]===t[a+5]&&i[6]===t[a+6]&&i[7]===t[a+7]&&i[8]===t[a+8]},n.prototype.equalsEpsilon=function(i,t){return n.equalsEpsilon(this,i,t)},n.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})
(${this[1]}, ${this[4]}, ${this[7]})
(${this[2]}, ${this[5]}, ${this[8]})`},A.Cartesian3=e,A.Cartographic=p,A.DeveloperError=R,A.Ellipsoid=m,A.Matrix3=n});
