/**
 * @license
 * Cesium - https://github.com/CesiumGS/cesium
 * Version 1.99.9
 *
 * Copyright 2011-2022 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/CesiumGS/cesium/blob/main/LICENSE.md for full licensing details.
 */define(["exports","./Matrix3-2955527a","./defaultValue-ebbd2e4d","./Math-1fe079f3","./RuntimeError-38a08050"],function(D,g,t,w,pn){"use strict";function c(n,r,o,u){this.x=t.defaultValue(n,0),this.y=t.defaultValue(r,0),this.z=t.defaultValue(o,0),this.w=t.defaultValue(u,0)}c.fromElements=function(n,r,o,u,i){return t.defined(i)?(i.x=n,i.y=r,i.z=o,i.w=u,i):new c(n,r,o,u)},c.fromColor=function(n,r){return t.defined(r)?(r.x=n.red,r.y=n.green,r.z=n.blue,r.w=n.alpha,r):new c(n.red,n.green,n.blue,n.alpha)},c.clone=function(n,r){if(t.defined(n))return t.defined(r)?(r.x=n.x,r.y=n.y,r.z=n.z,r.w=n.w,r):new c(n.x,n.y,n.z,n.w)},c.packedLength=4,c.pack=function(n,r,o){return o=t.defaultValue(o,0),r[o++]=n.x,r[o++]=n.y,r[o++]=n.z,r[o]=n.w,r},c.unpack=function(n,r,o){return r=t.defaultValue(r,0),t.defined(o)||(o=new c),o.x=n[r++],o.y=n[r++],o.z=n[r++],o.w=n[r],o},c.packArray=function(n,r){const o=n.length,u=4*o;t.defined(r)?(Array.isArray(r)||r.length===u)&&r.length!==u&&(r.length=u):r=new Array(u);for(let i=0;i<o;++i)c.pack(n[i],r,4*i);return r},c.unpackArray=function(n,r){const o=n.length;t.defined(r)?r.length=o/4:r=new Array(o/4);for(let u=0;u<o;u+=4){const i=u/4;r[i]=c.unpack(n,u,r[i])}return r},c.fromArray=c.unpack,c.maximumComponent=function(n){return Math.max(n.x,n.y,n.z,n.w)},c.minimumComponent=function(n){return Math.min(n.x,n.y,n.z,n.w)},c.minimumByComponent=function(n,r,o){return o.x=Math.min(n.x,r.x),o.y=Math.min(n.y,r.y),o.z=Math.min(n.z,r.z),o.w=Math.min(n.w,r.w),o},c.maximumByComponent=function(n,r,o){return o.x=Math.max(n.x,r.x),o.y=Math.max(n.y,r.y),o.z=Math.max(n.z,r.z),o.w=Math.max(n.w,r.w),o},c.clamp=function(n,r,o,u){const i=w.CesiumMath.clamp(n.x,r.x,o.x),a=w.CesiumMath.clamp(n.y,r.y,o.y),s=w.CesiumMath.clamp(n.z,r.z,o.z),f=w.CesiumMath.clamp(n.w,r.w,o.w);return u.x=i,u.y=a,u.z=s,u.w=f,u},c.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z+n.w*n.w},c.magnitude=function(n){return Math.sqrt(c.magnitudeSquared(n))};const K=new c;c.distance=function(n,r){return c.subtract(n,r,K),c.magnitude(K)},c.distanceSquared=function(n,r){return c.subtract(n,r,K),c.magnitudeSquared(K)},c.normalize=function(n,r){const o=c.magnitude(n);return r.x=n.x/o,r.y=n.y/o,r.z=n.z/o,r.w=n.w/o,r},c.dot=function(n,r){return n.x*r.x+n.y*r.y+n.z*r.z+n.w*r.w},c.multiplyComponents=function(n,r,o){return o.x=n.x*r.x,o.y=n.y*r.y,o.z=n.z*r.z,o.w=n.w*r.w,o},c.divideComponents=function(n,r,o){return o.x=n.x/r.x,o.y=n.y/r.y,o.z=n.z/r.z,o.w=n.w/r.w,o},c.add=function(n,r,o){return o.x=n.x+r.x,o.y=n.y+r.y,o.z=n.z+r.z,o.w=n.w+r.w,o},c.subtract=function(n,r,o){return o.x=n.x-r.x,o.y=n.y-r.y,o.z=n.z-r.z,o.w=n.w-r.w,o},c.multiplyByScalar=function(n,r,o){return o.x=n.x*r,o.y=n.y*r,o.z=n.z*r,o.w=n.w*r,o},c.divideByScalar=function(n,r,o){return o.x=n.x/r,o.y=n.y/r,o.z=n.z/r,o.w=n.w/r,o},c.negate=function(n,r){return r.x=-n.x,r.y=-n.y,r.z=-n.z,r.w=-n.w,r},c.abs=function(n,r){return r.x=Math.abs(n.x),r.y=Math.abs(n.y),r.z=Math.abs(n.z),r.w=Math.abs(n.w),r};const fn=new c;c.lerp=function(n,r,o,u){return c.multiplyByScalar(r,o,fn),u=c.multiplyByScalar(n,1-o,u),c.add(fn,u,u)};const gn=new c;c.mostOrthogonalAxis=function(n,r){const o=c.normalize(n,gn);return c.abs(o,o),r=o.x<=o.y?o.x<=o.z?o.x<=o.w?c.clone(c.UNIT_X,r):c.clone(c.UNIT_W,r):o.z<=o.w?c.clone(c.UNIT_Z,r):c.clone(c.UNIT_W,r):o.y<=o.z?o.y<=o.w?c.clone(c.UNIT_Y,r):c.clone(c.UNIT_W,r):o.z<=o.w?c.clone(c.UNIT_Z,r):c.clone(c.UNIT_W,r)},c.equals=function(n,r){return n===r||t.defined(n)&&t.defined(r)&&n.x===r.x&&n.y===r.y&&n.z===r.z&&n.w===r.w},c.equalsArray=function(n,r,o){return n.x===r[o]&&n.y===r[o+1]&&n.z===r[o+2]&&n.w===r[o+3]},c.equalsEpsilon=function(n,r,o,u){return n===r||t.defined(n)&&t.defined(r)&&w.CesiumMath.equalsEpsilon(n.x,r.x,o,u)&&w.CesiumMath.equalsEpsilon(n.y,r.y,o,u)&&w.CesiumMath.equalsEpsilon(n.z,r.z,o,u)&&w.CesiumMath.equalsEpsilon(n.w,r.w,o,u)},c.ZERO=Object.freeze(new c(0,0,0,0)),c.ONE=Object.freeze(new c(1,1,1,1)),c.UNIT_X=Object.freeze(new c(1,0,0,0)),c.UNIT_Y=Object.freeze(new c(0,1,0,0)),c.UNIT_Z=Object.freeze(new c(0,0,1,0)),c.UNIT_W=Object.freeze(new c(0,0,0,1)),c.prototype.clone=function(n){return c.clone(this,n)},c.prototype.equals=function(n){return c.equals(this,n)},c.prototype.equalsEpsilon=function(n,r,o){return c.equalsEpsilon(this,n,r,o)},c.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const rn=new Float32Array(1),k=new Uint8Array(rn.buffer),Cn=new Uint32Array([287454020]),hn=new Uint8Array(Cn.buffer)[0]===68;function e(n,r,o,u,i,a,s,f,d,h,y,x,p,C,b,z){this[0]=t.defaultValue(n,0),this[1]=t.defaultValue(i,0),this[2]=t.defaultValue(d,0),this[3]=t.defaultValue(p,0),this[4]=t.defaultValue(r,0),this[5]=t.defaultValue(a,0),this[6]=t.defaultValue(h,0),this[7]=t.defaultValue(C,0),this[8]=t.defaultValue(o,0),this[9]=t.defaultValue(s,0),this[10]=t.defaultValue(y,0),this[11]=t.defaultValue(b,0),this[12]=t.defaultValue(u,0),this[13]=t.defaultValue(f,0),this[14]=t.defaultValue(x,0),this[15]=t.defaultValue(z,0)}c.packFloat=function(n,r){return t.defined(r)||(r=new c),rn[0]=n,hn?(r.x=k[0],r.y=k[1],r.z=k[2],r.w=k[3]):(r.x=k[3],r.y=k[2],r.z=k[1],r.w=k[0]),r},c.unpackFloat=function(n){return hn?(k[0]=n.x,k[1]=n.y,k[2]=n.z,k[3]=n.w):(k[0]=n.w,k[1]=n.z,k[2]=n.y,k[3]=n.x),rn[0]},e.packedLength=16,e.pack=function(n,r,o){return o=t.defaultValue(o,0),r[o++]=n[0],r[o++]=n[1],r[o++]=n[2],r[o++]=n[3],r[o++]=n[4],r[o++]=n[5],r[o++]=n[6],r[o++]=n[7],r[o++]=n[8],r[o++]=n[9],r[o++]=n[10],r[o++]=n[11],r[o++]=n[12],r[o++]=n[13],r[o++]=n[14],r[o]=n[15],r},e.unpack=function(n,r,o){return r=t.defaultValue(r,0),t.defined(o)||(o=new e),o[0]=n[r++],o[1]=n[r++],o[2]=n[r++],o[3]=n[r++],o[4]=n[r++],o[5]=n[r++],o[6]=n[r++],o[7]=n[r++],o[8]=n[r++],o[9]=n[r++],o[10]=n[r++],o[11]=n[r++],o[12]=n[r++],o[13]=n[r++],o[14]=n[r++],o[15]=n[r],o},e.packArray=function(n,r){const o=n.length,u=16*o;t.defined(r)?(Array.isArray(r)||r.length===u)&&r.length!==u&&(r.length=u):r=new Array(u);for(let i=0;i<o;++i)e.pack(n[i],r,16*i);return r},e.unpackArray=function(n,r){const o=n.length;t.defined(r)?r.length=o/16:r=new Array(o/16);for(let u=0;u<o;u+=16){const i=u/16;r[i]=e.unpack(n,u,r[i])}return r},e.clone=function(n,r){if(t.defined(n))return t.defined(r)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r):new e(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15])},e.fromArray=e.unpack,e.fromColumnMajorArray=function(n,r){return e.clone(n,r)},e.fromRowMajorArray=function(n,r){return t.defined(r)?(r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15],r):new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},e.fromRotationTranslation=function(n,r,o){return r=t.defaultValue(r,g.Cartesian3.ZERO),t.defined(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=0,o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=0,o[8]=n[6],o[9]=n[7],o[10]=n[8],o[11]=0,o[12]=r.x,o[13]=r.y,o[14]=r.z,o[15]=1,o):new e(n[0],n[3],n[6],r.x,n[1],n[4],n[7],r.y,n[2],n[5],n[8],r.z,0,0,0,1)},e.fromTranslationQuaternionRotationScale=function(n,r,o,u){t.defined(u)||(u=new e);const i=o.x,a=o.y,s=o.z,f=r.x*r.x,d=r.x*r.y,h=r.x*r.z,y=r.x*r.w,x=r.y*r.y,p=r.y*r.z,C=r.y*r.w,b=r.z*r.z,z=r.z*r.w,O=r.w*r.w,V=f-x-b+O,A=2*(d-z),T=2*(h+C),E=2*(d+z),I=-f+x-b+O,U=2*(p-y),N=2*(h-C),S=2*(p+y),P=-f-x+b+O;return u[0]=V*i,u[1]=E*i,u[2]=N*i,u[3]=0,u[4]=A*a,u[5]=I*a,u[6]=S*a,u[7]=0,u[8]=T*s,u[9]=U*s,u[10]=P*s,u[11]=0,u[12]=n.x,u[13]=n.y,u[14]=n.z,u[15]=1,u},e.fromTranslationRotationScale=function(n,r){return e.fromTranslationQuaternionRotationScale(n.translation,n.rotation,n.scale,r)},e.fromTranslation=function(n,r){return e.fromRotationTranslation(g.Matrix3.IDENTITY,n,r)},e.fromScale=function(n,r){return t.defined(r)?(r[0]=n.x,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n.y,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n.z,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r):new e(n.x,0,0,0,0,n.y,0,0,0,0,n.z,0,0,0,0,1)},e.fromUniformScale=function(n,r){return t.defined(r)?(r[0]=n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r):new e(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1)},e.fromRotation=function(n,r){return t.defined(r)||(r=new e),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=0,r[4]=n[3],r[5]=n[4],r[6]=n[5],r[7]=0,r[8]=n[6],r[9]=n[7],r[10]=n[8],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r};const Y=new g.Cartesian3,Z=new g.Cartesian3,F=new g.Cartesian3;e.fromCamera=function(n,r){const o=n.position,u=n.direction,i=n.up;g.Cartesian3.normalize(u,Y),g.Cartesian3.normalize(g.Cartesian3.cross(Y,i,Z),Z),g.Cartesian3.normalize(g.Cartesian3.cross(Z,Y,F),F);const a=Z.x,s=Z.y,f=Z.z,d=Y.x,h=Y.y,y=Y.z,x=F.x,p=F.y,C=F.z,b=o.x,z=o.y,O=o.z,V=a*-b+s*-z+f*-O,A=x*-b+p*-z+C*-O,T=d*b+h*z+y*O;return t.defined(r)?(r[0]=a,r[1]=x,r[2]=-d,r[3]=0,r[4]=s,r[5]=p,r[6]=-h,r[7]=0,r[8]=f,r[9]=C,r[10]=-y,r[11]=0,r[12]=V,r[13]=A,r[14]=T,r[15]=1,r):new e(a,s,f,V,x,p,C,A,-d,-h,-y,T,0,0,0,1)},e.computePerspectiveFieldOfView=function(n,r,o,u,i){const a=1/Math.tan(.5*n),s=a/r,f=(u+o)/(o-u),d=2*u*o/(o-u);return i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=f,i[11]=-1,i[12]=0,i[13]=0,i[14]=d,i[15]=0,i},e.computeOrthographicOffCenter=function(n,r,o,u,i,a,s){let f=1/(r-n),d=1/(u-o),h=1/(a-i);const y=-(r+n)*f,x=-(u+o)*d,p=-(a+i)*h;return f*=2,d*=2,h*=-2,s[0]=f,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=d,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=h,s[11]=0,s[12]=y,s[13]=x,s[14]=p,s[15]=1,s},e.computePerspectiveOffCenter=function(n,r,o,u,i,a,s){const f=2*i/(r-n),d=2*i/(u-o),h=(r+n)/(r-n),y=(u+o)/(u-o),x=-(a+i)/(a-i),p=-2*a*i/(a-i);return s[0]=f,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=d,s[6]=0,s[7]=0,s[8]=h,s[9]=y,s[10]=x,s[11]=-1,s[12]=0,s[13]=0,s[14]=p,s[15]=0,s},e.computeInfinitePerspectiveOffCenter=function(n,r,o,u,i,a){const s=2*i/(r-n),f=2*i/(u-o),d=(r+n)/(r-n),h=(u+o)/(u-o),y=-2*i;return a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=d,a[9]=h,a[10]=-1,a[11]=-1,a[12]=0,a[13]=0,a[14]=y,a[15]=0,a},e.computeViewportTransformation=function(n,r,o,u){t.defined(u)||(u=new e),n=t.defaultValue(n,t.defaultValue.EMPTY_OBJECT);const i=t.defaultValue(n.x,0),a=t.defaultValue(n.y,0),s=t.defaultValue(n.width,0),f=t.defaultValue(n.height,0);r=t.defaultValue(r,0);const d=.5*s,h=.5*f,y=.5*((o=t.defaultValue(o,1))-r),x=d,p=h,C=y,b=i+d,z=a+h,O=r+y;return u[0]=x,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=p,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=C,u[11]=0,u[12]=b,u[13]=z,u[14]=O,u[15]=1,u},e.computeView=function(n,r,o,u,i){return i[0]=u.x,i[1]=o.x,i[2]=-r.x,i[3]=0,i[4]=u.y,i[5]=o.y,i[6]=-r.y,i[7]=0,i[8]=u.z,i[9]=o.z,i[10]=-r.z,i[11]=0,i[12]=-g.Cartesian3.dot(u,n),i[13]=-g.Cartesian3.dot(o,n),i[14]=g.Cartesian3.dot(r,n),i[15]=1,i},e.toArray=function(n,r){return t.defined(r)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]},e.getElementIndex=function(n,r){return 4*n+r},e.getColumn=function(n,r,o){const u=4*r,i=n[u],a=n[u+1],s=n[u+2],f=n[u+3];return o.x=i,o.y=a,o.z=s,o.w=f,o},e.setColumn=function(n,r,o,u){const i=4*r;return(u=e.clone(n,u))[i]=o.x,u[i+1]=o.y,u[i+2]=o.z,u[i+3]=o.w,u},e.getRow=function(n,r,o){const u=n[r],i=n[r+4],a=n[r+8],s=n[r+12];return o.x=u,o.y=i,o.z=a,o.w=s,o},e.setRow=function(n,r,o,u){return(u=e.clone(n,u))[r]=o.x,u[r+4]=o.y,u[r+8]=o.z,u[r+12]=o.w,u},e.setTranslation=function(n,r,o){return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=r.x,o[13]=r.y,o[14]=r.z,o[15]=n[15],o};const zn=new g.Cartesian3;e.setScale=function(n,r,o){const u=e.getScale(n,zn),i=r.x/u.x,a=r.y/u.y,s=r.z/u.z;return o[0]=n[0]*i,o[1]=n[1]*i,o[2]=n[2]*i,o[3]=n[3],o[4]=n[4]*a,o[5]=n[5]*a,o[6]=n[6]*a,o[7]=n[7],o[8]=n[8]*s,o[9]=n[9]*s,o[10]=n[10]*s,o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o};const bn=new g.Cartesian3;e.setUniformScale=function(n,r,o){const u=e.getScale(n,bn),i=r/u.x,a=r/u.y,s=r/u.z;return o[0]=n[0]*i,o[1]=n[1]*i,o[2]=n[2]*i,o[3]=n[3],o[4]=n[4]*a,o[5]=n[5]*a,o[6]=n[6]*a,o[7]=n[7],o[8]=n[8]*s,o[9]=n[9]*s,o[10]=n[10]*s,o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o};const on=new g.Cartesian3;e.getScale=function(n,r){return r.x=g.Cartesian3.magnitude(g.Cartesian3.fromElements(n[0],n[1],n[2],on)),r.y=g.Cartesian3.magnitude(g.Cartesian3.fromElements(n[4],n[5],n[6],on)),r.z=g.Cartesian3.magnitude(g.Cartesian3.fromElements(n[8],n[9],n[10],on)),r};const dn=new g.Cartesian3;e.getMaximumScale=function(n){return e.getScale(n,dn),g.Cartesian3.maximumComponent(dn)};const On=new g.Cartesian3;e.setRotation=function(n,r,o){const u=e.getScale(n,On);return o[0]=r[0]*u.x,o[1]=r[1]*u.x,o[2]=r[2]*u.x,o[3]=n[3],o[4]=r[3]*u.y,o[5]=r[4]*u.y,o[6]=r[5]*u.y,o[7]=n[7],o[8]=r[6]*u.z,o[9]=r[7]*u.z,o[10]=r[8]*u.z,o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o};const Vn=new g.Cartesian3;e.getRotation=function(n,r){const o=e.getScale(n,Vn);return r[0]=n[0]/o.x,r[1]=n[1]/o.x,r[2]=n[2]/o.x,r[3]=n[4]/o.y,r[4]=n[5]/o.y,r[5]=n[6]/o.y,r[6]=n[8]/o.z,r[7]=n[9]/o.z,r[8]=n[10]/o.z,r},e.multiply=function(n,r,o){const u=n[0],i=n[1],a=n[2],s=n[3],f=n[4],d=n[5],h=n[6],y=n[7],x=n[8],p=n[9],C=n[10],b=n[11],z=n[12],O=n[13],V=n[14],A=n[15],T=r[0],E=r[1],I=r[2],U=r[3],N=r[4],S=r[5],P=r[6],q=r[7],R=r[8],W=r[9],L=r[10],B=r[11],$=r[12],j=r[13],v=r[14],X=r[15],G=u*T+f*E+x*I+z*U,H=i*T+d*E+p*I+O*U,Q=a*T+h*E+C*I+V*U,J=s*T+y*E+b*I+A*U,un=u*N+f*S+x*P+z*q,an=i*N+d*S+p*P+O*q,sn=a*N+h*S+C*P+V*q,tn=s*N+y*S+b*P+A*q,en=u*R+f*W+x*L+z*B,cn=i*R+d*W+p*L+O*B,ln=a*R+h*W+C*L+V*B,_=s*R+y*W+b*L+A*B,Wn=u*$+f*j+x*v+z*X,Ln=i*$+d*j+p*v+O*X,kn=a*$+h*j+C*v+V*X,Bn=s*$+y*j+b*v+A*X;return o[0]=G,o[1]=H,o[2]=Q,o[3]=J,o[4]=un,o[5]=an,o[6]=sn,o[7]=tn,o[8]=en,o[9]=cn,o[10]=ln,o[11]=_,o[12]=Wn,o[13]=Ln,o[14]=kn,o[15]=Bn,o},e.add=function(n,r,o){return o[0]=n[0]+r[0],o[1]=n[1]+r[1],o[2]=n[2]+r[2],o[3]=n[3]+r[3],o[4]=n[4]+r[4],o[5]=n[5]+r[5],o[6]=n[6]+r[6],o[7]=n[7]+r[7],o[8]=n[8]+r[8],o[9]=n[9]+r[9],o[10]=n[10]+r[10],o[11]=n[11]+r[11],o[12]=n[12]+r[12],o[13]=n[13]+r[13],o[14]=n[14]+r[14],o[15]=n[15]+r[15],o},e.subtract=function(n,r,o){return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],o[3]=n[3]-r[3],o[4]=n[4]-r[4],o[5]=n[5]-r[5],o[6]=n[6]-r[6],o[7]=n[7]-r[7],o[8]=n[8]-r[8],o[9]=n[9]-r[9],o[10]=n[10]-r[10],o[11]=n[11]-r[11],o[12]=n[12]-r[12],o[13]=n[13]-r[13],o[14]=n[14]-r[14],o[15]=n[15]-r[15],o},e.multiplyTransformation=function(n,r,o){const u=n[0],i=n[1],a=n[2],s=n[4],f=n[5],d=n[6],h=n[8],y=n[9],x=n[10],p=n[12],C=n[13],b=n[14],z=r[0],O=r[1],V=r[2],A=r[4],T=r[5],E=r[6],I=r[8],U=r[9],N=r[10],S=r[12],P=r[13],q=r[14],R=u*z+s*O+h*V,W=i*z+f*O+y*V,L=a*z+d*O+x*V,B=u*A+s*T+h*E,$=i*A+f*T+y*E,j=a*A+d*T+x*E,v=u*I+s*U+h*N,X=i*I+f*U+y*N,G=a*I+d*U+x*N,H=u*S+s*P+h*q+p,Q=i*S+f*P+y*q+C,J=a*S+d*P+x*q+b;return o[0]=R,o[1]=W,o[2]=L,o[3]=0,o[4]=B,o[5]=$,o[6]=j,o[7]=0,o[8]=v,o[9]=X,o[10]=G,o[11]=0,o[12]=H,o[13]=Q,o[14]=J,o[15]=1,o},e.multiplyByMatrix3=function(n,r,o){const u=n[0],i=n[1],a=n[2],s=n[4],f=n[5],d=n[6],h=n[8],y=n[9],x=n[10],p=r[0],C=r[1],b=r[2],z=r[3],O=r[4],V=r[5],A=r[6],T=r[7],E=r[8],I=u*p+s*C+h*b,U=i*p+f*C+y*b,N=a*p+d*C+x*b,S=u*z+s*O+h*V,P=i*z+f*O+y*V,q=a*z+d*O+x*V,R=u*A+s*T+h*E,W=i*A+f*T+y*E,L=a*A+d*T+x*E;return o[0]=I,o[1]=U,o[2]=N,o[3]=0,o[4]=S,o[5]=P,o[6]=q,o[7]=0,o[8]=R,o[9]=W,o[10]=L,o[11]=0,o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},e.multiplyByTranslation=function(n,r,o){const u=r.x,i=r.y,a=r.z,s=u*n[0]+i*n[4]+a*n[8]+n[12],f=u*n[1]+i*n[5]+a*n[9]+n[13],d=u*n[2]+i*n[6]+a*n[10]+n[14];return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=s,o[13]=f,o[14]=d,o[15]=n[15],o},e.multiplyByScale=function(n,r,o){const u=r.x,i=r.y,a=r.z;return u===1&&i===1&&a===1?e.clone(n,o):(o[0]=u*n[0],o[1]=u*n[1],o[2]=u*n[2],o[3]=n[3],o[4]=i*n[4],o[5]=i*n[5],o[6]=i*n[6],o[7]=n[7],o[8]=a*n[8],o[9]=a*n[9],o[10]=a*n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o)},e.multiplyByUniformScale=function(n,r,o){return o[0]=n[0]*r,o[1]=n[1]*r,o[2]=n[2]*r,o[3]=n[3],o[4]=n[4]*r,o[5]=n[5]*r,o[6]=n[6]*r,o[7]=n[7],o[8]=n[8]*r,o[9]=n[9]*r,o[10]=n[10]*r,o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},e.multiplyByVector=function(n,r,o){const u=r.x,i=r.y,a=r.z,s=r.w,f=n[0]*u+n[4]*i+n[8]*a+n[12]*s,d=n[1]*u+n[5]*i+n[9]*a+n[13]*s,h=n[2]*u+n[6]*i+n[10]*a+n[14]*s,y=n[3]*u+n[7]*i+n[11]*a+n[15]*s;return o.x=f,o.y=d,o.z=h,o.w=y,o},e.multiplyByPointAsVector=function(n,r,o){const u=r.x,i=r.y,a=r.z,s=n[0]*u+n[4]*i+n[8]*a,f=n[1]*u+n[5]*i+n[9]*a,d=n[2]*u+n[6]*i+n[10]*a;return o.x=s,o.y=f,o.z=d,o},e.multiplyByPoint=function(n,r,o){const u=r.x,i=r.y,a=r.z,s=n[0]*u+n[4]*i+n[8]*a+n[12],f=n[1]*u+n[5]*i+n[9]*a+n[13],d=n[2]*u+n[6]*i+n[10]*a+n[14];return o.x=s,o.y=f,o.z=d,o},e.multiplyByScalar=function(n,r,o){return o[0]=n[0]*r,o[1]=n[1]*r,o[2]=n[2]*r,o[3]=n[3]*r,o[4]=n[4]*r,o[5]=n[5]*r,o[6]=n[6]*r,o[7]=n[7]*r,o[8]=n[8]*r,o[9]=n[9]*r,o[10]=n[10]*r,o[11]=n[11]*r,o[12]=n[12]*r,o[13]=n[13]*r,o[14]=n[14]*r,o[15]=n[15]*r,o},e.negate=function(n,r){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r[4]=-n[4],r[5]=-n[5],r[6]=-n[6],r[7]=-n[7],r[8]=-n[8],r[9]=-n[9],r[10]=-n[10],r[11]=-n[11],r[12]=-n[12],r[13]=-n[13],r[14]=-n[14],r[15]=-n[15],r},e.transpose=function(n,r){const o=n[1],u=n[2],i=n[3],a=n[6],s=n[7],f=n[11];return r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=o,r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=u,r[9]=a,r[10]=n[10],r[11]=n[14],r[12]=i,r[13]=s,r[14]=f,r[15]=n[15],r},e.abs=function(n,r){return r[0]=Math.abs(n[0]),r[1]=Math.abs(n[1]),r[2]=Math.abs(n[2]),r[3]=Math.abs(n[3]),r[4]=Math.abs(n[4]),r[5]=Math.abs(n[5]),r[6]=Math.abs(n[6]),r[7]=Math.abs(n[7]),r[8]=Math.abs(n[8]),r[9]=Math.abs(n[9]),r[10]=Math.abs(n[10]),r[11]=Math.abs(n[11]),r[12]=Math.abs(n[12]),r[13]=Math.abs(n[13]),r[14]=Math.abs(n[14]),r[15]=Math.abs(n[15]),r},e.equals=function(n,r){return n===r||t.defined(n)&&t.defined(r)&&n[12]===r[12]&&n[13]===r[13]&&n[14]===r[14]&&n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[4]===r[4]&&n[5]===r[5]&&n[6]===r[6]&&n[8]===r[8]&&n[9]===r[9]&&n[10]===r[10]&&n[3]===r[3]&&n[7]===r[7]&&n[11]===r[11]&&n[15]===r[15]},e.equalsEpsilon=function(n,r,o){return o=t.defaultValue(o,0),n===r||t.defined(n)&&t.defined(r)&&Math.abs(n[0]-r[0])<=o&&Math.abs(n[1]-r[1])<=o&&Math.abs(n[2]-r[2])<=o&&Math.abs(n[3]-r[3])<=o&&Math.abs(n[4]-r[4])<=o&&Math.abs(n[5]-r[5])<=o&&Math.abs(n[6]-r[6])<=o&&Math.abs(n[7]-r[7])<=o&&Math.abs(n[8]-r[8])<=o&&Math.abs(n[9]-r[9])<=o&&Math.abs(n[10]-r[10])<=o&&Math.abs(n[11]-r[11])<=o&&Math.abs(n[12]-r[12])<=o&&Math.abs(n[13]-r[13])<=o&&Math.abs(n[14]-r[14])<=o&&Math.abs(n[15]-r[15])<=o},e.getTranslation=function(n,r){return r.x=n[12],r.y=n[13],r.z=n[14],r},e.getMatrix3=function(n,r){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[4],r[4]=n[5],r[5]=n[6],r[6]=n[8],r[7]=n[9],r[8]=n[10],r};const An=new g.Matrix3,Tn=new g.Matrix3,En=new c,In=new c(0,0,0,1);e.inverse=function(n,r){const o=n[0],u=n[4],i=n[8],a=n[12],s=n[1],f=n[5],d=n[9],h=n[13],y=n[2],x=n[6],p=n[10],C=n[14],b=n[3],z=n[7],O=n[11],V=n[15];let A=p*V,T=C*O,E=x*V,I=C*z,U=x*O,N=p*z,S=y*V,P=C*b,q=y*O,R=p*b,W=y*z,L=x*b;const B=A*f+I*d+U*h-(T*f+E*d+N*h),$=T*s+S*d+R*h-(A*s+P*d+q*h),j=E*s+P*f+W*h-(I*s+S*f+L*h),v=N*s+q*f+L*d-(U*s+R*f+W*d),X=T*u+E*i+N*a-(A*u+I*i+U*a),G=A*o+P*i+q*a-(T*o+S*i+R*a),H=I*o+S*u+L*a-(E*o+P*u+W*a),Q=U*o+R*u+W*i-(N*o+q*u+L*i);A=i*h,T=a*d,E=u*h,I=a*f,U=u*d,N=i*f,S=o*h,P=a*s,q=o*d,R=i*s,W=o*f,L=u*s;const J=A*z+I*O+U*V-(T*z+E*O+N*V),un=T*b+S*O+R*V-(A*b+P*O+q*V),an=E*b+P*z+W*V-(I*b+S*z+L*V),sn=N*b+q*z+L*O-(U*b+R*z+W*O),tn=E*p+N*C+T*x-(U*C+A*x+I*p),en=q*C+A*y+P*p-(S*p+R*C+T*y),cn=S*x+L*C+I*y-(W*C+E*y+P*x),ln=W*p+U*y+R*x-(q*x+L*p+N*y);let _=o*B+u*$+i*j+a*v;if(Math.abs(_)<w.CesiumMath.EPSILON21){if(g.Matrix3.equalsEpsilon(e.getMatrix3(n,An),Tn,w.CesiumMath.EPSILON7)&&c.equals(e.getRow(n,3,En),In))return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=-n[12],r[13]=-n[13],r[14]=-n[14],r[15]=1,r;throw new pn.RuntimeError("matrix is not invertible because its determinate is zero.")}return _=1/_,r[0]=B*_,r[1]=$*_,r[2]=j*_,r[3]=v*_,r[4]=X*_,r[5]=G*_,r[6]=H*_,r[7]=Q*_,r[8]=J*_,r[9]=un*_,r[10]=an*_,r[11]=sn*_,r[12]=tn*_,r[13]=en*_,r[14]=cn*_,r[15]=ln*_,r},e.inverseTransformation=function(n,r){const o=n[0],u=n[1],i=n[2],a=n[4],s=n[5],f=n[6],d=n[8],h=n[9],y=n[10],x=n[12],p=n[13],C=n[14],b=-o*x-u*p-i*C,z=-a*x-s*p-f*C,O=-d*x-h*p-y*C;return r[0]=o,r[1]=a,r[2]=d,r[3]=0,r[4]=u,r[5]=s,r[6]=h,r[7]=0,r[8]=i,r[9]=f,r[10]=y,r[11]=0,r[12]=b,r[13]=z,r[14]=O,r[15]=1,r};const Un=new e;function M(n,r,o,u){this.west=t.defaultValue(n,0),this.south=t.defaultValue(r,0),this.east=t.defaultValue(o,0),this.north=t.defaultValue(u,0)}e.inverseTranspose=function(n,r){return e.inverse(e.transpose(n,Un),r)},e.IDENTITY=Object.freeze(new e(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),e.ZERO=Object.freeze(new e(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),e.COLUMN0ROW0=0,e.COLUMN0ROW1=1,e.COLUMN0ROW2=2,e.COLUMN0ROW3=3,e.COLUMN1ROW0=4,e.COLUMN1ROW1=5,e.COLUMN1ROW2=6,e.COLUMN1ROW3=7,e.COLUMN2ROW0=8,e.COLUMN2ROW1=9,e.COLUMN2ROW2=10,e.COLUMN2ROW3=11,e.COLUMN3ROW0=12,e.COLUMN3ROW1=13,e.COLUMN3ROW2=14,e.COLUMN3ROW3=15,Object.defineProperties(e.prototype,{length:{get:function(){return e.packedLength}}}),e.prototype.clone=function(n){return e.clone(this,n)},e.prototype.equals=function(n){return e.equals(this,n)},e.equalsArray=function(n,r,o){return n[0]===r[o]&&n[1]===r[o+1]&&n[2]===r[o+2]&&n[3]===r[o+3]&&n[4]===r[o+4]&&n[5]===r[o+5]&&n[6]===r[o+6]&&n[7]===r[o+7]&&n[8]===r[o+8]&&n[9]===r[o+9]&&n[10]===r[o+10]&&n[11]===r[o+11]&&n[12]===r[o+12]&&n[13]===r[o+13]&&n[14]===r[o+14]&&n[15]===r[o+15]},e.prototype.equalsEpsilon=function(n,r){return e.equalsEpsilon(this,n,r)},e.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})
(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})
(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})
(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`},Object.defineProperties(M.prototype,{width:{get:function(){return M.computeWidth(this)}},height:{get:function(){return M.computeHeight(this)}}}),M.packedLength=4,M.pack=function(n,r,o){return o=t.defaultValue(o,0),r[o++]=n.west,r[o++]=n.south,r[o++]=n.east,r[o]=n.north,r},M.unpack=function(n,r,o){return r=t.defaultValue(r,0),t.defined(o)||(o=new M),o.west=n[r++],o.south=n[r++],o.east=n[r++],o.north=n[r],o},M.computeWidth=function(n){let r=n.east;const o=n.west;return r<o&&(r+=w.CesiumMath.TWO_PI),r-o},M.computeHeight=function(n){return n.north-n.south},M.fromDegrees=function(n,r,o,u,i){return n=w.CesiumMath.toRadians(t.defaultValue(n,0)),r=w.CesiumMath.toRadians(t.defaultValue(r,0)),o=w.CesiumMath.toRadians(t.defaultValue(o,0)),u=w.CesiumMath.toRadians(t.defaultValue(u,0)),t.defined(i)?(i.west=n,i.south=r,i.east=o,i.north=u,i):new M(n,r,o,u)},M.fromRadians=function(n,r,o,u,i){return t.defined(i)?(i.west=t.defaultValue(n,0),i.south=t.defaultValue(r,0),i.east=t.defaultValue(o,0),i.north=t.defaultValue(u,0),i):new M(n,r,o,u)},M.fromCartographicArray=function(n,r){let o=Number.MAX_VALUE,u=-Number.MAX_VALUE,i=Number.MAX_VALUE,a=-Number.MAX_VALUE,s=Number.MAX_VALUE,f=-Number.MAX_VALUE;for(let d=0,h=n.length;d<h;d++){const y=n[d];o=Math.min(o,y.longitude),u=Math.max(u,y.longitude),s=Math.min(s,y.latitude),f=Math.max(f,y.latitude);const x=y.longitude>=0?y.longitude:y.longitude+w.CesiumMath.TWO_PI;i=Math.min(i,x),a=Math.max(a,x)}return u-o>a-i&&(o=i,u=a,u>w.CesiumMath.PI&&(u-=w.CesiumMath.TWO_PI),o>w.CesiumMath.PI&&(o-=w.CesiumMath.TWO_PI)),t.defined(r)?(r.west=o,r.south=s,r.east=u,r.north=f,r):new M(o,s,u,f)},M.fromCartesianArray=function(n,r,o){r=t.defaultValue(r,g.Ellipsoid.WGS84);let u=Number.MAX_VALUE,i=-Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE,f=Number.MAX_VALUE,d=-Number.MAX_VALUE;for(let h=0,y=n.length;h<y;h++){const x=r.cartesianToCartographic(n[h]);u=Math.min(u,x.longitude),i=Math.max(i,x.longitude),f=Math.min(f,x.latitude),d=Math.max(d,x.latitude);const p=x.longitude>=0?x.longitude:x.longitude+w.CesiumMath.TWO_PI;a=Math.min(a,p),s=Math.max(s,p)}return i-u>s-a&&(u=a,i=s,i>w.CesiumMath.PI&&(i-=w.CesiumMath.TWO_PI),u>w.CesiumMath.PI&&(u-=w.CesiumMath.TWO_PI)),t.defined(o)?(o.west=u,o.south=f,o.east=i,o.north=d,o):new M(u,f,i,d)},M.clone=function(n,r){if(t.defined(n))return t.defined(r)?(r.west=n.west,r.south=n.south,r.east=n.east,r.north=n.north,r):new M(n.west,n.south,n.east,n.north)},M.equalsEpsilon=function(n,r,o){return o=t.defaultValue(o,0),n===r||t.defined(n)&&t.defined(r)&&Math.abs(n.west-r.west)<=o&&Math.abs(n.south-r.south)<=o&&Math.abs(n.east-r.east)<=o&&Math.abs(n.north-r.north)<=o},M.prototype.clone=function(n){return M.clone(this,n)},M.prototype.equals=function(n){return M.equals(this,n)},M.equals=function(n,r){return n===r||t.defined(n)&&t.defined(r)&&n.west===r.west&&n.south===r.south&&n.east===r.east&&n.north===r.north},M.prototype.equalsEpsilon=function(n,r){return M.equalsEpsilon(this,n,r)},M.validate=function(n){},M.southwest=function(n,r){return t.defined(r)?(r.longitude=n.west,r.latitude=n.south,r.height=0,r):new g.Cartographic(n.west,n.south)},M.northwest=function(n,r){return t.defined(r)?(r.longitude=n.west,r.latitude=n.north,r.height=0,r):new g.Cartographic(n.west,n.north)},M.northeast=function(n,r){return t.defined(r)?(r.longitude=n.east,r.latitude=n.north,r.height=0,r):new g.Cartographic(n.east,n.north)},M.southeast=function(n,r){return t.defined(r)?(r.longitude=n.east,r.latitude=n.south,r.height=0,r):new g.Cartographic(n.east,n.south)},M.center=function(n,r){let o=n.east;const u=n.west;o<u&&(o+=w.CesiumMath.TWO_PI);const i=w.CesiumMath.negativePiToPi(.5*(u+o)),a=.5*(n.south+n.north);return t.defined(r)?(r.longitude=i,r.latitude=a,r.height=0,r):new g.Cartographic(i,a)},M.intersection=function(n,r,o){let u=n.east,i=n.west,a=r.east,s=r.west;u<i&&a>0?u+=w.CesiumMath.TWO_PI:a<s&&u>0&&(a+=w.CesiumMath.TWO_PI),u<i&&s<0?s+=w.CesiumMath.TWO_PI:a<s&&i<0&&(i+=w.CesiumMath.TWO_PI);const f=w.CesiumMath.negativePiToPi(Math.max(i,s)),d=w.CesiumMath.negativePiToPi(Math.min(u,a));if((n.west<n.east||r.west<r.east)&&d<=f)return;const h=Math.max(n.south,r.south),y=Math.min(n.north,r.north);return h>=y?void 0:t.defined(o)?(o.west=f,o.south=h,o.east=d,o.north=y,o):new M(f,h,d,y)},M.simpleIntersection=function(n,r,o){const u=Math.max(n.west,r.west),i=Math.max(n.south,r.south),a=Math.min(n.east,r.east),s=Math.min(n.north,r.north);if(!(i>=s||u>=a))return t.defined(o)?(o.west=u,o.south=i,o.east=a,o.north=s,o):new M(u,i,a,s)},M.union=function(n,r,o){t.defined(o)||(o=new M);let u=n.east,i=n.west,a=r.east,s=r.west;u<i&&a>0?u+=w.CesiumMath.TWO_PI:a<s&&u>0&&(a+=w.CesiumMath.TWO_PI),u<i&&s<0?s+=w.CesiumMath.TWO_PI:a<s&&i<0&&(i+=w.CesiumMath.TWO_PI);const f=w.CesiumMath.negativePiToPi(Math.min(i,s)),d=w.CesiumMath.negativePiToPi(Math.max(u,a));return o.west=f,o.south=Math.min(n.south,r.south),o.east=d,o.north=Math.max(n.north,r.north),o},M.expand=function(n,r,o){return t.defined(o)||(o=new M),o.west=Math.min(n.west,r.longitude),o.south=Math.min(n.south,r.latitude),o.east=Math.max(n.east,r.longitude),o.north=Math.max(n.north,r.latitude),o},M.contains=function(n,r){let o=r.longitude;const u=r.latitude,i=n.west;let a=n.east;return a<i&&(a+=w.CesiumMath.TWO_PI,o<0&&(o+=w.CesiumMath.TWO_PI)),(o>i||w.CesiumMath.equalsEpsilon(o,i,w.CesiumMath.EPSILON14))&&(o<a||w.CesiumMath.equalsEpsilon(o,a,w.CesiumMath.EPSILON14))&&u>=n.south&&u<=n.north};const Nn=new g.Cartographic;function l(n,r){this.x=t.defaultValue(n,0),this.y=t.defaultValue(r,0)}M.subsample=function(n,r,o,u){r=t.defaultValue(r,g.Ellipsoid.WGS84),o=t.defaultValue(o,0),t.defined(u)||(u=[]);let i=0;const a=n.north,s=n.south,f=n.east,d=n.west,h=Nn;h.height=o,h.longitude=d,h.latitude=a,u[i]=r.cartographicToCartesian(h,u[i]),i++,h.longitude=f,u[i]=r.cartographicToCartesian(h,u[i]),i++,h.latitude=s,u[i]=r.cartographicToCartesian(h,u[i]),i++,h.longitude=d,u[i]=r.cartographicToCartesian(h,u[i]),i++,h.latitude=a<0?a:s>0?s:0;for(let y=1;y<8;++y)h.longitude=-Math.PI+y*w.CesiumMath.PI_OVER_TWO,M.contains(n,h)&&(u[i]=r.cartographicToCartesian(h,u[i]),i++);return h.latitude===0&&(h.longitude=d,u[i]=r.cartographicToCartesian(h,u[i]),i++,h.longitude=f,u[i]=r.cartographicToCartesian(h,u[i]),i++),u.length=i,u},M.subsection=function(n,r,o,u,i,a){if(t.defined(a)||(a=new M),n.west<=n.east){const f=n.east-n.west;a.west=n.west+r*f,a.east=n.west+u*f}else{const f=w.CesiumMath.TWO_PI+n.east-n.west;a.west=w.CesiumMath.negativePiToPi(n.west+r*f),a.east=w.CesiumMath.negativePiToPi(n.west+u*f)}const s=n.north-n.south;return a.south=n.south+o*s,a.north=n.south+i*s,r===1&&(a.west=n.east),u===1&&(a.east=n.east),o===1&&(a.south=n.north),i===1&&(a.north=n.north),a},M.MAX_VALUE=Object.freeze(new M(-Math.PI,-w.CesiumMath.PI_OVER_TWO,Math.PI,w.CesiumMath.PI_OVER_TWO)),l.fromElements=function(n,r,o){return t.defined(o)?(o.x=n,o.y=r,o):new l(n,r)},l.clone=function(n,r){if(t.defined(n))return t.defined(r)?(r.x=n.x,r.y=n.y,r):new l(n.x,n.y)},l.fromCartesian3=l.clone,l.fromCartesian4=l.clone,l.packedLength=2,l.pack=function(n,r,o){return o=t.defaultValue(o,0),r[o++]=n.x,r[o]=n.y,r},l.unpack=function(n,r,o){return r=t.defaultValue(r,0),t.defined(o)||(o=new l),o.x=n[r++],o.y=n[r],o},l.packArray=function(n,r){const o=n.length,u=2*o;t.defined(r)?(Array.isArray(r)||r.length===u)&&r.length!==u&&(r.length=u):r=new Array(u);for(let i=0;i<o;++i)l.pack(n[i],r,2*i);return r},l.unpackArray=function(n,r){const o=n.length;t.defined(r)?r.length=o/2:r=new Array(o/2);for(let u=0;u<o;u+=2){const i=u/2;r[i]=l.unpack(n,u,r[i])}return r},l.fromArray=l.unpack,l.maximumComponent=function(n){return Math.max(n.x,n.y)},l.minimumComponent=function(n){return Math.min(n.x,n.y)},l.minimumByComponent=function(n,r,o){return o.x=Math.min(n.x,r.x),o.y=Math.min(n.y,r.y),o},l.maximumByComponent=function(n,r,o){return o.x=Math.max(n.x,r.x),o.y=Math.max(n.y,r.y),o},l.clamp=function(n,r,o,u){const i=w.CesiumMath.clamp(n.x,r.x,o.x),a=w.CesiumMath.clamp(n.y,r.y,o.y);return u.x=i,u.y=a,u},l.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},l.magnitude=function(n){return Math.sqrt(l.magnitudeSquared(n))};const nn=new l;l.distance=function(n,r){return l.subtract(n,r,nn),l.magnitude(nn)},l.distanceSquared=function(n,r){return l.subtract(n,r,nn),l.magnitudeSquared(nn)},l.normalize=function(n,r){const o=l.magnitude(n);return r.x=n.x/o,r.y=n.y/o,r},l.dot=function(n,r){return n.x*r.x+n.y*r.y},l.cross=function(n,r){return n.x*r.y-n.y*r.x},l.multiplyComponents=function(n,r,o){return o.x=n.x*r.x,o.y=n.y*r.y,o},l.divideComponents=function(n,r,o){return o.x=n.x/r.x,o.y=n.y/r.y,o},l.add=function(n,r,o){return o.x=n.x+r.x,o.y=n.y+r.y,o},l.subtract=function(n,r,o){return o.x=n.x-r.x,o.y=n.y-r.y,o},l.multiplyByScalar=function(n,r,o){return o.x=n.x*r,o.y=n.y*r,o},l.divideByScalar=function(n,r,o){return o.x=n.x/r,o.y=n.y/r,o},l.negate=function(n,r){return r.x=-n.x,r.y=-n.y,r},l.abs=function(n,r){return r.x=Math.abs(n.x),r.y=Math.abs(n.y),r};const mn=new l;l.lerp=function(n,r,o,u){return l.multiplyByScalar(r,o,mn),u=l.multiplyByScalar(n,1-o,u),l.add(mn,u,u)};const yn=new l,wn=new l;l.angleBetween=function(n,r){return l.normalize(n,yn),l.normalize(r,wn),w.CesiumMath.acosClamped(l.dot(yn,wn))};const Sn=new l;function m(n,r,o,u){this[0]=t.defaultValue(n,0),this[1]=t.defaultValue(o,0),this[2]=t.defaultValue(r,0),this[3]=t.defaultValue(u,0)}l.mostOrthogonalAxis=function(n,r){const o=l.normalize(n,Sn);return l.abs(o,o),r=o.x<=o.y?l.clone(l.UNIT_X,r):l.clone(l.UNIT_Y,r)},l.equals=function(n,r){return n===r||t.defined(n)&&t.defined(r)&&n.x===r.x&&n.y===r.y},l.equalsArray=function(n,r,o){return n.x===r[o]&&n.y===r[o+1]},l.equalsEpsilon=function(n,r,o,u){return n===r||t.defined(n)&&t.defined(r)&&w.CesiumMath.equalsEpsilon(n.x,r.x,o,u)&&w.CesiumMath.equalsEpsilon(n.y,r.y,o,u)},l.ZERO=Object.freeze(new l(0,0)),l.ONE=Object.freeze(new l(1,1)),l.UNIT_X=Object.freeze(new l(1,0)),l.UNIT_Y=Object.freeze(new l(0,1)),l.prototype.clone=function(n){return l.clone(this,n)},l.prototype.equals=function(n){return l.equals(this,n)},l.prototype.equalsEpsilon=function(n,r,o){return l.equalsEpsilon(this,n,r,o)},l.prototype.toString=function(){return`(${this.x}, ${this.y})`},m.packedLength=4,m.pack=function(n,r,o){return o=t.defaultValue(o,0),r[o++]=n[0],r[o++]=n[1],r[o++]=n[2],r[o++]=n[3],r},m.unpack=function(n,r,o){return r=t.defaultValue(r,0),t.defined(o)||(o=new m),o[0]=n[r++],o[1]=n[r++],o[2]=n[r++],o[3]=n[r++],o},m.packArray=function(n,r){const o=n.length,u=4*o;t.defined(r)?(Array.isArray(r)||r.length===u)&&r.length!==u&&(r.length=u):r=new Array(u);for(let i=0;i<o;++i)m.pack(n[i],r,4*i);return r},m.unpackArray=function(n,r){const o=n.length;t.defined(r)?r.length=o/4:r=new Array(o/4);for(let u=0;u<o;u+=4){const i=u/4;r[i]=m.unpack(n,u,r[i])}return r},m.clone=function(n,r){if(t.defined(n))return t.defined(r)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):new m(n[0],n[2],n[1],n[3])},m.fromArray=m.unpack,m.fromColumnMajorArray=function(n,r){return m.clone(n,r)},m.fromRowMajorArray=function(n,r){return t.defined(r)?(r[0]=n[0],r[1]=n[2],r[2]=n[1],r[3]=n[3],r):new m(n[0],n[1],n[2],n[3])},m.fromScale=function(n,r){return t.defined(r)?(r[0]=n.x,r[1]=0,r[2]=0,r[3]=n.y,r):new m(n.x,0,0,n.y)},m.fromUniformScale=function(n,r){return t.defined(r)?(r[0]=n,r[1]=0,r[2]=0,r[3]=n,r):new m(n,0,0,n)},m.fromRotation=function(n,r){const o=Math.cos(n),u=Math.sin(n);return t.defined(r)?(r[0]=o,r[1]=u,r[2]=-u,r[3]=o,r):new m(o,-u,u,o)},m.toArray=function(n,r){return t.defined(r)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):[n[0],n[1],n[2],n[3]]},m.getElementIndex=function(n,r){return 2*n+r},m.getColumn=function(n,r,o){const u=2*r,i=n[u],a=n[u+1];return o.x=i,o.y=a,o},m.setColumn=function(n,r,o,u){const i=2*r;return(u=m.clone(n,u))[i]=o.x,u[i+1]=o.y,u},m.getRow=function(n,r,o){const u=n[r],i=n[r+2];return o.x=u,o.y=i,o},m.setRow=function(n,r,o,u){return(u=m.clone(n,u))[r]=o.x,u[r+2]=o.y,u};const Pn=new l;m.setScale=function(n,r,o){const u=m.getScale(n,Pn),i=r.x/u.x,a=r.y/u.y;return o[0]=n[0]*i,o[1]=n[1]*i,o[2]=n[2]*a,o[3]=n[3]*a,o};const _n=new l;m.setUniformScale=function(n,r,o){const u=m.getScale(n,_n),i=r/u.x,a=r/u.y;return o[0]=n[0]*i,o[1]=n[1]*i,o[2]=n[2]*a,o[3]=n[3]*a,o};const xn=new l;m.getScale=function(n,r){return r.x=l.magnitude(l.fromElements(n[0],n[1],xn)),r.y=l.magnitude(l.fromElements(n[2],n[3],xn)),r};const Mn=new l;m.getMaximumScale=function(n){return m.getScale(n,Mn),l.maximumComponent(Mn)};const qn=new l;m.setRotation=function(n,r,o){const u=m.getScale(n,qn);return o[0]=r[0]*u.x,o[1]=r[1]*u.x,o[2]=r[2]*u.y,o[3]=r[3]*u.y,o};const Rn=new l;m.getRotation=function(n,r){const o=m.getScale(n,Rn);return r[0]=n[0]/o.x,r[1]=n[1]/o.x,r[2]=n[2]/o.y,r[3]=n[3]/o.y,r},m.multiply=function(n,r,o){const u=n[0]*r[0]+n[2]*r[1],i=n[0]*r[2]+n[2]*r[3],a=n[1]*r[0]+n[3]*r[1],s=n[1]*r[2]+n[3]*r[3];return o[0]=u,o[1]=a,o[2]=i,o[3]=s,o},m.add=function(n,r,o){return o[0]=n[0]+r[0],o[1]=n[1]+r[1],o[2]=n[2]+r[2],o[3]=n[3]+r[3],o},m.subtract=function(n,r,o){return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],o[3]=n[3]-r[3],o},m.multiplyByVector=function(n,r,o){const u=n[0]*r.x+n[2]*r.y,i=n[1]*r.x+n[3]*r.y;return o.x=u,o.y=i,o},m.multiplyByScalar=function(n,r,o){return o[0]=n[0]*r,o[1]=n[1]*r,o[2]=n[2]*r,o[3]=n[3]*r,o},m.multiplyByScale=function(n,r,o){return o[0]=n[0]*r.x,o[1]=n[1]*r.x,o[2]=n[2]*r.y,o[3]=n[3]*r.y,o},m.multiplyByUniformScale=function(n,r,o){return o[0]=n[0]*r,o[1]=n[1]*r,o[2]=n[2]*r,o[3]=n[3]*r,o},m.negate=function(n,r){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r},m.transpose=function(n,r){const o=n[0],u=n[2],i=n[1],a=n[3];return r[0]=o,r[1]=u,r[2]=i,r[3]=a,r},m.abs=function(n,r){return r[0]=Math.abs(n[0]),r[1]=Math.abs(n[1]),r[2]=Math.abs(n[2]),r[3]=Math.abs(n[3]),r},m.equals=function(n,r){return n===r||t.defined(n)&&t.defined(r)&&n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]},m.equalsArray=function(n,r,o){return n[0]===r[o]&&n[1]===r[o+1]&&n[2]===r[o+2]&&n[3]===r[o+3]},m.equalsEpsilon=function(n,r,o){return o=t.defaultValue(o,0),n===r||t.defined(n)&&t.defined(r)&&Math.abs(n[0]-r[0])<=o&&Math.abs(n[1]-r[1])<=o&&Math.abs(n[2]-r[2])<=o&&Math.abs(n[3]-r[3])<=o},m.IDENTITY=Object.freeze(new m(1,0,0,1)),m.ZERO=Object.freeze(new m(0,0,0,0)),m.COLUMN0ROW0=0,m.COLUMN0ROW1=1,m.COLUMN1ROW0=2,m.COLUMN1ROW1=3,Object.defineProperties(m.prototype,{length:{get:function(){return m.packedLength}}}),m.prototype.clone=function(n){return m.clone(this,n)},m.prototype.equals=function(n){return m.equals(this,n)},m.prototype.equalsEpsilon=function(n,r){return m.equalsEpsilon(this,n,r)},m.prototype.toString=function(){return`(${this[0]}, ${this[2]})
(${this[1]}, ${this[3]})`},D.Cartesian2=l,D.Cartesian4=c,D.Matrix2=m,D.Matrix4=e,D.Rectangle=M});
