var BASIS=function(){var it=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(it=it||__filename),function(N){N=N||{};var s=typeof N<"u"?N:{},Nt,Gt;s.ready=new Promise(function(t,n){Nt=t,readyPromiseRejectza=n});var G={},j;for(j in s)s.hasOwnProperty(j)&&(G[j]=s[j]);var L=[],Lt="./this.program",At=function(t,n){throw n},ut=!1,I=!1,_t=!1,Xt=!1;ut=typeof window=="object",I=typeof importScripts=="function",_t=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Xt=!ut&&!_t&&!I;var b="";function Sn(t){return s.locateFile?s.locateFile(t,b):b+t}var st,Wt,X,Fn,Et,St;_t?(I?b=require("path").dirname(b)+"/":b=__dirname+"/",st=function(t,n){return Et||(Et=require("fs")),St||(St=require("path")),t=St.normalize(t),Et.readFileSync(t,n?null:"utf8")},X=function(t){var n=st(t,!0);return n.buffer||(n=new Uint8Array(n)),Ft(n.buffer),n},process.argv.length>1&&(Lt=process.argv[1].replace(/\\/g,"/")),L=process.argv.slice(2),process.on("uncaughtException",function(t){if(!(t instanceof ke))throw t}),process.on("unhandledRejection",q),At=function(t){process.exit(t)},s.inspect=function(){return"[Emscripten Module object]"}):Xt?(typeof read<"u"&&(st=function(t){return read(t)}),X=function(t){var n;return typeof readbuffer=="function"?new Uint8Array(readbuffer(t)):(n=read(t,"binary"),Ft(typeof n=="object"),n)},typeof scriptArgs<"u"?L=scriptArgs:typeof arguments<"u"&&(L=arguments),typeof quit=="function"&&(At=function(t){quit(t)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(ut||I)&&(I?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),it&&(b=it),b.indexOf("blob:")!==0?b=b.substr(0,b.lastIndexOf("/")+1):b="",st=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},I&&(X=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),Wt=function(t,n,r){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){if(e.status==200||e.status==0&&e.response){n(e.response);return}r()},e.onerror=r,e.send(null)},Fn=function(t){document.title=t});var kn=s.print||console.log.bind(console),V=s.printErr||console.warn.bind(console);for(j in G)G.hasOwnProperty(j)&&(s[j]=G[j]);G=null,s.arguments&&(L=s.arguments),s.thisProgram&&(Lt=s.thisProgram),s.quit&&(At=s.quit);var On=0,jn=function(t){On=t},J;s.wasmBinary&&(J=s.wasmBinary);var je=s.noExitRuntime||!0;typeof WebAssembly!="object"&&q("no native wasm support detected");var ct,Jt=!1,Rn;function Ft(t,n){t||q("Assertion failed: "+n)}var Kt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qt(t,n,r){for(var e=n+r,o=n;t[o]&&!(o>=e);)++o;if(o-n>16&&t.subarray&&Kt)return Kt.decode(t.subarray(n,o));for(var u="";n<o;){var c=t[n++];if(!(c&128)){u+=String.fromCharCode(c);continue}var a=t[n++]&63;if((c&224)==192){u+=String.fromCharCode((c&31)<<6|a);continue}var i=t[n++]&63;if((c&240)==224?c=(c&15)<<12|a<<6|i:c=(c&7)<<18|a<<12|i<<6|t[n++]&63,c<65536)u+=String.fromCharCode(c);else{var f=c-65536;u+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return u}function Yt(t,n){return t?Qt(g,t,n):""}function Dn(t,n,r,e){if(!(e>0))return 0;for(var o=r,u=r+e-1,c=0;c<t.length;++c){var a=t.charCodeAt(c);if(a>=55296&&a<=57343){var i=t.charCodeAt(++c);a=65536+((a&1023)<<10)|i&1023}if(a<=127){if(r>=u)break;n[r++]=a}else if(a<=2047){if(r+1>=u)break;n[r++]=192|a>>6,n[r++]=128|a&63}else if(a<=65535){if(r+2>=u)break;n[r++]=224|a>>12,n[r++]=128|a>>6&63,n[r++]=128|a&63}else{if(r+3>=u)break;n[r++]=240|a>>18,n[r++]=128|a>>12&63,n[r++]=128|a>>6&63,n[r++]=128|a&63}}return n[r]=0,r-o}function In(t,n,r){return Dn(t,g,n,r)}function xn(t){for(var n=0,r=0;r<t.length;++r){var e=t.charCodeAt(r);e>=55296&&e<=57343&&(e=65536+((e&1023)<<10)|t.charCodeAt(++r)&1023),e<=127?++n:e<=2047?n+=2:e<=65535?n+=3:n+=4}return n}var Zt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Un(t,n){for(var r=t,e=r>>1,o=e+n/2;!(e>=o)&&K[e];)++e;if(r=e<<1,r-t>32&&Zt)return Zt.decode(g.subarray(t,r));for(var u="",c=0;!(c>=n/2);++c){var a=x[t+c*2>>1];if(a==0)break;u+=String.fromCharCode(a)}return u}function Mn(t,n,r){if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var e=n,o=r<t.length*2?r/2:t.length,u=0;u<o;++u){var c=t.charCodeAt(u);x[n>>1]=c,n+=2}return x[n>>1]=0,n-e}function Vn(t){return t.length*2}function qn(t,n){for(var r=0,e="";!(r>=n/4);){var o=T[t+r*4>>2];if(o==0)break;if(++r,o>=65536){var u=o-65536;e+=String.fromCharCode(55296|u>>10,56320|u&1023)}else e+=String.fromCharCode(o)}return e}function Bn(t,n,r){if(r===void 0&&(r=2147483647),r<4)return 0;for(var e=n,o=e+r-4,u=0;u<t.length;++u){var c=t.charCodeAt(u);if(c>=55296&&c<=57343){var a=t.charCodeAt(++u);c=65536+((c&1023)<<10)|a&1023}if(T[n>>2]=c,n+=4,n+4>o)break}return T[n>>2]=0,n-e}function Hn(t){for(var n=0,r=0;r<t.length;++r){var e=t.charCodeAt(r);e>=55296&&e<=57343&&++r,n+=4}return n}function zn(t,n){return t%n>0&&(t+=n-t%n),t}var kt,ft,g,x,K,T,_,tn,nn;function rn(t){kt=t,s.HEAP8=ft=new Int8Array(t),s.HEAP16=x=new Int16Array(t),s.HEAP32=T=new Int32Array(t),s.HEAPU8=g=new Uint8Array(t),s.HEAPU16=K=new Uint16Array(t),s.HEAPU32=_=new Uint32Array(t),s.HEAPF32=tn=new Float32Array(t),s.HEAPF64=nn=new Float64Array(t)}var Re=s.INITIAL_MEMORY||16777216,Q,en=[],on=[],Nn=[],an=[],Gn=!1;function Ln(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Qn(s.preRun.shift());lt(en)}function Xn(){Gn=!0,lt(on)}function Jn(){lt(Nn)}function Kn(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Zn(s.postRun.shift());lt(an)}function Qn(t){en.unshift(t)}function Yn(t){on.unshift(t)}function Zn(t){an.unshift(t)}var U=0,Ot=null,Y=null;function tr(t){U++,s.monitorRunDependencies&&s.monitorRunDependencies(U)}function nr(t){if(U--,s.monitorRunDependencies&&s.monitorRunDependencies(U),U==0&&(Ot!==null&&(clearInterval(Ot),Ot=null),Y)){var n=Y;Y=null,n()}}s.preloadedImages={},s.preloadedAudios={};function q(t){s.onAbort&&s.onAbort(t),t+="",V(t),Jt=!0,Rn=1,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(t);throw Gt(n),n}function un(t,n){return String.prototype.startsWith?t.startsWith(n):t.indexOf(n)===0}var rr="data:application/octet-stream;base64,";function sn(t){return un(t,rr)}var er="file://";function cn(t){return un(t,er)}var C="basis_transcoder.wasm";sn(C)||(C=Sn(C));function fn(t){try{if(t==C&&J)return new Uint8Array(J);if(X)return X(t);throw"both async and sync fetching of the wasm failed"}catch(n){q(n)}}function or(){if(!J&&(ut||I)){if(typeof fetch=="function"&&!cn(C))return fetch(C,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+C+"'";return t.arrayBuffer()}).catch(function(){return fn(C)});if(Wt)return new Promise(function(t,n){Wt(C,function(r){t(new Uint8Array(r))},n)})}return Promise.resolve().then(function(){return fn(C)})}function ar(){var t={a:We};function n(c,a){var i=c.exports;s.asm=i,ct=s.asm.K,rn(ct.buffer),Q=s.asm.O,Yn(s.asm.L),nr("wasm-instantiate")}tr("wasm-instantiate");function r(c){n(c.instance)}function e(c){return or().then(function(a){var i=WebAssembly.instantiate(a,t);return i}).then(c,function(a){V("failed to asynchronously prepare wasm: "+a),q(a)})}function o(){return!J&&typeof WebAssembly.instantiateStreaming=="function"&&!sn(C)&&!cn(C)&&typeof fetch=="function"?fetch(C,{credentials:"same-origin"}).then(function(c){var a=WebAssembly.instantiateStreaming(c,t);return a.then(r,function(i){return V("wasm streaming compile failed: "+i),V("falling back to ArrayBuffer instantiation"),e(r)})}):e(r)}if(s.instantiateWasm)try{var u=s.instantiateWasm(t,n);return u}catch(c){return V("Module.instantiateWasm callback failed with error: "+c),!1}return o().catch(Gt),{}}function lt(t){for(;t.length>0;){var n=t.shift();if(typeof n=="function"){n(s);continue}var r=n.func;typeof r=="number"?n.arg===void 0?Q.get(r)():Q.get(r)(n.arg):r(n.arg===void 0?null:n.arg)}}var pt={};function dt(t){for(;t.length;){var n=t.pop(),r=t.pop();r(n)}}function Z(t){return this.fromWireType(_[t>>2])}var B={},M={},ht={},ir=48,ur=57;function vt(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return n>=ir&&n<=ur?"_"+t:t}function yt(t,n){return t=vt(t),new Function("body","return function "+t+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(n)}function jt(t,n){var r=yt(n,function(e){this.name=n,this.message=e;var o=new Error(e).stack;o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},r}var ln=void 0;function mt(t){throw new ln(t)}function R(t,n,r){t.forEach(function(a){ht[a]=n});function e(a){var i=r(a);i.length!==t.length&&mt("Mismatched type converter count");for(var f=0;f<t.length;++f)W(t[f],i[f])}var o=new Array(n.length),u=[],c=0;n.forEach(function(a,i){M.hasOwnProperty(a)?o[i]=M[a]:(u.push(a),B.hasOwnProperty(a)||(B[a]=[]),B[a].push(function(){o[i]=M[a],++c,c===u.length&&e(o)}))}),u.length===0&&e(o)}function sr(t){var n=pt[t];delete pt[t];var r=n.rawConstructor,e=n.rawDestructor,o=n.fields,u=o.map(function(c){return c.getterReturnType}).concat(o.map(function(c){return c.setterArgumentType}));R([t],u,function(c){var a={};return o.forEach(function(i,f){var l=i.fieldName,p=c[f],d=i.getter,v=i.getterContext,m=c[f+o.length],w=i.setter,P=i.setterContext;a[l]={read:function(E){return p.fromWireType(d(v,E))},write:function(E,at){var O=[];w(P,E,m.toWireType(O,at)),dt(O)}}}),[{name:n.name,fromWireType:function(i){var f={};for(var l in a)f[l]=a[l].read(i);return e(i),f},toWireType:function(i,f){for(var l in a)if(!(l in f))throw new TypeError('Missing field:  "'+l+'"');var p=r();for(l in a)a[l].write(p,f[l]);return i!==null&&i.push(e,p),p},argPackAdvance:8,readValueFromPointer:Z,destructorFunction:e}]})}function gt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function cr(){for(var t=new Array(256),n=0;n<256;++n)t[n]=String.fromCharCode(n);pn=t}var pn=void 0;function y(t){for(var n="",r=t;g[r];)n+=pn[g[r++]];return n}var H=void 0;function h(t){throw new H(t)}function W(t,n,r){if(r=r||{},!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");var e=n.name;if(t||h('type "'+e+'" must have a positive integer typeid pointer'),M.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;h("Cannot register type '"+e+"' twice")}if(M[t]=n,delete ht[t],B.hasOwnProperty(t)){var o=B[t];delete B[t],o.forEach(function(u){u()})}}function fr(t,n,r,e,o){var u=gt(r);n=y(n),W(t,{name:n,fromWireType:function(c){return!!c},toWireType:function(c,a){return a?e:o},argPackAdvance:8,readValueFromPointer:function(c){var a;if(r===1)a=ft;else if(r===2)a=x;else if(r===4)a=T;else throw new TypeError("Unknown boolean type size: "+n);return this.fromWireType(a[c>>u])},destructorFunction:null})}function lr(t){if(!(this instanceof D)||!(t instanceof D))return!1;for(var n=this.$$.ptrType.registeredClass,r=this.$$.ptr,e=t.$$.ptrType.registeredClass,o=t.$$.ptr;n.baseClass;)r=n.upcast(r),n=n.baseClass;for(;e.baseClass;)o=e.upcast(o),e=e.baseClass;return n===e&&r===o}function pr(t){return{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}}function Rt(t){function n(r){return r.$$.ptrType.registeredClass.name}h(n(t)+" instance already deleted")}var Dt=!1;function dn(t){}function dr(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}function hn(t){t.count.value-=1;var n=t.count.value===0;n&&dr(t)}function tt(t){return typeof FinalizationGroup>"u"?(tt=function(n){return n},t):(Dt=new FinalizationGroup(function(n){for(var r=n.next();!r.done;r=n.next()){var e=r.value;e.ptr?hn(e):console.warn("object already deleted: "+e.ptr)}}),tt=function(n){return Dt.register(n,n.$$,n.$$),n},dn=function(n){Dt.unregister(n.$$)},tt(t))}function hr(){if(this.$$.ptr||Rt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=tt(Object.create(Object.getPrototypeOf(this),{$$:{value:pr(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function vr(){this.$$.ptr||Rt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&h("Object already scheduled for deletion"),dn(this),hn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function yr(){return!this.$$.ptr}var nt=void 0,rt=[];function It(){for(;rt.length;){var t=rt.pop();t.$$.deleteScheduled=!1,t.delete()}}function mr(){return this.$$.ptr||Rt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&h("Object already scheduled for deletion"),rt.push(this),rt.length===1&&nt&&nt(It),this.$$.deleteScheduled=!0,this}function gr(){D.prototype.isAliasOf=lr,D.prototype.clone=hr,D.prototype.delete=vr,D.prototype.isDeleted=yr,D.prototype.deleteLater=mr}function D(){}var vn={};function yn(t,n,r){if(t[n].overloadTable===void 0){var e=t[n];t[n]=function(){return t[n].overloadTable.hasOwnProperty(arguments.length)||h("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[n].overloadTable+")!"),t[n].overloadTable[arguments.length].apply(this,arguments)},t[n].overloadTable=[],t[n].overloadTable[e.argCount]=e}}function xt(t,n,r){s.hasOwnProperty(t)?((r===void 0||s[t].overloadTable!==void 0&&s[t].overloadTable[r]!==void 0)&&h("Cannot register public name '"+t+"' twice"),yn(s,t,t),s.hasOwnProperty(r)&&h("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),s[t].overloadTable[r]=n):(s[t]=n,r!==void 0&&(s[t].numArguments=r))}function wr(t,n,r,e,o,u,c,a){this.name=t,this.constructor=n,this.instancePrototype=r,this.rawDestructor=e,this.baseClass=o,this.getActualType=u,this.upcast=c,this.downcast=a,this.pureVirtualFunctions=[]}function Ut(t,n,r){for(;n!==r;)n.upcast||h("Expected null or instance of "+r.name+", got an instance of "+n.name),t=n.upcast(t),n=n.baseClass;return t}function Tr(t,n){if(n===null)return this.isReference&&h("null is not a valid "+this.name),0;n.$$||h('Cannot pass "'+z(n)+'" as a '+this.name),n.$$.ptr||h("Cannot pass deleted object as a pointer of type "+this.name);var r=n.$$.ptrType.registeredClass,e=Ut(n.$$.ptr,r,this.registeredClass);return e}function br(t,n){var r;if(n===null)return this.isReference&&h("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,r),r):0;n.$$||h('Cannot pass "'+z(n)+'" as a '+this.name),n.$$.ptr||h("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&n.$$.ptrType.isConst&&h("Cannot convert argument of type "+(n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name)+" to parameter type "+this.name);var e=n.$$.ptrType.registeredClass;if(r=Ut(n.$$.ptr,e,this.registeredClass),this.isSmartPointer)switch(n.$$.smartPtr===void 0&&h("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:n.$$.smartPtrType===this?r=n.$$.smartPtr:h("Cannot convert argument of type "+(n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=n.$$.smartPtr;break;case 2:if(n.$$.smartPtrType===this)r=n.$$.smartPtr;else{var o=n.clone();r=this.rawShare(r,F(function(){o.delete()})),t!==null&&t.push(this.rawDestructor,r)}break;default:h("Unsupporting sharing policy")}return r}function Cr(t,n){if(n===null)return this.isReference&&h("null is not a valid "+this.name),0;n.$$||h('Cannot pass "'+z(n)+'" as a '+this.name),n.$$.ptr||h("Cannot pass deleted object as a pointer of type "+this.name),n.$$.ptrType.isConst&&h("Cannot convert argument of type "+n.$$.ptrType.name+" to parameter type "+this.name);var r=n.$$.ptrType.registeredClass,e=Ut(n.$$.ptr,r,this.registeredClass);return e}function $r(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function Pr(t){this.rawDestructor&&this.rawDestructor(t)}function Ar(t){t!==null&&t.delete()}function mn(t,n,r){if(n===r)return t;if(r.baseClass===void 0)return null;var e=mn(t,n,r.baseClass);return e===null?null:r.downcast(e)}function _r(){return Object.keys(et).length}function Wr(){var t=[];for(var n in et)et.hasOwnProperty(n)&&t.push(et[n]);return t}function Er(t){nt=t,rt.length&&nt&&nt(It)}function Sr(){s.getInheritedInstanceCount=_r,s.getLiveInheritedInstances=Wr,s.flushPendingDeletes=It,s.setDelayFunction=Er}var et={};function Fr(t,n){for(n===void 0&&h("ptr should not be undefined");t.baseClass;)n=t.upcast(n),t=t.baseClass;return n}function kr(t,n){return n=Fr(t,n),et[n]}function wt(t,n){(!n.ptrType||!n.ptr)&&mt("makeClassHandle requires ptr and ptrType");var r=!!n.smartPtrType,e=!!n.smartPtr;return r!==e&&mt("Both smartPtrType and smartPtr must be specified"),n.count={value:1},tt(Object.create(t,{$$:{value:n}}))}function Or(t){var n=this.getPointee(t);if(!n)return this.destructor(t),null;var r=kr(this.registeredClass,n);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=n,r.$$.smartPtr=t,r.clone();var e=r.clone();return this.destructor(t),e}function o(){return this.isSmartPointer?wt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:n,smartPtrType:this,smartPtr:t}):wt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var u=this.registeredClass.getActualType(n),c=vn[u];if(!c)return o.call(this);var a;this.isConst?a=c.constPointerType:a=c.pointerType;var i=mn(n,this.registeredClass,a.registeredClass);return i===null?o.call(this):this.isSmartPointer?wt(a.registeredClass.instancePrototype,{ptrType:a,ptr:i,smartPtrType:this,smartPtr:t}):wt(a.registeredClass.instancePrototype,{ptrType:a,ptr:i})}function jr(){S.prototype.getPointee=$r,S.prototype.destructor=Pr,S.prototype.argPackAdvance=8,S.prototype.readValueFromPointer=Z,S.prototype.deleteObject=Ar,S.prototype.fromWireType=Or}function S(t,n,r,e,o,u,c,a,i,f,l){this.name=t,this.registeredClass=n,this.isReference=r,this.isConst=e,this.isSmartPointer=o,this.pointeeType=u,this.sharingPolicy=c,this.rawGetPointee=a,this.rawConstructor=i,this.rawShare=f,this.rawDestructor=l,!o&&n.baseClass===void 0?e?(this.toWireType=Tr,this.destructorFunction=null):(this.toWireType=Cr,this.destructorFunction=null):this.toWireType=br}function gn(t,n,r){s.hasOwnProperty(t)||mt("Replacing nonexistant public symbol"),s[t].overloadTable!==void 0&&r!==void 0?s[t].overloadTable[r]=n:(s[t]=n,s[t].argCount=r)}function Rr(t,n,r){var e=s["dynCall_"+t];return r&&r.length?e.apply(null,[n].concat(r)):e.call(null,n)}function Dr(t,n,r){return t.indexOf("j")!=-1?Rr(t,n,r):Q.get(n).apply(null,r)}function Ir(t,n){var r=[];return function(){r.length=arguments.length;for(var e=0;e<arguments.length;e++)r[e]=arguments[e];return Dr(t,n,r)}}function A(t,n){t=y(t);function r(){return t.indexOf("j")!=-1?Ir(t,n):Q.get(n)}var e=r();return typeof e!="function"&&h("unknown function pointer with signature "+t+": "+n),e}var wn=void 0;function Tn(t){var n=An(t),r=y(n);return k(n),r}function Tt(t,n){var r=[],e={};function o(u){if(!e[u]&&!M[u]){if(ht[u]){ht[u].forEach(o);return}r.push(u),e[u]=!0}}throw n.forEach(o),new wn(t+": "+r.map(Tn).join([", "]))}function xr(t,n,r,e,o,u,c,a,i,f,l,p,d){l=y(l),u=A(o,u),a&&(a=A(c,a)),f&&(f=A(i,f)),d=A(p,d);var v=vt(l);xt(v,function(){Tt("Cannot construct "+l+" due to unbound types",[e])}),R([t,n,r],e?[e]:[],function(m){m=m[0];var w,P;e?(w=m.registeredClass,P=w.instancePrototype):P=D.prototype;var E=yt(v,function(){if(Object.getPrototypeOf(this)!==at)throw new H("Use 'new' to construct "+l);if(O.constructor_body===void 0)throw new H(l+" has no accessible constructor");var En=O.constructor_body[arguments.length];if(En===void 0)throw new H("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(O.constructor_body).toString()+") parameters instead!");return En.apply(this,arguments)}),at=Object.create(P,{constructor:{value:E}});E.prototype=at;var O=new wr(l,E,at,d,w,u,a,f),Oe=new S(l,O,!0,!1,!1),_n=new S(l+"*",O,!1,!1,!1),Wn=new S(l+" const*",O,!1,!0,!1);return vn[t]={pointerType:_n,constPointerType:Wn},gn(v,E),[Oe,_n,Wn]})}function Mt(t,n){for(var r=[],e=0;e<t;e++)r.push(T[(n>>2)+e]);return r}function Ur(t,n,r,e,o,u){Ft(n>0);var c=Mt(n,r);o=A(e,o);var a=[u],i=[];R([],[t],function(f){f=f[0];var l="constructor "+f.name;if(f.registeredClass.constructor_body===void 0&&(f.registeredClass.constructor_body=[]),f.registeredClass.constructor_body[n-1]!==void 0)throw new H("Cannot register multiple constructors with identical number of parameters ("+(n-1)+") for class '"+f.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return f.registeredClass.constructor_body[n-1]=function(){Tt("Cannot construct "+f.name+" due to unbound types",c)},R([],c,function(p){return f.registeredClass.constructor_body[n-1]=function(){arguments.length!==n-1&&h(l+" called with "+arguments.length+" arguments, expected "+(n-1)),i.length=0,a.length=n;for(var d=1;d<n;++d)a[d]=p[d].toWireType(i,arguments[d-1]);var v=o.apply(null,a);return dt(i),p[0].fromWireType(v)},[]}),[]})}function bn(t,n){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=yt(t.name||"unknownFunctionName",function(){});r.prototype=t.prototype;var e=new r,o=t.apply(e,n);return o instanceof Object?o:e}function Cn(t,n,r,e,o){var u=n.length;u<2&&h("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var c=n[1]!==null&&r!==null,a=!1,i=1;i<n.length;++i)if(n[i]!==null&&n[i].destructorFunction===void 0){a=!0;break}for(var f=n[0].name!=="void",l="",p="",i=0;i<u-2;++i)l+=(i!==0?", ":"")+"arg"+i,p+=(i!==0?", ":"")+"arg"+i+"Wired";var d="return function "+vt(t)+"("+l+`) {
if (arguments.length !== `+(u-2)+`) {
throwBindingError('function `+t+" called with ' + arguments.length + ' arguments, expected "+(u-2)+` args!');
}
`;a&&(d+=`var destructors = [];
`);var v=a?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],w=[h,e,o,dt,n[0],n[1]];c&&(d+="var thisWired = classParam.toWireType("+v+`, this);
`);for(var i=0;i<u-2;++i)d+="var arg"+i+"Wired = argType"+i+".toWireType("+v+", arg"+i+"); // "+n[i+2].name+`
`,m.push("argType"+i),w.push(n[i+2]);if(c&&(p="thisWired"+(p.length>0?", ":"")+p),d+=(f?"var rv = ":"")+"invoker(fn"+(p.length>0?", ":"")+p+`);
`,a)d+=`runDestructors(destructors);
`;else for(var i=c?1:2;i<n.length;++i){var P=i===1?"thisWired":"arg"+(i-2)+"Wired";n[i].destructorFunction!==null&&(d+=P+"_dtor("+P+"); // "+n[i].name+`
`,m.push(P+"_dtor"),w.push(n[i].destructorFunction))}f&&(d+=`var ret = retType.fromWireType(rv);
return ret;
`),d+=`}
`,m.push(d);var E=bn(Function,m).apply(null,w);return E}function Mr(t,n,r,e,o,u,c,a){var i=Mt(r,e);n=y(n),u=A(o,u),R([],[t],function(f){f=f[0];var l=f.name+"."+n;a&&f.registeredClass.pureVirtualFunctions.push(n);function p(){Tt("Cannot call "+l+" due to unbound types",i)}var d=f.registeredClass.instancePrototype,v=d[n];return v===void 0||v.overloadTable===void 0&&v.className!==f.name&&v.argCount===r-2?(p.argCount=r-2,p.className=f.name,d[n]=p):(yn(d,n,l),d[n].overloadTable[r-2]=p),R([],i,function(m){var w=Cn(l,m,f,u,c);return d[n].overloadTable===void 0?(w.argCount=r-2,d[n]=w):d[n].overloadTable[r-2]=w,[]}),[]})}function Vr(t,n,r){t=y(t),R([],[n],function(e){return e=e[0],s[t]=e.fromWireType(r),[]})}var Vt=[],$=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function qt(t){t>4&&--$[t].refcount===0&&($[t]=void 0,Vt.push(t))}function qr(){for(var t=0,n=5;n<$.length;++n)$[n]!==void 0&&++t;return t}function Br(){for(var t=5;t<$.length;++t)if($[t]!==void 0)return $[t];return null}function Hr(){s.count_emval_handles=qr,s.get_first_emval=Br}function F(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var n=Vt.length?Vt.pop():$.length;return $[n]={refcount:1,value:t},n}}}function zr(t,n){n=y(n),W(t,{name:n,fromWireType:function(r){var e=$[r].value;return qt(r),e},toWireType:function(r,e){return F(e)},argPackAdvance:8,readValueFromPointer:Z,destructorFunction:null})}function Nr(t,n,r){switch(n){case 0:return function(e){var o=r?ft:g;return this.fromWireType(o[e])};case 1:return function(e){var o=r?x:K;return this.fromWireType(o[e>>1])};case 2:return function(e){var o=r?T:_;return this.fromWireType(o[e>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Gr(t,n,r,e){var o=gt(r);n=y(n);function u(){}u.values={},W(t,{name:n,constructor:u,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,a){return a.value},argPackAdvance:8,readValueFromPointer:Nr(n,o,e),destructorFunction:null}),xt(n,u)}function bt(t,n){var r=M[t];return r===void 0&&h(n+" has unknown type "+Tn(t)),r}function Lr(t,n,r){var e=bt(t,"enum");n=y(n);var o=e.constructor,u=Object.create(e.constructor.prototype,{value:{value:r},constructor:{value:yt(e.name+"_"+n,function(){})}});o.values[r]=u,o[n]=u}function z(t){if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t}function Xr(t,n){switch(n){case 2:return function(r){return this.fromWireType(tn[r>>2])};case 3:return function(r){return this.fromWireType(nn[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Jr(t,n,r){var e=gt(r);n=y(n),W(t,{name:n,fromWireType:function(o){return o},toWireType:function(o,u){if(typeof u!="number"&&typeof u!="boolean")throw new TypeError('Cannot convert "'+z(u)+'" to '+this.name);return u},argPackAdvance:8,readValueFromPointer:Xr(n,e),destructorFunction:null})}function Kr(t,n,r,e,o,u){var c=Mt(n,r);t=y(t),o=A(e,o),xt(t,function(){Tt("Cannot call "+t+" due to unbound types",c)},n-1),R([],c,function(a){var i=[a[0],null].concat(a.slice(1));return gn(t,Cn(t,i,null,o,u),n-1),[]})}function Qr(t,n,r){switch(n){case 0:return r?function(e){return ft[e]}:function(e){return g[e]};case 1:return r?function(e){return x[e>>1]}:function(e){return K[e>>1]};case 2:return r?function(e){return T[e>>2]}:function(e){return _[e>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function Yr(t,n,r,e,o){n=y(n),o===-1&&(o=4294967295);var u=gt(r),c=function(f){return f};if(e===0){var a=32-8*r;c=function(f){return f<<a>>>a}}var i=n.indexOf("unsigned")!=-1;W(t,{name:n,fromWireType:c,toWireType:function(f,l){if(typeof l!="number"&&typeof l!="boolean")throw new TypeError('Cannot convert "'+z(l)+'" to '+this.name);if(l<e||l>o)throw new TypeError('Passing a number "'+z(l)+'" from JS side to C/C++ side to an argument of type "'+n+'", which is outside the valid range ['+e+", "+o+"]!");return i?l>>>0:l|0},argPackAdvance:8,readValueFromPointer:Qr(n,u,e!==0),destructorFunction:null})}function Zr(t,n,r){var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],o=e[n];function u(c){c=c>>2;var a=_,i=a[c],f=a[c+1];return new o(kt,f,i)}r=y(r),W(t,{name:r,fromWireType:u,argPackAdvance:8,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})}function te(t,n){n=y(n);var r=n==="std::string";W(t,{name:n,fromWireType:function(e){var o=_[e>>2],u;if(r)for(var c=e+4,a=0;a<=o;++a){var i=e+4+a;if(a==o||g[i]==0){var f=i-c,l=Yt(c,f);u===void 0?u=l:(u+=String.fromCharCode(0),u+=l),c=i+1}}else{for(var p=new Array(o),a=0;a<o;++a)p[a]=String.fromCharCode(g[e+4+a]);u=p.join("")}return k(e),u},toWireType:function(e,o){o instanceof ArrayBuffer&&(o=new Uint8Array(o));var u,c=typeof o=="string";c||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int8Array||h("Cannot pass non-string to std::string"),r&&c?u=function(){return xn(o)}:u=function(){return o.length};var a=u(),i=Ht(4+a+1);if(_[i>>2]=a,r&&c)In(o,i+4,a+1);else if(c)for(var f=0;f<a;++f){var l=o.charCodeAt(f);l>255&&(k(i),h("String has UTF-16 code units that do not fit in 8 bits")),g[i+4+f]=l}else for(var f=0;f<a;++f)g[i+4+f]=o[f];return e!==null&&e.push(k,i),i},argPackAdvance:8,readValueFromPointer:Z,destructorFunction:function(e){k(e)}})}function ne(t,n,r){r=y(r);var e,o,u,c,a;n===2?(e=Un,o=Mn,c=Vn,u=function(){return K},a=1):n===4&&(e=qn,o=Bn,c=Hn,u=function(){return _},a=2),W(t,{name:r,fromWireType:function(i){for(var f=_[i>>2],l=u(),p,d=i+4,v=0;v<=f;++v){var m=i+4+v*n;if(v==f||l[m>>a]==0){var w=m-d,P=e(d,w);p===void 0?p=P:(p+=String.fromCharCode(0),p+=P),d=m+n}}return k(i),p},toWireType:function(i,f){typeof f!="string"&&h("Cannot pass non-string to C++ string type "+r);var l=c(f),p=Ht(4+l+n);return _[p>>2]=l>>a,o(f,p+4,l+n),i!==null&&i.push(k,p),p},argPackAdvance:8,readValueFromPointer:Z,destructorFunction:function(i){k(i)}})}function re(t,n,r,e,o,u){pt[t]={name:y(n),rawConstructor:A(r,e),rawDestructor:A(o,u),fields:[]}}function ee(t,n,r,e,o,u,c,a,i,f){pt[t].fields.push({fieldName:y(n),getterReturnType:r,getter:A(e,o),getterContext:u,setterArgumentType:c,setter:A(a,i),setterContext:f})}function oe(t,n){n=y(n),W(t,{isVoid:!0,name:n,argPackAdvance:0,fromWireType:function(){},toWireType:function(r,e){}})}function ot(t){return t||h("Cannot use deleted val. handle = "+t),$[t].value}function ae(t,n,r){t=ot(t),n=bt(n,"emval::as");var e=[],o=F(e);return T[r>>2]=o,n.toWireType(e,t)}var ie={};function Ct(t){var n=ie[t];return n===void 0?y(t):n}var Bt=[];function ue(t,n,r,e){t=Bt[t],n=ot(n),r=Ct(r),t(n,r,null,e)}function $n(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function se(t){return t===0?F($n()):(t=Ct(t),F($n()[t]))}function ce(t){var n=Bt.length;return Bt.push(t),n}function fe(t,n){for(var r=new Array(t),e=0;e<t;++e)r[e]=bt(T[(n>>2)+e],"parameter "+e);return r}function le(t,n){for(var r=fe(t,n),e=r[0],o=e.name+"_$"+r.slice(1).map(function(v){return v.name}).join("_")+"$",u=["retType"],c=[e],a="",i=0;i<t-1;++i)a+=(i!==0?", ":"")+"arg"+i,u.push("argType"+i),c.push(r[1+i]);for(var f=vt("methodCaller_"+o),l="return function "+f+`(handle, name, destructors, args) {
`,p=0,i=0;i<t-1;++i)l+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(p?"+"+p:"")+`);
`,p+=r[i+1].argPackAdvance;l+="    var rv = handle[name]("+a+`);
`;for(var i=0;i<t-1;++i)r[i+1].deleteObject&&(l+="    argType"+i+".deleteObject(arg"+i+`);
`);e.isVoid||(l+=`    return retType.toWireType(destructors, rv);
`),l+=`};
`,u.push(l);var d=bn(Function,u).apply(null,c);return ce(d)}function pe(t){return t=Ct(t),F(s[t])}function de(t,n){return t=ot(t),n=ot(n),F(t[n])}function he(t){t>4&&($[t].refcount+=1)}function ve(t){for(var n="",r=0;r<t;++r)n+=(r!==0?", ":"")+"arg"+r;for(var e="return function emval_allocator_"+t+`(constructor, argTypes, args) {
`,r=0;r<t;++r)e+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+r+'], "parameter '+r+`");
var arg`+r+" = argType"+r+`.readValueFromPointer(args);
args += argType`+r+`['argPackAdvance'];
`;return e+="var obj = new constructor("+n+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",e)(bt,s,F)}var Pn={};function ye(t,n,r,e){t=ot(t);var o=Pn[n];return o||(o=ve(n),Pn[n]=o),o(t,r,e)}function me(t){return F(Ct(t))}function ge(t){var n=$[t].value;dt(n),qt(t)}function we(){q()}function Te(t,n,r){g.copyWithin(t,n,n+r)}function be(t){try{return ct.grow(t-kt.byteLength+65535>>>16),rn(ct.buffer),1}catch{}}function Ce(t){var n=g.length;t=t>>>0;var r=2147483648;if(t>r)return!1;for(var e=1;e<=4;e*=2){var o=n*(1+.2/e);o=Math.min(o,t+100663296);var u=Math.min(r,zn(Math.max(t,o),65536)),c=be(u);if(c)return!0}return!1}var $t={mappings:{},buffers:[null,[],[]],printChar:function(t,n){var r=$t.buffers[t];n===0||n===10?((t===1?kn:V)(Qt(r,0)),r.length=0):r.push(n)},varargs:void 0,get:function(){$t.varargs+=4;var t=T[$t.varargs-4>>2];return t},getStr:function(t){var n=Yt(t);return n},get64:function(t,n){return t}};function $e(t){return 0}function Pe(t,n,r,e,o){}function Ae(t,n,r,e){for(var o=0,u=0;u<r;u++){for(var c=T[n+u*8>>2],a=T[n+(u*8+4)>>2],i=0;i<a;i++)$t.printChar(t,g[c+i]);o+=a}return T[e>>2]=o,0}function _e(t){jn(t|0)}ln=s.InternalError=jt(Error,"InternalError"),cr(),H=s.BindingError=jt(Error,"BindingError"),gr(),jr(),Sr(),wn=s.UnboundTypeError=jt(Error,"UnboundTypeError"),Hr();var We={t:sr,I:fr,x:xr,w:Ur,d:Mr,k:Vr,H:zr,n:Gr,a:Lr,A:Jr,i:Kr,j:Yr,h:Zr,B:te,v:ne,u:re,c:ee,J:oe,m:ae,s:ue,b:qt,y:se,p:le,r:pe,e:de,g:he,q:ye,f:me,l:ge,o:we,E:Te,F:Ce,G:$e,C:Pe,z:Ae,D:_e},De=ar(),Ee=s.___wasm_call_ctors=function(){return(Ee=s.___wasm_call_ctors=s.asm.L).apply(null,arguments)},Ht=s._malloc=function(){return(Ht=s._malloc=s.asm.M).apply(null,arguments)},k=s._free=function(){return(k=s._free=s.asm.N).apply(null,arguments)},An=s.___getTypeName=function(){return(An=s.___getTypeName=s.asm.P).apply(null,arguments)},Se=s.___embind_register_native_and_builtin_types=function(){return(Se=s.___embind_register_native_and_builtin_types=s.asm.Q).apply(null,arguments)},Fe=s.dynCall_jiji=function(){return(Fe=s.dynCall_jiji=s.asm.R).apply(null,arguments)},Pt;function ke(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}Y=function t(){Pt||zt(),Pt||(Y=t)};function zt(t){if(t=t||L,U>0||(Ln(),U>0))return;function n(){Pt||(Pt=!0,s.calledRun=!0,!Jt&&(Xn(),Jn(),Nt(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),Kn()))}s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),n()},1)):n()}if(s.run=zt,s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return zt(),N.ready}}();typeof exports=="object"&&typeof module=="object"?module.exports=BASIS:typeof define=="function"&&define.amd?define([],function(){return BASIS}):typeof exports=="object"&&(exports.BASIS=BASIS);
